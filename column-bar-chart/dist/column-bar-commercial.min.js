/* Copyright Factmint Ltd, not for distribution without consent; version 1.5.0; includes SnapSVG, https://github.com/adobe-webplatform/Snap.svg/blob/master/LICENSE */
/*
 almond 0.3.0 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/almond for details
*/
'use strict';var requirejs,require,define;
(function(A){function f(c,h){var a,k,b,B,e,d,q,f,t,C=h&&h.split("/"),v=r.map,m=v&&v["*"]||{};if(c&&"."===c.charAt(0))if(h){C=C.slice(0,C.length-1);c=c.split("/");e=c.length-1;r.nodeIdCompat&&y.test(c[e])&&(c[e]=c[e].replace(y,""));c=C.concat(c);for(e=0;e<c.length;e+=1)if(a=c[e],"."===a)c.splice(e,1),--e;else if(".."===a)if(1!==e||".."!==c[2]&&".."!==c[0])0<e&&(c.splice(e-1,2),e-=2);else break;c=c.join("/")}else 0===c.indexOf("./")&&(c=c.substring(2));if((C||m)&&v){a=c.split("/");for(e=a.length;0<
e;--e){k=a.slice(0,e).join("/");if(C)for(t=C.length;0<t;--t)if(b=v[C.slice(0,t).join("/")])if(b=b[k]){B=b;d=e;break}if(B)break;!q&&m&&m[k]&&(q=m[k],f=e)}!B&&q&&(B=q,d=f);B&&(a.splice(0,d,B),c=a.join("/"))}return c}function u(c,h){return function(){var a=C.call(arguments,0);"string"!==typeof a[0]&&1===a.length&&a.push(null);return m.apply(A,a.concat([c,h]))}}function z(c){return function(a){return f(a,c)}}function d(c){return function(a){e[c]=a}}function a(c){if(h.call(q,c)){var a=q[c];delete q[c];
t[c]=!0;w.apply(A,a)}if(!h.call(e,c)&&!h.call(t,c))throw Error("No "+c);return e[c]}function p(c){var a,h=c?c.indexOf("!"):-1;-1<h&&(a=c.substring(0,h),c=c.substring(h+1,c.length));return[a,c]}function l(c){return function(){return r&&r.config&&r.config[c]||{}}}var w,m,v,k,e={},q={},r={},t={},h=Object.prototype.hasOwnProperty,C=[].slice,y=/\.js$/;v=function(c,h){var e,k=p(c),b=k[0];c=k[1];b&&(b=f(b,h),e=a(b));b?c=e&&e.normalize?e.normalize(c,z(h)):f(c,h):(c=f(c,h),k=p(c),b=k[0],c=k[1],b&&(e=a(b)));
return{f:b?b+"!"+c:c,n:c,pr:b,p:e}};k={require:function(c){return u(c)},exports:function(c){var a=e[c];return"undefined"!==typeof a?a:e[c]={}},module:function(c){return{id:c,uri:"",exports:e[c],config:l(c)}}};w=function(c,x,f,r){var b,B,C,m,y=[];B=typeof f;var l;r=r||c;if("undefined"===B||"function"===B){x=!x.length&&f.length?["require","exports","module"]:x;for(m=0;m<x.length;m+=1)if(C=v(x[m],r),B=C.f,"require"===B)y[m]=k.require(c);else if("exports"===B)y[m]=k.exports(c),l=!0;else if("module"===
B)b=y[m]=k.module(c);else if(h.call(e,B)||h.call(q,B)||h.call(t,B))y[m]=a(B);else if(C.p)C.p.load(C.n,u(r,!0),d(B),{}),y[m]=e[B];else throw Error(c+" missing "+B);x=f?f.apply(e[c],y):void 0;c&&(b&&b.exports!==A&&b.exports!==e[c]?e[c]=b.exports:x===A&&l||(e[c]=x))}else c&&(e[c]=f)};requirejs=require=m=function(c,h,e,d,b){if("string"===typeof c)return k[c]?k[c](h):a(v(c,h).f);if(!c.splice){r=c;r.deps&&m(r.deps,r.callback);if(!h)return;h.splice?(c=h,h=e,e=null):c=A}h=h||function(){};"function"===typeof e&&
(e=d,d=b);d?w(A,c,h,e):setTimeout(function(){w(A,c,h,e)},4);return m};m.config=function(c){return m(c)};requirejs._defined=e;define=function(c,a,k){a.splice||(k=a,a=[]);h.call(e,c)||h.call(q,c)||(q[c]=[c,a,k])};define.amd={jQuery:!0}})();define("almond",function(){});
(function(A){var f=/[\.\/]/,u=/\s*,\s*/,z=function(a,k){return a-k},d,a,p={n:{}},l=function(){for(var a=0,k=this.length;a<k;a++)if("undefined"!=typeof this[a])return this[a]},w=function(){for(var a=this.length;--a;)if("undefined"!=typeof this[a])return this[a]},m=function(f,k){f=String(f);var e=a,q=Array.prototype.slice.call(arguments,2),r=m.listeners(f),t=0,h,C=[],y={},c=[],x=d;c.firstDefined=l;c.lastDefined=w;d=f;for(var D=a=0,p=r.length;D<p;D++)"zIndex"in r[D]&&(C.push(r[D].zIndex),0>r[D].zIndex&&
(y[r[D].zIndex]=r[D]));for(C.sort(z);0>C[t];)if(h=y[C[t++]],c.push(h.apply(k,q)),a)return a=e,c;for(D=0;D<p;D++)if(h=r[D],"zIndex"in h)if(h.zIndex==C[t]){c.push(h.apply(k,q));if(a)break;do if(t++,(h=y[C[t]])&&c.push(h.apply(k,q)),a)break;while(h)}else y[h.zIndex]=h;else if(c.push(h.apply(k,q)),a)break;a=e;d=x;return c};m._events=p;m.listeners=function(a){a=a.split(f);var k=p,e,d,r,t,h,C,m,c=[k],x=[];r=0;for(t=a.length;r<t;r++){m=[];h=0;for(C=c.length;h<C;h++)for(k=c[h].n,e=[k[a[r]],k["*"]],d=2;d--;)if(k=
e[d])m.push(k),x=x.concat(k.f||[]);c=m}return x};m.on=function(a,k){a=String(a);if("function"!=typeof k)return function(){};for(var e=a.split(u),d=0,r=e.length;d<r;d++)(function(a){a=a.split(f);for(var h=p,e,d=0,c=a.length;d<c;d++)h=h.n,h=h.hasOwnProperty(a[d])&&h[a[d]]||(h[a[d]]={n:{}});h.f=h.f||[];d=0;for(c=h.f.length;d<c;d++)if(h.f[d]==k){e=!0;break}!e&&h.f.push(k)})(e[d]);return function(a){+a==+a&&(k.zIndex=+a)}};m.f=function(a){var d=[].slice.call(arguments,1);return function(){m.apply(null,
[a,null].concat(d).concat([].slice.call(arguments,0)))}};m.stop=function(){a=1};m.nt=function(a){return a?(new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)")).test(d):d};m.nts=function(){return d.split(f)};m.off=m.unbind=function(a,d){if(a){var e=a.split(u);if(1<e.length)for(var q=0,r=e.length;q<r;q++)m.off(e[q],d);else{for(var e=a.split(f),t,h,C,y,c=[p],q=0,r=e.length;q<r;q++)for(y=0;y<c.length;y+=C.length-2){C=[y,1];t=c[y].n;if("*"!=e[q])t[e[q]]&&C.push(t[e[q]]);else for(h in t)t.hasOwnProperty(h)&&
C.push(t[h]);c.splice.apply(c,C)}q=0;for(r=c.length;q<r;q++)for(t=c[q];t.n;){if(d){if(t.f){y=0;for(e=t.f.length;y<e;y++)if(t.f[y]==d){t.f.splice(y,1);break}!t.f.length&&delete t.f}for(h in t.n)if(t.n.hasOwnProperty(h)&&t.n[h].f){C=t.n[h].f;y=0;for(e=C.length;y<e;y++)if(C[y]==d){C.splice(y,1);break}!C.length&&delete t.n[h].f}}else for(h in delete t.f,t.n)t.n.hasOwnProperty(h)&&t.n[h].f&&delete t.n[h].f;t=t.n}}}else m._events=p={n:{}}};m.once=function(a,d){var e=function(){m.unbind(a,e);return d.apply(this,
arguments)};return m.on(a,e)};m.version="0.4.2";m.toString=function(){return"You are running Eve 0.4.2"};"undefined"!=typeof module&&module.exports?module.exports=m:"function"===typeof define&&define.amd?define("eve",[],function(){return m}):A.eve=m})(this);
(function(A,f){if("function"==typeof define&&define.amd)define("snap",["eve"],function(u){return f(A,u)});else if("undefined"!=typeof exports){var u=require("eve");module.exports=f(A,u)}else f(A,A.eve)})(window||this,function(A,f){var u=function(d){var a={},f=A.requestAnimationFrame||A.webkitRequestAnimationFrame||A.mozRequestAnimationFrame||A.oRequestAnimationFrame||A.msRequestAnimationFrame||function(c){setTimeout(c,16)},l=Array.isArray||function(c){return c instanceof Array||"[object Array]"==
Object.prototype.toString.call(c)},w=0,m="M"+(+new Date).toString(36),v=function(c){if(null==c)return this.s;var a=this.s-c;this.b+=this.dur*a;this.B+=this.dur*a;this.s=c},k=function(c){if(null==c)return this.spd;this.spd=c},e=function(c){if(null==c)return this.dur;this.s=this.s*c/this.dur;this.dur=c},q=function(){delete a[this.id];this.update();d("mina.stop."+this.id,this)},r=function(){this.pdif||(delete a[this.id],this.update(),this.pdif=this.get()-this.b)},t=function(){this.pdif&&(this.b=this.get()-
this.pdif,delete this.pdif,a[this.id]=this)},h=function(){var c;if(l(this.start)){c=[];for(var a=0,h=this.start.length;a<h;a++)c[a]=+this.start[a]+(this.end[a]-this.start[a])*this.easing(this.s)}else c=+this.start+(this.end-this.start)*this.easing(this.s);this.set(c)},C=function(){var c=0,h;for(h in a)if(a.hasOwnProperty(h)){var e=a[h],k=e.get();c++;e.s=(k-e.b)/(e.dur/e.spd);1<=e.s&&(delete a[h],e.s=1,c--,function(b){setTimeout(function(){d("mina.finish."+b.id,b)})}(e));e.update()}c&&f(C)},y=function(c,
d,D,l,b,B,G){c={id:m+(w++).toString(36),start:c,end:d,b:D,s:0,dur:l-D,spd:1,get:b,set:B,easing:G||y.linear,status:v,speed:k,duration:e,stop:q,pause:r,resume:t,update:h};a[c.id]=c;d=0;for(var V in a)if(a.hasOwnProperty(V)&&(d++,2==d))break;1==d&&f(C);return c};y.time=Date.now||function(){return+new Date};y.getById=function(c){return a[c]||null};y.linear=function(c){return c};y.easeout=function(c){return Math.pow(c,1.7)};y.easein=function(c){return Math.pow(c,.48)};y.easeinout=function(c){if(1==c)return 1;
if(0==c)return 0;var a=.48-c/1.04,h=Math.sqrt(.1734+a*a);c=h-a;c=Math.pow(Math.abs(c),1/3)*(0>c?-1:1);a=-h-a;a=Math.pow(Math.abs(a),1/3)*(0>a?-1:1);c=c+a+.5;return 3*(1-c)*c*c+c*c*c};y.backin=function(c){return 1==c?1:c*c*(2.70158*c-1.70158)};y.backout=function(c){if(0==c)return 0;--c;return c*c*(2.70158*c+1.70158)+1};y.elastic=function(c){return c==!!c?c:Math.pow(2,-10*c)*Math.sin(2*(c-.075)*Math.PI/.3)+1};y.bounce=function(c){c<1/2.75?c*=7.5625*c:c<2/2.75?(c-=1.5/2.75,c=7.5625*c*c+.75):c<2.5/2.75?
(c-=2.25/2.75,c=7.5625*c*c+.9375):(c-=2.625/2.75,c=7.5625*c*c+.984375);return c};return A.mina=y}("undefined"==typeof f?function(){}:f),z=function(d){function a(n,b){if(n){if(n.nodeType)return y(n);if(l(n,"array")&&a.set)return a.set.apply(a,n);if(n instanceof r)return n;if(null==b)return n=x.doc.querySelector(String(n)),y(n)}return new C(null==n?"100%":n,null==b?"100%":b)}function p(n,b){if(b){"#text"==n&&(n=x.doc.createTextNode(b.text||b["#text"]||""));"#comment"==n&&(n=x.doc.createComment(b.text||
b["#text"]||""));"string"==typeof n&&(n=p(n));if("string"==typeof b)return 1==n.nodeType?"xlink:"==b.substring(0,6)?n.getAttributeNS(Q,b.substring(6)):"xml:"==b.substring(0,4)?n.getAttributeNS(O,b.substring(4)):n.getAttribute(b):"text"==b?n.nodeValue:null;if(1==n.nodeType)for(var c in b){if(b[D](c)){var a=F(b[c]);a?"xlink:"==c.substring(0,6)?n.setAttributeNS(Q,c.substring(6),a):"xml:"==c.substring(0,4)?n.setAttributeNS(O,c.substring(4),a):n.setAttribute(c,a):n.removeAttribute(c)}}else"text"in b&&
(n.nodeValue=b.text)}else n=x.doc.createElementNS(O,n);return n}function l(n,b){b=F.prototype.toLowerCase.call(b);return"finite"==b?isFinite(n):"array"==b&&(n instanceof Array||Array.isArray&&Array.isArray(n))?!0:"null"==b&&null===n||b==typeof n&&null!==n||"object"==b&&n===Object(n)||A.call(n).slice(8,-1).toLowerCase()==b}function w(n){if("function"==typeof n||Object(n)!==n)return n;var b=new n.constructor,c;for(c in n)n[D](c)&&(b[c]=w(n[c]));return b}function m(n,b,c){function a(){var h=Array.prototype.slice.call(arguments,
0),e=h.join("\u2400"),d=a.cache=a.cache||{},k=a.count=a.count||[];if(d[D](e)){a:for(var h=k,k=e,B=0,q=h.length;B<q;B++)if(h[B]===k){h.push(h.splice(B,1)[0]);break a}return c?c(d[e]):d[e]}1E3<=k.length&&delete d[k.shift()];k.push(e);d[e]=n.apply(b,h);return c?c(d[e]):d[e]}return a}function v(n,b,c,a,h,e){return null==h?(n-=c,b-=a,n||b?(180*G.atan2(-b,-n)/z+540)%360:0):v(n,b,h,e)-v(c,a,h,e)}function k(n){return n%360*z/180}function e(n){return n.node.ownerSVGElement&&y(n.node.ownerSVGElement)||a.select("svg")}
function q(n){l(n,"array")||(n=Array.prototype.slice.call(arguments,0));for(var b=0,c=0,a=this.node;this[b];)delete this[b++];for(b=0;b<n.length;b++)"set"==n[b].type?n[b].forEach(function(n){a.appendChild(n.node)}):a.appendChild(n[b].node);for(var h=a.childNodes,b=0;b<h.length;b++)this[c++]=y(h[b]);return this}function r(n){if(n.snap in L)return L[n.snap];var b;try{b=n.ownerSVGElement}catch(c){}this.node=n;b&&(this.paper=new C(b));this.type=n.tagName||n.nodeName;b=this.id=S(this);this.anims={};this._=
{transform:[]};n.snap=b;L[b]=this;"g"==this.type&&(this.add=q);if(this.type in{g:1,mask:1,pattern:1,symbol:1})for(var a in C.prototype)C.prototype[D](a)&&(this[a]=C.prototype[a])}function t(n){this.node=n}function h(n,b){var c=p(n);b.appendChild(c);return y(c)}function C(n,b){var c,a,e,d=C.prototype;if(n&&"svg"==n.tagName){if(n.snap in L)return L[n.snap];var k=n.ownerDocument;c=new r(n);a=n.getElementsByTagName("desc")[0];e=n.getElementsByTagName("defs")[0];a||(a=p("desc"),a.appendChild(k.createTextNode("Created with Snap")),
c.node.appendChild(a));e||(e=p("defs"),c.node.appendChild(e));c.defs=e;for(var B in d)d[D](B)&&(c[B]=d[B]);c.paper=c.root=c}else c=h("svg",x.doc.body),p(c.node,{height:b,version:1.1,width:n,xmlns:O});return c}function y(n){return!n||n instanceof r||n instanceof t?n:n.tagName&&"svg"==n.tagName.toLowerCase()?new C(n):n.tagName&&"object"==n.tagName.toLowerCase()&&"image/svg+xml"==n.type?new C(n.contentDocument.getElementsByTagName("svg")[0]):new r(n)}function c(n,b){for(var a=0,h=n.length;a<h;a++){var e=
{type:n[a].type,attr:n[a].attr()},d=n[a].children();b.push(e);d.length&&c(d,e.childNodes=[])}}a.version="0.4.0";a.toString=function(){return"Snap v"+this.version};a._={};var x={win:d.window,doc:d.window.document};a._.glob=x;var D="hasOwnProperty",F=String,b=parseFloat,B=parseInt,G=Math,V=G.max,R=G.min,u=G.abs,z=G.PI,A=Object.prototype.toString,N=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i;
a._.separator=/[,\s]+/;var U=/[\s]*,[\s]*/,I={hs:1,rg:1},E=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/ig,H=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/ig,M=/(-?\d*\.?\d*(?:e[\-+]?\\d+)?)[\s]*,?[\s]*/ig,P=0,T="S"+(+new Date).toString(36),S=function(n){return(n&&n.type?n.type:"")+T+(P++).toString(36)},Q="http://www.w3.org/1999/xlink",O="http://www.w3.org/2000/svg",L={};a.url=function(n){return"url('#"+n+"')"};a._.$=p;a._.id=S;a.format=function(){var n=/\{([^\}]+)\}/g,b=
/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,c=function(n,c,a){var h=a;c.replace(b,function(n,b,c,a,e){b=b||a;h&&(b in h&&(h=h[b]),"function"==typeof h&&e&&(h=h()))});return h=(null==h||h==a?n:h)+""};return function(b,a){return F(b).replace(n,function(n,b){return c(n,b,a)})}}();a._.clone=w;a._.cacher=m;a.rad=k;a.deg=function(n){return 180*n/z%360};a.sin=function(n){return G.sin(a.rad(n))};a.tan=function(n){return G.tan(a.rad(n))};a.cos=function(n){return G.cos(a.rad(n))};a.asin=function(n){return a.deg(G.asin(n))};
a.acos=function(n){return a.deg(G.acos(n))};a.atan=function(n){return a.deg(G.atan(n))};a.atan2=function(n){return a.deg(G.atan2(n))};a.angle=v;a.len=function(n,b,c,h){return Math.sqrt(a.len2(n,b,c,h))};a.len2=function(n,b,c,a){return(n-c)*(n-c)+(b-a)*(b-a)};a.closestPoint=function(n,b,c){function a(n){var h=n.x-b;n=n.y-c;return h*h+n*n}n=n.node;for(var h=n.getTotalLength(),e=h/n.pathSegList.numberOfItems*.125,d,k,B=Infinity,q,f=0,K;f<=h;f+=e)(K=a(q=n.getPointAtLength(f)))<B&&(d=q,k=f,B=K);for(e*=
.5;.5<e;){var r,m,t,x,C,D;0<=(t=k-e)&&(C=a(r=n.getPointAtLength(t)))<B?(d=r,k=t,B=C):(x=k+e)<=h&&(D=a(m=n.getPointAtLength(x)))<B?(d=m,k=x,B=D):e*=.5}return d={x:d.x,y:d.y,length:k,distance:Math.sqrt(B)}};a.is=l;a.snapTo=function(n,b,c){c=l(c,"finite")?c:10;if(l(n,"array"))for(var a=n.length;a--;){if(u(n[a]-b)<=c)return n[a]}else{n=+n;a=b%n;if(a<c)return b-a;if(a>n-c)return b-a+n}return b};a.getRGB=m(function(n){if(!n||(n=F(n)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ba};
if("none"==n)return{r:-1,g:-1,b:-1,hex:"none",toString:ba};!I[D](n.toLowerCase().substring(0,2))&&"#"!=n.charAt()&&(n=K(n));if(!n)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ba};var c,h,e,d,k;if(n=n.match(N)){n[2]&&(e=B(n[2].substring(5),16),h=B(n[2].substring(3,5),16),c=B(n[2].substring(1,3),16));n[3]&&(e=B((k=n[3].charAt(3))+k,16),h=B((k=n[3].charAt(2))+k,16),c=B((k=n[3].charAt(1))+k,16));n[4]&&(k=n[4].split(U),c=b(k[0]),"%"==k[0].slice(-1)&&(c*=2.55),h=b(k[1]),"%"==k[1].slice(-1)&&(h*=2.55),
e=b(k[2]),"%"==k[2].slice(-1)&&(e*=2.55),"rgba"==n[1].toLowerCase().slice(0,4)&&(d=b(k[3])),k[3]&&"%"==k[3].slice(-1)&&(d/=100));if(n[5])return k=n[5].split(U),c=b(k[0]),"%"==k[0].slice(-1)&&(c/=100),h=b(k[1]),"%"==k[1].slice(-1)&&(h/=100),e=b(k[2]),"%"==k[2].slice(-1)&&(e/=100),"deg"!=k[0].slice(-3)&&"\u00b0"!=k[0].slice(-1)||(c/=360),"hsba"==n[1].toLowerCase().slice(0,4)&&(d=b(k[3])),k[3]&&"%"==k[3].slice(-1)&&(d/=100),a.hsb2rgb(c,h,e,d);if(n[6])return k=n[6].split(U),c=b(k[0]),"%"==k[0].slice(-1)&&
(c/=100),h=b(k[1]),"%"==k[1].slice(-1)&&(h/=100),e=b(k[2]),"%"==k[2].slice(-1)&&(e/=100),"deg"!=k[0].slice(-3)&&"\u00b0"!=k[0].slice(-1)||(c/=360),"hsla"==n[1].toLowerCase().slice(0,4)&&(d=b(k[3])),k[3]&&"%"==k[3].slice(-1)&&(d/=100),a.hsl2rgb(c,h,e,d);c=R(G.round(c),255);h=R(G.round(h),255);e=R(G.round(e),255);d=R(V(d,0),1);n={r:c,g:h,b:e,toString:ba};n.hex="#"+(16777216|e|h<<8|c<<16).toString(16).slice(1);n.opacity=l(d,"finite")?d:1;return n}return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ba}},
a);a.hsb=m(function(n,b,c){return a.hsb2rgb(n,b,c).hex});a.hsl=m(function(n,b,c){return a.hsl2rgb(n,b,c).hex});a.rgb=m(function(n,b,c,a){if(l(a,"finite")){var h=G.round;return"rgba("+[h(n),h(b),h(c),+a.toFixed(2)]+")"}return"#"+(16777216|c|b<<8|n<<16).toString(16).slice(1)});var K=function(n){var b=x.doc.getElementsByTagName("head")[0]||x.doc.getElementsByTagName("svg")[0];K=m(function(n){if("red"==n.toLowerCase())return"rgb(255, 0, 0)";b.style.color="rgb(255, 0, 0)";b.style.color=n;n=x.doc.defaultView.getComputedStyle(b,
"").getPropertyValue("color");return"rgb(255, 0, 0)"==n?null:n});return K(n)},la=function(){return"hsb("+[this.h,this.s,this.b]+")"},ma=function(){return"hsl("+[this.h,this.s,this.l]+")"},ba=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},ia=function(n,b,c){null==b&&l(n,"object")&&"r"in n&&"g"in n&&"b"in n&&(c=n.b,b=n.g,n=n.r);null==b&&l(n,string)&&(c=a.getRGB(n),n=c.r,b=c.g,c=c.b);if(1<n||1<b||1<c)n/=255,b/=255,c/=255;return[n,b,c]},
ja=function(b,c,h,e){b=G.round(255*b);c=G.round(255*c);h=G.round(255*h);b={r:b,g:c,b:h,opacity:l(e,"finite")?e:1,hex:a.rgb(b,c,h),toString:ba};l(e,"finite")&&(b.opacity=e);return b};a.color=function(b){var c;l(b,"object")&&"h"in b&&"s"in b&&"b"in b?(c=a.hsb2rgb(b),b.r=c.r,b.g=c.g,b.b=c.b,b.opacity=1,b.hex=c.hex):l(b,"object")&&"h"in b&&"s"in b&&"l"in b?(c=a.hsl2rgb(b),b.r=c.r,b.g=c.g,b.b=c.b,b.opacity=1,b.hex=c.hex):(l(b,"string")&&(b=a.getRGB(b)),l(b,"object")&&"r"in b&&"g"in b&&"b"in b&&!("error"in
b)?(c=a.rgb2hsl(b),b.h=c.h,b.s=c.s,b.l=c.l,c=a.rgb2hsb(b),b.v=c.b):(b={hex:"none"},b.r=b.g=b.b=b.h=b.s=b.v=b.l=-1,b.error=1));b.toString=ba;return b};a.hsb2rgb=function(b,c,a,h){l(b,"object")&&"h"in b&&"s"in b&&"b"in b&&(a=b.b,c=b.s,h=b.o,b=b.h);var e,d,k;b=360*b%360/60;k=a*c;c=k*(1-u(b%2-1));a=e=d=a-k;b=~~b;a+=[k,c,0,0,c,k][b];e+=[c,k,k,c,0,0][b];d+=[0,0,c,k,k,c][b];return ja(a,e,d,h)};a.hsl2rgb=function(b,c,a,h){l(b,"object")&&"h"in b&&"s"in b&&"l"in b&&(a=b.l,c=b.s,b=b.h);if(1<b||1<c||1<a)b/=360,
c/=100,a/=100;var e,d,k;b=360*b%360/60;k=2*c*(.5>a?a:1-a);c=k*(1-u(b%2-1));a=e=d=a-k/2;b=~~b;a+=[k,c,0,0,c,k][b];e+=[c,k,k,c,0,0][b];d+=[0,0,c,k,k,c][b];return ja(a,e,d,h)};a.rgb2hsb=function(b,c,a){a=ia(b,c,a);b=a[0];c=a[1];a=a[2];var h,e;h=V(b,c,a);e=h-R(b,c,a);b=((0==e?null:h==b?(c-a)/e:h==c?(a-b)/e+2:(b-c)/e+4)+360)%6*60/360;return{h:b,s:0==e?0:e/h,b:h,toString:la}};a.rgb2hsl=function(b,c,a){a=ia(b,c,a);b=a[0];c=a[1];a=a[2];var h,e,k;h=V(b,c,a);e=R(b,c,a);k=h-e;b=((0==k?null:h==b?(c-a)/k:h==c?
(a-b)/k+2:(b-c)/k+4)+360)%6*60/360;h=(h+e)/2;return{h:b,s:0==k?0:.5>h?k/(2*h):k/(2-2*h),l:h,toString:ma}};a.parsePathString=function(b){if(!b)return null;var c=a.path(b);if(c.arr)return a.path.clone(c.arr);var h={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},e=[];l(b,"array")&&l(b[0],"array")&&(e=a.path.clone(b));e.length||F(b).replace(E,function(b,c,a){var n=[];b=c.toLowerCase();a.replace(M,function(b,c){c&&n.push(+c)});"m"==b&&2<n.length&&(e.push([c].concat(n.splice(0,2))),b="l",c="m"==c?
"l":"L");"o"==b&&1==n.length&&e.push([c,n[0]]);if("r"==b)e.push([c].concat(n));else for(;n.length>=h[b]&&(e.push([c].concat(n.splice(0,h[b]))),h[b]););});e.toString=a.path.toString;c.arr=a.path.clone(e);return e};var na=a.parseTransformString=function(b){if(!b)return null;var c=[];l(b,"array")&&l(b[0],"array")&&(c=a.path.clone(b));c.length||F(b).replace(H,function(b,a,h){var n=[];a.toLowerCase();h.replace(M,function(b,c){c&&n.push(+c)});c.push([a].concat(n))});c.toString=a.path.toString;return c};
a._.svgTransform2string=function(b){var c=[];b=b.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(b,a,h){h=h.split(/\s*,\s*|\s+/);"rotate"==a&&1==h.length&&h.push(0,0);"scale"==a&&(2<h.length?h=h.slice(0,2):2==h.length&&h.push(0,0),1==h.length&&h.push(h[0],0,0));"skewX"==a?c.push(["m",1,0,G.tan(k(h[0])),1,0,0]):"skewY"==a?c.push(["m",1,G.tan(k(h[0])),0,1,0,0]):c.push([a.charAt(0)].concat(h));return b});return c};a._.rgTransform=/^[a-z][\s]*-?\.?\d/i;a._.transform2matrix=function(b,c){var h=na(b),e=new a.Matrix;
if(h)for(var k=0,d=h.length;k<d;k++){var B=h[k],q=B.length,f=F(B[0]).toLowerCase(),K=B[0]!=f,r=K?e.invert():0,t;"t"==f&&2==q?e.translate(B[1],0):"t"==f&&3==q?K?(q=r.x(0,0),f=r.y(0,0),K=r.x(B[1],B[2]),r=r.y(B[1],B[2]),e.translate(K-q,r-f)):e.translate(B[1],B[2]):"r"==f?2==q?(t=t||c,e.rotate(B[1],t.x+t.width/2,t.y+t.height/2)):4==q&&(K?(K=r.x(B[2],B[3]),r=r.y(B[2],B[3]),e.rotate(B[1],K,r)):e.rotate(B[1],B[2],B[3])):"s"==f?2==q||3==q?(t=t||c,e.scale(B[1],B[q-1],t.x+t.width/2,t.y+t.height/2)):4==q?K?
(K=r.x(B[2],B[3]),r=r.y(B[2],B[3]),e.scale(B[1],B[1],K,r)):e.scale(B[1],B[1],B[2],B[3]):5==q&&(K?(K=r.x(B[3],B[4]),r=r.y(B[3],B[4]),e.scale(B[1],B[2],K,r)):e.scale(B[1],B[2],B[3],B[4])):"m"==f&&7==q&&e.add(B[1],B[2],B[3],B[4],B[5],B[6])}return e};a._unit2px=function(b,c,a){function h(b){if(null==b)return"";if(b==+b)return b;p(f,{width:b});try{return f.getBBox().width}catch(c){return 0}}function k(b){if(null==b)return"";if(b==+b)return b;p(f,{height:b});try{return f.getBBox().height}catch(c){return 0}}
function d(h,e){null==c?q[h]=e(b.attr(h)||0):h==c&&(q=e(null==a?b.attr(h)||0:a))}var B=e(b).node,q={},f=B.querySelector(".svg---mgr");f||(f=p("rect"),p(f,{x:-9E9,y:-9E9,width:10,height:10,"class":"svg---mgr",fill:"none"}),B.appendChild(f));switch(b.type){case "rect":d("rx",h),d("ry",k);case "image":d("width",h),d("height",k);case "text":d("x",h);d("y",k);break;case "circle":d("cx",h);d("cy",k);d("r",h);break;case "ellipse":d("cx",h);d("cy",k);d("rx",h);d("ry",k);break;case "line":d("x1",h);d("x2",
h);d("y1",k);d("y2",k);break;case "marker":d("refX",h);d("markerWidth",h);d("refY",k);d("markerHeight",k);break;case "radialGradient":d("fx",h);d("fy",k);break;case "tspan":d("dx",h);d("dy",k);break;default:d(c,h)}B.removeChild(f);return q};a._.getSomeDefs=function(b){b=b.node.ownerSVGElement&&y(b.node.ownerSVGElement)||b.node.parentNode&&y(b.node.parentNode)||a.select("svg")||a(0,0);var c=b.select("defs"),c=null==c?!1:c.node;c||(c=h("defs",b.node).node);return c};a._.getSomeSVG=e;a.select=function(b){b=
F(b).replace(/([^\\]):/g,"$1\\:");return y(x.doc.querySelector(b))};a.selectAll=function(b){b=x.doc.querySelectorAll(b);for(var c=(a.set||Array)(),h=0;h<b.length;h++)c.push(y(b[h]));return c};setInterval(function(){for(var b in L)if(L[D](b)){var c=L[b],a=c.node;("svg"!=c.type&&!a.ownerSVGElement||"svg"==c.type&&(!a.parentNode||"ownerSVGElement"in a.parentNode&&!a.ownerSVGElement))&&delete L[b]}},1E4);r.prototype.attr=function(b,c){var a=this.node;if(!b){if(1!=a.nodeType)return{text:a.nodeValue};for(var h=
a.attributes,a={},e=0,d=h.length;e<d;e++)a[h[e].nodeName]=h[e].nodeValue;return a}if(l(b,"string"))if(1<arguments.length)a={},a[b]=c,b=a;else return f("snap.util.getattr."+b,this).firstDefined();for(h in b)b[D](h)&&f("snap.util.attr."+h,this,b[h]);return this};a.parse=function(b){var c=x.doc.createDocumentFragment(),a=!0,h=x.doc.createElement("div");b=F(b);b.match(/^\s*<\s*svg(?:\s|>)/)||(b="<svg>"+b+"</svg>",a=!1);h.innerHTML=b;if(b=h.getElementsByTagName("svg")[0])if(a)c=b;else for(;b.firstChild;)c.appendChild(b.firstChild);
return new t(c)};a.fragment=function(){for(var b=Array.prototype.slice.call(arguments,0),c=x.doc.createDocumentFragment(),h=0,e=b.length;h<e;h++){var d=b[h];d.node&&d.node.nodeType&&c.appendChild(d.node);d.nodeType&&c.appendChild(d);"string"==typeof d&&c.appendChild(a.parse(d).node)}return new t(c)};a._.make=h;a._.wrap=y;C.prototype.el=function(b,c){var a=h(b,this.node);c&&a.attr(c);return a};r.prototype.children=function(){for(var b=[],c=this.node.childNodes,h=0,e=c.length;h<e;h++)b[h]=a(c[h]);return b};
r.prototype.toJSON=function(){var b=[];c([this],b);return b[0]};f.on("snap.util.getattr",function(){var b=f.nt(),b=b.substring(b.lastIndexOf(".")+1),c=b.replace(/[A-Z]/g,function(b){return"-"+b.toLowerCase()});return ka[D](c)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(c):p(this.node,b)});var ka={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,
cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,
"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};f.on("snap.util.attr",function(b){var c=f.nt(),a={},c=c.substring(c.lastIndexOf(".")+1);a[c]=b;var h=c.replace(/-(\w)/gi,function(b,c){return c.toUpperCase()}),c=c.replace(/[A-Z]/g,
function(b){return"-"+b.toLowerCase()});ka[D](c)?this.node.style[h]=null==b?"":b:p(this.node,a)});a.ajax=function(b,c,a,h){var e=new XMLHttpRequest,d=S();if(e){if(l(c,"function"))h=a,a=c,c=null;else if(l(c,"object")){var k=[],B;for(B in c)c.hasOwnProperty(B)&&k.push(encodeURIComponent(B)+"="+encodeURIComponent(c[B]));c=k.join("&")}e.open(c?"POST":"GET",b,!0);c&&(e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"));a&&(f.once("snap.ajax."+
d+".0",a),f.once("snap.ajax."+d+".200",a),f.once("snap.ajax."+d+".304",a));e.onreadystatechange=function(){4==e.readyState&&f("snap.ajax."+d+"."+e.status,h,e)};if(4==e.readyState)return e;e.send(c);return e}};a.load=function(b,c,h){a.ajax(b,function(b){b=a.parse(b.responseText);h?c.call(h,b):c(b)})};a.getElementByPoint=function(b,c){var a,h,e=x.doc.elementFromPoint(b,c);if(x.win.opera&&"svg"==e.tagName){a=e;h=a.getBoundingClientRect();a=a.ownerDocument;var d=a.body,k=a.documentElement;a=h.top+(g.win.pageYOffset||
k.scrollTop||d.scrollTop)-(k.clientTop||d.clientTop||0);h=h.left+(g.win.pageXOffset||k.scrollLeft||d.scrollLeft)-(k.clientLeft||d.clientLeft||0);d=e.createSVGRect();d.x=b-h;d.y=c-a;d.width=d.height=1;a=e.getIntersectionList(d,null);a.length&&(e=a[a.length-1])}return e?y(e):null};a.plugin=function(b){b(a,r,C,x,t)};return x.win.Snap=a}(A||this);z.plugin(function(d,a,p,l,w){function m(b,c){if(null==c){var a=!0;c="linearGradient"==b.type||"radialGradient"==b.type?b.node.getAttribute("gradientTransform"):
"pattern"==b.type?b.node.getAttribute("patternTransform"):b.node.getAttribute("transform");if(!c)return new d.Matrix;c=d._.svgTransform2string(c)}else c=d._.rgTransform.test(c)?r(c).replace(/\.{3}|\u2026/g,b._.transform||""):d._.svgTransform2string(c),q(c,"array")&&(c=d.path?d.path.toString.call(c):r(c)),b._.transform=c;var h=d._.transform2matrix(c,b.getBBox(1));if(a)return h;b.matrix=h}function v(b){function c(b,a){var e=h(b.node,a);(e=(e=e&&e.match(k))&&e[2])&&"#"==e.charAt()&&(e=e.substring(1))&&
(f[e]=(f[e]||[]).concat(function(c){var e={};e[a]=URL(c);h(b.node,e)}))}function a(b){var c=h(b.node,"xlink:href");c&&"#"==c.charAt()&&(c=c.substring(1))&&(f[c]=(f[c]||[]).concat(function(c){b.attr("xlink:href","#"+c)}))}var e=b.selectAll("*"),d,k=/^\s*url\(("|'|)(.*)\1\)\s*$/;b=[];for(var f={},q=0,r=e.length;q<r;q++){d=e[q];c(d,"fill");c(d,"stroke");c(d,"filter");c(d,"mask");c(d,"clip-path");a(d);var t=h(d.node,"id");t&&(h(d.node,{id:d.id}),b.push({old:t,id:d.id}))}q=0;for(r=b.length;q<r;q++)if(e=
f[b[q].old])for(d=0,t=e.length;d<t;d++)e[d](b[q].id)}function k(b,c,a){return function(h){h=h.slice(b,c);1==h.length&&(h=h[0]);return a?a(h):h}}function e(b){return function(){var a=b?"<"+this.type:"",h=this.node.attributes,e=this.node.childNodes;if(b)for(var d=0,k=h.length;d<k;d++)a+=" "+h[d].name+'="'+h[d].value.replace(/"/g,'\\"')+'"';if(e.length){b&&(a+=">");d=0;for(k=e.length;d<k;d++)3==e[d].nodeType?a+=e[d].nodeValue:1==e[d].nodeType&&(a+=c(e[d]).toString());b&&(a+="</"+this.type+">")}else b&&
(a+="/>");return a}}a=a.prototype;var q=d.is,r=String,t=d._unit2px,h=d._.$,C=d._.make,y=d._.getSomeDefs,c=d._.wrap;a.getBBox=function(b){if(!d.Matrix||!d.path)return this.node.getBBox();var c=this,a=new d.Matrix;if(c.removed)return d._.box();for(;"use"==c.type;)if(b||(a=a.add(c.transform().localMatrix.translate(c.attr("x")||0,c.attr("y")||0))),c.original)c=c.original;else var h=c.attr("xlink:href"),c=c.original=c.node.ownerDocument.getElementById(h.substring(h.indexOf("#")+1));var h=c._,e=d.path.get[c.type]||
d.path.get.deflt;try{if(b)return h.bboxwt=e?d.path.getBBox(c.realPath=e(c)):d._.box(c.node.getBBox()),d._.box(h.bboxwt);c.realPath=e(c);c.matrix=c.transform().localMatrix;h.bbox=d.path.getBBox(d.path.map(c.realPath,a.add(c.matrix)));return d._.box(h.bbox)}catch(k){return d._.box()}};var x=function(){return this.string};a.transform=function(b){var c=this._;if(null==b){var a=this;b=new d.Matrix(this.node.getCTM());for(var e=m(this),k=[e],q=new d.Matrix,f=e.toTransformString(),c=r(e)==r(this.matrix)?
r(c.transform):f;"svg"!=a.type&&(a=a.parent());)k.push(m(a));for(a=k.length;a--;)q.add(k[a]);return{string:c,globalMatrix:b,totalMatrix:q,localMatrix:e,diffMatrix:b.clone().add(e.invert()),global:b.toTransformString(),total:q.toTransformString(),local:f,toString:x}}b instanceof d.Matrix?(this.matrix=b,this._.transform=b.toTransformString()):m(this,b);this.node&&("linearGradient"==this.type||"radialGradient"==this.type?h(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?h(this.node,{patternTransform:this.matrix}):
h(this.node,{transform:this.matrix}));return this};a.parent=function(){return c(this.node.parentNode)};a.append=a.add=function(b){if(b){if("set"==b.type){var a=this;b.forEach(function(b){a.add(b)});return this}b=c(b);this.node.appendChild(b.node);b.paper=this.paper}return this};a.appendTo=function(b){b&&(b=c(b),b.append(this));return this};a.prepend=function(b){if(b){if("set"==b.type){var a=this,h;b.forEach(function(b){h?h.after(b):a.prepend(b);h=b});return this}b=c(b);var e=b.parent();this.node.insertBefore(b.node,
this.node.firstChild);this.add&&this.add();b.paper=this.paper;this.parent()&&this.parent().add();e&&e.add()}return this};a.prependTo=function(b){b=c(b);b.prepend(this);return this};a.before=function(b){if("set"==b.type){var a=this;b.forEach(function(b){var c=b.parent();a.node.parentNode.insertBefore(b.node,a.node);c&&c.add()});this.parent().add();return this}b=c(b);var h=b.parent();this.node.parentNode.insertBefore(b.node,this.node);this.parent()&&this.parent().add();h&&h.add();b.paper=this.paper;
return this};a.after=function(b){b=c(b);var a=b.parent();this.node.nextSibling?this.node.parentNode.insertBefore(b.node,this.node.nextSibling):this.node.parentNode.appendChild(b.node);this.parent()&&this.parent().add();a&&a.add();b.paper=this.paper;return this};a.insertBefore=function(b){b=c(b);var a=this.parent();b.node.parentNode.insertBefore(this.node,b.node);this.paper=b.paper;a&&a.add();b.parent()&&b.parent().add();return this};a.insertAfter=function(b){b=c(b);var a=this.parent();b.node.parentNode.insertBefore(this.node,
b.node.nextSibling);this.paper=b.paper;a&&a.add();b.parent()&&b.parent().add();return this};a.remove=function(){var b=this.parent();this.node.parentNode&&this.node.parentNode.removeChild(this.node);delete this.paper;this.removed=!0;b&&b.add();return this};a.select=function(b){return c(this.node.querySelector(b))};a.selectAll=function(b){b=this.node.querySelectorAll(b);for(var a=(d.set||Array)(),h=0;h<b.length;h++)a.push(c(b[h]));return a};a.asPX=function(b,c){null==c&&(c=this.attr(b));return+t(this,
b,c)};a.use=function(){var b,c=this.node.id;c||(c=this.id,h(this.node,{id:c}));b="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?C(this.type,this.node.parentNode):C("use",this.node.parentNode);h(b.node,{"xlink:href":"#"+c});b.original=this;return b};a.clone=function(){var b=c(this.node.cloneNode(!0));h(b.node,"id")&&h(b.node,{id:b.id});v(b);b.insertAfter(this);return b};a.toDefs=function(){y(this).appendChild(this.node);return this};a.pattern=a.toPattern=function(b,
c,a,e){var d=C("pattern",y(this));null==b&&(b=this.getBBox());q(b,"object")&&"x"in b&&(c=b.y,a=b.width,e=b.height,b=b.x);h(d.node,{x:b,y:c,width:a,height:e,patternUnits:"userSpaceOnUse",id:d.id,viewBox:[b,c,a,e].join(" ")});d.node.appendChild(this.node);return d};a.marker=function(b,c,a,e,d,k){var f=C("marker",y(this));null==b&&(b=this.getBBox());q(b,"object")&&"x"in b&&(c=b.y,a=b.width,e=b.height,d=b.refX||b.cx,k=b.refY||b.cy,b=b.x);h(f.node,{viewBox:[b,c,a,e].join(" "),markerWidth:a,markerHeight:e,
orient:"auto",refX:d||0,refY:k||0,id:f.id});f.node.appendChild(this.node);return f};var D=function(b,c,a,h){"function"!=typeof a||a.length||(h=a,a=u.linear);this.attr=b;this.dur=c;a&&(this.easing=a);h&&(this.callback=h)};d._.Animation=D;d.animation=function(b,c,a,h){return new D(b,c,a,h)};a.inAnim=function(){var b=[],c;for(c in this.anims)this.anims.hasOwnProperty(c)&&function(c){b.push({anim:new D(c._attrs,c.dur,c.easing,c._callback),mina:c,curStatus:c.status(),status:function(b){return c.status(b)},
stop:function(){c.stop()}})}(this.anims[c]);return b};d.animate=function(b,c,a,h,e,d){"function"!=typeof e||e.length||(d=e,e=u.linear);var k=u.time();b=u(b,c,k,k+h,u.time,a,e);d&&f.once("mina.finish."+b.id,d);return b};a.stop=function(){for(var b=this.inAnim(),c=0,a=b.length;c<a;c++)b[c].stop();return this};a.animate=function(b,c,a,h){"function"!=typeof a||a.length||(h=a,a=u.linear);b instanceof D&&(h=b.callback,a=b.easing,c=b.dur,b=b.attr);var e=[],d=[],t={},m,x,C,y=this,l;for(l in b)if(b.hasOwnProperty(l)){y.equal?
(C=y.equal(l,r(b[l])),m=C.from,x=C.to,C=C.f):(m=+y.attr(l),x=+b[l]);var v=q(m,"array")?m.length:1;t[l]=k(e.length,e.length+v,C);e=e.concat(m);d=d.concat(x)}m=u.time();var p=u(e,d,m,m+c,u.time,function(b){var c={},a;for(a in t)t.hasOwnProperty(a)&&(c[a]=t[a](b));y.attr(c)},a);y.anims[p.id]=p;p._attrs=b;p._callback=h;f("snap.animcreated."+y.id,p);f.once("mina.finish."+p.id,function(){delete y.anims[p.id];h&&h.call(y)});f.once("mina.stop."+p.id,function(){delete y.anims[p.id]});return y};var F={};a.data=
function(b,c){var a=F[this.id]=F[this.id]||{};if(0==arguments.length)return f("snap.data.get."+this.id,this,a,null),a;if(1==arguments.length){if(d.is(b,"object")){for(var h in b)b.hasOwnProperty(h)&&this.data(h,b[h]);return this}f("snap.data.get."+this.id,this,a[b],b);return a[b]}a[b]=c;f("snap.data.set."+this.id,this,c,b);return this};a.removeData=function(b){null==b?F[this.id]={}:F[this.id]&&delete F[this.id][b];return this};a.outerSVG=a.toString=e(1);a.innerSVG=e();a.toDataURL=function(){if(A&&
A.btoa){var b=this.getBBox(),b=d.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+b.x.toFixed(3),y:+b.y.toFixed(3),width:+b.width.toFixed(3),height:+b.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(b)))}};w.prototype.select=a.select;w.prototype.selectAll=a.selectAll});z.plugin(function(d,
a,f,l,w){function m(a,e,d,h,k,f){null==e&&"[object SVGMatrix]"==v.call(a)?(this.a=a.a,this.b=a.b,this.c=a.c,this.d=a.d,this.e=a.e,this.f=a.f):null!=a?(this.a=+a,this.b=+e,this.c=+d,this.d=+h,this.e=+k,this.f=+f):(this.a=1,this.c=this.b=0,this.d=1,this.f=this.e=0)}var v=Object.prototype.toString,k=String,e=Math;(function(a){function f(a){return a[0]*a[0]+a[1]*a[1]}function t(a){var d=e.sqrt(f(a));a[0]&&(a[0]/=d);a[1]&&(a[1]/=d)}a.add=function(a,e,d,c,k,f){var q=[[],[],[]],b=[[this.a,this.c,this.e],
[this.b,this.d,this.f],[0,0,1]];e=[[a,d,k],[e,c,f],[0,0,1]];a&&a instanceof m&&(e=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]);for(a=0;3>a;a++)for(d=0;3>d;d++){for(c=k=0;3>c;c++)k+=b[a][c]*e[c][d];q[a][d]=k}this.a=q[0][0];this.b=q[1][0];this.c=q[0][1];this.d=q[1][1];this.e=q[0][2];this.f=q[1][2];return this};a.invert=function(){var a=this.a*this.d-this.b*this.c;return new m(this.d/a,-this.b/a,-this.c/a,this.a/a,(this.c*this.f-this.d*this.e)/a,(this.b*this.e-this.a*this.f)/a)};a.clone=function(){return new m(this.a,
this.b,this.c,this.d,this.e,this.f)};a.translate=function(a,e){return this.add(1,0,0,1,a,e)};a.scale=function(a,e,d,c){null==e&&(e=a);(d||c)&&this.add(1,0,0,1,d,c);this.add(a,0,0,e,0,0);(d||c)&&this.add(1,0,0,1,-d,-c);return this};a.rotate=function(a,k,f){a=d.rad(a);k=k||0;f=f||0;var c=+e.cos(a).toFixed(9);a=+e.sin(a).toFixed(9);this.add(c,a,-a,c,k,f);return this.add(1,0,0,1,-k,-f)};a.x=function(a,e){return a*this.a+e*this.c+this.e};a.y=function(a,e){return a*this.b+e*this.d+this.f};a.get=function(a){return+this[k.fromCharCode(97+
a)].toFixed(4)};a.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"};a.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};a.determinant=function(){return this.a*this.d-this.b*this.c};a.split=function(){var a={};a.dx=this.e;a.dy=this.f;var k=[[this.a,this.c],[this.b,this.d]];a.scalex=e.sqrt(f(k[0]));t(k[0]);a.shear=k[0][0]*k[1][0]+k[0][1]*k[1][1];k[1]=[k[1][0]-k[0][0]*a.shear,k[1][1]-k[0][1]*a.shear];a.scaley=e.sqrt(f(k[1]));
t(k[1]);a.shear/=a.scaley;0>this.determinant()&&(a.scalex=-a.scalex);var q=-k[0][1],k=k[1][1];0>k?(a.rotate=d.deg(e.acos(k)),0>q&&(a.rotate=360-a.rotate)):a.rotate=d.deg(e.asin(q));a.isSimple=!+a.shear.toFixed(9)&&(a.scalex.toFixed(9)==a.scaley.toFixed(9)||!a.rotate);a.isSuperSimple=!+a.shear.toFixed(9)&&a.scalex.toFixed(9)==a.scaley.toFixed(9)&&!a.rotate;a.noRotation=!+a.shear.toFixed(9)&&!a.rotate;return a};a.toTransformString=function(a){a=a||this.split();if(+a.shear.toFixed(9))return"m"+[this.get(0),
this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)];a.scalex=+a.scalex.toFixed(4);a.scaley=+a.scaley.toFixed(4);a.rotate=+a.rotate.toFixed(4);return(a.dx||a.dy?"t"+[+a.dx.toFixed(4),+a.dy.toFixed(4)]:"")+(1!=a.scalex||1!=a.scaley?"s"+[a.scalex,a.scaley,0,0]:"")+(a.rotate?"r"+[+a.rotate.toFixed(4),0,0]:"")}})(m.prototype);d.Matrix=m;d.matrix=function(a,e,d,h,k,f){return new m(a,e,d,h,k,f)}});z.plugin(function(d,a,p,l,w){function m(b){return function(e){f.stop();e instanceof w&&1==e.node.childNodes.length&&
("radialGradient"==e.node.firstChild.tagName||"linearGradient"==e.node.firstChild.tagName||"pattern"==e.node.firstChild.tagName)&&(e=e.node.firstChild,h(this).appendChild(e),e=r(e));if(e instanceof a)if("radialGradient"==e.type||"linearGradient"==e.type||"pattern"==e.type){e.node.id||y(e.node,{id:e.id});var k=c(e.node.id)}else k=e.attr(b);else k=d.color(e),k.error?(k=d(h(this).ownerSVGElement).gradient(e))?(k.node.id||y(k.node,{id:k.id}),k=c(k.node.id)):k=e:k=x(k);e={};e[b]=k;y(this.node,e);this.node.style[b]=
""}}function v(b){f.stop();b==+b&&(b+="px");this.node.style.fontSize=b}function k(b){var a=[];b=b.childNodes;for(var c=0,e=b.length;c<e;c++){var d=b[c];3==d.nodeType&&a.push(d.nodeValue);"tspan"==d.tagName&&(1==d.childNodes.length&&3==d.firstChild.nodeType?a.push(d.firstChild.nodeValue):a.push(k(d)))}return a}function e(){f.stop();return this.node.style.fontSize}var q=d._.make,r=d._.wrap,t=d.is,h=d._.getSomeDefs,C=/^url\(#?([^)]+)\)$/,y=d._.$,c=d.url,x=String,D=d._.separator;f.on("snap.util.attr.mask",
function(b){if(b instanceof a||b instanceof w){f.stop();b instanceof w&&1==b.node.childNodes.length&&(b=b.node.firstChild,h(this).appendChild(b),b=r(b));if("mask"==b.type)var e=b;else e=q("mask",h(this)),e.node.appendChild(b.node);!e.node.id&&y(e.node,{id:e.id});y(this.node,{mask:c(e.id)})}});(function(b){f.on("snap.util.attr.clip",b);f.on("snap.util.attr.clip-path",b);f.on("snap.util.attr.clipPath",b)})(function(b){if(b instanceof a||b instanceof w){f.stop();if("clipPath"==b.type)var e=b;else e=
q("clipPath",h(this)),e.node.appendChild(b.node),!e.node.id&&y(e.node,{id:e.id});y(this.node,{"clip-path":c(e.node.id||e.id)})}});f.on("snap.util.attr.fill",m("fill"));f.on("snap.util.attr.stroke",m("stroke"));var F=/^([lr])(?:\(([^)]*)\))?(.*)$/i;f.on("snap.util.grad.parse",function(b){b=x(b);var a=b.match(F);if(!a)return null;b=a[1];var c=a[2],a=a[3],c=c.split(/\s*,\s*/).map(function(b){return+b==b?+b:b});1==c.length&&0==c[0]&&(c=[]);a=a.split("-");a=a.map(function(b){b=b.split(":");var a={color:b[0]};
b[1]&&(a.offset=parseFloat(b[1]));return a});return{type:b,params:c,stops:a}});f.on("snap.util.attr.d",function(b){f.stop();t(b,"array")&&t(b[0],"array")&&(b=d.path.toString.call(b));b=x(b);b.match(/[ruo]/i)&&(b=d.path.toAbsolute(b));y(this.node,{d:b})})(-1);f.on("snap.util.attr.#text",function(b){f.stop();b=x(b);for(b=l.doc.createTextNode(b);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(b)})(-1);f.on("snap.util.attr.path",function(b){f.stop();this.attr({d:b})})(-1);
f.on("snap.util.attr.class",function(b){f.stop();this.node.className.baseVal=b})(-1);f.on("snap.util.attr.viewBox",function(b){b=t(b,"object")&&"x"in b?[b.x,b.y,b.width,b.height].join(" "):t(b,"array")?b.join(" "):b;y(this.node,{viewBox:b});f.stop()})(-1);f.on("snap.util.attr.transform",function(b){this.transform(b);f.stop()})(-1);f.on("snap.util.attr.r",function(b){"rect"==this.type&&(f.stop(),y(this.node,{rx:b,ry:b}))})(-1);f.on("snap.util.attr.textpath",function(b){f.stop();if("text"==this.type){var c,
e;if(!b&&this.textPath){for(b=this.textPath;b.node.firstChild;)this.node.appendChild(b.node.firstChild);b.remove();delete this.textPath}else if(t(b,"string")?(c=h(this),b=r(c.parentNode).path(b),c.appendChild(b.node),c=b.id,b.attr({id:c})):(b=r(b),b instanceof a&&(c=b.attr("id"),c||(c=b.id,b.attr({id:c})))),c)if(b=this.textPath,e=this.node,b)b.attr({"xlink:href":"#"+c});else{for(b=y("textPath",{"xlink:href":"#"+c});e.firstChild;)b.appendChild(e.firstChild);e.appendChild(b);this.textPath=r(b)}}})(-1);
f.on("snap.util.attr.text",function(b){if("text"==this.type){for(var c=this.node,a=function(b){var c=y("tspan");if(t(b,"array"))for(var e=0;e<b.length;e++)c.appendChild(a(b[e]));else c.appendChild(l.doc.createTextNode(b));c.normalize&&c.normalize();return c};c.firstChild;)c.removeChild(c.firstChild);for(b=a(b);b.firstChild;)c.appendChild(b.firstChild)}f.stop()})(-1);f.on("snap.util.attr.fontSize",v)(-1);f.on("snap.util.attr.font-size",v)(-1);f.on("snap.util.getattr.transform",function(){f.stop();
return this.transform()})(-1);f.on("snap.util.getattr.textpath",function(){f.stop();return this.textPath})(-1);(function(){function b(b){return function(){f.stop();var c=l.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+b);return"none"==c?c:d(l.doc.getElementById(c.match(C)[1]))}}function a(b){return function(a){f.stop();var e="marker"+b.charAt(0).toUpperCase()+b.substring(1);if(""==a||!a)this.node.style[e]="none";else if("marker"==a.type){var d=a.node.id;d||y(a.node,{id:a.id});
this.node.style[e]=c(d)}}}f.on("snap.util.getattr.marker-end",b("end"))(-1);f.on("snap.util.getattr.markerEnd",b("end"))(-1);f.on("snap.util.getattr.marker-start",b("start"))(-1);f.on("snap.util.getattr.markerStart",b("start"))(-1);f.on("snap.util.getattr.marker-mid",b("mid"))(-1);f.on("snap.util.getattr.markerMid",b("mid"))(-1);f.on("snap.util.attr.marker-end",a("end"))(-1);f.on("snap.util.attr.markerEnd",a("end"))(-1);f.on("snap.util.attr.marker-start",a("start"))(-1);f.on("snap.util.attr.markerStart",
a("start"))(-1);f.on("snap.util.attr.marker-mid",a("mid"))(-1);f.on("snap.util.attr.markerMid",a("mid"))(-1)})();f.on("snap.util.getattr.r",function(){if("rect"==this.type&&y(this.node,"rx")==y(this.node,"ry"))return f.stop(),y(this.node,"rx")})(-1);f.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){f.stop();var b=k(this.node);return 1==b.length?b[0]:b}})(-1);f.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1);f.on("snap.util.getattr.viewBox",
function(){f.stop();var b=y(this.node,"viewBox");if(b)return b=b.split(D),d._.box(+b[0],+b[1],+b[2],+b[3])})(-1);f.on("snap.util.getattr.points",function(){var b=y(this.node,"points");f.stop();if(b)return b.split(D)})(-1);f.on("snap.util.getattr.path",function(){var b=y(this.node,"d");f.stop();return b})(-1);f.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1);f.on("snap.util.getattr.fontSize",e)(-1);f.on("snap.util.getattr.font-size",e)(-1)});z.plugin(function(d,a,f,
l,w){var m=/\S+/g,v=String;d=a.prototype;d.addClass=function(a){var e=v(a||"").match(m)||[];a=this.node;var d=a.className.baseVal,f=d.match(m)||[],t,h,l;if(e.length){for(t=0;l=e[t++];)h=f.indexOf(l),~h||f.push(l);e=f.join(" ");d!=e&&(a.className.baseVal=e)}return this};d.removeClass=function(a){var e=v(a||"").match(m)||[];a=this.node;var d=a.className.baseVal,f=d.match(m)||[],t,h;if(f.length){for(t=0;h=e[t++];)h=f.indexOf(h),~h&&f.splice(h,1);e=f.join(" ");d!=e&&(a.className.baseVal=e)}return this};
d.hasClass=function(a){return!!~(this.node.className.baseVal.match(m)||[]).indexOf(a)};d.toggleClass=function(a,e){if(null!=e)return e?this.addClass(a):this.removeClass(a);var d=(a||"").match(m)||[],f=this.node,t=f.className.baseVal,h=t.match(m)||[],l,v,c;for(l=0;c=d[l++];)v=h.indexOf(c),~v?h.splice(v,1):h.push(c);d=h.join(" ");t!=d&&(f.className.baseVal=d);return this}});z.plugin(function(d,a,p,l,w){function m(a){return a}function v(a){return function(e){return+e.toFixed(3)+a}}var k={"+":function(a,
e){return a+e},"-":function(a,e){return a-e},"/":function(a,e){return a/e},"*":function(a,e){return a*e}},e=String,q=/[a-z]+$/i,r=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;f.on("snap.util.attr",function(a){if(a=e(a).match(r)){var d=f.nt(),d=d.substring(d.lastIndexOf(".")+1),m=this.attr(d),l={};f.stop();var c=a[3]||"",x=m.match(q),D=k[a[1]];x&&x==c?a=D(parseFloat(m),+a[2]):(m=this.asPX(d),a=D(this.asPX(d),this.asPX(d,a[2]+c)));isNaN(m)||isNaN(a)||(l[d]=a,this.attr(l))}})(-10);f.on("snap.util.equal",
function(a,d){var l=e(this.attr(a)||""),p=e(d).match(r);if(p){f.stop();var c=p[3]||"",x=l.match(q),D=k[p[1]];if(x&&x==c)return{from:parseFloat(l),to:D(parseFloat(l),+p[2]),f:v(x)};l=this.asPX(a);return{from:l,to:D(l,this.asPX(a,p[2]+c)),f:m}}})(-10)});z.plugin(function(d,a,p,l,w){var m=p.prototype,v=d.is;m.rect=function(a,d,k,f,h,m){var l;null==m&&(m=h);v(a,"object")&&"[object Object]"==a?l=a:null!=a&&(l={x:a,y:d,width:k,height:f},null!=h&&(l.rx=h,l.ry=m));return this.el("rect",l)};m.circle=function(a,
d,k){var f;v(a,"object")&&"[object Object]"==a?f=a:null!=a&&(f={cx:a,cy:d,r:k});return this.el("circle",f)};var k=function(){function a(){this.parentNode.removeChild(this)}return function(d,k){var f=l.doc.createElement("img"),h=l.doc.body;f.style.cssText="position:absolute;left:-9999em;top:-9999em";f.onload=function(){k.call(f);f.onload=f.onerror=null;h.removeChild(f)};f.onerror=a;h.appendChild(f);f.src=d}}();m.image=function(a,f,m,l,h){var p=this.el("image");if(v(a,"object")&&"src"in a)p.attr(a);
else if(null!=a){var w={"xlink:href":a,preserveAspectRatio:"none"};null!=f&&null!=m&&(w.x=f,w.y=m);null!=l&&null!=h?(w.width=l,w.height=h):k(a,function(){d._.$(p.node,{width:this.offsetWidth,height:this.offsetHeight})});d._.$(p.node,w)}return p};m.ellipse=function(a,d,k,f){var h;v(a,"object")&&"[object Object]"==a?h=a:null!=a&&(h={cx:a,cy:d,rx:k,ry:f});return this.el("ellipse",h)};m.path=function(a){var d;v(a,"object")&&!v(a,"array")?d=a:a&&(d={d:a});return this.el("path",d)};m.group=m.g=function(a){var d=
this.el("g");1==arguments.length&&a&&!a.type?d.attr(a):arguments.length&&d.add(Array.prototype.slice.call(arguments,0));return d};m.svg=function(a,d,k,f,h,m,l,c){var x={};v(a,"object")&&null==d?x=a:(null!=a&&(x.x=a),null!=d&&(x.y=d),null!=k&&(x.width=k),null!=f&&(x.height=f),null!=h&&null!=m&&null!=l&&null!=c&&(x.viewBox=[h,m,l,c]));return this.el("svg",x)};m.mask=function(a){var d=this.el("mask");1==arguments.length&&a&&!a.type?d.attr(a):arguments.length&&d.add(Array.prototype.slice.call(arguments,
0));return d};m.ptrn=function(a,d,k,f,h,m,l,c){if(v(a,"object"))var x=a;else x={patternUnits:"userSpaceOnUse"},a&&(x.x=a),d&&(x.y=d),null!=k&&(x.width=k),null!=f&&(x.height=f),x.viewBox=null!=h&&null!=m&&null!=l&&null!=c?[h,m,l,c]:[a||0,d||0,k||0,f||0];return this.el("pattern",x)};m.use=function(e){return null!=e?(e instanceof a&&(e.attr("id")||e.attr({id:d._.id(e)}),e=e.attr("id")),"#"==String(e).charAt()&&(e=e.substring(1)),this.el("use",{"xlink:href":"#"+e})):a.prototype.use.call(this)};m.symbol=
function(a,d,k,f){var h={};null!=a&&null!=d&&null!=k&&null!=f&&(h.viewBox=[a,d,k,f]);return this.el("symbol",h)};m.text=function(a,d,k){var f={};v(a,"object")?f=a:null!=a&&(f={x:a,y:d,text:k||""});return this.el("text",f)};m.line=function(a,d,k,f){var h={};v(a,"object")?h=a:null!=a&&(h={x1:a,x2:k,y1:d,y2:f});return this.el("line",h)};m.polyline=function(a){1<arguments.length&&(a=Array.prototype.slice.call(arguments,0));var d={};v(a,"object")&&!v(a,"array")?d=a:null!=a&&(d={points:a});return this.el("polyline",
d)};m.polygon=function(a){1<arguments.length&&(a=Array.prototype.slice.call(arguments,0));var d={};v(a,"object")&&!v(a,"array")?d=a:null!=a&&(d={points:a});return this.el("polygon",d)};(function(){function a(){return this.selectAll("stop")}function k(a,e){var h=w("stop"),f={offset:+e+"%"};a=d.color(a);f["stop-color"]=a.hex;1>a.opacity&&(f["stop-opacity"]=a.opacity);w(h,f);this.node.appendChild(h);return this}function l(){if("linearGradient"==this.type){var a=w(this.node,"x1")||0,e=w(this.node,"x2")||
1,k=w(this.node,"y1")||0,h=w(this.node,"y2")||0;return d._.box(a,k,math.abs(e-a),math.abs(h-k))}a=this.node.r||0;return d._.box((this.node.cx||.5)-a,(this.node.cy||.5)-a,2*a,2*a)}function p(a,d){function e(a,b){for(var c=(b-q)/(a-l),d=l;d<a;d++)m[d].offset=+(+q+c*(d-l)).toFixed(2);l=a;q=b}var k=f("snap.util.grad.parse",null,d).firstDefined(),b;if(!k)return null;k.params.unshift(a);b="l"==k.type.toLowerCase()?h.apply(0,k.params):v.apply(0,k.params);k.type!=k.type.toLowerCase()&&w(b.node,{gradientUnits:"userSpaceOnUse"});
var m=k.stops,k=m.length,q=0,l=0;k--;for(var r=0;r<k;r++)"offset"in m[r]&&e(r,m[r].offset);m[k].offset=m[k].offset||100;e(k,m[k].offset);for(r=0;r<=k;r++){var t=m[r];b.addStop(t.color,t.offset)}return b}function h(c,h,f,m,b){c=d._.make("linearGradient",c);c.stops=a;c.addStop=k;c.getBBox=l;null!=h&&w(c.node,{x1:h,y1:f,x2:m,y2:b});return c}function v(c,h,f,m,b,p){c=d._.make("radialGradient",c);c.stops=a;c.addStop=k;c.getBBox=l;null!=h&&w(c.node,{cx:h,cy:f,r:m});null!=b&&null!=p&&w(c.node,{fx:b,fy:p});
return c}var w=d._.$;m.gradient=function(a){return p(this.defs,a)};m.gradientLinear=function(a,d,e,k){return h(this.defs,a,d,e,k)};m.gradientRadial=function(a,d,e,k,b){return v(this.defs,a,d,e,k,b)};m.toString=function(){var a=this.node.ownerDocument,e=a.createDocumentFragment(),a=a.createElement("div"),k=this.node.cloneNode(!0);e.appendChild(a);a.appendChild(k);d._.$(k,{xmlns:"http://www.w3.org/2000/svg"});a=a.innerHTML;e.removeChild(e.firstChild);return a};m.toDataURL=function(){if(A&&A.btoa)return"data:image/svg+xml;base64,"+
btoa(unescape(encodeURIComponent(this)))};m.clear=function(){for(var a=this.node.firstChild,d;a;)d=a.nextSibling,"defs"!=a.tagName?a.parentNode.removeChild(a):m.clear.call({node:a}),a=d}})()});z.plugin(function(d,a,f,l){function w(a){var b=w.ps=w.ps||{};b[a]?b[a].sleep=100:b[a]={sleep:100};setTimeout(function(){for(var c in b)b.hasOwnProperty(c)&&c!=a&&(b[c].sleep--,!b[c].sleep&&delete b[c])});return b[a]}function m(a,b,c,d){null==a&&(a=b=c=d=0);null==b&&(b=a.y,c=a.width,d=a.height,a=a.x);return{x:a,
y:b,width:c,w:c,height:d,h:d,x2:a+c,y2:b+d,cx:a+c/2,cy:b+d/2,r1:E.min(c,d)/2,r2:E.max(c,d)/2,r0:E.sqrt(c*c+d*d)/2,path:D(a,b,c,d),vb:[a,b,c,d].join(" ")}}function v(){return this.join(",").replace(U,"$1")}function k(a){a=N(a);a.toString=v;return a}function e(a,b,c,d,e,k,h,f,n){if(null==n)return y(a,b,c,d,e,k,h,f);if(0>n||y(a,b,c,d,e,k,h,f)<n)n=void 0;else{var m=.5,q=1-m,l;for(l=y(a,b,c,d,e,k,h,f,q);.01<S(l-n);)m/=2,q+=(l<n?1:-1)*m,l=y(a,b,c,d,e,k,h,f,q);n=q}return r(a,b,c,d,e,k,h,f,n)}function q(b,
c){function k(a){return+(+a).toFixed(3)}return d._.cacher(function(d,h,f){d instanceof a&&(d=d.attr("d"));d=ca(d);for(var m,q,n,l,x="",v={},t=0,p=0,w=d.length;p<w;p++){n=d[p];if("M"==n[0])m=+n[1],q=+n[2];else{l=e(m,q,n[1],n[2],n[3],n[4],n[5],n[6]);if(t+l>h){if(c&&!v.start){m=e(m,q,n[1],n[2],n[3],n[4],n[5],n[6],h-t);x+=["C"+k(m.start.x),k(m.start.y),k(m.m.x),k(m.m.y),k(m.x),k(m.y)];if(f)return x;v.start=x;x=["M"+k(m.x),k(m.y)+"C"+k(m.n.x),k(m.n.y),k(m.end.x),k(m.end.y),k(n[5]),k(n[6])].join();t+=l;
m=+n[5];q=+n[6];continue}if(!b&&!c)return m=e(m,q,n[1],n[2],n[3],n[4],n[5],n[6],h-t)}t+=l;m=+n[5];q=+n[6]}x+=n.shift()+n}v.end=x;return m=b?t:c?v:r(m,q,n[0],n[1],n[2],n[3],n[4],n[5],1)},null,d._.clone)}function r(a,b,c,d,e,k,h,f,n){var m=1-n,q=T(m,3),l=T(m,2),r=n*n,x=r*n,t=q*a+3*l*n*c+3*m*n*n*e+x*h,q=q*b+3*l*n*d+3*m*n*n*k+x*f,l=a+2*n*(c-a)+r*(e-2*c+a),x=b+2*n*(d-b)+r*(k-2*d+b),v=c+2*n*(e-c)+r*(h-2*e+c),r=d+2*n*(k-d)+r*(f-2*k+d);a=m*a+n*c;b=m*b+n*d;e=m*e+n*h;k=m*k+n*f;f=90-180*E.atan2(l-v,x-r)/H;return{x:t,
y:q,m:{x:l,y:x},n:{x:v,y:r},start:{x:a,y:b},end:{x:e,y:k},alpha:f}}function t(a,b,c,e,k,h,f,q){d.is(a,"array")||(a=[a,b,c,e,k,h,f,q]);a=R.apply(null,a);return m(a.min.x,a.min.y,a.max.x-a.min.x,a.max.y-a.min.y)}function h(a,b,c){return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height}function C(a,b){a=m(a);b=m(b);return h(b,a.x,a.y)||h(b,a.x2,a.y)||h(b,a.x,a.y2)||h(b,a.x2,a.y2)||h(a,b.x,b.y)||h(a,b.x2,b.y)||h(a,b.x,b.y2)||h(a,b.x2,b.y2)||(a.x<b.x2&&a.x>b.x||b.x<a.x2&&b.x>a.x)&&(a.y<b.y2&&a.y>b.y||b.y<
a.y2&&b.y>a.y)}function y(a,b,c,d,e,k,h,f,n){null==n&&(n=1);n=(1<n?1:0>n?0:n)/2;for(var m=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],q=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],l=0,r=0;12>r;r++)var x=n*m[r]+n,t=x*(x*(-3*a+9*c-9*e+3*h)+6*a-12*c+6*e)-3*a+3*c,x=x*(x*(-3*b+9*d-9*k+3*f)+6*b-12*d+6*k)-3*b+3*d,l=l+q[r]*E.sqrt(t*t+x*x);return n*l}function c(a,b,c){a=ca(a);b=ca(b);for(var d,e,k,h,f,n,m,q,l,x,v=c?0:[],p=0,w=a.length;p<w;p++)if(l=
a[p],"M"==l[0])d=f=l[1],e=n=l[2];else{"C"==l[0]?(l=[d,e].concat(l.slice(1)),d=l[6],e=l[7]):(l=[d,e,d,e,f,n,f,n],d=f,e=n);for(var D=0,B=b.length;D<B;D++)if(x=b[D],"M"==x[0])k=m=x[1],h=q=x[2];else{"C"==x[0]?(x=[k,h].concat(x.slice(1)),k=x[6],h=x[7]):(x=[k,h,k,h,m,q,m,q],k=m,h=q);var u;var F=l,z=x;u=c;var A=t(F),G=t(z);if(C(A,G)){for(var A=y.apply(0,F),G=y.apply(0,z),A=~~(A/8),G=~~(G/8),R=[],V=[],ea={},da=u?0:[],E=0;E<A+1;E++){var H=r.apply(0,F.concat(E/A));R.push({x:H.x,y:H.y,t:E/A})}for(E=0;E<G+1;E++)H=
r.apply(0,z.concat(E/G)),V.push({x:H.x,y:H.y,t:E/G});for(E=0;E<A;E++)for(F=0;F<G;F++){var N=R[E],I=R[E+1],z=V[F],H=V[F+1],U=.001>S(I.x-N.x)?"y":"x",L=.001>S(H.x-z.x)?"y":"x",J;J=N.x;var T=N.y,O=I.x,Q=I.y,W=z.x,X=z.y,Y=H.x,Z=H.y;if(P(J,O)<M(W,Y)||M(J,O)>P(W,Y)||P(T,Q)<M(X,Z)||M(T,Q)>P(X,Z))J=void 0;else{var fa=(J*Q-T*O)*(W-Y)-(J-O)*(W*Z-X*Y),ga=(J*Q-T*O)*(X-Z)-(T-Q)*(W*Z-X*Y),aa=(J-O)*(X-Z)-(T-Q)*(W-Y);if(aa){var fa=fa/aa,ga=ga/aa,aa=+fa.toFixed(2),ha=+ga.toFixed(2);J=aa<+M(J,O).toFixed(2)||aa>+P(J,
O).toFixed(2)||aa<+M(W,Y).toFixed(2)||aa>+P(W,Y).toFixed(2)||ha<+M(T,Q).toFixed(2)||ha>+P(T,Q).toFixed(2)||ha<+M(X,Z).toFixed(2)||ha>+P(X,Z).toFixed(2)?void 0:{x:fa,y:ga}}else J=void 0}J&&ea[J.x.toFixed(4)]!=J.y.toFixed(4)&&(ea[J.x.toFixed(4)]=J.y.toFixed(4),N=N.t+S((J[U]-N[U])/(I[U]-N[U]))*(I.t-N.t),z=z.t+S((J[L]-z[L])/(H[L]-z[L]))*(H.t-z.t),0<=N&&1>=N&&0<=z&&1>=z&&(u?da++:da.push({x:J.x,y:J.y,t1:N,t2:z})))}u=da}else u=u?0:[];if(c)v+=u;else{A=0;for(G=u.length;A<G;A++)u[A].segment1=p,u[A].segment2=
D,u[A].bez1=l,u[A].bez2=x;v=v.concat(u)}}}return v}function x(a){var b=w(a);if(b.bbox)return N(b.bbox);if(!a)return m();a=ca(a);for(var c=0,d=0,e=[],k=[],h,f=0,n=a.length;f<n;f++)h=a[f],"M"==h[0]?(c=h[1],d=h[2],e.push(c),k.push(d)):(c=R(c,d,h[1],h[2],h[3],h[4],h[5],h[6]),e=e.concat(c.min.x,c.max.x),k=k.concat(c.min.y,c.max.y),c=h[5],d=h[6]);a=M.apply(0,e);h=M.apply(0,k);e=P.apply(0,e);k=P.apply(0,k);k=m(a,h,e-a,k-h);b.bbox=N(k);return k}function D(a,b,c,d,e){if(e)return[["M",+a+ +e,b],["l",c-2*e,
0],["a",e,e,0,0,1,e,e],["l",0,d-2*e],["a",e,e,0,0,1,-e,e],["l",2*e-c,0],["a",e,e,0,0,1,-e,-e],["l",0,2*e-d],["a",e,e,0,0,1,e,-e],["z"]];a=[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]];a.toString=v;return a}function u(a,b,c,d,e){null==e&&null==d&&(d=c);a=+a;b=+b;c=+c;d=+d;if(null!=e){var k=Math.PI/180,h=a+c*Math.cos(-d*k);a+=c*Math.cos(-e*k);var f=b+c*Math.sin(-d*k);b+=c*Math.sin(-e*k);c=[["M",h,f],["A",c,c,0,+(180<e-d),0,a,b]]}else c=[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,
-2*d],["z"]];c.toString=v;return c}function b(a){var b=w(a);if(b.abs)return k(b.abs);da(a,"array")&&da(a&&a[0],"array")||(a=d.parsePathString(a));if(!a||!a.length)return[["M",0,0]];var c=[],e=0,h=0,f=0,m=0,q=0;"M"==a[0][0]&&(e=+a[0][1],h=+a[0][2],f=e,m=h,q++,c[0]=["M",e,h]);for(var n=3==a.length&&"M"==a[0][0]&&"R"==a[1][0].toUpperCase()&&"Z"==a[2][0].toUpperCase(),l,x,r=q,t=a.length;r<t;r++){c.push(l=[]);x=a[r];q=x[0];if(q!=q.toUpperCase())switch(l[0]=q.toUpperCase(),l[0]){case "A":l[1]=x[1];l[2]=
x[2];l[3]=x[3];l[4]=x[4];l[5]=x[5];l[6]=+x[6]+e;l[7]=+x[7]+h;break;case "V":l[1]=+x[1]+h;break;case "H":l[1]=+x[1]+e;break;case "R":for(var p=[e,h].concat(x.slice(1)),D=2,B=p.length;D<B;D++)p[D]=+p[D]+e,p[++D]=+p[D]+h;c.pop();c=c.concat(ea(p,n));break;case "O":c.pop();p=u(e,h,x[1],x[2]);p.push(p[0]);c=c.concat(p);break;case "U":c.pop();c=c.concat(u(e,h,x[1],x[2],x[3]));l=["U"].concat(c[c.length-1].slice(-2));break;case "M":f=+x[1]+e,m=+x[2]+h;default:for(D=1,B=x.length;D<B;D++)l[D]=+x[D]+(D%2?e:h)}else if("R"==
q)p=[e,h].concat(x.slice(1)),c.pop(),c=c.concat(ea(p,n)),l=["R"].concat(x.slice(-2));else if("O"==q)c.pop(),p=u(e,h,x[1],x[2]),p.push(p[0]),c=c.concat(p);else if("U"==q)c.pop(),c=c.concat(u(e,h,x[1],x[2],x[3])),l=["U"].concat(c[c.length-1].slice(-2));else for(p=0,D=x.length;p<D;p++)l[p]=x[p];q=q.toUpperCase();if("O"!=q)switch(l[0]){case "Z":e=+f;h=+m;break;case "H":e=l[1];break;case "V":h=l[1];break;case "M":f=l[l.length-2],m=l[l.length-1];default:e=l[l.length-2],h=l[l.length-1]}}c.toString=v;b.abs=
k(c);return c}function B(a,b,c,d){return[a,b,c,d,c,d]}function z(a,b,c,d,e,k){var h=1/3,f=2/3;return[h*a+f*c,h*b+f*d,h*e+f*c,h*k+f*d,e,k]}function A(a,b,c,e,k,h,f,m,n,l){var q=120*H/180,x=H/180*(+k||0),r=[],p,t=d._.cacher(function(a,b,c){var d=a*E.cos(c)-b*E.sin(c);a=a*E.sin(c)+b*E.cos(c);return{x:d,y:a}});if(l)w=l[0],p=l[1],h=l[2],v=l[3];else{p=t(a,b,-x);a=p.x;b=p.y;p=t(m,n,-x);m=p.x;n=p.y;E.cos(H/180*k);E.sin(H/180*k);p=(a-m)/2;w=(b-n)/2;v=p*p/(c*c)+w*w/(e*e);1<v&&(v=E.sqrt(v),c*=v,e*=v);var v=
c*c,D=e*e,v=(h==f?-1:1)*E.sqrt(S((v*D-v*w*w-D*p*p)/(v*w*w+D*p*p)));h=v*c*w/e+(a+m)/2;var v=v*-e*p/c+(b+n)/2,w=E.asin(((b-v)/e).toFixed(9));p=E.asin(((n-v)/e).toFixed(9));w=a<h?H-w:w;p=m<h?H-p:p;0>w&&(w=2*H+w);0>p&&(p=2*H+p);f&&w>p&&(w-=2*H);!f&&p>w&&(p-=2*H)}if(S(p-w)>q){var r=p,D=m,B=n;p=w+q*(f&&p>w?1:-1);m=h+c*E.cos(p);n=v+e*E.sin(p);r=A(m,n,c,e,k,0,f,D,B,[p,r,h,v])}h=p-w;k=E.cos(w);q=E.sin(w);f=E.cos(p);p=E.sin(p);h=E.tan(h/4);c=4/3*c*h;h*=4/3*e;e=[a,b];a=[a+c*q,b-h*k];b=[m+c*p,n-h*f];m=[m,n];
a[0]=2*e[0]-a[0];a[1]=2*e[1]-a[1];if(l)return[a,b,m].concat(r);r=[a,b,m].concat(r).join().split(",");l=[];m=0;for(n=r.length;m<n;m++)l[m]=m%2?t(r[m-1],r[m],x).y:t(r[m],r[m+1],x).x;return l}function R(a,b,c,d,e,k,h,f){for(var n=[],m=[[],[]],l,q,x,p,r=0;2>r;++r)0==r?(q=6*a-12*c+6*e,l=-3*a+9*c-9*e+3*h,x=3*c-3*a):(q=6*b-12*d+6*k,l=-3*b+9*d-9*k+3*f,x=3*d-3*b),1E-12>S(l)?1E-12>S(q)||(l=-x/q,0<l&&1>l&&n.push(l)):(p=q*q-4*x*l,x=E.sqrt(p),0>p||(p=(-q+x)/(2*l),0<p&&1>p&&n.push(p),l=(-q-x)/(2*l),0<l&&1>l&&n.push(l)));
for(q=r=n.length;r--;)l=n[r],x=1-l,m[0][r]=x*x*x*a+3*x*x*l*c+3*x*l*l*e+l*l*l*h,m[1][r]=x*x*x*b+3*x*x*l*d+3*x*l*l*k+l*l*l*f;m[0][q]=a;m[1][q]=b;m[0][q+1]=h;m[1][q+1]=f;m[0].length=m[1].length=q+2;return{min:{x:M.apply(0,m[0]),y:M.apply(0,m[1])},max:{x:P.apply(0,m[0]),y:P.apply(0,m[1])}}}function ca(a,c){var d=!c&&w(a);if(!c&&d.curve)return k(d.curve);var e=b(a),h=c&&b(c),f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},m={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l=function(a,b,c){if(!a)return["C",b.x,
b.y,b.x,b.y,b.x,b.y];a[0]in{T:1,Q:1}||(b.qx=b.qy=null);switch(a[0]){case "M":b.X=a[1];b.Y=a[2];break;case "A":a=["C"].concat(A.apply(0,[b.x,b.y].concat(a.slice(1))));break;case "S":"C"==c||"S"==c?(c=2*b.x-b.bx,b=2*b.y-b.by):(c=b.x,b=b.y);a=["C",c,b].concat(a.slice(1));break;case "T":"Q"==c||"T"==c?(b.qx=2*b.x-b.qx,b.qy=2*b.y-b.qy):(b.qx=b.x,b.qy=b.y);a=["C"].concat(z(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case "Q":b.qx=a[1];b.qy=a[2];a=["C"].concat(z(b.x,b.y,a[1],a[2],a[3],a[4]));break;case "L":a=["C"].concat(B(b.x,
b.y,a[1],a[2]));break;case "H":a=["C"].concat(B(b.x,b.y,a[1],b.y));break;case "V":a=["C"].concat(B(b.x,b.y,b.x,a[1]));break;case "Z":a=["C"].concat(B(b.x,b.y,b.X,b.Y))}return a},n=function(a,b){if(7<a[b].length){a[b].shift();for(var c=a[b];c.length;)q[b]="A",h&&(p[b]="A"),a.splice(b++,0,["C"].concat(c.splice(0,6)));a.splice(b,1);D=P(e.length,h&&h.length||0)}},x=function(a,b,c,d,k){a&&b&&"M"==a[k][0]&&"M"!=b[k][0]&&(b.splice(k,0,["M",d.x,d.y]),c.bx=0,c.by=0,c.x=a[k][1],c.y=a[k][2],D=P(e.length,h&&
h.length||0))},q=[],p=[],r="",v="",t=0,D=P(e.length,h&&h.length||0);for(;t<D;t++){e[t]&&(r=e[t][0]);"C"!=r&&(q[t]=r,t&&(v=q[t-1]));e[t]=l(e[t],f,v);"A"!=q[t]&&"C"==r&&(q[t]="C");n(e,t);h&&(h[t]&&(r=h[t][0]),"C"!=r&&(p[t]=r,t&&(v=p[t-1])),h[t]=l(h[t],m,v),"A"!=p[t]&&"C"==r&&(p[t]="C"),n(h,t));x(e,h,f,m,t);x(h,e,m,f,t);var u=e[t],C=h&&h[t],y=u.length,F=h&&C.length;f.x=u[y-2];f.y=u[y-1];f.bx=I(u[y-4])||f.x;f.by=I(u[y-3])||f.y;m.bx=h&&(I(C[F-4])||m.x);m.by=h&&(I(C[F-3])||m.y);m.x=h&&C[F-2];m.y=h&&C[F-
1]}h||(d.curve=k(e));return h?[e,h]:e}function ea(a,b){for(var c=[],d=0,e=a.length;e-2*!b>d;d+=2){var k=[{x:+a[d-2],y:+a[d-1]},{x:+a[d],y:+a[d+1]},{x:+a[d+2],y:+a[d+3]},{x:+a[d+4],y:+a[d+5]}];b?d?e-4==d?k[3]={x:+a[0],y:+a[1]}:e-2==d&&(k[2]={x:+a[0],y:+a[1]},k[3]={x:+a[2],y:+a[3]}):k[0]={x:+a[e-2],y:+a[e-1]}:e-4==d?k[3]=k[2]:d||(k[0]={x:+a[d],y:+a[d+1]});c.push(["C",(-k[0].x+6*k[1].x+k[2].x)/6,(-k[0].y+6*k[1].y+k[2].y)/6,(k[1].x+6*k[2].x-k[3].x)/6,(k[1].y+6*k[2].y-k[3].y)/6,k[2].x,k[2].y])}return c}
f=a.prototype;var da=d.is,N=d._.clone,U=/,?([a-z]),?/gi,I=parseFloat,E=Math,H=E.PI,M=E.min,P=E.max,T=E.pow,S=E.abs;l=q(1);var Q=q(),O=q(0,1),L=d._unit2px;d.path=w;d.path.getTotalLength=l;d.path.getPointAtLength=Q;d.path.getSubpath=function(a,b,c){if(1E-6>this.getTotalLength(a)-c)return O(a,b).end;a=O(a,c,1);return b?O(a,b).end:a};f.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength()};f.getPointAtLength=function(a){return Q(this.attr("d"),a)};f.getSubpath=function(a,
b){return d.path.getSubpath(this.attr("d"),a,b)};d._.box=m;d.path.findDotsAtSegment=r;d.path.bezierBBox=t;d.path.isPointInsideBBox=h;d.closest=function(a,b,c,e){for(var k=100,f=m(a-k/2,b-k/2,k,k),l=[],q=c[0].hasOwnProperty("x")?function(a){return{x:c[a].x,y:c[a].y}}:function(a){return{x:c[a],y:e[a]}},n=0;1E6>=k&&!n;){for(var x=0,p=c.length;x<p;x++){var r=q(x);if(h(f,r.x,r.y)){n++;l.push(r);break}}n||(k*=2,f=m(a-k/2,b-k/2,k,k))}if(1E6!=k){for(var k=Infinity,t,x=0,p=l.length;x<p;x++)f=d.len(a,b,l[x].x,
l[x].y),k>f&&(k=f,l[x].len=f,t=l[x]);return t}};d.path.isBBoxIntersect=C;d.path.intersection=function(a,b){return c(a,b)};d.path.intersectionNumber=function(a,b){return c(a,b,1)};d.path.isPointInside=function(a,b,d){var e=x(a);return h(e,b,d)&&1==c(a,[["M",b,d],["H",e.x2+10]],1)%2};d.path.getBBox=x;d.path.get={path:function(a){return a.attr("path")},circle:function(a){a=L(a);return u(a.cx,a.cy,a.r)},ellipse:function(a){a=L(a);return u(a.cx||0,a.cy||0,a.rx,a.ry)},rect:function(a){a=L(a);return D(a.x||
0,a.y||0,a.width,a.height,a.rx,a.ry)},image:function(a){a=L(a);return D(a.x||0,a.y||0,a.width,a.height)},line:function(a){return"M"+[a.attr("x1")||0,a.attr("y1")||0,a.attr("x2"),a.attr("y2")]},polyline:function(a){return"M"+a.attr("points")},polygon:function(a){return"M"+a.attr("points")+"z"},deflt:function(a){a=a.node.getBBox();return D(a.x,a.y,a.width,a.height)}};d.path.toRelative=function(a){var b=w(a),c=String.prototype.toLowerCase;if(b.rel)return k(b.rel);d.is(a,"array")&&d.is(a&&a[0],"array")||
(a=d.parsePathString(a));var e=[],h=0,f=0,m=0,l=0,n=0;"M"==a[0][0]&&(h=a[0][1],f=a[0][2],m=h,l=f,n++,e.push(["M",h,f]));for(var x=a.length;n<x;n++){var q=e[n]=[],p=a[n];if(p[0]!=c.call(p[0]))switch(q[0]=c.call(p[0]),q[0]){case "a":q[1]=p[1];q[2]=p[2];q[3]=p[3];q[4]=p[4];q[5]=p[5];q[6]=+(p[6]-h).toFixed(3);q[7]=+(p[7]-f).toFixed(3);break;case "v":q[1]=+(p[1]-f).toFixed(3);break;case "m":m=p[1],l=p[2];default:for(var r=1,t=p.length;r<t;r++)q[r]=+(p[r]-(r%2?h:f)).toFixed(3)}else for(e[n]=[],"m"==p[0]&&
(m=p[1]+h,l=p[2]+f),q=0,r=p.length;q<r;q++)e[n][q]=p[q];p=e[n].length;switch(e[n][0]){case "z":h=m;f=l;break;case "h":h+=+e[n][p-1];break;case "v":f+=+e[n][p-1];break;default:h+=+e[n][p-2],f+=+e[n][p-1]}}e.toString=v;b.rel=k(e);return e};d.path.toAbsolute=b;d.path.toCubic=ca;d.path.map=function(a,b){if(!b)return a;var c,e,d,k,h,f,m;a=ca(a);d=0;for(h=a.length;d<h;d++)for(m=a[d],k=1,f=m.length;k<f;k+=2)c=b.x(m[k],m[k+1]),e=b.y(m[k],m[k+1]),m[k]=c,m[k+1]=e;return a};d.path.toString=v;d.path.clone=k});
z.plugin(function(d,a,p,l){var w=Math.max,m=Math.min,v=function(a){this.items=[];this.bindings={};this.length=0;this.type="set";if(a)for(var e=0,d=a.length;e<d;e++)a[e]&&(this[this.items.length]=this.items[this.items.length]=a[e],this.length++)};a=v.prototype;a.push=function(){for(var a,d,f=0,m=arguments.length;f<m;f++)if(a=arguments[f])d=this.items.length,this[d]=this.items[d]=a,this.length++;return this};a.pop=function(){this.length&&delete this[this.length--];return this.items.pop()};a.forEach=
function(a,d){for(var f=0,m=this.items.length;f<m&&!1!==a.call(d,this.items[f],f);f++);return this};a.animate=function(a,e,m,l){"function"!=typeof m||m.length||(l=m,m=u.linear);a instanceof d._.Animation&&(l=a.callback,m=a.easing,e=m.dur,a=a.attr);var p=arguments;if(d.is(a,"array")&&d.is(p[p.length-1],"array"))var h=!0;var v,w=function(){v?this.b=v:v=this.b},c=0,x=this,D=l&&function(){++c==x.length&&l.call(this)};return this.forEach(function(c,b){f.once("snap.animcreated."+c.id,w);h?p[b]&&c.animate.apply(c,
p[b]):c.animate(a,e,m,D)})};a.remove=function(){for(;this.length;)this.pop().remove();return this};a.bind=function(a,d,f){var m={};if("function"==typeof d)this.bindings[a]=d;else{var l=f||a;this.bindings[a]=function(a){m[l]=a;d.attr(m)}}return this};a.attr=function(a){var d={},f;for(f in a)if(this.bindings[f])this.bindings[f](a[f]);else d[f]=a[f];a=0;for(f=this.items.length;a<f;a++)this.items[a].attr(d);return this};a.clear=function(){for(;this.length;)this.pop()};a.splice=function(a,d,f){a=0>a?w(this.length+
a,0):a;d=w(0,m(this.length-a,d));var l=[],p=[],h=[],u;for(u=2;u<arguments.length;u++)h.push(arguments[u]);for(u=0;u<d;u++)p.push(this[a+u]);for(;u<this.length-a;u++)l.push(this[a+u]);var y=h.length;for(u=0;u<y+l.length;u++)this.items[a+u]=this[a+u]=u<y?h[u]:l[u-y];for(u=this.items.length=this.length-=d-y;this[u];)delete this[u++];return new v(p)};a.exclude=function(a){for(var d=0,f=this.length;d<f;d++)if(this[d]==a)return this.splice(d,1),!0;return!1};a.insertAfter=function(a){for(var d=this.items.length;d--;)this.items[d].insertAfter(a);
return this};a.getBBox=function(){for(var a=[],d=[],f=[],l=[],p=this.items.length;p--;)if(!this.items[p].removed){var h=this.items[p].getBBox();a.push(h.x);d.push(h.y);f.push(h.x+h.width);l.push(h.y+h.height)}a=m.apply(0,a);d=m.apply(0,d);f=w.apply(0,f);l=w.apply(0,l);return{x:a,y:d,x2:f,y2:l,width:f-a,height:l-d,cx:a+(f-a)/2,cy:d+(l-d)/2}};a.clone=function(a){a=new v;for(var d=0,f=this.items.length;d<f;d++)a.push(this.items[d].clone());return a};a.toString=function(){return"Snap\u2018s set"};a.type=
"set";d.Set=v;d.set=function(){var a=new v;arguments.length&&a.push.apply(a,Array.prototype.slice.call(arguments,0));return a}});z.plugin(function(d,a,p,l){function w(a){var c=a[0];switch(c.toLowerCase()){case "t":return[c,0,0];case "m":return[c,1,0,0,1,0,0];case "r":return 4==a.length?[c,0,a[2],a[3]]:[c,0];case "s":return 5==a.length?[c,1,1,a[3],a[4]]:3==a.length?[c,1,1]:[c,1]}}function m(a,e,h){e=c(e).replace(/\.{3}|\u2026/g,a);a=d.parseTransformString(a)||[];e=d.parseTransformString(e)||[];for(var b=
Math.max(a.length,e.length),k=[],f=[],m=0,l,p,q,v;m<b;m++){q=a[m]||w(e[m]);v=e[m]||w(q);if(q[0]!=v[0]||"r"==q[0].toLowerCase()&&(q[2]!=v[2]||q[3]!=v[3])||"s"==q[0].toLowerCase()&&(q[3]!=v[3]||q[4]!=v[4])){a=d._.transform2matrix(a,h());e=d._.transform2matrix(e,h());k=[["m",a.a,a.b,a.c,a.d,a.e,a.f]];f=[["m",e.a,e.b,e.c,e.d,e.e,e.f]];break}k[m]=[];f[m]=[];l=0;for(p=Math.max(q.length,v.length);l<p;l++)l in q&&(k[m][l]=q[l]),l in v&&(f[m][l]=v[l])}return{from:t(k),to:t(f),f:r(k)}}function v(a){return a}
function k(a){return function(c){return+c.toFixed(3)+a}}function e(a){return a.join(" ")}function q(a){return d.rgb(a[0],a[1],a[2])}function r(a){var c=0,d,b,e,h,k,f,m=[];d=0;for(b=a.length;d<b;d++){k="[";f=['"'+a[d][0]+'"'];e=1;for(h=a[d].length;e<h;e++)f[e]="val["+c++ +"]";k+=f+"]";m[d]=k}return Function("val","return Snap.path.toString.call(["+m+"])")}function t(a){for(var c=[],d=0,b=a.length;d<b;d++)for(var e=1,h=a[d].length;e<h;e++)c.push(a[d][e]);return c}function h(a,c){return d.is(a,"array")&&
d.is(c,"array")?a.toString()==c.toString():!1}var u={},y=/[a-z]+$/i,c=String;u.stroke=u.fill="colour";a.prototype.equal=function(a,c){return f("snap.util.equal",this,a,c).firstDefined()};f.on("snap.util.equal",function(a,f){var l,b;l=c(this.attr(a)||"");var p=this;if(isFinite(parseFloat(l))&&isFinite(parseFloat(f)))return{from:parseFloat(l),to:parseFloat(f),f:v};if("colour"==u[a])return l=d.color(l),b=d.color(f),{from:[l.r,l.g,l.b,l.opacity],to:[b.r,b.g,b.b,b.opacity],f:q};if("viewBox"==a)return l=
this.attr(a).vb.split(" ").map(Number),b=f.split(" ").map(Number),{from:l,to:b,f:e};if("transform"==a||"gradientTransform"==a||"patternTransform"==a)return f instanceof d.Matrix&&(f=f.toTransformString()),d._.rgTransform.test(f)||(f=d._.svgTransform2string(f)),m(l,f,function(){return p.getBBox(1)});if("d"==a||"path"==a)return l=d.path.toCubic(l,f),{from:t(l[0]),to:t(l[1]),f:r(l[0])};if("points"==a)return l=c(l).split(d._.separator),b=c(f).split(d._.separator),{from:l,to:b,f:function(a){return a}};
b=l.match(y);var w=c(f).match(y);return b&&h(b,w)?{from:parseFloat(l),to:parseFloat(f),f:k(b)}:{from:this.asPX(a),to:this.asPX(a,f),f:v}})});z.plugin(function(d,a,p,l){var w=a.prototype,m="createTouch"in l.doc;a="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel".split(" ");var v={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},k=function(a,d){var e="y"==a?"scrollTop":"scrollLeft",h=d&&d.node?d.node.ownerDocument:l.doc;return h[e in
h.documentElement?"documentElement":"body"][e]},e=function(){return this.originalEvent.preventDefault()},q=function(){return this.originalEvent.stopPropagation()},r=function(a,d,h,f){var b=m&&v[d]?v[d]:d,l=function(b){var l=k("y",f),p=k("x",f);if(m&&v.hasOwnProperty(d))for(var r=0,t=b.targetTouches&&b.targetTouches.length;r<t;r++)if(b.targetTouches[r].target==a||a.contains(b.targetTouches[r].target)){t=b;b=b.targetTouches[r];b.originalEvent=t;b.preventDefault=e;b.stopPropagation=q;break}return h.call(f,
b,b.clientX+p,b.clientY+l)};d!==b&&a.addEventListener(d,l,!1);a.addEventListener(b,l,!1);return function(){d!==b&&a.removeEventListener(d,l,!1);a.removeEventListener(b,l,!1);return!0}},t=[],h=function(a){for(var d=a.clientX,e=a.clientY,h=k("y"),b=k("x"),l,p=t.length;p--;){l=t[p];if(m)for(var q=a.touches&&a.touches.length,r;q--;){if(r=a.touches[q],r.identifier==l.el._drag.id||l.el.node.contains(r.target)){d=r.clientX;e=r.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();
d+=b;e+=h;f("snap.drag.move."+l.el.id,l.move_scope||l.el,d-l.el._drag.x,e-l.el._drag.y,d,e,a)}},u=function(a){d.unmousemove(h).unmouseup(u);for(var e=t.length,k;e--;)k=t[e],k.el._drag={},f("snap.drag.end."+k.el.id,k.end_scope||k.start_scope||k.move_scope||k.el,a),f.off("snap.drag.*."+k.el.id);t=[]};for(p=a.length;p--;)(function(a){d[a]=w[a]=function(e,h){if(d.is(e,"function"))this.events=this.events||[],this.events.push({name:a,f:e,unbind:r(this.node||document,a,e,h||this)});else for(var k=0,b=this.events.length;k<
b;k++)if(this.events[k].name==a)try{this.events[k].f.call(this)}catch(f){}return this};d["un"+a]=w["un"+a]=function(d){for(var e=this.events||[],h=e.length;h--;)if(e[h].name==a&&(e[h].f==d||!d)){e[h].unbind();e.splice(h,1);!e.length&&delete this.events;break}return this}})(a[p]);w.hover=function(a,d,e,h){return this.mouseover(a,e).mouseout(d,h||e)};w.unhover=function(a,d){return this.unmouseover(a).unmouseout(d)};var y=[];w.drag=function(a,e,k,l,b,m){function p(q,v,w){(q.originalEvent||q).preventDefault();
r._drag.x=v;r._drag.y=w;r._drag.id=q.identifier;!t.length&&d.mousemove(h).mouseup(u);t.push({el:r,move_scope:l,start_scope:b,end_scope:m});e&&f.on("snap.drag.start."+r.id,e);a&&f.on("snap.drag.move."+r.id,a);k&&f.on("snap.drag.end."+r.id,k);f("snap.drag.start."+r.id,b||l||r,v,w,q)}function q(a,b,c){f("snap.draginit."+r.id,r,a,b,c)}var r=this;if(!arguments.length){var v;return r.drag(function(a,b){this.attr({transform:v+(v?"T":"t")+[a,b]})},function(){v=this.transform().local})}f.on("snap.draginit."+
r.id,p);r._drag={};y.push({el:r,start:p,init:q});r.mousedown(q);return r};w.undrag=function(){for(var a=y.length;a--;)y[a].el==this&&(this.unmousedown(y[a].init),y.splice(a,1),f.unbind("snap.drag.*."+this.id),f.unbind("snap.draginit."+this.id));!y.length&&d.unmousemove(h).unmouseup(u);return this}});z.plugin(function(d,a,p,l){p=p.prototype;var w=/^\s*url\((.+)\)/,m=String,v=d._.$;d.filter={};p.filter=function(k){var e=this;"svg"!=e.type&&(e=e.paper);k=d.parse(m(k));var f=d._.id(),l=v("filter");v(l,
{id:f,filterUnits:"userSpaceOnUse"});l.appendChild(k.node);e.defs.appendChild(l);return new a(l)};f.on("snap.util.getattr.filter",function(){f.stop();var a=v(this.node,"filter");if(a)return(a=m(a).match(w))&&d.select(a[1])});f.on("snap.util.attr.filter",function(k){if(k instanceof a&&"filter"==k.type){f.stop();var e=k.node.id;e||(v(k.node,{id:k.id}),e=k.id);v(this.node,{filter:d.url(e)})}k&&"none"!=k||(f.stop(),this.node.removeAttribute("filter"))});d.filter.blur=function(a,e){null==a&&(a=2);return d.format('<feGaussianBlur stdDeviation="{def}"/>',
{def:null==e?a:[a,e]})};d.filter.blur.toString=function(){return this()};d.filter.shadow=function(a,e,f,l,m){"string"==typeof f&&(m=l=f,f=4);"string"!=typeof l&&(m=l,l="#000");null==f&&(f=4);null==m&&(m=1);null==a&&(a=0,e=2);null==e&&(e=a);l=d.color(l||"#000");return d.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',
{color:l,dx:a,dy:e,blur:f,opacity:m})};d.filter.shadow.toString=function(){return this()};d.filter.grayscale=function(a){null==a&&(a=1);return d.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-a),b:.7152-.7152*(1-a),c:.0722-.0722*(1-a),d:.2126-.2126*(1-a),e:.7152+.2848*(1-a),f:.0722-.0722*(1-a),g:.2126-.2126*(1-a),h:.0722+.9278*(1-a)})};d.filter.grayscale.toString=function(){return this()};d.filter.sepia=function(a){null==
a&&(a=1);return d.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-a),b:.769-.769*(1-a),c:.189-.189*(1-a),d:.349-.349*(1-a),e:.686+.314*(1-a),f:.168-.168*(1-a),g:.272-.272*(1-a),h:.534-.534*(1-a),i:.131+.869*(1-a)})};d.filter.sepia.toString=function(){return this()};d.filter.saturate=function(a){null==a&&(a=1);return d.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-a})};d.filter.saturate.toString=function(){return this()};
d.filter.hueRotate=function(a){return d.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:a||0})};d.filter.hueRotate.toString=function(){return this()};d.filter.invert=function(a){null==a&&(a=1);return d.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:a,amount2:1-a})};d.filter.invert.toString=function(){return this()};
d.filter.brightness=function(a){null==a&&(a=1);return d.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:a})};d.filter.brightness.toString=function(){return this()};d.filter.contrast=function(a){null==a&&(a=1);return d.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',
{amount:a,amount2:.5-a/2})};d.filter.contrast.toString=function(){return this()}});z.plugin(function(d,a,f,l,w){var m=d._.box,v=d.is,k=/^[^a-z]*([tbmlrc])/i,e=function(){return"T"+this.dx+","+this.dy};a.prototype.getAlign=function(a,d){null==d&&v(a,"string")&&(d=a,a=null);a=a||this.paper;var f=a.getBBox?a.getBBox():m(a),h=this.getBBox(),l={};d=(d=d&&d.match(k))?d[1].toLowerCase():"c";switch(d){case "t":l.dx=0;l.dy=f.y-h.y;break;case "b":l.dx=0;l.dy=f.y2-h.y2;break;case "m":l.dx=0;l.dy=f.cy-h.cy;break;
case "l":l.dx=f.x-h.x;l.dy=0;break;case "r":l.dx=f.x2-h.x2;l.dy=0;break;default:l.dx=f.cx-h.cx,l.dy=0}l.toString=e;return l};a.prototype.align=function(a,d){return this.transform("..."+this.getAlign(a,d))}});return z});
"document"in self&&("classList"in document.createElement("_")?function(){var A=document.createElement("_");A.classList.add("c1","c2");if(!A.classList.contains("c2")){var f=function(f){var d=DOMTokenList.prototype[f];DOMTokenList.prototype[f]=function(a){var f,l=arguments.length;for(f=0;f<l;f++)a=arguments[f],d.call(this,a)}};f("add");f("remove")}A.classList.toggle("c3",!1);if(A.classList.contains("c3")){var u=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(f,d){return 1 in arguments&&
!this.contains(f)===!d?d:u.call(this,f)}}A=null}():function(A){if("Element"in A){A=A.Element.prototype;var f=Object,u=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},z=Array.prototype.indexOf||function(a){for(var d=0,e=this.length;d<e;d++)if(d in this&&this[d]===a)return d;return-1},d=function(a,d){this.name=a;this.code=DOMException[a];this.message=d},a=function(a,f){if(""===f)throw new d("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(f))throw new d("INVALID_CHARACTER_ERR",
"String contains an invalid character");return z.call(a,f)},p=function(a){for(var d=u.call(a.getAttribute("class")||""),d=d?d.split(/\s+/):[],e=0,f=d.length;e<f;e++)this.push(d[e]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},l=p.prototype=[],w=function(){return new p(this)};d.prototype=Error.prototype;l.item=function(a){return this[a]||null};l.contains=function(d){return-1!==a(this,d+"")};l.add=function(){var d=arguments,f=0,e=d.length,l,m=!1;do l=d[f]+"",-1===a(this,
l)&&(this.push(l),m=!0);while(++f<e);m&&this._updateClassName()};l.remove=function(){var d=arguments,f=0,e=d.length,l,m=!1,p;do for(l=d[f]+"",p=a(this,l);-1!==p;)this.splice(p,1),m=!0,p=a(this,l);while(++f<e);m&&this._updateClassName()};l.toggle=function(a,d){a+="";var e=this.contains(a),f=e?!0!==d&&"remove":!1!==d&&"add";if(f)this[f](a);return!0===d||!1===d?d:!e};l.toString=function(){return this.join(" ")};if(f.defineProperty){l={get:w,enumerable:!0,configurable:!0};try{f.defineProperty(A,"classList",
l)}catch(m){-2146823252===m.number&&(l.enumerable=!1,f.defineProperty(A,"classList",l))}}else f.prototype.__defineGetter__&&A.__defineGetter__("classList",w)}}(self));define("classList",function(){});
define("config",[],function(){return{FONT_FAMILY:"'Lato', sans-serif",TEXT_SIZE_SMALL:12,SPILLOVER_TOP:.07,SPILLOVER_RIGHT:0,SPILLOVER_BOTTOM:.05,SPILLOVER_LEFT:0,MAX_LABEL_DENSITY:1.5,TOP_PADDING:40,BOTTOM_PADDING:30,LEFT_PADDING:10,RIGHT_PADDING:10,TARGET_MARKER_COUNT:6,TICK_MARK_VERTICAL_PADDING:10,TICK_MARK_HORIZONTAL_PADDING:10,LABEL_AXIS_PADDING:10,NEGATIVE_PROPORTION_STICKY_LABELS_LIMIT:1/3,SHARED_TINT_MINIMUM_RATIO:.95,GROUP_WIDTH_TO_PADDING_RATIO:4,GROUP_PADDING_TO_BAR_PADDING_RATIO:4,BAR_MINIMUM_THICKNESS:12,
BAR_GROUP_TARGET_THICKNESS:24,BAR_SPACING:5,BAR_GROUP_WIDTH_TO_PADDING_RATIO:4,TARGET_KEY_COLUMN_WIDTH:200,KEY_MARGIN_TOP:45,KEY_PADDING_TOP:20,KEY_PADDING_BOTTOM:20,KEY_PADDING_LEFT:30,KEY_PADDING_RIGHT:30,KEY_TEXT_SPACING:5,KEY_COLUMN_PADDING_RATIO:.1,KEY_ROWSPACING:8,KEY_SQUARE_LENGTH:13,KEY_DIVIDOR_HEIGHT:19,KEY_MIN_PULLOUT_TITLE_LENGTH:4,KEY_MIN_WIDTH_FOR_AXIS_ALIGNMENT:352}});
define("data-processor",[],function(){return{tableToJSON:function(A,f){function u(){this.series=[];this.rows=[];this.range={min:null,max:null};this.labels=[]}u.prototype={constructor:u};var z=[];f.pulloutItems&&(z=f.pulloutItems.split(","));for(var d=/^\-?[0-9]+(,[0-9]{3})*(\.[0-9]+)?$/,a=A.querySelectorAll("thead > tr > th"),p=A.querySelectorAll("tbody > tr"),l=new u,w=1;w<a.length;w++){var m={title:a[w].textContent},v=a[w].getAttribute("data-fm-color");v&&(m.colorOverride=v);l.series.push(m)}for(a=
0;a<p.length;a++)if(p[a].children[0]){w=p[a].children[0].textContent;l.labels.push(w);v=!1;if(-1!==z.indexOf(String(a+1))||-1!==z.indexOf(w))v=!0;var m={key:a,title:w,values:[],pullout:v};if(v=p[a].getAttribute("data-fm-color"))m.colorOverride=v;l.rows.push(m);for(w=1;w<p[a].children.length;w++){v=null;p[a].children[w].textContent.match(d)&&(v=parseFloat(p[a].children[w].textContent.replace(/,([0-9]{3})/g,"$1")));if(null===l.range.min||l.range.min>v)l.range.min=v;if(null===l.range.max||l.range.max<
v)l.range.max=v;l.rows[a].values.push({value:v})}}return l}}});
define("number-utils",[],function(){return{roundToOrder:function(A,f,u){function z(d,a){var f=Math.abs(d);f>=Math.pow(10,u)?(d=z(d/10,a),d*=10):f<Math.pow(10,u-1)?(d*=10,d=z(d,a),d/=10):(f=Math.round(d/a)*a,0===f&&(u++,f=z(d,a)),d=f);return parseFloat(d.toPrecision(u+1))}A=parseFloat(A);if(0==A)return 0;u||(u=2);return 1===f?parseFloat(A.toPrecision(u)):z(A,f)},renderValue:function(A){function f(a){if(0==a)return 0;if(1<=a&&1E3>a)return a;if(1>a)return z-=3,f(1E3*a);if(1E3<=a)return z+=3,f(a/1E3)}
if(0===A)return"0";if(!A)return"";var u=1;0>A&&(u=-1,A*=-1);A=this.roundToOrder(A,1,3);var z=0,d=new String(u*f(A));return 3==z?d+"k":6==z?d+"m":9==z?d+"bn":12==z?d+" trillion":new String(u*A)},getDataTotal:function(A){for(var f=0,u=0;u<A.length;u++)f+=A[u].value;return f},getAngle:function(A,f,u){u="undefined"===typeof u?Circle.whole:u;return u/f*A},getFactor:function(A){for(var f=A-1;1<f;f--){var u=A/f;if(parseInt(u)==u)return f}return A}}});
define("scale-utils",["number-utils"],function(A){return{Scale:function(f,u,z,d){this.start=f;this.middle=f+u/2;this.end=f+u;if(z==d)throw"Min and max values are the same";var a=z>d?!0:!1;this.getPixel=function(p,l){if((p<z||p>d)&&!1===("undefined"===typeof l?!0:!1)&&!(a&&p<=z&&p>=d))throw"Out of range";return f+(p-z)/(d-z)*u}},AreaScale:function(f,u,z,d){this.start=f;this.middle=f+u/2;this.midValue=z+(d-z)*Math.pow(.5,2);this.end=f+u;if(z==d)throw"Min value and max are the same";var a=z>d?!0:!1;
this.getPixel=function(p,l){if((p<z||p>d)&&!1===("undefined"===typeof l?!0:!1)&&!(a&&p<=z&&p>=d))throw"Out of range";var w=Math.pow((p-z)/(d-z),.5);return f+u*w}},getTickMarks:function(f,u,z,d){var a=0,p=0,l=0,w=0,l=0,m=[],w=l=0;f==u&&(a=0!==u?u/10:1,f-=a,u+=a);z=(u-f)/(z-1);p=a=0;a=Math.floor(Math.log(z)/Math.LN10);p=z/Math.pow(10,a);p=(1.5>p?1:3>p?2:7>p?5:10)*Math.pow(10,a);l=Math.floor(f/p)*p;w=Math.ceil(u/p)*p;a=Math.max(-Math.floor(Math.log(p)/Math.LN10),1);w+=.5*p;d&&(0!==l&&(l-=p),w+=p);for(;l<
w;l+=p)m.push(parseFloat(l.toFixed(a)));return m}}});
define("color-utils",[],function(){return{colorWheelClasses:"fm-datum-color-wheel-a fm-datum-color-wheel-b fm-datum-color-wheel-c fm-datum-color-wheel-d fm-datum-color-wheel-e fm-datum-color-wheel-f fm-datum-color-wheel-g fm-datum-color-wheel-h fm-datum-color-wheel-i fm-datum-color-wheel-j fm-datum-color-wheel-k fm-datum-color-wheel-l".split(" "),overflowClass:"fm-datum-color-overflow",pad:function(A){return 2>A.length?"0"+A:A},contrasting:function(A){throw"Not yet implemented";},registerTint1Filter:function(){throw"Not yet implemented";
},registerTint2Filter:function(){throw"Not yet implemented";},lowContrast:function(A,f){f="undefined"===typeof f?0:f;if(A+f>this.colorWheelClasses.length){for(var u=[],z=0;z<A;z++)z<this.colorWheelClasses.length?u.push(this.colorWheelClasses[z]):u.push(this.colorWheelClasses[this.colorWheelClasses.length-z]);return u}return this.colorWheelClasses.splice(f,A)},monochromatic:function(A,f,u){throw"Not yet implemented";},harmonious:function(A){for(var f=Math.min(A,this.colorWheelClasses.length),u=[],
z=Math.floor(this.colorWheelClasses.length/2),d=function(){return 0==this.colorWheelClasses.length%4}.bind(this),a=function(a,d){a=(a+this.colorWheelClasses.length)%this.colorWheelClasses.length;var k=Math.floor(u.length/4)+1;u.length<f&&u.splice(1*k-1,0,a);u.length<f&&u.splice(2*k-1,0,(a+d+1)%this.colorWheelClasses.length);u.length<f&&u.splice(3*k-1,0,(a+z)%this.colorWheelClasses.length);u.length<f&&u.splice(4*k-1,0,(a+d+1+z)%this.colorWheelClasses.length)}.bind(this),p=function(a,d){a=(a+this.colorWheelClasses.length)%
this.colorWheelClasses.length;u.splice(d,0,a)}.bind(this),l=1,w=0;l<=z-2;l+=2,w--)a(w,l);a=u.length/4;u.length<f&&p(1,a);u.length<f&&p(1+z,3*a+1);d()&&(u.length<f&&p(1+z/2,2*a+1),u.length<f&&p(1+3*z/2,4*a+3));d=[];for(p=0;p<A;p++)d.push(this.colorWheelClasses[u[p%f]]);return d}}});
define("tick-mark",["snap","config"],function(A,f){return A.plugin(function(u,z,d){d.prototype.tickMark=function(a,d,l,w,m){if("horizontal"===l){a=this.text(a-f.TICK_MARK_HORIZONTAL_PADDING,d,m).attr({"font-family":f.FONT_FAMILY,"font-size":f.TEXT_SIZE_SMALL,"font-weight":f.TICK_MARK_FONT_WEIGHT,"text-anchor":"end","dominant-baseline":"central"});var v=this.g(a).addClass("fm-tick-mark")}else"vertical"===l?(l=this.line(a,d,a,d+w),a=this.text(a,d+f.TICK_MARK_VERTICAL_PADDING+f.TEXT_SIZE_SMALL/2,m).attr({"font-family":f.FONT_FAMILY,
"font-size":f.TEXT_SIZE_SMALL,"font-weight":f.TICK_MARK_FONT_WEIGHT,"text-anchor":"middle"}),v=this.g(a,l).addClass("fm-tick-mark")):console.err("Incorrect orientation specified");return v}})});
define("axis",["snap","tick-mark","number-utils"],function(A,f,u){return A.plugin(function(f,d,a){a.prototype.axis=function(a,d,f,m,v,k,e,q,r){var t=this,h=t.g(),z=this.g();h.startPoints=[];if("horizontal"===k){m.forEach(function(a){"object"!==typeof a&&(a={position:a,label:u.renderValue(a)});var c=f.getPixel(a.position);h.startPoints.push({x:c,y:d});z.append(t.tickMark(c,d,"vertical",v,a.label,10))});if(q)var y=t.line(a,d,f.end,d).addClass("fm-axis");if(e){var c;r&&"last"!==r?"first"===r?c=z.getBBox().y-
17.5:console.error("Invalid axis label position specified."):c=z.getBBox().y+z.getBBox().height+17.5;e=t.text(f.middle,c,e).addClass("fm-x-axis-label");e.attr({"font-family":"'Lato', sans-serif","font-weight":400,"font-size":12,"text-anchor":"middle"});h.append(e)}h.append(y);h.append(z)}else m.forEach(function(c){"object"!==typeof c&&(c={position:c,label:u.renderValue(c)});var d=f.getPixel(c.position);h.startPoints.push({x:a,y:d});c=t.tickMark(a,d,"horizontal",v,c.label);z.append(c)}),h.append(z),
m=h.getBBox(),q&&(y=t.line(a,d,a,f.end).addClass("fm-axis"),h.append(y)),e&&(e=t.text(m.x-6-25,f.middle,e).addClass("fm-y-axis-label"),e.getBBox(),e.attr({"font-family":"'Lato', sans-serif","font-weight":400,"font-size":12,"text-anchor":"middle"}).transform("r -90"),h.append(e));return h}})});
define("grid-lines",["snap"],function(A){return A.plugin(function(f,u,z){z.prototype.gridLines=function(d,a,f,l,w){function m(){f.forEach(function(a,f){var m=k.line(d,a.y,d+l,a.y).addClass("fm-grid-line");e.append(m)})}function v(){f.forEach(function(d,f){var m=k.line(d.x,a,d.x,a+l).addClass("fm-grid-line");e.append(m)})}var k=this,e=this.g();"horizontal"===w?m():"vertical"===w?v():console.err("Invalid orientation specified");return e}})});
define("multitext",["snap"],function(A){return A.plugin(function(f,u,z,d){z.prototype.multitext=function(a,d,f,w,m){"undefined"===typeof w&&(w="1.8em");"undefined"===typeof m&&(m="start");f=f.split("\n");d=this.text(a,d,f);d.attr({textAnchor:m});d.selectAll("tspan:nth-child(n+2)").attr({dy:w,x:a});return d}})});
define("Tooltip",["config","multitext"],function(A,f){function u(d,a,f,l){(this.enableBlackBorder=l)&&!document.getElementById("black-border")&&(d.node.querySelector("defs").innerHTML+='<filter id="black-border" x="-5%" y="-5%" width="110%" height="110%"><feMorphology in="SourceAlpha" operator="dilate" radius="1" result="border"></feMorphology><feGaussianBlur stdDeviation="0.2" in="border" result="blurred-border"></feGaussianBlur><feMerge><feMergeNode in="blurred-border"></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter>');this.tooltipClass=
a;this.colorClass=f;this._paper=d;this._parent=d.node;this._tooltipBG=this._tooltipArrow=null;this._tooltipPlacement="right";this.snapElement=this._tooltipText=null}var z;A.TOOLTIP_MAX_VALUE_LENGTH?z=A.TOOLTIP_MAX_VALUE_LENGTH:20;u.prototype={_positionTooltipArrow:function(d){var a=Snap.matrix(),f=this._tooltipBG.getBBox();switch(d){case "left":a.translate(f.width+4,f.height/2);a.rotate(180);this._tooltipArrow.transform(a.toTransformString());break;case "right":a.translate(-4,f.height/2);this._tooltipArrow.transform(a.toTransformString());
break;case "top":a.translate(f.width/2,f.height+4);a.rotate(-90);this._tooltipArrow.transform(a.toTransformString());break;case "bottom":a.translate(f.width/2,-4),a.rotate(90),this._tooltipArrow.transform(a.toTransformString())}this._tooltipPlacement=d},constructor:u,hide:function(){this.snapElement&&this.snapElement.attr("display","none")},remove:function(){this._tooltipText=this._tooltipBG=this._tooltipArrow=null;this.snapElement.remove();this.snapElement=null},render:function(d,a){var f=this._paper,
l=null;null!==this.snapElement&&this.remove();this.snapElement=f.g();var w,m="[object Array]"===Object.prototype.toString.call(a)?!0:!1;d.length>z&&(d=d.substring(0,z-3)+"...");if(m){w=f.g();w.attr({fill:"#fff"});var v=f.text(10,10,d);v.attr({dy:parseInt("12px",10),"font-family":"'Lato', sans-serif","font-size":"12px"});w.append(v);var k=[],e=[];a.forEach(function(a){var d;d=a.title.length>z?a.title.substring(0,z-3)+"...":a.title;a=a.value.length>z?a.value.substring(0,z-3)+"...":a.value;k.push(d+
":");e.push(a)});var l=f.multitext(10,20+v.getBBox().height+5,k.join("\n"),"1.2em").attr({"font-family":"'Lato', sans-serif","font-size":"12px"}),q=f.multitext(10,20+v.getBBox().height+5,e.join("\n"),"1.2em","end").attr({"font-family":"'Lato', sans-serif","font-size":"12px"});q.transform("t "+(l.getBBox().width+q.getBBox().width+5)+" 0");w.append(l);w.append(q)}else w=f.text(10,10,d+": "+a),w.attr({dy:parseInt("12px",10)});this._tooltipText=w;this.snapElement.append(w);this.snapElement.addClass("fm-tooltip "+
this.tooltipClass);l=w.getBBox();w=f.rect(0,0,l.width+10+10,l.height+10+10,4);w.addClass(this.colorClass);this._tooltipBG=w;m&&v.transform("t "+(l.width/2-v.getBBox().width/2)+" 0");this._tooltipArrow=f=f.polygon([-5,.2,5,-5,5,5]).addClass(this.colorClass);this._positionTooltipArrow(this._tooltipPlacement);this.snapElement.prepend(w);this.snapElement.append(f);this.hide();this.enableBlackBorder&&this.snapElement.attr({filter:"url(#black-border)"});return this.snapElement},setPosition:function(d,a,
f){if(this.snapElement){void 0===f?f=this._tooltipPlacement:f!==this._tooltipPlacement&&this._positionTooltipArrow(f);var l=this._tooltipArrow.getBBox(),w=this._tooltipBG.getBBox();switch(f){case "left":d=d-l.width-w.width;a-=w.height/2;break;case "right":d+=l.width;a-=w.height/2;break;case "bottom":d-=w.width/2;a+=l.height;break;case "top":d-=w.width/2,a=a-w.height-l.height}this.snapElement.transform("T"+d+","+a)}},show:function(){this.snapElement&&(this.snapElement.parent().append(this.snapElement),
this.snapElement.attr("display","block"))}};return u});
define("key",["snap","config","color-utils"],function(A,f,u){A=function(f,d,a,p,l,w,m,v,k,e,q,r){this._paper=f;this.node=f.g();this.x=d;this.y=a;this.width=p;this.columns=l;this.columnWidth=w;this.centerItems=m;this.values=v;this.maxValues=k;this.maxValueLength=e;this.lastItemIsOther=q;this.colorClasses=r};A.prototype={constructor:A,hide:function(){},remove:function(){this.node.parent.remove(this.node);this.node=null},render:function(){var z=this.values.length;if("undefined"===typeof this.maxValues||
this.maxValues>z)this.maxValues=z;"undefined"===typeof this.maxValueLength&&(this.maxValueLength=f.KEY_MAX_TEXT_LENGTH);var d;d=this.colorClasses?this.colorClasses:u.harmonious(z);this.container=this.node.rect(this.x,this.y,this.width,10).addClass("fm-key-container").attr({fill:f.KEY_NEUTRAL_FILL,stroke:f.KEY_NEUTRAL_STROKE});var a=this.node.g().addClass("fm-key-items"),p=0,l=0,w;this.values.every(function(m,k){if(k===this.maxValues)return!1;var e;e=k===this.values.length-1&&this.lastItemIsOther?
"fm-datum-color-overflow":d[k];0!==k&&0===k%this.columns&&(p=0,l+=w.getBBox().height+f.KEY_ROWSPACING);var q=m.length>this.maxValueLength?m.substring(0,this.maxValueLength-1)+"\u2026":m;e=this.node.rect(this.x+p,this.y+f.KEY_PADDING_TOP+l,13,13).addClass(e);w=this.node.text(this.x+f.KEY_TEXT_SPACING+e.getBBox().width+p,this.y+f.KEY_PADDING_TOP+l+parseInt(e.attr("height"),10)-1,q).attr({"font-family":f.FONT_FAMILY,"font-size":f.TEXT_SIZE_SMALL});q=this.node.g(e,w).data("fullText",m[k]);e=this.columnWidth-
f.KEY_TEXT_SPACING;var r=q.getBBox().width;if(!(r<=e))for(var t=q.select("text"),h=t.attr("text"),u=!0,h=h.substr(0,h.length-1)+"\u2026";u;)if(h=h.substr(0,h.length-2)+"\u2026",t.attr("text",h),r=q.getBBox().width,r<=e||5===h.length)u=!1;a.append(q);p+=this.columnWidth;return!0}.bind(this));var z=a.getBBox(),m=this.container.getBBox();this.container.attr({height:z.height+f.KEY_PADDING_TOP+f.KEY_PADDING_BOTTOM});!0===this.centerItems?a.transform("t"+(m.width/2-z.width/2)+" 0"):a.transform("t"+f.KEY_PADDING_LEFT+
" 0");return this.node.g(this.container,a).addClass("fm-key").attr({strokeDasharray:this.width+","+m.height+",0,"+100*this.width+",0"})},show:function(){},setHeight:function(f){this.node.select(".fm-key-container").attr({height:f+"px"})}};return A});
define("columnBarUtils",["Tooltip","key","config"],function(A,f,u){var z=function(){return-1!==navigator.userAgent.indexOf("MSIE")||0<navigator.appVersion.indexOf("Trident/")?!0:!1};return{calculateTotalLabelsLength:function(d,a){var f=0,l=0;d.forEach(function(d){var m=a.group().addClass("fm-axis"),v=a.text(-1E3,-1E3,d);d=a.text(-1E3,-1E3,d).addClass("fm-squeezed-label");m.append(v);m.append(d);var k=v.getBBox().width;k>f&&(f=k);k=d.getBBox().width;k>l&&(l=k);v.remove();d.remove();m.remove()});return{target:f*
d.length,squeezed:l*d.length}},straddlesZero:function(d){return 0>d.min*d.max},getNegativeProportion:function(d,a){return 0<d*a?0:-d/a},createTooltip:function(d,a,f,l,w,m,v){d=new A(d,"fm-column-bar-tooltip","fm-datum-color-overflow");w=d.render(w,m).addClass("with-fill");v.append(w);d.setPosition(a,f,l);return d},drawPullout:function(d,a,f,l,w){d=d.rect(a,f,l,w);d.addClass("fm-pullout");return d},drawKey:function(d,a,p,l,w,m,v,k){var e=m.map(function(a){return a.value}),q=k?!0:!1,r=d.group().addClass("fm-key"),
t=m.length;q&&t++;var h=Math.min(t,Math.ceil(l/w));2>h&&q&&(h=2);w=l/(h+u.KEY_COLUMN_PADDING_RATIO);q&&h--;t=d.line(a,p,a+l,p);p=(new f(d,a,p,l,h,w,!q,e,null,100,!1,v)).render();v=p.node.querySelectorAll(".fm-key-items > g");for(e=0;e<v.length;e++)m[e].colorOverride&&(h=v[e].querySelector("rect"),h.setAttribute("fill",m[e].colorOverride),h.className.baseVal="");r.append(p);r.append(t);if(q){t=p.select(".fm-key-items").getBBox();m=d.group();q=a+l-w;w=t.cy;t=d.line(q,w-u.KEY_DIVIDOR_HEIGHT/2,q,w+u.KEY_DIVIDOR_HEIGHT/
2).addClass("fm-key-dividor");m.append(t);q+=u.KEY_SQUARE_LENGTH;t=d.rect(q,w-u.KEY_SQUARE_LENGTH/2,u.KEY_SQUARE_LENGTH,u.KEY_SQUARE_LENGTH).addClass("fm-pullout-key");m.append(t);q+=u.KEY_SQUARE_LENGTH+u.KEY_TEXT_SPACING;d=d.text(q,w,k).addClass("fm-pullout-title");for(z()&&d.attr({dy:"0.5em"});d.getBBox().x2>a+l&&!(k.length<=u.KEY_MIN_PULLOUT_TITLE_LENGTH);)k=k.substring(0,k.length-1),d.node.textContent=k+"\u2026";m.append(d);r.append(m)}return r},isIE:z}});
define("column","snap config scale-utils number-utils axis columnBarUtils".split(" "),function(A,f,u,z,d,a){function p(d,f,m,p,k,e,q){var r=null;f.hover(function(){null===r&&(r=a.createTooltip(d,f.getBBox().cx,m,p,k,e,q));r.show()},function(){r.hide()})}return{drawYRangeAxis:function(a,d,m,p,k,e,q,r){k=k.map(function(a){var c=z.renderValue(Math.abs(a));return{position:a,label:(0>a?"-":"")+e+c+q}});r=a.axis(d,p.start,p,k,m,"vertical",r,!1,"first").addClass("fm-axis");r.transform("translate("+r.getBBox().width+
",0)");var t=a.group(),h=r.getBBox().x2+f.LABEL_AXIS_PADDING,u=d+m;k.forEach(function(d){var c=p.getPixel(d.position),c=a.line(h,c,u,c);0===d.position?c.addClass("fm-major-grid-line"):c.addClass("fm-minor-grid-line");t.append(c)});return r},drawXLabelAxis:function(d,p,m,v,k,e,q,r){var t=d.group().addClass("fm-axis"),h=p+f.LABEL_AXIS_PADDING+q+e/2;k.forEach(function(k){var p=d.text(h,k.invertPosition?m-f.TICK_MARK_VERTICAL_PADDING:m+f.TICK_MARK_VERTICAL_PADDING,k.text);r&&p.addClass("fm-squeezed-label");
k.invertPosition?p.addClass("fm-inverted-axis-label"):p.addClass("fm-axis-label");k.pulledOut&&p.addClass("fm-pulled-out-label");a.isIE()&&p.attr({dy:"0.5em"});t.append(p);h+=2*q+e});return t},drawColumns:function(d,w,m,v,k,e,q,r,t,h){var u=q.getPixel(0),y=d.group(),c=d.group(),x=d.group(),z=w+f.LABEL_AXIS_PADDING;m.rows.forEach(function(f){if(f.pullout){var b=a.drawPullout(d,z,q.end,2*v+k*m.series.length+e*(m.series.length-1),q.start-q.end);y.append(b)}z+=v;m.series.forEach(function(a,b){0!==b&&
(z+=e);if(f.values[b]){var v="top",w=q.getPixel(f.values[b].value),y=w,A=u-w;0>A&&(A*=-1,y=u,v="bottom");y=d.rect(z,y,k,A).addClass("fm-column-bar-datum");1<m.series.length?a.hasOwnProperty("colorOverride")?y.attr({fill:a.colorOverride}):y.addClass(r[b]):f.hasOwnProperty("colorOverride")?y.attr({fill:f.colorOverride}):y.addClass(r[b]);f.tintClass&&y.addClass(f.tintClass);A=f.values[b].value;A=(0>A?"-":"")+t+Math.abs(A)+h;p(d,y,w,v,a.title,A,x);c.append(y)}z+=k});z+=v});c.append(x);return c}}});
define("bar","snap config scale-utils number-utils axis columnBarUtils".split(" "),function(A,f,u,z,d,a){function p(d,f,m,p,k,e,q){var r=null;f.hover(function(){if(null===r){var t=f.getBBox();r=a.createTooltip(d,m,t.cy,p,k,e,q);var h=d.node.getBoundingClientRect(),u=r.snapElement.getBBox();if(0===u.x2||0===u.width)r.show(),u=r.snapElement.getBBox(),r.hide();if(u.x2>h.width||0>u.x)r=t.cy>h.height/2?a.createTooltip(d,t.cx,t.y,"top",k,e,q):a.createTooltip(d,t.cx,t.y2,"bottom",k,e,q)}r.show()},function(){r.hide()})}
return{drawXRangeAxis:function(a,d,f,p,k,e,q,r){k=k.map(function(a){var d=z.renderValue(Math.abs(a));return{position:a,label:(0>a?"-":"")+e+d+q}});r=a.axis(p.start,d,p,k,0,"horizontal",r,!1,"last").addClass("fm-axis");var u=a.group(),h=d-f;k.forEach(function(e){var f=p.getPixel(e.position),f=a.line(f,d,f,h);0===e.position?f.addClass("fm-major-grid-line"):f.addClass("fm-minor-grid-line");u.append(f)});return r},drawYLabelAxis:function(d,p,m,u,k,e,q,r,t){var h=d.group().addClass("fm-axis").addClass("fm-y-axis"),
z=m-f.LABEL_AXIS_PADDING-q-e/2;k.forEach(function(f){var c=d.text(p,z,f.text).addClass("fm-axis-label").attr("text-anchor","end");h.append(c);f.pulledOut&&c.addClass("fm-pulled-out-label");a.isIE()&&c.attr({dy:"0.5em"});z-=2*q+e});h.transform("translate("+h.getBBox().width+",0)");return h},drawBars:function(d,u,m,v,k,e,q,r,t,h){var z=q.getPixel(0),y=d.group(),c=d.group(),x=d.group(),A=u-f.LABEL_AXIS_PADDING;m.rows.forEach(function(f){if(f.pullout){var b=2*v+k*m.series.length+e*(m.series.length-1),
b=a.drawPullout(d,q.start,A-b,q.end-q.start,b);y.append(b)}A-=v;m.series.forEach(function(a,b){0<b&&(A-=e);A-=k;if(f.values[b]){var u="right",v=q.getPixel(f.values[b].value),w=z,y=v-z;0>y&&(y*=-1,w-=y,u="left");w=d.rect(w,A,y,k).addClass("fm-column-bar-datum");1<m.series.length?a.hasOwnProperty("colorOverride")?w.attr({fill:a.colorOverride}):w.addClass(r[b]):f.hasOwnProperty("colorOverride")?w.attr({fill:f.colorOverride}):w.addClass(r[b]);f.tintClass&&w.addClass(f.tintClass);y=f.values[b].value;y=
(0>y?"-":"")+t+Math.abs(y)+h;p(d,w,v,u,a.title,y,x);c.append(w)}});A-=v});c.append(x);return c}}});
define("column-bar","snap config scale-utils color-utils number-utils axis grid-lines Tooltip key column bar columnBarUtils".split(" "),function(A,f,u,z,d,a,p,l,w,m,v,k){return A.plugin(function(a,d,l){function p(a,d,e,h,b,l,q,r,v){var w=r.valuePrefix?r.valuePrefix:"",t=r.valueSuffix?r.valueSuffix:"",z=u.getTickMarks(l.range.min,l.range.max,f.TARGET_MARKER_COUNT,!1),y=z[0],A=z[z.length-1];e=new u.Scale(e+b-f.BOTTOM_PADDING,-(e+b-f.TOP_PADDING-f.BOTTOM_PADDING),y,A);d=m.drawYRangeAxis(a,d+f.LEFT_PADDING,
h-d-f.LEFT_PADDING-f.RIGHT_PADDING,e,z,w,t,r.axisLabel);l.labels.map(function(a,b){return{position:b,label:a}});d=d.getBBox().x2+f.LABEL_AXIS_PADDING;h=h-d-f.RIGHT_PADDING;b=f.GROUP_WIDTH_TO_PADDING_RATIO*f.GROUP_PADDING_TO_BAR_PADDING_RATIO+1-l.series.length;z=(h-2*f.LABEL_AXIS_PADDING)*b/(l.rows.length*l.series.length*f.GROUP_PADDING_TO_BAR_PADDING_RATIO*(f.GROUP_WIDTH_TO_PADDING_RATIO+2));b=z*l.series.length*f.GROUP_PADDING_TO_BAR_PADDING_RATIO/b;var C=b/f.GROUP_PADDING_TO_BAR_PADDING_RATIO,E=
l.series.length*z+(l.series.length-1)*C,H=!1,M=l.labels.map(function(a,b){var c=!1,d=!0;l.rows[b].values.forEach(function(a){0>a.value?c=!0:d=!1});c&&!d&&(H=!0);return{text:a,invertPosition:c,pulledOut:l.rows[b].pullout}});H||k.getNegativeProportion(y,A)<f.NEGATIVE_PROPORTION_STICKY_LABELS_LIMIT?(M.forEach(function(a){a.invertPosition=!1}),y=e.start):y=e.getPixel(0);v=m.drawXLabelAxis(a,d,y,h,M,E,b,v);m.drawColumns(a,d,l,b,z,C,e,q,w,t);if(1<l.series.length||r.pulloutTitle)w=l.series.map(function(a,
b){var c={value:a.title};l.series[b].hasOwnProperty("colorOverride")&&(c.colorOverride=l.series[b].colorOverride);return c}),t=Math.max(v.getBBox().y2,e.start),q=k.drawKey(a,d,t+f.KEY_MARGIN_TOP,h,f.TARGET_KEY_COLUMN_WIDTH,w,q,r.pulloutTitle).getBBox().y2,r=a.node.getBoundingClientRect(),a.node.setAttribute("viewBox","0 0 "+(r.right-r.left)+" "+q),a.node.style.height=q+"px"}function h(a){a.rows.reverse();a.labels.reverse();a.series.reverse();a.rows.forEach(function(a){a.values.reverse()})}function w(a,
d,e,l,b,m,p,q){h(m);b=q.valuePrefix?q.valuePrefix:"";var r=q.valueSuffix?q.valueSuffix:"",t=f.BAR_GROUP_TARGET_THICKNESS/m.series.length,t=Math.max(t,f.BAR_MINIMUM_THICKNESS),z=f.BAR_SPACING,y=m.series.length*t+(m.series.length-1)*z,A=y/f.BAR_GROUP_WIDTH_TO_PADDING_RATIO,C=m.rows.length*(y+2*A)+2*f.LABEL_AXIS_PADDING,I=m.labels.map(function(a,b){return{text:a,pulledOut:m.rows[b].pullout}}),y=v.drawYLabelAxis(a,d+f.LEFT_PADDING,e+f.TOP_PADDING+C,C,I,y,A,b,r),I=u.getTickMarks(m.range.min,m.range.max,
f.TARGET_MARKER_COUNT,!1),y=y.getBBox().x2+f.TICK_MARK_HORIZONTAL_PADDING,y=new u.Scale(y,l-f.RIGHT_PADDING-y,I[0],I[I.length-1]),I=v.drawXRangeAxis(a,e+f.TOP_PADDING+C,C,y,I,b,r,q.axisLabel);v.drawBars(a,e+f.TOP_PADDING+C,m,A,t,z,y,p,b,r);e=I.getBBox().y2+f.BOTTOM_PADDING;if(1<m.series.length||q.pulloutTitle)b=m.series.map(function(a,b){var c={value:a.title};m.series[b].hasOwnProperty("colorOverride")&&(c.colorOverride=m.series[b].colorOverride);return c}),r=y.start,t=y.end-y.start,t<f.KEY_MIN_WIDTH_FOR_AXIS_ALIGNMENT&&
(t=l,r=d),e=k.drawKey(a,r,e+f.KEY_MARGIN_TOP,t,f.TARGET_KEY_COLUMN_WIDTH,b,p,q.pulloutTitle).getBBox().y2;d=a.node.getBoundingClientRect();a.node.setAttribute("viewBox","0 0 "+(d.right-d.left)+" "+e);a.node.style.height=e+"px"}function y(a){var d=0;a.rows.concat().sort(function(a,c){return c.values[0].value-a.values[0].value}).forEach(function(a,c,b){b=b[c-1];0!==c&&a.values[0].value/b.values[0].value<f.SHARED_TINT_MINIMUM_RATIO&&9>d&&d++;a.tintClass="tint-"+d})}l.prototype.chart=function(a,d,e,h,
b,m){k.straddlesZero(b.range)||(b.range.min<=b.range.max?b.range.min=0:b.range.max=0);var l;l=z.lowContrast(b.series.length,3<b.series.length||1===b.series.length?5:4);1===b.series.length&&y(b);var q=k.calculateTotalLabelsLength(b.labels,this),r=e/q.squeezed,q=e/q.target>f.MAX_LABEL_DENSITY,r=!q&&r>f.MAX_LABEL_DENSITY;q||r?p(this,a,d,e,h,b,l,m,r):w(this,a,d,e,h,b,l,m)}})});
define("render",["snap","classList","config","data-processor","column-bar"],function(A,f,u,z,d){function a(a){return a.split("-").map(function(a,d){return 0===d?a:a.charAt(0).toUpperCase()+a.substr(1)}).join("")}function p(a,d){var f=document.createElement("div");f.className="fm-powered-by-factmint";f.innerHTML='Powered by <a style="color: #527a92" href="http://factmint.com/charts">Factmint</a>';f.style.fontSize="8px";f.style.lineHeight="12px";f.style.width=d;f.style.textAlign="center";f.style.fontFamily=
"Lato, sans-serif";a.parentNode.insertBefore(f,a.nextSibling)}var l=/([0-9]+)(px|%|rem|em|ex|ch|vw|vh|vmin|vmax|mm|cm|in|pt|pc)/;return function(d){var f=d.getAttribute("data-fm-config"),v=f&&window[f]?window[f]:{};[].filter.call(d.attributes,function(a){return"data-fm-config"===a.name?!1:/^data-fm-/.test(a.name)}).forEach(function(b){var c=b.name.replace(/^data-fm-/,""),c=a(c);v[c]=b.value});v.width||(v.width="100%");v.height||(v.height="450px");if(null===v.height.match(l)||null===v.width.match(l))throw"A valid CSS length must be used for the chart dimensions (such as 50% or 400px)";
var k,e,q;v.width.replace(l,function(a,b,c){k=parseFloat(b);e=k*(u.SPILLOVER_LEFT+u.SPILLOVER_RIGHT);q=c});var r,t,h;v.height.replace(l,function(a,b,c){r=parseFloat(b);t=r*(u.SPILLOVER_TOP+u.SPILLOVER_BOTTOM);h=c});f=document.createElementNS("http://www.w3.org/2000/svg","svg");f.style.opacity=0;f.style.transition="opacity 0.3s ease-in-out";d.id||(d.id=Math.floor(16777216*Math.random()).toString(16));f.setAttribute("aria-describedby",d.id);v.enableSpillover?(f.style.height=r+t+h,f.style.width=k+e+
q,f.style.margin="-"+u.SPILLOVER_TOP*r+h+" -"+u.SPILLOVER_RIGHT*k+q+" -"+u.SPILLOVER_BOTTOM*r+h+" -"+u.SPILLOVER_LEFT*k+q):(f.style.height=r+h,f.style.width=k+q);d.parentElement.insertBefore(f,d);var C=A(f),y=z.tableToJSON(d,v),c=f.getBoundingClientRect(),x=c.right-c.left,c=c.bottom-c.top,D=x/(1+u.SPILLOVER_LEFT+u.SPILLOVER_RIGHT),F=c/(1+u.SPILLOVER_TOP+u.SPILLOVER_BOTTOM),b=D*u.SPILLOVER_LEFT,B=F*u.SPILLOVER_TOP;f.setAttribute("viewBox","0 0 "+x+" "+c);C.chart(b,B,D,F,y,v);d.classList.add("fm-hidden");
f.style.opacity=1;p(f,k+q)}});
require.config({paths:{text:"../../bower_components/requirejs-text/text",classList:"../../bower_components/classlist/classList",snap:"../../bower_components/Snap.svg/dist/snap.svg",axis:"../../bower_components/axis/dist/axis","grid-lines":"../../bower_components/grid-lines/dist/grid-lines","scale-utils":"../../bower_components/scale-utilities/dist/scale-utils","number-utils":"../../bower_components/number-utils/dist/number-utils","color-utils":"../../bower_components/color-utils/dist/color","tick-mark":"../../bower_components/tick-mark/dist/tick-mark",
multitext:"../../bower_components/multitext/dist/multitext",key:"../../bower_components/key/dist/key","scatter-key":"../../bower_components/scatter-key/dist/scatter-key",Tooltip:"../../bower_components/Tooltip/dist/Tooltip",moment:"../../bower_components/moment/moment"},shim:{snap:{exports:"Snap"}}});
require(["render"],function(A){var f=document.querySelectorAll("table.fm-column-bar");if(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect){var u=document.createElementNS("http://www.w3.org/2000/svg","svg");u.style.width="500px";document.body.appendChild(u);var z=u.getBoundingClientRect();u.parentNode.removeChild(u);if(500===z.width)for(u=0;u<f.length;u++){if(window.factmint&&window.factmint.previewVisualizations||!f[u].hasAttribute("data-fm-rendered")){f[u].setAttribute("data-fm-rendered",
"true");try{A(f[u])}catch(d){console.log("ERROR: chart rendering failed"),d instanceof Error?console.log(d.stack):console.log(d)}}}else console.log("Your browser does not correctly support getBoundingClientRect() for SVG elements: visualizations disabled")}else console.log("SVG not supported: visualizations disabled")});define("main",function(){});
