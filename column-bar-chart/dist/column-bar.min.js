/* Copyright Factmint Ltd, not for distribution without consent; version 1.5.0; includes SnapSVG, https://github.com/adobe-webplatform/Snap.svg/blob/master/LICENSE */
/*
 almond 0.3.0 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/almond for details
*/
'use strict';var requirejs,require,define;
(function(x){function f(b,a){var h,k,c,C,e,d,q,f,p,D=a&&a.split("/"),l=B.map,v=l&&l["*"]||{};if(b&&"."===b.charAt(0))if(a){D=D.slice(0,D.length-1);b=b.split("/");e=b.length-1;B.nodeIdCompat&&y.test(b[e])&&(b[e]=b[e].replace(y,""));b=D.concat(b);for(e=0;e<b.length;e+=1)if(h=b[e],"."===h)b.splice(e,1),--e;else if(".."===h)if(1!==e||".."!==b[2]&&".."!==b[0])0<e&&(b.splice(e-1,2),e-=2);else break;b=b.join("/")}else 0===b.indexOf("./")&&(b=b.substring(2));if((D||v)&&l){h=b.split("/");for(e=h.length;0<
e;--e){k=h.slice(0,e).join("/");if(D)for(p=D.length;0<p;--p)if(c=l[D.slice(0,p).join("/")])if(c=c[k]){C=c;d=e;break}if(C)break;!q&&v&&v[k]&&(q=v[k],f=e)}!C&&q&&(C=q,d=f);C&&(h.splice(0,d,C),b=h.join("/"))}return b}function u(b,h){return function(){var a=D.call(arguments,0);"string"!==typeof a[0]&&1===a.length&&a.push(null);return l.apply(x,a.concat([b,h]))}}function A(b){return function(a){return f(a,b)}}function d(b){return function(a){e[b]=a}}function a(b){if(h.call(q,b)){var a=q[b];delete q[b];
p[b]=!0;r.apply(x,a)}if(!h.call(e,b)&&!h.call(p,b))throw Error("No "+b);return e[b]}function t(b){var a,h=b?b.indexOf("!"):-1;-1<h&&(a=b.substring(0,h),b=b.substring(h+1,b.length));return[a,b]}function m(b){return function(){return B&&B.config&&B.config[b]||{}}}var r,l,v,k,e={},q={},B={},p={},h=Object.prototype.hasOwnProperty,D=[].slice,y=/\.js$/;v=function(b,h){var e,k=t(b),c=k[0];b=k[1];c&&(c=f(c,h),e=a(c));c?b=e&&e.normalize?e.normalize(b,A(h)):f(b,h):(b=f(b,h),k=t(b),c=k[0],b=k[1],c&&(e=a(c)));
return{f:c?c+"!"+b:b,n:b,pr:c,p:e}};k={require:function(b){return u(b)},exports:function(b){var a=e[b];return"undefined"!==typeof a?a:e[b]={}},module:function(b){return{id:b,uri:"",exports:e[b],config:m(b)}}};r=function(b,w,f,B){var c,C,D,l,y=[];C=typeof f;var m;B=B||b;if("undefined"===C||"function"===C){w=!w.length&&f.length?["require","exports","module"]:w;for(l=0;l<w.length;l+=1)if(D=v(w[l],B),C=D.f,"require"===C)y[l]=k.require(b);else if("exports"===C)y[l]=k.exports(b),m=!0;else if("module"===
C)c=y[l]=k.module(b);else if(h.call(e,C)||h.call(q,C)||h.call(p,C))y[l]=a(C);else if(D.p)D.p.load(D.n,u(B,!0),d(C),{}),y[l]=e[C];else throw Error(b+" missing "+C);w=f?f.apply(e[b],y):void 0;b&&(c&&c.exports!==x&&c.exports!==e[b]?e[b]=c.exports:w===x&&m||(e[b]=w))}else b&&(e[b]=f)};requirejs=require=l=function(b,h,e,d,c){if("string"===typeof b)return k[b]?k[b](h):a(v(b,h).f);if(!b.splice){B=b;B.deps&&l(B.deps,B.callback);if(!h)return;h.splice?(b=h,h=e,e=null):b=x}h=h||function(){};"function"===typeof e&&
(e=d,d=c);d?r(x,b,h,e):setTimeout(function(){r(x,b,h,e)},4);return l};l.config=function(b){return l(b)};requirejs._defined=e;define=function(b,a,k){a.splice||(k=a,a=[]);h.call(e,b)||h.call(q,b)||(q[b]=[b,a,k])};define.amd={jQuery:!0}})();define("almond",function(){});
(function(x){var f=/[\.\/]/,u=/\s*,\s*/,A=function(a,k){return a-k},d,a,t={n:{}},m=function(){for(var a=0,k=this.length;a<k;a++)if("undefined"!=typeof this[a])return this[a]},r=function(){for(var a=this.length;--a;)if("undefined"!=typeof this[a])return this[a]},l=function(f,k){f=String(f);var e=a,q=Array.prototype.slice.call(arguments,2),B=l.listeners(f),p=0,h,D=[],y={},b=[],w=d;b.firstDefined=m;b.lastDefined=r;d=f;for(var z=a=0,t=B.length;z<t;z++)"zIndex"in B[z]&&(D.push(B[z].zIndex),0>B[z].zIndex&&
(y[B[z].zIndex]=B[z]));for(D.sort(A);0>D[p];)if(h=y[D[p++]],b.push(h.apply(k,q)),a)return a=e,b;for(z=0;z<t;z++)if(h=B[z],"zIndex"in h)if(h.zIndex==D[p]){b.push(h.apply(k,q));if(a)break;do if(p++,(h=y[D[p]])&&b.push(h.apply(k,q)),a)break;while(h)}else y[h.zIndex]=h;else if(b.push(h.apply(k,q)),a)break;a=e;d=w;return b};l._events=t;l.listeners=function(a){a=a.split(f);var k=t,e,d,l,p,h,D,y,b=[k],w=[];l=0;for(p=a.length;l<p;l++){y=[];h=0;for(D=b.length;h<D;h++)for(k=b[h].n,e=[k[a[l]],k["*"]],d=2;d--;)if(k=
e[d])y.push(k),w=w.concat(k.f||[]);b=y}return w};l.on=function(a,k){a=String(a);if("function"!=typeof k)return function(){};for(var e=a.split(u),d=0,l=e.length;d<l;d++)(function(a){a=a.split(f);for(var h=t,e,d=0,b=a.length;d<b;d++)h=h.n,h=h.hasOwnProperty(a[d])&&h[a[d]]||(h[a[d]]={n:{}});h.f=h.f||[];d=0;for(b=h.f.length;d<b;d++)if(h.f[d]==k){e=!0;break}!e&&h.f.push(k)})(e[d]);return function(a){+a==+a&&(k.zIndex=+a)}};l.f=function(a){var d=[].slice.call(arguments,1);return function(){l.apply(null,
[a,null].concat(d).concat([].slice.call(arguments,0)))}};l.stop=function(){a=1};l.nt=function(a){return a?(new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)")).test(d):d};l.nts=function(){return d.split(f)};l.off=l.unbind=function(a,d){if(a){var e=a.split(u);if(1<e.length)for(var q=0,B=e.length;q<B;q++)l.off(e[q],d);else{for(var e=a.split(f),p,h,D,y,b=[t],q=0,B=e.length;q<B;q++)for(y=0;y<b.length;y+=D.length-2){D=[y,1];p=b[y].n;if("*"!=e[q])p[e[q]]&&D.push(p[e[q]]);else for(h in p)p.hasOwnProperty(h)&&
D.push(p[h]);b.splice.apply(b,D)}q=0;for(B=b.length;q<B;q++)for(p=b[q];p.n;){if(d){if(p.f){y=0;for(e=p.f.length;y<e;y++)if(p.f[y]==d){p.f.splice(y,1);break}!p.f.length&&delete p.f}for(h in p.n)if(p.n.hasOwnProperty(h)&&p.n[h].f){D=p.n[h].f;y=0;for(e=D.length;y<e;y++)if(D[y]==d){D.splice(y,1);break}!D.length&&delete p.n[h].f}}else for(h in delete p.f,p.n)p.n.hasOwnProperty(h)&&p.n[h].f&&delete p.n[h].f;p=p.n}}}else l._events=t={n:{}}};l.once=function(a,d){var e=function(){l.unbind(a,e);return d.apply(this,
arguments)};return l.on(a,e)};l.version="0.4.2";l.toString=function(){return"You are running Eve 0.4.2"};"undefined"!=typeof module&&module.exports?module.exports=l:"function"===typeof define&&define.amd?define("eve",[],function(){return l}):x.eve=l})(this);
(function(x,f){if("function"==typeof define&&define.amd)define("snap",["eve"],function(u){return f(x,u)});else if("undefined"!=typeof exports){var u=require("eve");module.exports=f(x,u)}else f(x,x.eve)})(window||this,function(x,f){var u=function(d){var a={},f=x.requestAnimationFrame||x.webkitRequestAnimationFrame||x.mozRequestAnimationFrame||x.oRequestAnimationFrame||x.msRequestAnimationFrame||function(b){setTimeout(b,16)},m=Array.isArray||function(b){return b instanceof Array||"[object Array]"==
Object.prototype.toString.call(b)},r=0,l="M"+(+new Date).toString(36),v=function(b){if(null==b)return this.s;var a=this.s-b;this.b+=this.dur*a;this.B+=this.dur*a;this.s=b},k=function(b){if(null==b)return this.spd;this.spd=b},e=function(b){if(null==b)return this.dur;this.s=this.s*b/this.dur;this.dur=b},q=function(){delete a[this.id];this.update();d("mina.stop."+this.id,this)},B=function(){this.pdif||(delete a[this.id],this.update(),this.pdif=this.get()-this.b)},p=function(){this.pdif&&(this.b=this.get()-
this.pdif,delete this.pdif,a[this.id]=this)},h=function(){var b;if(m(this.start)){b=[];for(var a=0,h=this.start.length;a<h;a++)b[a]=+this.start[a]+(this.end[a]-this.start[a])*this.easing(this.s)}else b=+this.start+(this.end-this.start)*this.easing(this.s);this.set(b)},D=function(){var b=0,h;for(h in a)if(a.hasOwnProperty(h)){var e=a[h],k=e.get();b++;e.s=(k-e.b)/(e.dur/e.spd);1<=e.s&&(delete a[h],e.s=1,b--,function(c){setTimeout(function(){d("mina.finish."+c.id,c)})}(e));e.update()}b&&f(D)},y=function(b,
d,z,m,c,C,G){b={id:l+(r++).toString(36),start:b,end:d,b:z,s:0,dur:m-z,spd:1,get:c,set:C,easing:G||y.linear,status:v,speed:k,duration:e,stop:q,pause:B,resume:p,update:h};a[b.id]=b;d=0;for(var V in a)if(a.hasOwnProperty(V)&&(d++,2==d))break;1==d&&f(D);return b};y.time=Date.now||function(){return+new Date};y.getById=function(b){return a[b]||null};y.linear=function(b){return b};y.easeout=function(b){return Math.pow(b,1.7)};y.easein=function(b){return Math.pow(b,.48)};y.easeinout=function(b){if(1==b)return 1;
if(0==b)return 0;var a=.48-b/1.04,h=Math.sqrt(.1734+a*a);b=h-a;b=Math.pow(Math.abs(b),1/3)*(0>b?-1:1);a=-h-a;a=Math.pow(Math.abs(a),1/3)*(0>a?-1:1);b=b+a+.5;return 3*(1-b)*b*b+b*b*b};y.backin=function(b){return 1==b?1:b*b*(2.70158*b-1.70158)};y.backout=function(b){if(0==b)return 0;--b;return b*b*(2.70158*b+1.70158)+1};y.elastic=function(b){return b==!!b?b:Math.pow(2,-10*b)*Math.sin(2*(b-.075)*Math.PI/.3)+1};y.bounce=function(b){b<1/2.75?b*=7.5625*b:b<2/2.75?(b-=1.5/2.75,b=7.5625*b*b+.75):b<2.5/2.75?
(b-=2.25/2.75,b=7.5625*b*b+.9375):(b-=2.625/2.75,b=7.5625*b*b+.984375);return b};return x.mina=y}("undefined"==typeof f?function(){}:f),A=function(d){function a(n,c){if(n){if(n.nodeType)return y(n);if(m(n,"array")&&a.set)return a.set.apply(a,n);if(n instanceof B)return n;if(null==c)return n=w.doc.querySelector(String(n)),y(n)}return new D(null==n?"100%":n,null==c?"100%":c)}function t(n,c){if(c){"#text"==n&&(n=w.doc.createTextNode(c.text||c["#text"]||""));"#comment"==n&&(n=w.doc.createComment(c.text||
c["#text"]||""));"string"==typeof n&&(n=t(n));if("string"==typeof c)return 1==n.nodeType?"xlink:"==c.substring(0,6)?n.getAttributeNS(Q,c.substring(6)):"xml:"==c.substring(0,4)?n.getAttributeNS(O,c.substring(4)):n.getAttribute(c):"text"==c?n.nodeValue:null;if(1==n.nodeType)for(var b in c){if(c[z](b)){var a=F(c[b]);a?"xlink:"==b.substring(0,6)?n.setAttributeNS(Q,b.substring(6),a):"xml:"==b.substring(0,4)?n.setAttributeNS(O,b.substring(4),a):n.setAttribute(b,a):n.removeAttribute(b)}}else"text"in c&&
(n.nodeValue=c.text)}else n=w.doc.createElementNS(O,n);return n}function m(n,c){c=F.prototype.toLowerCase.call(c);return"finite"==c?isFinite(n):"array"==c&&(n instanceof Array||Array.isArray&&Array.isArray(n))?!0:"null"==c&&null===n||c==typeof n&&null!==n||"object"==c&&n===Object(n)||x.call(n).slice(8,-1).toLowerCase()==c}function r(n){if("function"==typeof n||Object(n)!==n)return n;var c=new n.constructor,b;for(b in n)n[z](b)&&(c[b]=r(n[b]));return c}function l(n,c,b){function a(){var h=Array.prototype.slice.call(arguments,
0),e=h.join("\u2400"),d=a.cache=a.cache||{},k=a.count=a.count||[];if(d[z](e)){a:for(var h=k,k=e,C=0,q=h.length;C<q;C++)if(h[C]===k){h.push(h.splice(C,1)[0]);break a}return b?b(d[e]):d[e]}1E3<=k.length&&delete d[k.shift()];k.push(e);d[e]=n.apply(c,h);return b?b(d[e]):d[e]}return a}function v(n,c,b,a,h,e){return null==h?(n-=b,c-=a,n||c?(180*G.atan2(-c,-n)/A+540)%360:0):v(n,c,h,e)-v(b,a,h,e)}function k(n){return n%360*A/180}function e(n){return n.node.ownerSVGElement&&y(n.node.ownerSVGElement)||a.select("svg")}
function q(n){m(n,"array")||(n=Array.prototype.slice.call(arguments,0));for(var c=0,b=0,a=this.node;this[c];)delete this[c++];for(c=0;c<n.length;c++)"set"==n[c].type?n[c].forEach(function(n){a.appendChild(n.node)}):a.appendChild(n[c].node);for(var h=a.childNodes,c=0;c<h.length;c++)this[b++]=y(h[c]);return this}function B(n){if(n.snap in L)return L[n.snap];var c;try{c=n.ownerSVGElement}catch(b){}this.node=n;c&&(this.paper=new D(c));this.type=n.tagName||n.nodeName;c=this.id=S(this);this.anims={};this._=
{transform:[]};n.snap=c;L[c]=this;"g"==this.type&&(this.add=q);if(this.type in{g:1,mask:1,pattern:1,symbol:1})for(var a in D.prototype)D.prototype[z](a)&&(this[a]=D.prototype[a])}function p(n){this.node=n}function h(n,c){var b=t(n);c.appendChild(b);return y(b)}function D(n,c){var b,a,e,d=D.prototype;if(n&&"svg"==n.tagName){if(n.snap in L)return L[n.snap];var k=n.ownerDocument;b=new B(n);a=n.getElementsByTagName("desc")[0];e=n.getElementsByTagName("defs")[0];a||(a=t("desc"),a.appendChild(k.createTextNode("Created with Snap")),
b.node.appendChild(a));e||(e=t("defs"),b.node.appendChild(e));b.defs=e;for(var C in d)d[z](C)&&(b[C]=d[C]);b.paper=b.root=b}else b=h("svg",w.doc.body),t(b.node,{height:c,version:1.1,width:n,xmlns:O});return b}function y(n){return!n||n instanceof B||n instanceof p?n:n.tagName&&"svg"==n.tagName.toLowerCase()?new D(n):n.tagName&&"object"==n.tagName.toLowerCase()&&"image/svg+xml"==n.type?new D(n.contentDocument.getElementsByTagName("svg")[0]):new B(n)}function b(n,c){for(var a=0,h=n.length;a<h;a++){var e=
{type:n[a].type,attr:n[a].attr()},d=n[a].children();c.push(e);d.length&&b(d,e.childNodes=[])}}a.version="0.4.0";a.toString=function(){return"Snap v"+this.version};a._={};var w={win:d.window,doc:d.window.document};a._.glob=w;var z="hasOwnProperty",F=String,c=parseFloat,C=parseInt,G=Math,V=G.max,R=G.min,u=G.abs,A=G.PI,x=Object.prototype.toString,N=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i;
a._.separator=/[,\s]+/;var U=/[\s]*,[\s]*/,I={hs:1,rg:1},E=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/ig,H=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/ig,M=/(-?\d*\.?\d*(?:e[\-+]?\\d+)?)[\s]*,?[\s]*/ig,P=0,T="S"+(+new Date).toString(36),S=function(n){return(n&&n.type?n.type:"")+T+(P++).toString(36)},Q="http://www.w3.org/1999/xlink",O="http://www.w3.org/2000/svg",L={};a.url=function(n){return"url('#"+n+"')"};a._.$=t;a._.id=S;a.format=function(){var n=/\{([^\}]+)\}/g,c=
/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,b=function(n,b,a){var h=a;b.replace(c,function(n,c,b,a,e){c=c||a;h&&(c in h&&(h=h[c]),"function"==typeof h&&e&&(h=h()))});return h=(null==h||h==a?n:h)+""};return function(c,a){return F(c).replace(n,function(n,c){return b(n,c,a)})}}();a._.clone=r;a._.cacher=l;a.rad=k;a.deg=function(n){return 180*n/A%360};a.sin=function(n){return G.sin(a.rad(n))};a.tan=function(n){return G.tan(a.rad(n))};a.cos=function(n){return G.cos(a.rad(n))};a.asin=function(n){return a.deg(G.asin(n))};
a.acos=function(n){return a.deg(G.acos(n))};a.atan=function(n){return a.deg(G.atan(n))};a.atan2=function(n){return a.deg(G.atan2(n))};a.angle=v;a.len=function(n,c,b,h){return Math.sqrt(a.len2(n,c,b,h))};a.len2=function(n,c,b,a){return(n-b)*(n-b)+(c-a)*(c-a)};a.closestPoint=function(n,c,b){function a(n){var h=n.x-c;n=n.y-b;return h*h+n*n}n=n.node;for(var h=n.getTotalLength(),e=h/n.pathSegList.numberOfItems*.125,d,k,C=Infinity,q,f=0,K;f<=h;f+=e)(K=a(q=n.getPointAtLength(f)))<C&&(d=q,k=f,C=K);for(e*=
.5;.5<e;){var l,p,w,D,B,z;0<=(w=k-e)&&(B=a(l=n.getPointAtLength(w)))<C?(d=l,k=w,C=B):(D=k+e)<=h&&(z=a(p=n.getPointAtLength(D)))<C?(d=p,k=D,C=z):e*=.5}return d={x:d.x,y:d.y,length:k,distance:Math.sqrt(C)}};a.is=m;a.snapTo=function(n,c,b){b=m(b,"finite")?b:10;if(m(n,"array"))for(var a=n.length;a--;){if(u(n[a]-c)<=b)return n[a]}else{n=+n;a=c%n;if(a<b)return c-a;if(a>n-b)return c-a+n}return c};a.getRGB=l(function(n){if(!n||(n=F(n)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ba};
if("none"==n)return{r:-1,g:-1,b:-1,hex:"none",toString:ba};!I[z](n.toLowerCase().substring(0,2))&&"#"!=n.charAt()&&(n=K(n));if(!n)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ba};var b,h,e,d,k;if(n=n.match(N)){n[2]&&(e=C(n[2].substring(5),16),h=C(n[2].substring(3,5),16),b=C(n[2].substring(1,3),16));n[3]&&(e=C((k=n[3].charAt(3))+k,16),h=C((k=n[3].charAt(2))+k,16),b=C((k=n[3].charAt(1))+k,16));n[4]&&(k=n[4].split(U),b=c(k[0]),"%"==k[0].slice(-1)&&(b*=2.55),h=c(k[1]),"%"==k[1].slice(-1)&&(h*=2.55),
e=c(k[2]),"%"==k[2].slice(-1)&&(e*=2.55),"rgba"==n[1].toLowerCase().slice(0,4)&&(d=c(k[3])),k[3]&&"%"==k[3].slice(-1)&&(d/=100));if(n[5])return k=n[5].split(U),b=c(k[0]),"%"==k[0].slice(-1)&&(b/=100),h=c(k[1]),"%"==k[1].slice(-1)&&(h/=100),e=c(k[2]),"%"==k[2].slice(-1)&&(e/=100),"deg"!=k[0].slice(-3)&&"\u00b0"!=k[0].slice(-1)||(b/=360),"hsba"==n[1].toLowerCase().slice(0,4)&&(d=c(k[3])),k[3]&&"%"==k[3].slice(-1)&&(d/=100),a.hsb2rgb(b,h,e,d);if(n[6])return k=n[6].split(U),b=c(k[0]),"%"==k[0].slice(-1)&&
(b/=100),h=c(k[1]),"%"==k[1].slice(-1)&&(h/=100),e=c(k[2]),"%"==k[2].slice(-1)&&(e/=100),"deg"!=k[0].slice(-3)&&"\u00b0"!=k[0].slice(-1)||(b/=360),"hsla"==n[1].toLowerCase().slice(0,4)&&(d=c(k[3])),k[3]&&"%"==k[3].slice(-1)&&(d/=100),a.hsl2rgb(b,h,e,d);b=R(G.round(b),255);h=R(G.round(h),255);e=R(G.round(e),255);d=R(V(d,0),1);n={r:b,g:h,b:e,toString:ba};n.hex="#"+(16777216|e|h<<8|b<<16).toString(16).slice(1);n.opacity=m(d,"finite")?d:1;return n}return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ba}},
a);a.hsb=l(function(n,c,b){return a.hsb2rgb(n,c,b).hex});a.hsl=l(function(n,c,b){return a.hsl2rgb(n,c,b).hex});a.rgb=l(function(n,c,b,a){if(m(a,"finite")){var h=G.round;return"rgba("+[h(n),h(c),h(b),+a.toFixed(2)]+")"}return"#"+(16777216|b|c<<8|n<<16).toString(16).slice(1)});var K=function(n){var c=w.doc.getElementsByTagName("head")[0]||w.doc.getElementsByTagName("svg")[0];K=l(function(n){if("red"==n.toLowerCase())return"rgb(255, 0, 0)";c.style.color="rgb(255, 0, 0)";c.style.color=n;n=w.doc.defaultView.getComputedStyle(c,
"").getPropertyValue("color");return"rgb(255, 0, 0)"==n?null:n});return K(n)},la=function(){return"hsb("+[this.h,this.s,this.b]+")"},ma=function(){return"hsl("+[this.h,this.s,this.l]+")"},ba=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},ia=function(n,c,b){null==c&&m(n,"object")&&"r"in n&&"g"in n&&"b"in n&&(b=n.b,c=n.g,n=n.r);null==c&&m(n,string)&&(b=a.getRGB(n),n=b.r,c=b.g,b=b.b);if(1<n||1<c||1<b)n/=255,c/=255,b/=255;return[n,c,b]},
ja=function(c,b,h,e){c=G.round(255*c);b=G.round(255*b);h=G.round(255*h);c={r:c,g:b,b:h,opacity:m(e,"finite")?e:1,hex:a.rgb(c,b,h),toString:ba};m(e,"finite")&&(c.opacity=e);return c};a.color=function(c){var b;m(c,"object")&&"h"in c&&"s"in c&&"b"in c?(b=a.hsb2rgb(c),c.r=b.r,c.g=b.g,c.b=b.b,c.opacity=1,c.hex=b.hex):m(c,"object")&&"h"in c&&"s"in c&&"l"in c?(b=a.hsl2rgb(c),c.r=b.r,c.g=b.g,c.b=b.b,c.opacity=1,c.hex=b.hex):(m(c,"string")&&(c=a.getRGB(c)),m(c,"object")&&"r"in c&&"g"in c&&"b"in c&&!("error"in
c)?(b=a.rgb2hsl(c),c.h=b.h,c.s=b.s,c.l=b.l,b=a.rgb2hsb(c),c.v=b.b):(c={hex:"none"},c.r=c.g=c.b=c.h=c.s=c.v=c.l=-1,c.error=1));c.toString=ba;return c};a.hsb2rgb=function(c,b,a,h){m(c,"object")&&"h"in c&&"s"in c&&"b"in c&&(a=c.b,b=c.s,h=c.o,c=c.h);var e,d,k;c=360*c%360/60;k=a*b;b=k*(1-u(c%2-1));a=e=d=a-k;c=~~c;a+=[k,b,0,0,b,k][c];e+=[b,k,k,b,0,0][c];d+=[0,0,b,k,k,b][c];return ja(a,e,d,h)};a.hsl2rgb=function(c,b,a,h){m(c,"object")&&"h"in c&&"s"in c&&"l"in c&&(a=c.l,b=c.s,c=c.h);if(1<c||1<b||1<a)c/=360,
b/=100,a/=100;var e,d,k;c=360*c%360/60;k=2*b*(.5>a?a:1-a);b=k*(1-u(c%2-1));a=e=d=a-k/2;c=~~c;a+=[k,b,0,0,b,k][c];e+=[b,k,k,b,0,0][c];d+=[0,0,b,k,k,b][c];return ja(a,e,d,h)};a.rgb2hsb=function(c,b,a){a=ia(c,b,a);c=a[0];b=a[1];a=a[2];var h,e;h=V(c,b,a);e=h-R(c,b,a);c=((0==e?null:h==c?(b-a)/e:h==b?(a-c)/e+2:(c-b)/e+4)+360)%6*60/360;return{h:c,s:0==e?0:e/h,b:h,toString:la}};a.rgb2hsl=function(c,b,a){a=ia(c,b,a);c=a[0];b=a[1];a=a[2];var h,e,k;h=V(c,b,a);e=R(c,b,a);k=h-e;c=((0==k?null:h==c?(b-a)/k:h==b?
(a-c)/k+2:(c-b)/k+4)+360)%6*60/360;h=(h+e)/2;return{h:c,s:0==k?0:.5>h?k/(2*h):k/(2-2*h),l:h,toString:ma}};a.parsePathString=function(c){if(!c)return null;var b=a.path(c);if(b.arr)return a.path.clone(b.arr);var h={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},e=[];m(c,"array")&&m(c[0],"array")&&(e=a.path.clone(c));e.length||F(c).replace(E,function(c,b,a){var n=[];c=b.toLowerCase();a.replace(M,function(c,b){b&&n.push(+b)});"m"==c&&2<n.length&&(e.push([b].concat(n.splice(0,2))),c="l",b="m"==b?
"l":"L");"o"==c&&1==n.length&&e.push([b,n[0]]);if("r"==c)e.push([b].concat(n));else for(;n.length>=h[c]&&(e.push([b].concat(n.splice(0,h[c]))),h[c]););});e.toString=a.path.toString;b.arr=a.path.clone(e);return e};var na=a.parseTransformString=function(c){if(!c)return null;var b=[];m(c,"array")&&m(c[0],"array")&&(b=a.path.clone(c));b.length||F(c).replace(H,function(c,a,h){var n=[];a.toLowerCase();h.replace(M,function(c,b){b&&n.push(+b)});b.push([a].concat(n))});b.toString=a.path.toString;return b};
a._.svgTransform2string=function(c){var b=[];c=c.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(c,a,h){h=h.split(/\s*,\s*|\s+/);"rotate"==a&&1==h.length&&h.push(0,0);"scale"==a&&(2<h.length?h=h.slice(0,2):2==h.length&&h.push(0,0),1==h.length&&h.push(h[0],0,0));"skewX"==a?b.push(["m",1,0,G.tan(k(h[0])),1,0,0]):"skewY"==a?b.push(["m",1,G.tan(k(h[0])),0,1,0,0]):b.push([a.charAt(0)].concat(h));return c});return b};a._.rgTransform=/^[a-z][\s]*-?\.?\d/i;a._.transform2matrix=function(c,b){var h=na(c),e=new a.Matrix;
if(h)for(var k=0,d=h.length;k<d;k++){var C=h[k],q=C.length,f=F(C[0]).toLowerCase(),K=C[0]!=f,l=K?e.invert():0,p;"t"==f&&2==q?e.translate(C[1],0):"t"==f&&3==q?K?(q=l.x(0,0),f=l.y(0,0),K=l.x(C[1],C[2]),l=l.y(C[1],C[2]),e.translate(K-q,l-f)):e.translate(C[1],C[2]):"r"==f?2==q?(p=p||b,e.rotate(C[1],p.x+p.width/2,p.y+p.height/2)):4==q&&(K?(K=l.x(C[2],C[3]),l=l.y(C[2],C[3]),e.rotate(C[1],K,l)):e.rotate(C[1],C[2],C[3])):"s"==f?2==q||3==q?(p=p||b,e.scale(C[1],C[q-1],p.x+p.width/2,p.y+p.height/2)):4==q?K?
(K=l.x(C[2],C[3]),l=l.y(C[2],C[3]),e.scale(C[1],C[1],K,l)):e.scale(C[1],C[1],C[2],C[3]):5==q&&(K?(K=l.x(C[3],C[4]),l=l.y(C[3],C[4]),e.scale(C[1],C[2],K,l)):e.scale(C[1],C[2],C[3],C[4])):"m"==f&&7==q&&e.add(C[1],C[2],C[3],C[4],C[5],C[6])}return e};a._unit2px=function(c,b,a){function h(c){if(null==c)return"";if(c==+c)return c;t(f,{width:c});try{return f.getBBox().width}catch(b){return 0}}function k(c){if(null==c)return"";if(c==+c)return c;t(f,{height:c});try{return f.getBBox().height}catch(b){return 0}}
function d(h,e){null==b?q[h]=e(c.attr(h)||0):h==b&&(q=e(null==a?c.attr(h)||0:a))}var C=e(c).node,q={},f=C.querySelector(".svg---mgr");f||(f=t("rect"),t(f,{x:-9E9,y:-9E9,width:10,height:10,"class":"svg---mgr",fill:"none"}),C.appendChild(f));switch(c.type){case "rect":d("rx",h),d("ry",k);case "image":d("width",h),d("height",k);case "text":d("x",h);d("y",k);break;case "circle":d("cx",h);d("cy",k);d("r",h);break;case "ellipse":d("cx",h);d("cy",k);d("rx",h);d("ry",k);break;case "line":d("x1",h);d("x2",
h);d("y1",k);d("y2",k);break;case "marker":d("refX",h);d("markerWidth",h);d("refY",k);d("markerHeight",k);break;case "radialGradient":d("fx",h);d("fy",k);break;case "tspan":d("dx",h);d("dy",k);break;default:d(b,h)}C.removeChild(f);return q};a._.getSomeDefs=function(c){c=c.node.ownerSVGElement&&y(c.node.ownerSVGElement)||c.node.parentNode&&y(c.node.parentNode)||a.select("svg")||a(0,0);var b=c.select("defs"),b=null==b?!1:b.node;b||(b=h("defs",c.node).node);return b};a._.getSomeSVG=e;a.select=function(c){c=
F(c).replace(/([^\\]):/g,"$1\\:");return y(w.doc.querySelector(c))};a.selectAll=function(c){c=w.doc.querySelectorAll(c);for(var b=(a.set||Array)(),h=0;h<c.length;h++)b.push(y(c[h]));return b};setInterval(function(){for(var c in L)if(L[z](c)){var b=L[c],a=b.node;("svg"!=b.type&&!a.ownerSVGElement||"svg"==b.type&&(!a.parentNode||"ownerSVGElement"in a.parentNode&&!a.ownerSVGElement))&&delete L[c]}},1E4);B.prototype.attr=function(c,b){var a=this.node;if(!c){if(1!=a.nodeType)return{text:a.nodeValue};for(var h=
a.attributes,a={},e=0,d=h.length;e<d;e++)a[h[e].nodeName]=h[e].nodeValue;return a}if(m(c,"string"))if(1<arguments.length)a={},a[c]=b,c=a;else return f("snap.util.getattr."+c,this).firstDefined();for(h in c)c[z](h)&&f("snap.util.attr."+h,this,c[h]);return this};a.parse=function(c){var b=w.doc.createDocumentFragment(),a=!0,h=w.doc.createElement("div");c=F(c);c.match(/^\s*<\s*svg(?:\s|>)/)||(c="<svg>"+c+"</svg>",a=!1);h.innerHTML=c;if(c=h.getElementsByTagName("svg")[0])if(a)b=c;else for(;c.firstChild;)b.appendChild(c.firstChild);
return new p(b)};a.fragment=function(){for(var c=Array.prototype.slice.call(arguments,0),b=w.doc.createDocumentFragment(),h=0,e=c.length;h<e;h++){var d=c[h];d.node&&d.node.nodeType&&b.appendChild(d.node);d.nodeType&&b.appendChild(d);"string"==typeof d&&b.appendChild(a.parse(d).node)}return new p(b)};a._.make=h;a._.wrap=y;D.prototype.el=function(c,b){var a=h(c,this.node);b&&a.attr(b);return a};B.prototype.children=function(){for(var c=[],b=this.node.childNodes,h=0,e=b.length;h<e;h++)c[h]=a(b[h]);return c};
B.prototype.toJSON=function(){var c=[];b([this],c);return c[0]};f.on("snap.util.getattr",function(){var c=f.nt(),c=c.substring(c.lastIndexOf(".")+1),b=c.replace(/[A-Z]/g,function(c){return"-"+c.toLowerCase()});return ka[z](b)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(b):t(this.node,c)});var ka={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,
cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,
"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};f.on("snap.util.attr",function(c){var b=f.nt(),a={},b=b.substring(b.lastIndexOf(".")+1);a[b]=c;var h=b.replace(/-(\w)/gi,function(c,b){return b.toUpperCase()}),b=b.replace(/[A-Z]/g,
function(c){return"-"+c.toLowerCase()});ka[z](b)?this.node.style[h]=null==c?"":c:t(this.node,a)});a.ajax=function(c,b,a,h){var e=new XMLHttpRequest,d=S();if(e){if(m(b,"function"))h=a,a=b,b=null;else if(m(b,"object")){var k=[],C;for(C in b)b.hasOwnProperty(C)&&k.push(encodeURIComponent(C)+"="+encodeURIComponent(b[C]));b=k.join("&")}e.open(b?"POST":"GET",c,!0);b&&(e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"));a&&(f.once("snap.ajax."+
d+".0",a),f.once("snap.ajax."+d+".200",a),f.once("snap.ajax."+d+".304",a));e.onreadystatechange=function(){4==e.readyState&&f("snap.ajax."+d+"."+e.status,h,e)};if(4==e.readyState)return e;e.send(b);return e}};a.load=function(c,b,h){a.ajax(c,function(c){c=a.parse(c.responseText);h?b.call(h,c):b(c)})};a.getElementByPoint=function(c,b){var a,h,e=w.doc.elementFromPoint(c,b);if(w.win.opera&&"svg"==e.tagName){a=e;h=a.getBoundingClientRect();a=a.ownerDocument;var d=a.body,k=a.documentElement;a=h.top+(g.win.pageYOffset||
k.scrollTop||d.scrollTop)-(k.clientTop||d.clientTop||0);h=h.left+(g.win.pageXOffset||k.scrollLeft||d.scrollLeft)-(k.clientLeft||d.clientLeft||0);d=e.createSVGRect();d.x=c-h;d.y=b-a;d.width=d.height=1;a=e.getIntersectionList(d,null);a.length&&(e=a[a.length-1])}return e?y(e):null};a.plugin=function(c){c(a,B,D,w,p)};return w.win.Snap=a}(x||this);A.plugin(function(d,a,t,m,r){function l(c,b){if(null==b){var a=!0;b="linearGradient"==c.type||"radialGradient"==c.type?c.node.getAttribute("gradientTransform"):
"pattern"==c.type?c.node.getAttribute("patternTransform"):c.node.getAttribute("transform");if(!b)return new d.Matrix;b=d._.svgTransform2string(b)}else b=d._.rgTransform.test(b)?B(b).replace(/\.{3}|\u2026/g,c._.transform||""):d._.svgTransform2string(b),q(b,"array")&&(b=d.path?d.path.toString.call(b):B(b)),c._.transform=b;var h=d._.transform2matrix(b,c.getBBox(1));if(a)return h;c.matrix=h}function v(c){function b(c,a){var e=h(c.node,a);(e=(e=e&&e.match(k))&&e[2])&&"#"==e.charAt()&&(e=e.substring(1))&&
(q[e]=(q[e]||[]).concat(function(b){var e={};e[a]=URL(b);h(c.node,e)}))}function a(c){var b=h(c.node,"xlink:href");b&&"#"==b.charAt()&&(b=b.substring(1))&&(q[b]=(q[b]||[]).concat(function(b){c.attr("xlink:href","#"+b)}))}var e=c.selectAll("*"),d,k=/^\s*url\(("|'|)(.*)\1\)\s*$/;c=[];for(var q={},f=0,l=e.length;f<l;f++){d=e[f];b(d,"fill");b(d,"stroke");b(d,"filter");b(d,"mask");b(d,"clip-path");a(d);var p=h(d.node,"id");p&&(h(d.node,{id:d.id}),c.push({old:p,id:d.id}))}f=0;for(l=c.length;f<l;f++)if(e=
q[c[f].old])for(d=0,p=e.length;d<p;d++)e[d](c[f].id)}function k(c,b,a){return function(h){h=h.slice(c,b);1==h.length&&(h=h[0]);return a?a(h):h}}function e(c){return function(){var a=c?"<"+this.type:"",h=this.node.attributes,e=this.node.childNodes;if(c)for(var d=0,k=h.length;d<k;d++)a+=" "+h[d].name+'="'+h[d].value.replace(/"/g,'\\"')+'"';if(e.length){c&&(a+=">");d=0;for(k=e.length;d<k;d++)3==e[d].nodeType?a+=e[d].nodeValue:1==e[d].nodeType&&(a+=b(e[d]).toString());c&&(a+="</"+this.type+">")}else c&&
(a+="/>");return a}}a=a.prototype;var q=d.is,B=String,p=d._unit2px,h=d._.$,D=d._.make,y=d._.getSomeDefs,b=d._.wrap;a.getBBox=function(c){if(!d.Matrix||!d.path)return this.node.getBBox();var b=this,a=new d.Matrix;if(b.removed)return d._.box();for(;"use"==b.type;)if(c||(a=a.add(b.transform().localMatrix.translate(b.attr("x")||0,b.attr("y")||0))),b.original)b=b.original;else var h=b.attr("xlink:href"),b=b.original=b.node.ownerDocument.getElementById(h.substring(h.indexOf("#")+1));var h=b._,e=d.path.get[b.type]||
d.path.get.deflt;try{if(c)return h.bboxwt=e?d.path.getBBox(b.realPath=e(b)):d._.box(b.node.getBBox()),d._.box(h.bboxwt);b.realPath=e(b);b.matrix=b.transform().localMatrix;h.bbox=d.path.getBBox(d.path.map(b.realPath,a.add(b.matrix)));return d._.box(h.bbox)}catch(k){return d._.box()}};var w=function(){return this.string};a.transform=function(c){var b=this._;if(null==c){var a=this;c=new d.Matrix(this.node.getCTM());for(var e=l(this),k=[e],f=new d.Matrix,q=e.toTransformString(),b=B(e)==B(this.matrix)?
B(b.transform):q;"svg"!=a.type&&(a=a.parent());)k.push(l(a));for(a=k.length;a--;)f.add(k[a]);return{string:b,globalMatrix:c,totalMatrix:f,localMatrix:e,diffMatrix:c.clone().add(e.invert()),global:c.toTransformString(),total:f.toTransformString(),local:q,toString:w}}c instanceof d.Matrix?(this.matrix=c,this._.transform=c.toTransformString()):l(this,c);this.node&&("linearGradient"==this.type||"radialGradient"==this.type?h(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?h(this.node,{patternTransform:this.matrix}):
h(this.node,{transform:this.matrix}));return this};a.parent=function(){return b(this.node.parentNode)};a.append=a.add=function(c){if(c){if("set"==c.type){var a=this;c.forEach(function(c){a.add(c)});return this}c=b(c);this.node.appendChild(c.node);c.paper=this.paper}return this};a.appendTo=function(c){c&&(c=b(c),c.append(this));return this};a.prepend=function(c){if(c){if("set"==c.type){var a=this,h;c.forEach(function(c){h?h.after(c):a.prepend(c);h=c});return this}c=b(c);var e=c.parent();this.node.insertBefore(c.node,
this.node.firstChild);this.add&&this.add();c.paper=this.paper;this.parent()&&this.parent().add();e&&e.add()}return this};a.prependTo=function(c){c=b(c);c.prepend(this);return this};a.before=function(c){if("set"==c.type){var a=this;c.forEach(function(c){var b=c.parent();a.node.parentNode.insertBefore(c.node,a.node);b&&b.add()});this.parent().add();return this}c=b(c);var h=c.parent();this.node.parentNode.insertBefore(c.node,this.node);this.parent()&&this.parent().add();h&&h.add();c.paper=this.paper;
return this};a.after=function(c){c=b(c);var a=c.parent();this.node.nextSibling?this.node.parentNode.insertBefore(c.node,this.node.nextSibling):this.node.parentNode.appendChild(c.node);this.parent()&&this.parent().add();a&&a.add();c.paper=this.paper;return this};a.insertBefore=function(c){c=b(c);var a=this.parent();c.node.parentNode.insertBefore(this.node,c.node);this.paper=c.paper;a&&a.add();c.parent()&&c.parent().add();return this};a.insertAfter=function(c){c=b(c);var a=this.parent();c.node.parentNode.insertBefore(this.node,
c.node.nextSibling);this.paper=c.paper;a&&a.add();c.parent()&&c.parent().add();return this};a.remove=function(){var c=this.parent();this.node.parentNode&&this.node.parentNode.removeChild(this.node);delete this.paper;this.removed=!0;c&&c.add();return this};a.select=function(c){return b(this.node.querySelector(c))};a.selectAll=function(c){c=this.node.querySelectorAll(c);for(var a=(d.set||Array)(),h=0;h<c.length;h++)a.push(b(c[h]));return a};a.asPX=function(c,b){null==b&&(b=this.attr(c));return+p(this,
c,b)};a.use=function(){var c,b=this.node.id;b||(b=this.id,h(this.node,{id:b}));c="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?D(this.type,this.node.parentNode):D("use",this.node.parentNode);h(c.node,{"xlink:href":"#"+b});c.original=this;return c};a.clone=function(){var c=b(this.node.cloneNode(!0));h(c.node,"id")&&h(c.node,{id:c.id});v(c);c.insertAfter(this);return c};a.toDefs=function(){y(this).appendChild(this.node);return this};a.pattern=a.toPattern=function(c,
b,a,e){var d=D("pattern",y(this));null==c&&(c=this.getBBox());q(c,"object")&&"x"in c&&(b=c.y,a=c.width,e=c.height,c=c.x);h(d.node,{x:c,y:b,width:a,height:e,patternUnits:"userSpaceOnUse",id:d.id,viewBox:[c,b,a,e].join(" ")});d.node.appendChild(this.node);return d};a.marker=function(c,b,a,e,d,k){var f=D("marker",y(this));null==c&&(c=this.getBBox());q(c,"object")&&"x"in c&&(b=c.y,a=c.width,e=c.height,d=c.refX||c.cx,k=c.refY||c.cy,c=c.x);h(f.node,{viewBox:[c,b,a,e].join(" "),markerWidth:a,markerHeight:e,
orient:"auto",refX:d||0,refY:k||0,id:f.id});f.node.appendChild(this.node);return f};var z=function(c,b,a,h){"function"!=typeof a||a.length||(h=a,a=u.linear);this.attr=c;this.dur=b;a&&(this.easing=a);h&&(this.callback=h)};d._.Animation=z;d.animation=function(c,b,a,h){return new z(c,b,a,h)};a.inAnim=function(){var c=[],b;for(b in this.anims)this.anims.hasOwnProperty(b)&&function(b){c.push({anim:new z(b._attrs,b.dur,b.easing,b._callback),mina:b,curStatus:b.status(),status:function(c){return b.status(c)},
stop:function(){b.stop()}})}(this.anims[b]);return c};d.animate=function(c,b,a,h,e,d){"function"!=typeof e||e.length||(d=e,e=u.linear);var k=u.time();c=u(c,b,k,k+h,u.time,a,e);d&&f.once("mina.finish."+c.id,d);return c};a.stop=function(){for(var c=this.inAnim(),b=0,a=c.length;b<a;b++)c[b].stop();return this};a.animate=function(c,b,a,h){"function"!=typeof a||a.length||(h=a,a=u.linear);c instanceof z&&(h=c.callback,a=c.easing,b=c.dur,c=c.attr);var e=[],d=[],l={},p,w,D,y=this,m;for(m in c)if(c.hasOwnProperty(m)){y.equal?
(D=y.equal(m,B(c[m])),p=D.from,w=D.to,D=D.f):(p=+y.attr(m),w=+c[m]);var v=q(p,"array")?p.length:1;l[m]=k(e.length,e.length+v,D);e=e.concat(p);d=d.concat(w)}p=u.time();var r=u(e,d,p,p+b,u.time,function(c){var b={},a;for(a in l)l.hasOwnProperty(a)&&(b[a]=l[a](c));y.attr(b)},a);y.anims[r.id]=r;r._attrs=c;r._callback=h;f("snap.animcreated."+y.id,r);f.once("mina.finish."+r.id,function(){delete y.anims[r.id];h&&h.call(y)});f.once("mina.stop."+r.id,function(){delete y.anims[r.id]});return y};var F={};a.data=
function(c,b){var a=F[this.id]=F[this.id]||{};if(0==arguments.length)return f("snap.data.get."+this.id,this,a,null),a;if(1==arguments.length){if(d.is(c,"object")){for(var h in c)c.hasOwnProperty(h)&&this.data(h,c[h]);return this}f("snap.data.get."+this.id,this,a[c],c);return a[c]}a[c]=b;f("snap.data.set."+this.id,this,b,c);return this};a.removeData=function(c){null==c?F[this.id]={}:F[this.id]&&delete F[this.id][c];return this};a.outerSVG=a.toString=e(1);a.innerSVG=e();a.toDataURL=function(){if(x&&
x.btoa){var c=this.getBBox(),c=d.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+c.x.toFixed(3),y:+c.y.toFixed(3),width:+c.width.toFixed(3),height:+c.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(c)))}};r.prototype.select=a.select;r.prototype.selectAll=a.selectAll});A.plugin(function(d,
a,f,m,r){function l(a,e,d,h,k,f){null==e&&"[object SVGMatrix]"==v.call(a)?(this.a=a.a,this.b=a.b,this.c=a.c,this.d=a.d,this.e=a.e,this.f=a.f):null!=a?(this.a=+a,this.b=+e,this.c=+d,this.d=+h,this.e=+k,this.f=+f):(this.a=1,this.c=this.b=0,this.d=1,this.f=this.e=0)}var v=Object.prototype.toString,k=String,e=Math;(function(a){function f(a){return a[0]*a[0]+a[1]*a[1]}function p(a){var d=e.sqrt(f(a));a[0]&&(a[0]/=d);a[1]&&(a[1]/=d)}a.add=function(a,e,d,b,k,f){var q=[[],[],[]],c=[[this.a,this.c,this.e],
[this.b,this.d,this.f],[0,0,1]];e=[[a,d,k],[e,b,f],[0,0,1]];a&&a instanceof l&&(e=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]);for(a=0;3>a;a++)for(d=0;3>d;d++){for(b=k=0;3>b;b++)k+=c[a][b]*e[b][d];q[a][d]=k}this.a=q[0][0];this.b=q[1][0];this.c=q[0][1];this.d=q[1][1];this.e=q[0][2];this.f=q[1][2];return this};a.invert=function(){var a=this.a*this.d-this.b*this.c;return new l(this.d/a,-this.b/a,-this.c/a,this.a/a,(this.c*this.f-this.d*this.e)/a,(this.b*this.e-this.a*this.f)/a)};a.clone=function(){return new l(this.a,
this.b,this.c,this.d,this.e,this.f)};a.translate=function(a,e){return this.add(1,0,0,1,a,e)};a.scale=function(a,e,d,b){null==e&&(e=a);(d||b)&&this.add(1,0,0,1,d,b);this.add(a,0,0,e,0,0);(d||b)&&this.add(1,0,0,1,-d,-b);return this};a.rotate=function(a,k,f){a=d.rad(a);k=k||0;f=f||0;var b=+e.cos(a).toFixed(9);a=+e.sin(a).toFixed(9);this.add(b,a,-a,b,k,f);return this.add(1,0,0,1,-k,-f)};a.x=function(a,e){return a*this.a+e*this.c+this.e};a.y=function(a,e){return a*this.b+e*this.d+this.f};a.get=function(a){return+this[k.fromCharCode(97+
a)].toFixed(4)};a.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"};a.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};a.determinant=function(){return this.a*this.d-this.b*this.c};a.split=function(){var a={};a.dx=this.e;a.dy=this.f;var k=[[this.a,this.c],[this.b,this.d]];a.scalex=e.sqrt(f(k[0]));p(k[0]);a.shear=k[0][0]*k[1][0]+k[0][1]*k[1][1];k[1]=[k[1][0]-k[0][0]*a.shear,k[1][1]-k[0][1]*a.shear];a.scaley=e.sqrt(f(k[1]));
p(k[1]);a.shear/=a.scaley;0>this.determinant()&&(a.scalex=-a.scalex);var q=-k[0][1],k=k[1][1];0>k?(a.rotate=d.deg(e.acos(k)),0>q&&(a.rotate=360-a.rotate)):a.rotate=d.deg(e.asin(q));a.isSimple=!+a.shear.toFixed(9)&&(a.scalex.toFixed(9)==a.scaley.toFixed(9)||!a.rotate);a.isSuperSimple=!+a.shear.toFixed(9)&&a.scalex.toFixed(9)==a.scaley.toFixed(9)&&!a.rotate;a.noRotation=!+a.shear.toFixed(9)&&!a.rotate;return a};a.toTransformString=function(a){a=a||this.split();if(+a.shear.toFixed(9))return"m"+[this.get(0),
this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)];a.scalex=+a.scalex.toFixed(4);a.scaley=+a.scaley.toFixed(4);a.rotate=+a.rotate.toFixed(4);return(a.dx||a.dy?"t"+[+a.dx.toFixed(4),+a.dy.toFixed(4)]:"")+(1!=a.scalex||1!=a.scaley?"s"+[a.scalex,a.scaley,0,0]:"")+(a.rotate?"r"+[+a.rotate.toFixed(4),0,0]:"")}})(l.prototype);d.Matrix=l;d.matrix=function(a,e,d,h,k,f){return new l(a,e,d,h,k,f)}});A.plugin(function(d,a,t,m,r){function l(c){return function(e){f.stop();e instanceof r&&1==e.node.childNodes.length&&
("radialGradient"==e.node.firstChild.tagName||"linearGradient"==e.node.firstChild.tagName||"pattern"==e.node.firstChild.tagName)&&(e=e.node.firstChild,h(this).appendChild(e),e=B(e));if(e instanceof a)if("radialGradient"==e.type||"linearGradient"==e.type||"pattern"==e.type){e.node.id||y(e.node,{id:e.id});var k=b(e.node.id)}else k=e.attr(c);else k=d.color(e),k.error?(k=d(h(this).ownerSVGElement).gradient(e))?(k.node.id||y(k.node,{id:k.id}),k=b(k.node.id)):k=e:k=w(k);e={};e[c]=k;y(this.node,e);this.node.style[c]=
""}}function v(c){f.stop();c==+c&&(c+="px");this.node.style.fontSize=c}function k(c){var a=[];c=c.childNodes;for(var b=0,e=c.length;b<e;b++){var d=c[b];3==d.nodeType&&a.push(d.nodeValue);"tspan"==d.tagName&&(1==d.childNodes.length&&3==d.firstChild.nodeType?a.push(d.firstChild.nodeValue):a.push(k(d)))}return a}function e(){f.stop();return this.node.style.fontSize}var q=d._.make,B=d._.wrap,p=d.is,h=d._.getSomeDefs,D=/^url\(#?([^)]+)\)$/,y=d._.$,b=d.url,w=String,z=d._.separator;f.on("snap.util.attr.mask",
function(c){if(c instanceof a||c instanceof r){f.stop();c instanceof r&&1==c.node.childNodes.length&&(c=c.node.firstChild,h(this).appendChild(c),c=B(c));if("mask"==c.type)var e=c;else e=q("mask",h(this)),e.node.appendChild(c.node);!e.node.id&&y(e.node,{id:e.id});y(this.node,{mask:b(e.id)})}});(function(c){f.on("snap.util.attr.clip",c);f.on("snap.util.attr.clip-path",c);f.on("snap.util.attr.clipPath",c)})(function(c){if(c instanceof a||c instanceof r){f.stop();if("clipPath"==c.type)var e=c;else e=
q("clipPath",h(this)),e.node.appendChild(c.node),!e.node.id&&y(e.node,{id:e.id});y(this.node,{"clip-path":b(e.node.id||e.id)})}});f.on("snap.util.attr.fill",l("fill"));f.on("snap.util.attr.stroke",l("stroke"));var F=/^([lr])(?:\(([^)]*)\))?(.*)$/i;f.on("snap.util.grad.parse",function(c){c=w(c);var a=c.match(F);if(!a)return null;c=a[1];var b=a[2],a=a[3],b=b.split(/\s*,\s*/).map(function(a){return+a==a?+a:a});1==b.length&&0==b[0]&&(b=[]);a=a.split("-");a=a.map(function(a){a=a.split(":");var c={color:a[0]};
a[1]&&(c.offset=parseFloat(a[1]));return c});return{type:c,params:b,stops:a}});f.on("snap.util.attr.d",function(a){f.stop();p(a,"array")&&p(a[0],"array")&&(a=d.path.toString.call(a));a=w(a);a.match(/[ruo]/i)&&(a=d.path.toAbsolute(a));y(this.node,{d:a})})(-1);f.on("snap.util.attr.#text",function(a){f.stop();a=w(a);for(a=m.doc.createTextNode(a);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(a)})(-1);f.on("snap.util.attr.path",function(a){f.stop();this.attr({d:a})})(-1);
f.on("snap.util.attr.class",function(a){f.stop();this.node.className.baseVal=a})(-1);f.on("snap.util.attr.viewBox",function(a){a=p(a,"object")&&"x"in a?[a.x,a.y,a.width,a.height].join(" "):p(a,"array")?a.join(" "):a;y(this.node,{viewBox:a});f.stop()})(-1);f.on("snap.util.attr.transform",function(a){this.transform(a);f.stop()})(-1);f.on("snap.util.attr.r",function(a){"rect"==this.type&&(f.stop(),y(this.node,{rx:a,ry:a}))})(-1);f.on("snap.util.attr.textpath",function(b){f.stop();if("text"==this.type){var e,
d;if(!b&&this.textPath){for(b=this.textPath;b.node.firstChild;)this.node.appendChild(b.node.firstChild);b.remove();delete this.textPath}else if(p(b,"string")?(e=h(this),b=B(e.parentNode).path(b),e.appendChild(b.node),e=b.id,b.attr({id:e})):(b=B(b),b instanceof a&&(e=b.attr("id"),e||(e=b.id,b.attr({id:e})))),e)if(b=this.textPath,d=this.node,b)b.attr({"xlink:href":"#"+e});else{for(b=y("textPath",{"xlink:href":"#"+e});d.firstChild;)b.appendChild(d.firstChild);d.appendChild(b);this.textPath=B(b)}}})(-1);
f.on("snap.util.attr.text",function(a){if("text"==this.type){for(var b=this.node,e=function(a){var b=y("tspan");if(p(a,"array"))for(var c=0;c<a.length;c++)b.appendChild(e(a[c]));else b.appendChild(m.doc.createTextNode(a));b.normalize&&b.normalize();return b};b.firstChild;)b.removeChild(b.firstChild);for(a=e(a);a.firstChild;)b.appendChild(a.firstChild)}f.stop()})(-1);f.on("snap.util.attr.fontSize",v)(-1);f.on("snap.util.attr.font-size",v)(-1);f.on("snap.util.getattr.transform",function(){f.stop();
return this.transform()})(-1);f.on("snap.util.getattr.textpath",function(){f.stop();return this.textPath})(-1);(function(){function a(b){return function(){f.stop();var a=m.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+b);return"none"==a?a:d(m.doc.getElementById(a.match(D)[1]))}}function e(a){return function(c){f.stop();var e="marker"+a.charAt(0).toUpperCase()+a.substring(1);if(""==c||!c)this.node.style[e]="none";else if("marker"==c.type){var d=c.node.id;d||y(c.node,{id:c.id});
this.node.style[e]=b(d)}}}f.on("snap.util.getattr.marker-end",a("end"))(-1);f.on("snap.util.getattr.markerEnd",a("end"))(-1);f.on("snap.util.getattr.marker-start",a("start"))(-1);f.on("snap.util.getattr.markerStart",a("start"))(-1);f.on("snap.util.getattr.marker-mid",a("mid"))(-1);f.on("snap.util.getattr.markerMid",a("mid"))(-1);f.on("snap.util.attr.marker-end",e("end"))(-1);f.on("snap.util.attr.markerEnd",e("end"))(-1);f.on("snap.util.attr.marker-start",e("start"))(-1);f.on("snap.util.attr.markerStart",
e("start"))(-1);f.on("snap.util.attr.marker-mid",e("mid"))(-1);f.on("snap.util.attr.markerMid",e("mid"))(-1)})();f.on("snap.util.getattr.r",function(){if("rect"==this.type&&y(this.node,"rx")==y(this.node,"ry"))return f.stop(),y(this.node,"rx")})(-1);f.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){f.stop();var a=k(this.node);return 1==a.length?a[0]:a}})(-1);f.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1);f.on("snap.util.getattr.viewBox",
function(){f.stop();var a=y(this.node,"viewBox");if(a)return a=a.split(z),d._.box(+a[0],+a[1],+a[2],+a[3])})(-1);f.on("snap.util.getattr.points",function(){var a=y(this.node,"points");f.stop();if(a)return a.split(z)})(-1);f.on("snap.util.getattr.path",function(){var a=y(this.node,"d");f.stop();return a})(-1);f.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1);f.on("snap.util.getattr.fontSize",e)(-1);f.on("snap.util.getattr.font-size",e)(-1)});A.plugin(function(d,a,f,
m,r){var l=/\S+/g,v=String;d=a.prototype;d.addClass=function(a){var e=v(a||"").match(l)||[];a=this.node;var d=a.className.baseVal,f=d.match(l)||[],p,h,m;if(e.length){for(p=0;m=e[p++];)h=f.indexOf(m),~h||f.push(m);e=f.join(" ");d!=e&&(a.className.baseVal=e)}return this};d.removeClass=function(a){var e=v(a||"").match(l)||[];a=this.node;var d=a.className.baseVal,f=d.match(l)||[],p,h;if(f.length){for(p=0;h=e[p++];)h=f.indexOf(h),~h&&f.splice(h,1);e=f.join(" ");d!=e&&(a.className.baseVal=e)}return this};
d.hasClass=function(a){return!!~(this.node.className.baseVal.match(l)||[]).indexOf(a)};d.toggleClass=function(a,e){if(null!=e)return e?this.addClass(a):this.removeClass(a);var d=(a||"").match(l)||[],f=this.node,p=f.className.baseVal,h=p.match(l)||[],m,r,b;for(m=0;b=d[m++];)r=h.indexOf(b),~r?h.splice(r,1):h.push(b);d=h.join(" ");p!=d&&(f.className.baseVal=d);return this}});A.plugin(function(d,a,t,m,r){function l(a){return a}function v(a){return function(e){return+e.toFixed(3)+a}}var k={"+":function(a,
e){return a+e},"-":function(a,e){return a-e},"/":function(a,e){return a/e},"*":function(a,e){return a*e}},e=String,q=/[a-z]+$/i,B=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;f.on("snap.util.attr",function(a){if(a=e(a).match(B)){var d=f.nt(),d=d.substring(d.lastIndexOf(".")+1),l=this.attr(d),m={};f.stop();var b=a[3]||"",w=l.match(q),z=k[a[1]];w&&w==b?a=z(parseFloat(l),+a[2]):(l=this.asPX(d),a=z(this.asPX(d),this.asPX(d,a[2]+b)));isNaN(l)||isNaN(a)||(m[d]=a,this.attr(m))}})(-10);f.on("snap.util.equal",
function(a,d){var m=e(this.attr(a)||""),r=e(d).match(B);if(r){f.stop();var b=r[3]||"",w=m.match(q),z=k[r[1]];if(w&&w==b)return{from:parseFloat(m),to:z(parseFloat(m),+r[2]),f:v(w)};m=this.asPX(a);return{from:m,to:z(m,this.asPX(a,r[2]+b)),f:l}}})(-10)});A.plugin(function(d,a,t,m,r){var l=t.prototype,v=d.is;l.rect=function(a,d,k,f,h,l){var m;null==l&&(l=h);v(a,"object")&&"[object Object]"==a?m=a:null!=a&&(m={x:a,y:d,width:k,height:f},null!=h&&(m.rx=h,m.ry=l));return this.el("rect",m)};l.circle=function(a,
d,k){var f;v(a,"object")&&"[object Object]"==a?f=a:null!=a&&(f={cx:a,cy:d,r:k});return this.el("circle",f)};var k=function(){function a(){this.parentNode.removeChild(this)}return function(d,k){var f=m.doc.createElement("img"),h=m.doc.body;f.style.cssText="position:absolute;left:-9999em;top:-9999em";f.onload=function(){k.call(f);f.onload=f.onerror=null;h.removeChild(f)};f.onerror=a;h.appendChild(f);f.src=d}}();l.image=function(a,f,l,m,h){var r=this.el("image");if(v(a,"object")&&"src"in a)r.attr(a);
else if(null!=a){var t={"xlink:href":a,preserveAspectRatio:"none"};null!=f&&null!=l&&(t.x=f,t.y=l);null!=m&&null!=h?(t.width=m,t.height=h):k(a,function(){d._.$(r.node,{width:this.offsetWidth,height:this.offsetHeight})});d._.$(r.node,t)}return r};l.ellipse=function(a,d,k,f){var h;v(a,"object")&&"[object Object]"==a?h=a:null!=a&&(h={cx:a,cy:d,rx:k,ry:f});return this.el("ellipse",h)};l.path=function(a){var d;v(a,"object")&&!v(a,"array")?d=a:a&&(d={d:a});return this.el("path",d)};l.group=l.g=function(a){var d=
this.el("g");1==arguments.length&&a&&!a.type?d.attr(a):arguments.length&&d.add(Array.prototype.slice.call(arguments,0));return d};l.svg=function(a,d,k,f,h,l,m,b){var w={};v(a,"object")&&null==d?w=a:(null!=a&&(w.x=a),null!=d&&(w.y=d),null!=k&&(w.width=k),null!=f&&(w.height=f),null!=h&&null!=l&&null!=m&&null!=b&&(w.viewBox=[h,l,m,b]));return this.el("svg",w)};l.mask=function(a){var d=this.el("mask");1==arguments.length&&a&&!a.type?d.attr(a):arguments.length&&d.add(Array.prototype.slice.call(arguments,
0));return d};l.ptrn=function(a,d,k,f,h,l,m,b){if(v(a,"object"))var w=a;else w={patternUnits:"userSpaceOnUse"},a&&(w.x=a),d&&(w.y=d),null!=k&&(w.width=k),null!=f&&(w.height=f),w.viewBox=null!=h&&null!=l&&null!=m&&null!=b?[h,l,m,b]:[a||0,d||0,k||0,f||0];return this.el("pattern",w)};l.use=function(e){return null!=e?(e instanceof a&&(e.attr("id")||e.attr({id:d._.id(e)}),e=e.attr("id")),"#"==String(e).charAt()&&(e=e.substring(1)),this.el("use",{"xlink:href":"#"+e})):a.prototype.use.call(this)};l.symbol=
function(a,d,k,f){var h={};null!=a&&null!=d&&null!=k&&null!=f&&(h.viewBox=[a,d,k,f]);return this.el("symbol",h)};l.text=function(a,d,k){var f={};v(a,"object")?f=a:null!=a&&(f={x:a,y:d,text:k||""});return this.el("text",f)};l.line=function(a,d,k,f){var h={};v(a,"object")?h=a:null!=a&&(h={x1:a,x2:k,y1:d,y2:f});return this.el("line",h)};l.polyline=function(a){1<arguments.length&&(a=Array.prototype.slice.call(arguments,0));var d={};v(a,"object")&&!v(a,"array")?d=a:null!=a&&(d={points:a});return this.el("polyline",
d)};l.polygon=function(a){1<arguments.length&&(a=Array.prototype.slice.call(arguments,0));var d={};v(a,"object")&&!v(a,"array")?d=a:null!=a&&(d={points:a});return this.el("polygon",d)};(function(){function a(){return this.selectAll("stop")}function k(a,e){var h=t("stop"),f={offset:+e+"%"};a=d.color(a);f["stop-color"]=a.hex;1>a.opacity&&(f["stop-opacity"]=a.opacity);t(h,f);this.node.appendChild(h);return this}function m(){if("linearGradient"==this.type){var a=t(this.node,"x1")||0,e=t(this.node,"x2")||
1,k=t(this.node,"y1")||0,h=t(this.node,"y2")||0;return d._.box(a,k,math.abs(e-a),math.abs(h-k))}a=this.node.r||0;return d._.box((this.node.cx||.5)-a,(this.node.cy||.5)-a,2*a,2*a)}function r(a,d){function e(a,b){for(var c=(b-m)/(a-q),d=q;d<a;d++)l[d].offset=+(+m+c*(d-q)).toFixed(2);q=a;m=b}var k=f("snap.util.grad.parse",null,d).firstDefined(),c;if(!k)return null;k.params.unshift(a);c="l"==k.type.toLowerCase()?h.apply(0,k.params):v.apply(0,k.params);k.type!=k.type.toLowerCase()&&t(c.node,{gradientUnits:"userSpaceOnUse"});
var l=k.stops,k=l.length,m=0,q=0;k--;for(var p=0;p<k;p++)"offset"in l[p]&&e(p,l[p].offset);l[k].offset=l[k].offset||100;e(k,l[k].offset);for(p=0;p<=k;p++){var B=l[p];c.addStop(B.color,B.offset)}return c}function h(b,h,f,l,c){b=d._.make("linearGradient",b);b.stops=a;b.addStop=k;b.getBBox=m;null!=h&&t(b.node,{x1:h,y1:f,x2:l,y2:c});return b}function v(b,h,f,l,c,r){b=d._.make("radialGradient",b);b.stops=a;b.addStop=k;b.getBBox=m;null!=h&&t(b.node,{cx:h,cy:f,r:l});null!=c&&null!=r&&t(b.node,{fx:c,fy:r});
return b}var t=d._.$;l.gradient=function(a){return r(this.defs,a)};l.gradientLinear=function(a,d,e,k){return h(this.defs,a,d,e,k)};l.gradientRadial=function(a,d,e,k,c){return v(this.defs,a,d,e,k,c)};l.toString=function(){var a=this.node.ownerDocument,e=a.createDocumentFragment(),a=a.createElement("div"),k=this.node.cloneNode(!0);e.appendChild(a);a.appendChild(k);d._.$(k,{xmlns:"http://www.w3.org/2000/svg"});a=a.innerHTML;e.removeChild(e.firstChild);return a};l.toDataURL=function(){if(x&&x.btoa)return"data:image/svg+xml;base64,"+
btoa(unescape(encodeURIComponent(this)))};l.clear=function(){for(var a=this.node.firstChild,d;a;)d=a.nextSibling,"defs"!=a.tagName?a.parentNode.removeChild(a):l.clear.call({node:a}),a=d}})()});A.plugin(function(d,a,f,m){function r(a){var b=r.ps=r.ps||{};b[a]?b[a].sleep=100:b[a]={sleep:100};setTimeout(function(){for(var c in b)b.hasOwnProperty(c)&&c!=a&&(b[c].sleep--,!b[c].sleep&&delete b[c])});return b[a]}function l(a,b,c,d){null==a&&(a=b=c=d=0);null==b&&(b=a.y,c=a.width,d=a.height,a=a.x);return{x:a,
y:b,width:c,w:c,height:d,h:d,x2:a+c,y2:b+d,cx:a+c/2,cy:b+d/2,r1:E.min(c,d)/2,r2:E.max(c,d)/2,r0:E.sqrt(c*c+d*d)/2,path:z(a,b,c,d),vb:[a,b,c,d].join(" ")}}function v(){return this.join(",").replace(U,"$1")}function k(a){a=N(a);a.toString=v;return a}function e(a,b,c,d,e,k,h,f,n){if(null==n)return y(a,b,c,d,e,k,h,f);if(0>n||y(a,b,c,d,e,k,h,f)<n)n=void 0;else{var l=.5,m=1-l,q;for(q=y(a,b,c,d,e,k,h,f,m);.01<S(q-n);)l/=2,m+=(q<n?1:-1)*l,q=y(a,b,c,d,e,k,h,f,m);n=m}return B(a,b,c,d,e,k,h,f,n)}function q(b,
c){function k(a){return+(+a).toFixed(3)}return d._.cacher(function(d,h,f){d instanceof a&&(d=d.attr("d"));d=ca(d);for(var l,m,n,q,w="",r={},p=0,v=0,t=d.length;v<t;v++){n=d[v];if("M"==n[0])l=+n[1],m=+n[2];else{q=e(l,m,n[1],n[2],n[3],n[4],n[5],n[6]);if(p+q>h){if(c&&!r.start){l=e(l,m,n[1],n[2],n[3],n[4],n[5],n[6],h-p);w+=["C"+k(l.start.x),k(l.start.y),k(l.m.x),k(l.m.y),k(l.x),k(l.y)];if(f)return w;r.start=w;w=["M"+k(l.x),k(l.y)+"C"+k(l.n.x),k(l.n.y),k(l.end.x),k(l.end.y),k(n[5]),k(n[6])].join();p+=q;
l=+n[5];m=+n[6];continue}if(!b&&!c)return l=e(l,m,n[1],n[2],n[3],n[4],n[5],n[6],h-p)}p+=q;l=+n[5];m=+n[6]}w+=n.shift()+n}r.end=w;return l=b?p:c?r:B(l,m,n[0],n[1],n[2],n[3],n[4],n[5],1)},null,d._.clone)}function B(a,b,c,d,e,k,h,f,n){var l=1-n,m=T(l,3),q=T(l,2),w=n*n,r=w*n,p=m*a+3*q*n*c+3*l*n*n*e+r*h,m=m*b+3*q*n*d+3*l*n*n*k+r*f,q=a+2*n*(c-a)+w*(e-2*c+a),r=b+2*n*(d-b)+w*(k-2*d+b),v=c+2*n*(e-c)+w*(h-2*e+c),w=d+2*n*(k-d)+w*(f-2*k+d);a=l*a+n*c;b=l*b+n*d;e=l*e+n*h;k=l*k+n*f;f=90-180*E.atan2(q-v,r-w)/H;return{x:p,
y:m,m:{x:q,y:r},n:{x:v,y:w},start:{x:a,y:b},end:{x:e,y:k},alpha:f}}function p(a,b,c,e,k,h,f,m){d.is(a,"array")||(a=[a,b,c,e,k,h,f,m]);a=R.apply(null,a);return l(a.min.x,a.min.y,a.max.x-a.min.x,a.max.y-a.min.y)}function h(a,b,c){return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height}function D(a,b){a=l(a);b=l(b);return h(b,a.x,a.y)||h(b,a.x2,a.y)||h(b,a.x,a.y2)||h(b,a.x2,a.y2)||h(a,b.x,b.y)||h(a,b.x2,b.y)||h(a,b.x,b.y2)||h(a,b.x2,b.y2)||(a.x<b.x2&&a.x>b.x||b.x<a.x2&&b.x>a.x)&&(a.y<b.y2&&a.y>b.y||b.y<
a.y2&&b.y>a.y)}function y(a,b,c,d,e,k,h,f,n){null==n&&(n=1);n=(1<n?1:0>n?0:n)/2;for(var l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],m=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],q=0,w=0;12>w;w++)var r=n*l[w]+n,p=r*(r*(-3*a+9*c-9*e+3*h)+6*a-12*c+6*e)-3*a+3*c,r=r*(r*(-3*b+9*d-9*k+3*f)+6*b-12*d+6*k)-3*b+3*d,q=q+m[w]*E.sqrt(p*p+r*r);return n*q}function b(a,b,c){a=ca(a);b=ca(b);for(var d,e,k,h,f,n,l,m,q,w,r=c?0:[],v=0,t=a.length;v<t;v++)if(q=
a[v],"M"==q[0])d=f=q[1],e=n=q[2];else{"C"==q[0]?(q=[d,e].concat(q.slice(1)),d=q[6],e=q[7]):(q=[d,e,d,e,f,n,f,n],d=f,e=n);for(var z=0,C=b.length;z<C;z++)if(w=b[z],"M"==w[0])k=l=w[1],h=m=w[2];else{"C"==w[0]?(w=[k,h].concat(w.slice(1)),k=w[6],h=w[7]):(w=[k,h,k,h,l,m,l,m],k=l,h=m);var u;var A=q,F=w;u=c;var x=p(A),G=p(F);if(D(x,G)){for(var x=y.apply(0,A),G=y.apply(0,F),x=~~(x/8),G=~~(G/8),R=[],V=[],ea={},da=u?0:[],E=0;E<x+1;E++){var H=B.apply(0,A.concat(E/x));R.push({x:H.x,y:H.y,t:E/x})}for(E=0;E<G+1;E++)H=
B.apply(0,F.concat(E/G)),V.push({x:H.x,y:H.y,t:E/G});for(E=0;E<x;E++)for(A=0;A<G;A++){var N=R[E],I=R[E+1],F=V[A],H=V[A+1],U=.001>S(I.x-N.x)?"y":"x",L=.001>S(H.x-F.x)?"y":"x",J;J=N.x;var T=N.y,O=I.x,Q=I.y,W=F.x,X=F.y,Y=H.x,Z=H.y;if(P(J,O)<M(W,Y)||M(J,O)>P(W,Y)||P(T,Q)<M(X,Z)||M(T,Q)>P(X,Z))J=void 0;else{var fa=(J*Q-T*O)*(W-Y)-(J-O)*(W*Z-X*Y),ga=(J*Q-T*O)*(X-Z)-(T-Q)*(W*Z-X*Y),aa=(J-O)*(X-Z)-(T-Q)*(W-Y);if(aa){var fa=fa/aa,ga=ga/aa,aa=+fa.toFixed(2),ha=+ga.toFixed(2);J=aa<+M(J,O).toFixed(2)||aa>+P(J,
O).toFixed(2)||aa<+M(W,Y).toFixed(2)||aa>+P(W,Y).toFixed(2)||ha<+M(T,Q).toFixed(2)||ha>+P(T,Q).toFixed(2)||ha<+M(X,Z).toFixed(2)||ha>+P(X,Z).toFixed(2)?void 0:{x:fa,y:ga}}else J=void 0}J&&ea[J.x.toFixed(4)]!=J.y.toFixed(4)&&(ea[J.x.toFixed(4)]=J.y.toFixed(4),N=N.t+S((J[U]-N[U])/(I[U]-N[U]))*(I.t-N.t),F=F.t+S((J[L]-F[L])/(H[L]-F[L]))*(H.t-F.t),0<=N&&1>=N&&0<=F&&1>=F&&(u?da++:da.push({x:J.x,y:J.y,t1:N,t2:F})))}u=da}else u=u?0:[];if(c)r+=u;else{x=0;for(G=u.length;x<G;x++)u[x].segment1=v,u[x].segment2=
z,u[x].bez1=q,u[x].bez2=w;r=r.concat(u)}}}return r}function w(a){var b=r(a);if(b.bbox)return N(b.bbox);if(!a)return l();a=ca(a);for(var c=0,d=0,e=[],k=[],h,f=0,n=a.length;f<n;f++)h=a[f],"M"==h[0]?(c=h[1],d=h[2],e.push(c),k.push(d)):(c=R(c,d,h[1],h[2],h[3],h[4],h[5],h[6]),e=e.concat(c.min.x,c.max.x),k=k.concat(c.min.y,c.max.y),c=h[5],d=h[6]);a=M.apply(0,e);h=M.apply(0,k);e=P.apply(0,e);k=P.apply(0,k);k=l(a,h,e-a,k-h);b.bbox=N(k);return k}function z(a,b,c,d,e){if(e)return[["M",+a+ +e,b],["l",c-2*e,
0],["a",e,e,0,0,1,e,e],["l",0,d-2*e],["a",e,e,0,0,1,-e,e],["l",2*e-c,0],["a",e,e,0,0,1,-e,-e],["l",0,2*e-d],["a",e,e,0,0,1,e,-e],["z"]];a=[["M",a,b],["l",c,0],["l",0,d],["l",-c,0],["z"]];a.toString=v;return a}function u(a,b,c,d,e){null==e&&null==d&&(d=c);a=+a;b=+b;c=+c;d=+d;if(null!=e){var k=Math.PI/180,h=a+c*Math.cos(-d*k);a+=c*Math.cos(-e*k);var f=b+c*Math.sin(-d*k);b+=c*Math.sin(-e*k);c=[["M",h,f],["A",c,c,0,+(180<e-d),0,a,b]]}else c=[["M",a,b],["m",0,-d],["a",c,d,0,1,1,0,2*d],["a",c,d,0,1,1,0,
-2*d],["z"]];c.toString=v;return c}function c(a){var b=r(a);if(b.abs)return k(b.abs);da(a,"array")&&da(a&&a[0],"array")||(a=d.parsePathString(a));if(!a||!a.length)return[["M",0,0]];var c=[],e=0,h=0,f=0,l=0,q=0;"M"==a[0][0]&&(e=+a[0][1],h=+a[0][2],f=e,l=h,q++,c[0]=["M",e,h]);for(var n=3==a.length&&"M"==a[0][0]&&"R"==a[1][0].toUpperCase()&&"Z"==a[2][0].toUpperCase(),m,w,p=q,t=a.length;p<t;p++){c.push(m=[]);w=a[p];q=w[0];if(q!=q.toUpperCase())switch(m[0]=q.toUpperCase(),m[0]){case "A":m[1]=w[1];m[2]=
w[2];m[3]=w[3];m[4]=w[4];m[5]=w[5];m[6]=+w[6]+e;m[7]=+w[7]+h;break;case "V":m[1]=+w[1]+h;break;case "H":m[1]=+w[1]+e;break;case "R":for(var z=[e,h].concat(w.slice(1)),B=2,C=z.length;B<C;B++)z[B]=+z[B]+e,z[++B]=+z[B]+h;c.pop();c=c.concat(ea(z,n));break;case "O":c.pop();z=u(e,h,w[1],w[2]);z.push(z[0]);c=c.concat(z);break;case "U":c.pop();c=c.concat(u(e,h,w[1],w[2],w[3]));m=["U"].concat(c[c.length-1].slice(-2));break;case "M":f=+w[1]+e,l=+w[2]+h;default:for(B=1,C=w.length;B<C;B++)m[B]=+w[B]+(B%2?e:h)}else if("R"==
q)z=[e,h].concat(w.slice(1)),c.pop(),c=c.concat(ea(z,n)),m=["R"].concat(w.slice(-2));else if("O"==q)c.pop(),z=u(e,h,w[1],w[2]),z.push(z[0]),c=c.concat(z);else if("U"==q)c.pop(),c=c.concat(u(e,h,w[1],w[2],w[3])),m=["U"].concat(c[c.length-1].slice(-2));else for(z=0,B=w.length;z<B;z++)m[z]=w[z];q=q.toUpperCase();if("O"!=q)switch(m[0]){case "Z":e=+f;h=+l;break;case "H":e=m[1];break;case "V":h=m[1];break;case "M":f=m[m.length-2],l=m[m.length-1];default:e=m[m.length-2],h=m[m.length-1]}}c.toString=v;b.abs=
k(c);return c}function C(a,b,c,d){return[a,b,c,d,c,d]}function A(a,b,c,d,e,k){var h=1/3,f=2/3;return[h*a+f*c,h*b+f*d,h*e+f*c,h*k+f*d,e,k]}function x(a,b,c,e,k,h,f,l,n,m){var q=120*H/180,w=H/180*(+k||0),r=[],p,z=d._.cacher(function(a,b,c){var e=a*E.cos(c)-b*E.sin(c);a=a*E.sin(c)+b*E.cos(c);return{x:e,y:a}});if(m)t=m[0],p=m[1],h=m[2],v=m[3];else{p=z(a,b,-w);a=p.x;b=p.y;p=z(l,n,-w);l=p.x;n=p.y;E.cos(H/180*k);E.sin(H/180*k);p=(a-l)/2;t=(b-n)/2;v=p*p/(c*c)+t*t/(e*e);1<v&&(v=E.sqrt(v),c*=v,e*=v);var v=
c*c,B=e*e,v=(h==f?-1:1)*E.sqrt(S((v*B-v*t*t-B*p*p)/(v*t*t+B*p*p)));h=v*c*t/e+(a+l)/2;var v=v*-e*p/c+(b+n)/2,t=E.asin(((b-v)/e).toFixed(9));p=E.asin(((n-v)/e).toFixed(9));t=a<h?H-t:t;p=l<h?H-p:p;0>t&&(t=2*H+t);0>p&&(p=2*H+p);f&&t>p&&(t-=2*H);!f&&p>t&&(p-=2*H)}if(S(p-t)>q){var r=p,B=l,C=n;p=t+q*(f&&p>t?1:-1);l=h+c*E.cos(p);n=v+e*E.sin(p);r=x(l,n,c,e,k,0,f,B,C,[p,r,h,v])}h=p-t;k=E.cos(t);q=E.sin(t);f=E.cos(p);p=E.sin(p);h=E.tan(h/4);c=4/3*c*h;h*=4/3*e;e=[a,b];a=[a+c*q,b-h*k];b=[l+c*p,n-h*f];l=[l,n];
a[0]=2*e[0]-a[0];a[1]=2*e[1]-a[1];if(m)return[a,b,l].concat(r);r=[a,b,l].concat(r).join().split(",");m=[];l=0;for(n=r.length;l<n;l++)m[l]=l%2?z(r[l-1],r[l],w).y:z(r[l],r[l+1],w).x;return m}function R(a,b,c,e,d,k,h,f){for(var l=[],m=[[],[]],q,w,p,r,v=0;2>v;++v)0==v?(w=6*a-12*c+6*d,q=-3*a+9*c-9*d+3*h,p=3*c-3*a):(w=6*b-12*e+6*k,q=-3*b+9*e-9*k+3*f,p=3*e-3*b),1E-12>S(q)?1E-12>S(w)||(q=-p/w,0<q&&1>q&&l.push(q)):(r=w*w-4*p*q,p=E.sqrt(r),0>r||(r=(-w+p)/(2*q),0<r&&1>r&&l.push(r),q=(-w-p)/(2*q),0<q&&1>q&&l.push(q)));
for(w=v=l.length;v--;)q=l[v],p=1-q,m[0][v]=p*p*p*a+3*p*p*q*c+3*p*q*q*d+q*q*q*h,m[1][v]=p*p*p*b+3*p*p*q*e+3*p*q*q*k+q*q*q*f;m[0][w]=a;m[1][w]=b;m[0][w+1]=h;m[1][w+1]=f;m[0].length=m[1].length=w+2;return{min:{x:M.apply(0,m[0]),y:M.apply(0,m[1])},max:{x:P.apply(0,m[0]),y:P.apply(0,m[1])}}}function ca(a,b){var e=!b&&r(a);if(!b&&e.curve)return k(e.curve);var d=c(a),h=b&&c(b),f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},m=function(a,b,c){if(!a)return["C",b.x,
b.y,b.x,b.y,b.x,b.y];a[0]in{T:1,Q:1}||(b.qx=b.qy=null);switch(a[0]){case "M":b.X=a[1];b.Y=a[2];break;case "A":a=["C"].concat(x.apply(0,[b.x,b.y].concat(a.slice(1))));break;case "S":"C"==c||"S"==c?(c=2*b.x-b.bx,b=2*b.y-b.by):(c=b.x,b=b.y);a=["C",c,b].concat(a.slice(1));break;case "T":"Q"==c||"T"==c?(b.qx=2*b.x-b.qx,b.qy=2*b.y-b.qy):(b.qx=b.x,b.qy=b.y);a=["C"].concat(A(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case "Q":b.qx=a[1];b.qy=a[2];a=["C"].concat(A(b.x,b.y,a[1],a[2],a[3],a[4]));break;case "L":a=["C"].concat(C(b.x,
b.y,a[1],a[2]));break;case "H":a=["C"].concat(C(b.x,b.y,a[1],b.y));break;case "V":a=["C"].concat(C(b.x,b.y,b.x,a[1]));break;case "Z":a=["C"].concat(C(b.x,b.y,b.X,b.Y))}return a},n=function(a,b){if(7<a[b].length){a[b].shift();for(var c=a[b];c.length;)w[b]="A",h&&(p[b]="A"),a.splice(b++,0,["C"].concat(c.splice(0,6)));a.splice(b,1);B=P(d.length,h&&h.length||0)}},q=function(a,b,c,e,k){a&&b&&"M"==a[k][0]&&"M"!=b[k][0]&&(b.splice(k,0,["M",e.x,e.y]),c.bx=0,c.by=0,c.x=a[k][1],c.y=a[k][2],B=P(d.length,h&&
h.length||0))},w=[],p=[],v="",t="",z=0,B=P(d.length,h&&h.length||0);for(;z<B;z++){d[z]&&(v=d[z][0]);"C"!=v&&(w[z]=v,z&&(t=w[z-1]));d[z]=m(d[z],f,t);"A"!=w[z]&&"C"==v&&(w[z]="C");n(d,z);h&&(h[z]&&(v=h[z][0]),"C"!=v&&(p[z]=v,z&&(t=p[z-1])),h[z]=m(h[z],l,t),"A"!=p[z]&&"C"==v&&(p[z]="C"),n(h,z));q(d,h,f,l,z);q(h,d,l,f,z);var D=d[z],u=h&&h[z],y=D.length,F=h&&u.length;f.x=D[y-2];f.y=D[y-1];f.bx=I(D[y-4])||f.x;f.by=I(D[y-3])||f.y;l.bx=h&&(I(u[F-4])||l.x);l.by=h&&(I(u[F-3])||l.y);l.x=h&&u[F-2];l.y=h&&u[F-
1]}h||(e.curve=k(d));return h?[d,h]:d}function ea(a,b){for(var c=[],d=0,e=a.length;e-2*!b>d;d+=2){var k=[{x:+a[d-2],y:+a[d-1]},{x:+a[d],y:+a[d+1]},{x:+a[d+2],y:+a[d+3]},{x:+a[d+4],y:+a[d+5]}];b?d?e-4==d?k[3]={x:+a[0],y:+a[1]}:e-2==d&&(k[2]={x:+a[0],y:+a[1]},k[3]={x:+a[2],y:+a[3]}):k[0]={x:+a[e-2],y:+a[e-1]}:e-4==d?k[3]=k[2]:d||(k[0]={x:+a[d],y:+a[d+1]});c.push(["C",(-k[0].x+6*k[1].x+k[2].x)/6,(-k[0].y+6*k[1].y+k[2].y)/6,(k[1].x+6*k[2].x-k[3].x)/6,(k[1].y+6*k[2].y-k[3].y)/6,k[2].x,k[2].y])}return c}
f=a.prototype;var da=d.is,N=d._.clone,U=/,?([a-z]),?/gi,I=parseFloat,E=Math,H=E.PI,M=E.min,P=E.max,T=E.pow,S=E.abs;m=q(1);var Q=q(),O=q(0,1),L=d._unit2px;d.path=r;d.path.getTotalLength=m;d.path.getPointAtLength=Q;d.path.getSubpath=function(a,b,c){if(1E-6>this.getTotalLength(a)-c)return O(a,b).end;a=O(a,c,1);return b?O(a,b).end:a};f.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength()};f.getPointAtLength=function(a){return Q(this.attr("d"),a)};f.getSubpath=function(a,
b){return d.path.getSubpath(this.attr("d"),a,b)};d._.box=l;d.path.findDotsAtSegment=B;d.path.bezierBBox=p;d.path.isPointInsideBBox=h;d.closest=function(a,b,c,e){for(var k=100,f=l(a-k/2,b-k/2,k,k),m=[],q=c[0].hasOwnProperty("x")?function(a){return{x:c[a].x,y:c[a].y}}:function(a){return{x:c[a],y:e[a]}},n=0;1E6>=k&&!n;){for(var w=0,p=c.length;w<p;w++){var r=q(w);if(h(f,r.x,r.y)){n++;m.push(r);break}}n||(k*=2,f=l(a-k/2,b-k/2,k,k))}if(1E6!=k){for(var k=Infinity,z,w=0,p=m.length;w<p;w++)f=d.len(a,b,m[w].x,
m[w].y),k>f&&(k=f,m[w].len=f,z=m[w]);return z}};d.path.isBBoxIntersect=D;d.path.intersection=function(a,c){return b(a,c)};d.path.intersectionNumber=function(a,c){return b(a,c,1)};d.path.isPointInside=function(a,c,d){var e=w(a);return h(e,c,d)&&1==b(a,[["M",c,d],["H",e.x2+10]],1)%2};d.path.getBBox=w;d.path.get={path:function(a){return a.attr("path")},circle:function(a){a=L(a);return u(a.cx,a.cy,a.r)},ellipse:function(a){a=L(a);return u(a.cx||0,a.cy||0,a.rx,a.ry)},rect:function(a){a=L(a);return z(a.x||
0,a.y||0,a.width,a.height,a.rx,a.ry)},image:function(a){a=L(a);return z(a.x||0,a.y||0,a.width,a.height)},line:function(a){return"M"+[a.attr("x1")||0,a.attr("y1")||0,a.attr("x2"),a.attr("y2")]},polyline:function(a){return"M"+a.attr("points")},polygon:function(a){return"M"+a.attr("points")+"z"},deflt:function(a){a=a.node.getBBox();return z(a.x,a.y,a.width,a.height)}};d.path.toRelative=function(a){var b=r(a),c=String.prototype.toLowerCase;if(b.rel)return k(b.rel);d.is(a,"array")&&d.is(a&&a[0],"array")||
(a=d.parsePathString(a));var e=[],h=0,f=0,l=0,m=0,n=0;"M"==a[0][0]&&(h=a[0][1],f=a[0][2],l=h,m=f,n++,e.push(["M",h,f]));for(var q=a.length;n<q;n++){var w=e[n]=[],p=a[n];if(p[0]!=c.call(p[0]))switch(w[0]=c.call(p[0]),w[0]){case "a":w[1]=p[1];w[2]=p[2];w[3]=p[3];w[4]=p[4];w[5]=p[5];w[6]=+(p[6]-h).toFixed(3);w[7]=+(p[7]-f).toFixed(3);break;case "v":w[1]=+(p[1]-f).toFixed(3);break;case "m":l=p[1],m=p[2];default:for(var z=1,t=p.length;z<t;z++)w[z]=+(p[z]-(z%2?h:f)).toFixed(3)}else for(e[n]=[],"m"==p[0]&&
(l=p[1]+h,m=p[2]+f),w=0,z=p.length;w<z;w++)e[n][w]=p[w];p=e[n].length;switch(e[n][0]){case "z":h=l;f=m;break;case "h":h+=+e[n][p-1];break;case "v":f+=+e[n][p-1];break;default:h+=+e[n][p-2],f+=+e[n][p-1]}}e.toString=v;b.rel=k(e);return e};d.path.toAbsolute=c;d.path.toCubic=ca;d.path.map=function(a,b){if(!b)return a;var c,e,d,k,h,f,l;a=ca(a);d=0;for(h=a.length;d<h;d++)for(l=a[d],k=1,f=l.length;k<f;k+=2)c=b.x(l[k],l[k+1]),e=b.y(l[k],l[k+1]),l[k]=c,l[k+1]=e;return a};d.path.toString=v;d.path.clone=k});
A.plugin(function(d,a,t,m){var r=Math.max,l=Math.min,v=function(a){this.items=[];this.bindings={};this.length=0;this.type="set";if(a)for(var e=0,d=a.length;e<d;e++)a[e]&&(this[this.items.length]=this.items[this.items.length]=a[e],this.length++)};a=v.prototype;a.push=function(){for(var a,d,f=0,l=arguments.length;f<l;f++)if(a=arguments[f])d=this.items.length,this[d]=this.items[d]=a,this.length++;return this};a.pop=function(){this.length&&delete this[this.length--];return this.items.pop()};a.forEach=
function(a,d){for(var f=0,l=this.items.length;f<l&&!1!==a.call(d,this.items[f],f);f++);return this};a.animate=function(a,e,l,m){"function"!=typeof l||l.length||(m=l,l=u.linear);a instanceof d._.Animation&&(m=a.callback,l=a.easing,e=l.dur,a=a.attr);var p=arguments;if(d.is(a,"array")&&d.is(p[p.length-1],"array"))var h=!0;var r,v=function(){r?this.b=r:r=this.b},b=0,w=this,z=m&&function(){++b==w.length&&m.call(this)};return this.forEach(function(b,c){f.once("snap.animcreated."+b.id,v);h?p[c]&&b.animate.apply(b,
p[c]):b.animate(a,e,l,z)})};a.remove=function(){for(;this.length;)this.pop().remove();return this};a.bind=function(a,d,f){var l={};if("function"==typeof d)this.bindings[a]=d;else{var m=f||a;this.bindings[a]=function(a){l[m]=a;d.attr(l)}}return this};a.attr=function(a){var d={},f;for(f in a)if(this.bindings[f])this.bindings[f](a[f]);else d[f]=a[f];a=0;for(f=this.items.length;a<f;a++)this.items[a].attr(d);return this};a.clear=function(){for(;this.length;)this.pop()};a.splice=function(a,d,f){a=0>a?r(this.length+
a,0):a;d=r(0,l(this.length-a,d));var m=[],p=[],h=[],t;for(t=2;t<arguments.length;t++)h.push(arguments[t]);for(t=0;t<d;t++)p.push(this[a+t]);for(;t<this.length-a;t++)m.push(this[a+t]);var u=h.length;for(t=0;t<u+m.length;t++)this.items[a+t]=this[a+t]=t<u?h[t]:m[t-u];for(t=this.items.length=this.length-=d-u;this[t];)delete this[t++];return new v(p)};a.exclude=function(a){for(var d=0,f=this.length;d<f;d++)if(this[d]==a)return this.splice(d,1),!0;return!1};a.insertAfter=function(a){for(var d=this.items.length;d--;)this.items[d].insertAfter(a);
return this};a.getBBox=function(){for(var a=[],d=[],f=[],m=[],p=this.items.length;p--;)if(!this.items[p].removed){var h=this.items[p].getBBox();a.push(h.x);d.push(h.y);f.push(h.x+h.width);m.push(h.y+h.height)}a=l.apply(0,a);d=l.apply(0,d);f=r.apply(0,f);m=r.apply(0,m);return{x:a,y:d,x2:f,y2:m,width:f-a,height:m-d,cx:a+(f-a)/2,cy:d+(m-d)/2}};a.clone=function(a){a=new v;for(var d=0,f=this.items.length;d<f;d++)a.push(this.items[d].clone());return a};a.toString=function(){return"Snap\u2018s set"};a.type=
"set";d.Set=v;d.set=function(){var a=new v;arguments.length&&a.push.apply(a,Array.prototype.slice.call(arguments,0));return a}});A.plugin(function(d,a,t,m){function r(a){var b=a[0];switch(b.toLowerCase()){case "t":return[b,0,0];case "m":return[b,1,0,0,1,0,0];case "r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case "s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}}function l(a,e,h){e=b(e).replace(/\.{3}|\u2026/g,a);a=d.parseTransformString(a)||[];e=d.parseTransformString(e)||[];for(var c=
Math.max(a.length,e.length),k=[],f=[],l=0,m,q,t,v;l<c;l++){t=a[l]||r(e[l]);v=e[l]||r(t);if(t[0]!=v[0]||"r"==t[0].toLowerCase()&&(t[2]!=v[2]||t[3]!=v[3])||"s"==t[0].toLowerCase()&&(t[3]!=v[3]||t[4]!=v[4])){a=d._.transform2matrix(a,h());e=d._.transform2matrix(e,h());k=[["m",a.a,a.b,a.c,a.d,a.e,a.f]];f=[["m",e.a,e.b,e.c,e.d,e.e,e.f]];break}k[l]=[];f[l]=[];m=0;for(q=Math.max(t.length,v.length);m<q;m++)m in t&&(k[l][m]=t[m]),m in v&&(f[l][m]=v[m])}return{from:p(k),to:p(f),f:B(k)}}function v(a){return a}
function k(a){return function(b){return+b.toFixed(3)+a}}function e(a){return a.join(" ")}function q(a){return d.rgb(a[0],a[1],a[2])}function B(a){var b=0,d,c,e,h,k,f,l=[];d=0;for(c=a.length;d<c;d++){k="[";f=['"'+a[d][0]+'"'];e=1;for(h=a[d].length;e<h;e++)f[e]="val["+b++ +"]";k+=f+"]";l[d]=k}return Function("val","return Snap.path.toString.call(["+l+"])")}function p(a){for(var b=[],d=0,c=a.length;d<c;d++)for(var e=1,h=a[d].length;e<h;e++)b.push(a[d][e]);return b}function h(a,b){return d.is(a,"array")&&
d.is(b,"array")?a.toString()==b.toString():!1}var u={},y=/[a-z]+$/i,b=String;u.stroke=u.fill="colour";a.prototype.equal=function(a,b){return f("snap.util.equal",this,a,b).firstDefined()};f.on("snap.util.equal",function(a,f){var m,c;m=b(this.attr(a)||"");var t=this;if(isFinite(parseFloat(m))&&isFinite(parseFloat(f)))return{from:parseFloat(m),to:parseFloat(f),f:v};if("colour"==u[a])return m=d.color(m),c=d.color(f),{from:[m.r,m.g,m.b,m.opacity],to:[c.r,c.g,c.b,c.opacity],f:q};if("viewBox"==a)return m=
this.attr(a).vb.split(" ").map(Number),c=f.split(" ").map(Number),{from:m,to:c,f:e};if("transform"==a||"gradientTransform"==a||"patternTransform"==a)return f instanceof d.Matrix&&(f=f.toTransformString()),d._.rgTransform.test(f)||(f=d._.svgTransform2string(f)),l(m,f,function(){return t.getBBox(1)});if("d"==a||"path"==a)return m=d.path.toCubic(m,f),{from:p(m[0]),to:p(m[1]),f:B(m[0])};if("points"==a)return m=b(m).split(d._.separator),c=b(f).split(d._.separator),{from:m,to:c,f:function(a){return a}};
c=m.match(y);var r=b(f).match(y);return c&&h(c,r)?{from:parseFloat(m),to:parseFloat(f),f:k(c)}:{from:this.asPX(a),to:this.asPX(a,f),f:v}})});A.plugin(function(d,a,t,m){var r=a.prototype,l="createTouch"in m.doc;a="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel".split(" ");var v={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},k=function(a,d){var e="y"==a?"scrollTop":"scrollLeft",h=d&&d.node?d.node.ownerDocument:m.doc;return h[e in
h.documentElement?"documentElement":"body"][e]},e=function(){return this.originalEvent.preventDefault()},q=function(){return this.originalEvent.stopPropagation()},B=function(a,d,h,f){var c=l&&v[d]?v[d]:d,m=function(c){var m=k("y",f),p=k("x",f);if(l&&v.hasOwnProperty(d))for(var t=0,r=c.targetTouches&&c.targetTouches.length;t<r;t++)if(c.targetTouches[t].target==a||a.contains(c.targetTouches[t].target)){r=c;c=c.targetTouches[t];c.originalEvent=r;c.preventDefault=e;c.stopPropagation=q;break}return h.call(f,
c,c.clientX+p,c.clientY+m)};d!==c&&a.addEventListener(d,m,!1);a.addEventListener(c,m,!1);return function(){d!==c&&a.removeEventListener(d,m,!1);a.removeEventListener(c,m,!1);return!0}},p=[],h=function(a){for(var d=a.clientX,e=a.clientY,h=k("y"),c=k("x"),m,q=p.length;q--;){m=p[q];if(l)for(var t=a.touches&&a.touches.length,r;t--;){if(r=a.touches[t],r.identifier==m.el._drag.id||m.el.node.contains(r.target)){d=r.clientX;e=r.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();
d+=c;e+=h;f("snap.drag.move."+m.el.id,m.move_scope||m.el,d-m.el._drag.x,e-m.el._drag.y,d,e,a)}},u=function(a){d.unmousemove(h).unmouseup(u);for(var e=p.length,k;e--;)k=p[e],k.el._drag={},f("snap.drag.end."+k.el.id,k.end_scope||k.start_scope||k.move_scope||k.el,a),f.off("snap.drag.*."+k.el.id);p=[]};for(t=a.length;t--;)(function(a){d[a]=r[a]=function(e,h){if(d.is(e,"function"))this.events=this.events||[],this.events.push({name:a,f:e,unbind:B(this.node||document,a,e,h||this)});else for(var k=0,c=this.events.length;k<
c;k++)if(this.events[k].name==a)try{this.events[k].f.call(this)}catch(f){}return this};d["un"+a]=r["un"+a]=function(d){for(var e=this.events||[],h=e.length;h--;)if(e[h].name==a&&(e[h].f==d||!d)){e[h].unbind();e.splice(h,1);!e.length&&delete this.events;break}return this}})(a[t]);r.hover=function(a,d,e,h){return this.mouseover(a,e).mouseout(d,h||e)};r.unhover=function(a,d){return this.unmouseover(a).unmouseout(d)};var y=[];r.drag=function(a,e,k,l,c,m){function q(r,v,B){(r.originalEvent||r).preventDefault();
t._drag.x=v;t._drag.y=B;t._drag.id=r.identifier;!p.length&&d.mousemove(h).mouseup(u);p.push({el:t,move_scope:l,start_scope:c,end_scope:m});e&&f.on("snap.drag.start."+t.id,e);a&&f.on("snap.drag.move."+t.id,a);k&&f.on("snap.drag.end."+t.id,k);f("snap.drag.start."+t.id,c||l||t,v,B,r)}function r(a,b,c){f("snap.draginit."+t.id,t,a,b,c)}var t=this;if(!arguments.length){var v;return t.drag(function(a,b){this.attr({transform:v+(v?"T":"t")+[a,b]})},function(){v=this.transform().local})}f.on("snap.draginit."+
t.id,q);t._drag={};y.push({el:t,start:q,init:r});t.mousedown(r);return t};r.undrag=function(){for(var a=y.length;a--;)y[a].el==this&&(this.unmousedown(y[a].init),y.splice(a,1),f.unbind("snap.drag.*."+this.id),f.unbind("snap.draginit."+this.id));!y.length&&d.unmousemove(h).unmouseup(u);return this}});A.plugin(function(d,a,t,m){t=t.prototype;var r=/^\s*url\((.+)\)/,l=String,v=d._.$;d.filter={};t.filter=function(k){var e=this;"svg"!=e.type&&(e=e.paper);k=d.parse(l(k));var f=d._.id(),m=v("filter");v(m,
{id:f,filterUnits:"userSpaceOnUse"});m.appendChild(k.node);e.defs.appendChild(m);return new a(m)};f.on("snap.util.getattr.filter",function(){f.stop();var a=v(this.node,"filter");if(a)return(a=l(a).match(r))&&d.select(a[1])});f.on("snap.util.attr.filter",function(k){if(k instanceof a&&"filter"==k.type){f.stop();var e=k.node.id;e||(v(k.node,{id:k.id}),e=k.id);v(this.node,{filter:d.url(e)})}k&&"none"!=k||(f.stop(),this.node.removeAttribute("filter"))});d.filter.blur=function(a,e){null==a&&(a=2);return d.format('<feGaussianBlur stdDeviation="{def}"/>',
{def:null==e?a:[a,e]})};d.filter.blur.toString=function(){return this()};d.filter.shadow=function(a,e,f,l,m){"string"==typeof f&&(m=l=f,f=4);"string"!=typeof l&&(m=l,l="#000");null==f&&(f=4);null==m&&(m=1);null==a&&(a=0,e=2);null==e&&(e=a);l=d.color(l||"#000");return d.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',
{color:l,dx:a,dy:e,blur:f,opacity:m})};d.filter.shadow.toString=function(){return this()};d.filter.grayscale=function(a){null==a&&(a=1);return d.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-a),b:.7152-.7152*(1-a),c:.0722-.0722*(1-a),d:.2126-.2126*(1-a),e:.7152+.2848*(1-a),f:.0722-.0722*(1-a),g:.2126-.2126*(1-a),h:.0722+.9278*(1-a)})};d.filter.grayscale.toString=function(){return this()};d.filter.sepia=function(a){null==
a&&(a=1);return d.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-a),b:.769-.769*(1-a),c:.189-.189*(1-a),d:.349-.349*(1-a),e:.686+.314*(1-a),f:.168-.168*(1-a),g:.272-.272*(1-a),h:.534-.534*(1-a),i:.131+.869*(1-a)})};d.filter.sepia.toString=function(){return this()};d.filter.saturate=function(a){null==a&&(a=1);return d.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-a})};d.filter.saturate.toString=function(){return this()};
d.filter.hueRotate=function(a){return d.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:a||0})};d.filter.hueRotate.toString=function(){return this()};d.filter.invert=function(a){null==a&&(a=1);return d.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:a,amount2:1-a})};d.filter.invert.toString=function(){return this()};
d.filter.brightness=function(a){null==a&&(a=1);return d.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:a})};d.filter.brightness.toString=function(){return this()};d.filter.contrast=function(a){null==a&&(a=1);return d.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',
{amount:a,amount2:.5-a/2})};d.filter.contrast.toString=function(){return this()}});A.plugin(function(d,a,f,m,r){var l=d._.box,v=d.is,k=/^[^a-z]*([tbmlrc])/i,e=function(){return"T"+this.dx+","+this.dy};a.prototype.getAlign=function(a,d){null==d&&v(a,"string")&&(d=a,a=null);a=a||this.paper;var f=a.getBBox?a.getBBox():l(a),h=this.getBBox(),m={};d=(d=d&&d.match(k))?d[1].toLowerCase():"c";switch(d){case "t":m.dx=0;m.dy=f.y-h.y;break;case "b":m.dx=0;m.dy=f.y2-h.y2;break;case "m":m.dx=0;m.dy=f.cy-h.cy;break;
case "l":m.dx=f.x-h.x;m.dy=0;break;case "r":m.dx=f.x2-h.x2;m.dy=0;break;default:m.dx=f.cx-h.cx,m.dy=0}m.toString=e;return m};a.prototype.align=function(a,d){return this.transform("..."+this.getAlign(a,d))}});return A});
"document"in self&&("classList"in document.createElement("_")?function(){var x=document.createElement("_");x.classList.add("c1","c2");if(!x.classList.contains("c2")){var f=function(f){var d=DOMTokenList.prototype[f];DOMTokenList.prototype[f]=function(a){var f,m=arguments.length;for(f=0;f<m;f++)a=arguments[f],d.call(this,a)}};f("add");f("remove")}x.classList.toggle("c3",!1);if(x.classList.contains("c3")){var u=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(f,d){return 1 in arguments&&
!this.contains(f)===!d?d:u.call(this,f)}}x=null}():function(x){if("Element"in x){x=x.Element.prototype;var f=Object,u=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},A=Array.prototype.indexOf||function(a){for(var d=0,e=this.length;d<e;d++)if(d in this&&this[d]===a)return d;return-1},d=function(a,d){this.name=a;this.code=DOMException[a];this.message=d},a=function(a,f){if(""===f)throw new d("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(f))throw new d("INVALID_CHARACTER_ERR",
"String contains an invalid character");return A.call(a,f)},t=function(a){for(var d=u.call(a.getAttribute("class")||""),d=d?d.split(/\s+/):[],e=0,f=d.length;e<f;e++)this.push(d[e]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},m=t.prototype=[],r=function(){return new t(this)};d.prototype=Error.prototype;m.item=function(a){return this[a]||null};m.contains=function(d){return-1!==a(this,d+"")};m.add=function(){var d=arguments,f=0,e=d.length,l,m=!1;do l=d[f]+"",-1===a(this,
l)&&(this.push(l),m=!0);while(++f<e);m&&this._updateClassName()};m.remove=function(){var d=arguments,f=0,e=d.length,l,m=!1,p;do for(l=d[f]+"",p=a(this,l);-1!==p;)this.splice(p,1),m=!0,p=a(this,l);while(++f<e);m&&this._updateClassName()};m.toggle=function(a,d){a+="";var e=this.contains(a),f=e?!0!==d&&"remove":!1!==d&&"add";if(f)this[f](a);return!0===d||!1===d?d:!e};m.toString=function(){return this.join(" ")};if(f.defineProperty){m={get:r,enumerable:!0,configurable:!0};try{f.defineProperty(x,"classList",
m)}catch(l){-2146823252===l.number&&(m.enumerable=!1,f.defineProperty(x,"classList",m))}}else f.prototype.__defineGetter__&&x.__defineGetter__("classList",r)}}(self));define("classList",function(){});
define("config",[],function(){return{FONT_FAMILY:"'Lato', sans-serif",TEXT_SIZE_SMALL:12,SPILLOVER_TOP:.07,SPILLOVER_RIGHT:0,SPILLOVER_BOTTOM:.05,SPILLOVER_LEFT:0,MAX_LABEL_DENSITY:1.5,TOP_PADDING:40,BOTTOM_PADDING:30,LEFT_PADDING:10,RIGHT_PADDING:10,TARGET_MARKER_COUNT:6,TICK_MARK_VERTICAL_PADDING:10,TICK_MARK_HORIZONTAL_PADDING:10,LABEL_AXIS_PADDING:10,NEGATIVE_PROPORTION_STICKY_LABELS_LIMIT:1/3,SHARED_TINT_MINIMUM_RATIO:.95,GROUP_WIDTH_TO_PADDING_RATIO:4,GROUP_PADDING_TO_BAR_PADDING_RATIO:4,BAR_MINIMUM_THICKNESS:12,
BAR_GROUP_TARGET_THICKNESS:24,BAR_SPACING:5,BAR_GROUP_WIDTH_TO_PADDING_RATIO:4,TARGET_KEY_COLUMN_WIDTH:200,KEY_MARGIN_TOP:45,KEY_PADDING_TOP:20,KEY_PADDING_BOTTOM:20,KEY_PADDING_LEFT:30,KEY_PADDING_RIGHT:30,KEY_TEXT_SPACING:5,KEY_COLUMN_PADDING_RATIO:.1,KEY_ROWSPACING:8,KEY_SQUARE_LENGTH:13,KEY_DIVIDOR_HEIGHT:19,KEY_MIN_PULLOUT_TITLE_LENGTH:4,KEY_MIN_WIDTH_FOR_AXIS_ALIGNMENT:352}});
define("data-processor",[],function(){return{tableToJSON:function(x,f){function u(){this.series=[];this.rows=[];this.range={min:null,max:null};this.labels=[]}u.prototype={constructor:u};var A=[];f.pulloutItems&&(A=f.pulloutItems.split(","));for(var d=/^\-?[0-9]+(,[0-9]{3})*(\.[0-9]+)?$/,a=x.querySelectorAll("thead > tr > th"),t=x.querySelectorAll("tbody > tr"),m=new u,r=1;r<a.length;r++){var l={title:a[r].textContent},v=a[r].getAttribute("data-fm-color");v&&(l.colorOverride=v);m.series.push(l)}for(a=
0;a<t.length;a++)if(t[a].children[0]){r=t[a].children[0].textContent;m.labels.push(r);v=!1;if(-1!==A.indexOf(String(a+1))||-1!==A.indexOf(r))v=!0;var l={key:a,title:r,values:[],pullout:v};if(v=t[a].getAttribute("data-fm-color"))l.colorOverride=v;m.rows.push(l);for(r=1;r<t[a].children.length;r++){v=null;t[a].children[r].textContent.match(d)&&(v=parseFloat(t[a].children[r].textContent.replace(/,([0-9]{3})/g,"$1")));if(null===m.range.min||m.range.min>v)m.range.min=v;if(null===m.range.max||m.range.max<
v)m.range.max=v;m.rows[a].values.push({value:v})}}return m}}});
define("number-utils",[],function(){return{roundToOrder:function(x,f,u){function A(d,a){var f=Math.abs(d);f>=Math.pow(10,u)?(d=A(d/10,a),d*=10):f<Math.pow(10,u-1)?(d*=10,d=A(d,a),d/=10):(f=Math.round(d/a)*a,0===f&&(u++,f=A(d,a)),d=f);return parseFloat(d.toPrecision(u+1))}x=parseFloat(x);if(0==x)return 0;u||(u=2);return 1===f?parseFloat(x.toPrecision(u)):A(x,f)},renderValue:function(x){function f(a){if(0==a)return 0;if(1<=a&&1E3>a)return a;if(1>a)return A-=3,f(1E3*a);if(1E3<=a)return A+=3,f(a/1E3)}
if(0===x)return"0";if(!x)return"";var u=1;0>x&&(u=-1,x*=-1);x=this.roundToOrder(x,1,3);var A=0,d=new String(u*f(x));return 3==A?d+"k":6==A?d+"m":9==A?d+"bn":12==A?d+" trillion":new String(u*x)},getDataTotal:function(x){for(var f=0,u=0;u<x.length;u++)f+=x[u].value;return f},getAngle:function(x,f,u){u="undefined"===typeof u?Circle.whole:u;return u/f*x},getFactor:function(x){for(var f=x-1;1<f;f--){var u=x/f;if(parseInt(u)==u)return f}return x}}});
define("scale-utils",["number-utils"],function(x){return{Scale:function(f,u,A,d){this.start=f;this.middle=f+u/2;this.end=f+u;if(A==d)throw"Min and max values are the same";var a=A>d?!0:!1;this.getPixel=function(t,m){if((t<A||t>d)&&!1===("undefined"===typeof m?!0:!1)&&!(a&&t<=A&&t>=d))throw"Out of range";return f+(t-A)/(d-A)*u}},AreaScale:function(f,u,A,d){this.start=f;this.middle=f+u/2;this.midValue=A+(d-A)*Math.pow(.5,2);this.end=f+u;if(A==d)throw"Min value and max are the same";var a=A>d?!0:!1;
this.getPixel=function(t,m){if((t<A||t>d)&&!1===("undefined"===typeof m?!0:!1)&&!(a&&t<=A&&t>=d))throw"Out of range";var r=Math.pow((t-A)/(d-A),.5);return f+u*r}},getTickMarks:function(f,u,A,d){var a=0,t=0,m=0,r=0,m=0,l=[],r=m=0;f==u&&(a=0!==u?u/10:1,f-=a,u+=a);A=(u-f)/(A-1);t=a=0;a=Math.floor(Math.log(A)/Math.LN10);t=A/Math.pow(10,a);t=(1.5>t?1:3>t?2:7>t?5:10)*Math.pow(10,a);m=Math.floor(f/t)*t;r=Math.ceil(u/t)*t;a=Math.max(-Math.floor(Math.log(t)/Math.LN10),1);r+=.5*t;d&&(0!==m&&(m-=t),r+=t);for(;m<
r;m+=t)l.push(parseFloat(m.toFixed(a)));return l}}});
define("color-utils",[],function(){return{colorWheelClasses:"fm-datum-color-wheel-a fm-datum-color-wheel-b fm-datum-color-wheel-c fm-datum-color-wheel-d fm-datum-color-wheel-e fm-datum-color-wheel-f fm-datum-color-wheel-g fm-datum-color-wheel-h fm-datum-color-wheel-i fm-datum-color-wheel-j fm-datum-color-wheel-k fm-datum-color-wheel-l".split(" "),overflowClass:"fm-datum-color-overflow",pad:function(x){return 2>x.length?"0"+x:x},contrasting:function(x){throw"Not yet implemented";},registerTint1Filter:function(){throw"Not yet implemented";
},registerTint2Filter:function(){throw"Not yet implemented";},lowContrast:function(x,f){f="undefined"===typeof f?0:f;if(x+f>this.colorWheelClasses.length){for(var u=[],A=0;A<x;A++)A<this.colorWheelClasses.length?u.push(this.colorWheelClasses[A]):u.push(this.colorWheelClasses[this.colorWheelClasses.length-A]);return u}return this.colorWheelClasses.splice(f,x)},monochromatic:function(x,f,u){throw"Not yet implemented";},harmonious:function(x){for(var f=Math.min(x,this.colorWheelClasses.length),u=[],
A=Math.floor(this.colorWheelClasses.length/2),d=function(){return 0==this.colorWheelClasses.length%4}.bind(this),a=function(a,d){a=(a+this.colorWheelClasses.length)%this.colorWheelClasses.length;var k=Math.floor(u.length/4)+1;u.length<f&&u.splice(1*k-1,0,a);u.length<f&&u.splice(2*k-1,0,(a+d+1)%this.colorWheelClasses.length);u.length<f&&u.splice(3*k-1,0,(a+A)%this.colorWheelClasses.length);u.length<f&&u.splice(4*k-1,0,(a+d+1+A)%this.colorWheelClasses.length)}.bind(this),t=function(a,d){a=(a+this.colorWheelClasses.length)%
this.colorWheelClasses.length;u.splice(d,0,a)}.bind(this),m=1,r=0;m<=A-2;m+=2,r--)a(r,m);a=u.length/4;u.length<f&&t(1,a);u.length<f&&t(1+A,3*a+1);d()&&(u.length<f&&t(1+A/2,2*a+1),u.length<f&&t(1+3*A/2,4*a+3));d=[];for(t=0;t<x;t++)d.push(this.colorWheelClasses[u[t%f]]);return d}}});
define("tick-mark",["snap","config"],function(x,f){return x.plugin(function(u,A,d){d.prototype.tickMark=function(a,d,m,r,l){if("horizontal"===m){a=this.text(a-f.TICK_MARK_HORIZONTAL_PADDING,d,l).attr({"font-family":f.FONT_FAMILY,"font-size":f.TEXT_SIZE_SMALL,"font-weight":f.TICK_MARK_FONT_WEIGHT,"text-anchor":"end","dominant-baseline":"central"});var v=this.g(a).addClass("fm-tick-mark")}else"vertical"===m?(m=this.line(a,d,a,d+r),a=this.text(a,d+f.TICK_MARK_VERTICAL_PADDING+f.TEXT_SIZE_SMALL/2,l).attr({"font-family":f.FONT_FAMILY,
"font-size":f.TEXT_SIZE_SMALL,"font-weight":f.TICK_MARK_FONT_WEIGHT,"text-anchor":"middle"}),v=this.g(a,m).addClass("fm-tick-mark")):console.err("Incorrect orientation specified");return v}})});
define("axis",["snap","tick-mark","number-utils"],function(x,f,u){return x.plugin(function(f,d,a){a.prototype.axis=function(a,d,f,l,v,k,e,q,B){var p=this,h=p.g(),x=this.g();h.startPoints=[];if("horizontal"===k){l.forEach(function(a){"object"!==typeof a&&(a={position:a,label:u.renderValue(a)});var b=f.getPixel(a.position);h.startPoints.push({x:b,y:d});x.append(p.tickMark(b,d,"vertical",v,a.label,10))});if(q)var y=p.line(a,d,f.end,d).addClass("fm-axis");if(e){var b;B&&"last"!==B?"first"===B?b=x.getBBox().y-
17.5:console.error("Invalid axis label position specified."):b=x.getBBox().y+x.getBBox().height+17.5;e=p.text(f.middle,b,e).addClass("fm-x-axis-label");e.attr({"font-family":"'Lato', sans-serif","font-weight":400,"font-size":12,"text-anchor":"middle"});h.append(e)}h.append(y);h.append(x)}else l.forEach(function(b){"object"!==typeof b&&(b={position:b,label:u.renderValue(b)});var d=f.getPixel(b.position);h.startPoints.push({x:a,y:d});b=p.tickMark(a,d,"horizontal",v,b.label);x.append(b)}),h.append(x),
l=h.getBBox(),q&&(y=p.line(a,d,a,f.end).addClass("fm-axis"),h.append(y)),e&&(e=p.text(l.x-6-25,f.middle,e).addClass("fm-y-axis-label"),e.getBBox(),e.attr({"font-family":"'Lato', sans-serif","font-weight":400,"font-size":12,"text-anchor":"middle"}).transform("r -90"),h.append(e));return h}})});
define("grid-lines",["snap"],function(x){return x.plugin(function(f,u,x){x.prototype.gridLines=function(d,a,f,m,r){function l(){f.forEach(function(a,f){var l=k.line(d,a.y,d+m,a.y).addClass("fm-grid-line");e.append(l)})}function v(){f.forEach(function(d,f){var l=k.line(d.x,a,d.x,a+m).addClass("fm-grid-line");e.append(l)})}var k=this,e=this.g();"horizontal"===r?l():"vertical"===r?v():console.err("Invalid orientation specified");return e}})});
define("multitext",["snap"],function(x){return x.plugin(function(f,u,x,d){x.prototype.multitext=function(a,d,f,r,l){"undefined"===typeof r&&(r="1.8em");"undefined"===typeof l&&(l="start");f=f.split("\n");d=this.text(a,d,f);d.attr({textAnchor:l});d.selectAll("tspan:nth-child(n+2)").attr({dy:r,x:a});return d}})});
define("Tooltip",["config","multitext"],function(x,f){function u(d,a,f,m){(this.enableBlackBorder=m)&&!document.getElementById("black-border")&&(d.node.querySelector("defs").innerHTML+='<filter id="black-border" x="-5%" y="-5%" width="110%" height="110%"><feMorphology in="SourceAlpha" operator="dilate" radius="1" result="border"></feMorphology><feGaussianBlur stdDeviation="0.2" in="border" result="blurred-border"></feGaussianBlur><feMerge><feMergeNode in="blurred-border"></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter>');this.tooltipClass=
a;this.colorClass=f;this._paper=d;this._parent=d.node;this._tooltipBG=this._tooltipArrow=null;this._tooltipPlacement="right";this.snapElement=this._tooltipText=null}var A;x.TOOLTIP_MAX_VALUE_LENGTH?A=x.TOOLTIP_MAX_VALUE_LENGTH:20;u.prototype={_positionTooltipArrow:function(d){var a=Snap.matrix(),f=this._tooltipBG.getBBox();switch(d){case "left":a.translate(f.width+4,f.height/2);a.rotate(180);this._tooltipArrow.transform(a.toTransformString());break;case "right":a.translate(-4,f.height/2);this._tooltipArrow.transform(a.toTransformString());
break;case "top":a.translate(f.width/2,f.height+4);a.rotate(-90);this._tooltipArrow.transform(a.toTransformString());break;case "bottom":a.translate(f.width/2,-4),a.rotate(90),this._tooltipArrow.transform(a.toTransformString())}this._tooltipPlacement=d},constructor:u,hide:function(){this.snapElement&&this.snapElement.attr("display","none")},remove:function(){this._tooltipText=this._tooltipBG=this._tooltipArrow=null;this.snapElement.remove();this.snapElement=null},render:function(d,a){var f=this._paper,
m=null;null!==this.snapElement&&this.remove();this.snapElement=f.g();var r,l="[object Array]"===Object.prototype.toString.call(a)?!0:!1;d.length>A&&(d=d.substring(0,A-3)+"...");if(l){r=f.g();r.attr({fill:"#fff"});var v=f.text(10,10,d);v.attr({dy:parseInt("12px",10),"font-family":"'Lato', sans-serif","font-size":"12px"});r.append(v);var k=[],e=[];a.forEach(function(a){var d;d=a.title.length>A?a.title.substring(0,A-3)+"...":a.title;a=a.value.length>A?a.value.substring(0,A-3)+"...":a.value;k.push(d+
":");e.push(a)});var m=f.multitext(10,20+v.getBBox().height+5,k.join("\n"),"1.2em").attr({"font-family":"'Lato', sans-serif","font-size":"12px"}),q=f.multitext(10,20+v.getBBox().height+5,e.join("\n"),"1.2em","end").attr({"font-family":"'Lato', sans-serif","font-size":"12px"});q.transform("t "+(m.getBBox().width+q.getBBox().width+5)+" 0");r.append(m);r.append(q)}else r=f.text(10,10,d+": "+a),r.attr({dy:parseInt("12px",10)});this._tooltipText=r;this.snapElement.append(r);this.snapElement.addClass("fm-tooltip "+
this.tooltipClass);m=r.getBBox();r=f.rect(0,0,m.width+10+10,m.height+10+10,4);r.addClass(this.colorClass);this._tooltipBG=r;l&&v.transform("t "+(m.width/2-v.getBBox().width/2)+" 0");this._tooltipArrow=f=f.polygon([-5,.2,5,-5,5,5]).addClass(this.colorClass);this._positionTooltipArrow(this._tooltipPlacement);this.snapElement.prepend(r);this.snapElement.append(f);this.hide();this.enableBlackBorder&&this.snapElement.attr({filter:"url(#black-border)"});return this.snapElement},setPosition:function(d,a,
f){if(this.snapElement){void 0===f?f=this._tooltipPlacement:f!==this._tooltipPlacement&&this._positionTooltipArrow(f);var m=this._tooltipArrow.getBBox(),r=this._tooltipBG.getBBox();switch(f){case "left":d=d-m.width-r.width;a-=r.height/2;break;case "right":d+=m.width;a-=r.height/2;break;case "bottom":d-=r.width/2;a+=m.height;break;case "top":d-=r.width/2,a=a-r.height-m.height}this.snapElement.transform("T"+d+","+a)}},show:function(){this.snapElement&&(this.snapElement.parent().append(this.snapElement),
this.snapElement.attr("display","block"))}};return u});
define("key",["snap","config","color-utils"],function(x,f,u){x=function(f,d,a,t,m,r,l,v,k,e,q,u){this._paper=f;this.node=f.g();this.x=d;this.y=a;this.width=t;this.columns=m;this.columnWidth=r;this.centerItems=l;this.values=v;this.maxValues=k;this.maxValueLength=e;this.lastItemIsOther=q;this.colorClasses=u};x.prototype={constructor:x,hide:function(){},remove:function(){this.node.parent.remove(this.node);this.node=null},render:function(){var x=this.values.length;if("undefined"===typeof this.maxValues||
this.maxValues>x)this.maxValues=x;"undefined"===typeof this.maxValueLength&&(this.maxValueLength=f.KEY_MAX_TEXT_LENGTH);var d;d=this.colorClasses?this.colorClasses:u.harmonious(x);this.container=this.node.rect(this.x,this.y,this.width,10).addClass("fm-key-container").attr({fill:f.KEY_NEUTRAL_FILL,stroke:f.KEY_NEUTRAL_STROKE});var a=this.node.g().addClass("fm-key-items"),t=0,m=0,r;this.values.every(function(l,k){if(k===this.maxValues)return!1;var e;e=k===this.values.length-1&&this.lastItemIsOther?
"fm-datum-color-overflow":d[k];0!==k&&0===k%this.columns&&(t=0,m+=r.getBBox().height+f.KEY_ROWSPACING);var q=l.length>this.maxValueLength?l.substring(0,this.maxValueLength-1)+"\u2026":l;e=this.node.rect(this.x+t,this.y+f.KEY_PADDING_TOP+m,13,13).addClass(e);r=this.node.text(this.x+f.KEY_TEXT_SPACING+e.getBBox().width+t,this.y+f.KEY_PADDING_TOP+m+parseInt(e.attr("height"),10)-1,q).attr({"font-family":f.FONT_FAMILY,"font-size":f.TEXT_SIZE_SMALL});q=this.node.g(e,r).data("fullText",l[k]);e=this.columnWidth-
f.KEY_TEXT_SPACING;var u=q.getBBox().width;if(!(u<=e))for(var p=q.select("text"),h=p.attr("text"),x=!0,h=h.substr(0,h.length-1)+"\u2026";x;)if(h=h.substr(0,h.length-2)+"\u2026",p.attr("text",h),u=q.getBBox().width,u<=e||5===h.length)x=!1;a.append(q);t+=this.columnWidth;return!0}.bind(this));var x=a.getBBox(),l=this.container.getBBox();this.container.attr({height:x.height+f.KEY_PADDING_TOP+f.KEY_PADDING_BOTTOM});!0===this.centerItems?a.transform("t"+(l.width/2-x.width/2)+" 0"):a.transform("t"+f.KEY_PADDING_LEFT+
" 0");return this.node.g(this.container,a).addClass("fm-key").attr({strokeDasharray:this.width+","+l.height+",0,"+100*this.width+",0"})},show:function(){},setHeight:function(f){this.node.select(".fm-key-container").attr({height:f+"px"})}};return x});
define("columnBarUtils",["Tooltip","key","config"],function(x,f,u){var A=function(){return-1!==navigator.userAgent.indexOf("MSIE")||0<navigator.appVersion.indexOf("Trident/")?!0:!1};return{calculateTotalLabelsLength:function(d,a){var f=0,m=0;d.forEach(function(d){var l=a.group().addClass("fm-axis"),v=a.text(-1E3,-1E3,d);d=a.text(-1E3,-1E3,d).addClass("fm-squeezed-label");l.append(v);l.append(d);var k=v.getBBox().width;k>f&&(f=k);k=d.getBBox().width;k>m&&(m=k);v.remove();d.remove();l.remove()});return{target:f*
d.length,squeezed:m*d.length}},straddlesZero:function(d){return 0>d.min*d.max},getNegativeProportion:function(d,a){return 0<d*a?0:-d/a},createTooltip:function(d,a,f,m,r,l,v){d=new x(d,"fm-column-bar-tooltip","fm-datum-color-overflow");r=d.render(r,l).addClass("with-fill");v.append(r);d.setPosition(a,f,m);return d},drawPullout:function(d,a,f,m,r){d=d.rect(a,f,m,r);d.addClass("fm-pullout");return d},drawKey:function(d,a,t,m,r,l,v,k){var e=l.map(function(a){return a.value}),q=k?!0:!1,B=d.group().addClass("fm-key"),
p=l.length;q&&p++;var h=Math.min(p,Math.ceil(m/r));2>h&&q&&(h=2);r=m/(h+u.KEY_COLUMN_PADDING_RATIO);q&&h--;p=d.line(a,t,a+m,t);t=(new f(d,a,t,m,h,r,!q,e,null,100,!1,v)).render();v=t.node.querySelectorAll(".fm-key-items > g");for(e=0;e<v.length;e++)l[e].colorOverride&&(h=v[e].querySelector("rect"),h.setAttribute("fill",l[e].colorOverride),h.className.baseVal="");B.append(t);B.append(p);if(q){p=t.select(".fm-key-items").getBBox();l=d.group();q=a+m-r;r=p.cy;p=d.line(q,r-u.KEY_DIVIDOR_HEIGHT/2,q,r+u.KEY_DIVIDOR_HEIGHT/
2).addClass("fm-key-dividor");l.append(p);q+=u.KEY_SQUARE_LENGTH;p=d.rect(q,r-u.KEY_SQUARE_LENGTH/2,u.KEY_SQUARE_LENGTH,u.KEY_SQUARE_LENGTH).addClass("fm-pullout-key");l.append(p);q+=u.KEY_SQUARE_LENGTH+u.KEY_TEXT_SPACING;d=d.text(q,r,k).addClass("fm-pullout-title");for(A()&&d.attr({dy:"0.5em"});d.getBBox().x2>a+m&&!(k.length<=u.KEY_MIN_PULLOUT_TITLE_LENGTH);)k=k.substring(0,k.length-1),d.node.textContent=k+"\u2026";l.append(d);B.append(l)}return B},isIE:A}});
define("column","snap config scale-utils number-utils axis columnBarUtils".split(" "),function(x,f,u,A,d,a){function t(d,f,l,t,k,e,q){var u=null;f.hover(function(){null===u&&(u=a.createTooltip(d,f.getBBox().cx,l,t,k,e,q));u.show()},function(){u.hide()})}return{drawYRangeAxis:function(a,d,l,t,k,e,q,u){k=k.map(function(a){var b=A.renderValue(Math.abs(a));return{position:a,label:(0>a?"-":"")+e+b+q}});u=a.axis(d,t.start,t,k,l,"vertical",u,!1,"first").addClass("fm-axis");u.transform("translate("+u.getBBox().width+
",0)");var p=a.group(),h=u.getBBox().x2+f.LABEL_AXIS_PADDING,x=d+l;k.forEach(function(d){var b=t.getPixel(d.position),b=a.line(h,b,x,b);0===d.position?b.addClass("fm-major-grid-line"):b.addClass("fm-minor-grid-line");p.append(b)});return u},drawXLabelAxis:function(d,r,l,t,k,e,q,u){var p=d.group().addClass("fm-axis"),h=r+f.LABEL_AXIS_PADDING+q+e/2;k.forEach(function(k){var r=d.text(h,k.invertPosition?l-f.TICK_MARK_VERTICAL_PADDING:l+f.TICK_MARK_VERTICAL_PADDING,k.text);u&&r.addClass("fm-squeezed-label");
k.invertPosition?r.addClass("fm-inverted-axis-label"):r.addClass("fm-axis-label");k.pulledOut&&r.addClass("fm-pulled-out-label");a.isIE()&&r.attr({dy:"0.5em"});p.append(r);h+=2*q+e});return p},drawColumns:function(d,r,l,v,k,e,q,u,p,h){var x=q.getPixel(0),y=d.group(),b=d.group(),w=d.group(),z=r+f.LABEL_AXIS_PADDING;l.rows.forEach(function(f){if(f.pullout){var c=a.drawPullout(d,z,q.end,2*v+k*l.series.length+e*(l.series.length-1),q.start-q.end);y.append(c)}z+=v;l.series.forEach(function(a,c){0!==c&&
(z+=e);if(f.values[c]){var r="top",v=q.getPixel(f.values[c].value),y=v,A=x-v;0>A&&(A*=-1,y=x,r="bottom");y=d.rect(z,y,k,A).addClass("fm-column-bar-datum");1<l.series.length?a.hasOwnProperty("colorOverride")?y.attr({fill:a.colorOverride}):y.addClass(u[c]):f.hasOwnProperty("colorOverride")?y.attr({fill:f.colorOverride}):y.addClass(u[c]);f.tintClass&&y.addClass(f.tintClass);A=f.values[c].value;A=(0>A?"-":"")+p+Math.abs(A)+h;t(d,y,v,r,a.title,A,w);b.append(y)}z+=k});z+=v});b.append(w);return b}}});
define("bar","snap config scale-utils number-utils axis columnBarUtils".split(" "),function(x,f,u,A,d,a){function t(d,f,l,t,k,e,q){var u=null;f.hover(function(){if(null===u){var p=f.getBBox();u=a.createTooltip(d,l,p.cy,t,k,e,q);var h=d.node.getBoundingClientRect(),x=u.snapElement.getBBox();if(0===x.x2||0===x.width)u.show(),x=u.snapElement.getBBox(),u.hide();if(x.x2>h.width||0>x.x)u=p.cy>h.height/2?a.createTooltip(d,p.cx,p.y,"top",k,e,q):a.createTooltip(d,p.cx,p.y2,"bottom",k,e,q)}u.show()},function(){u.hide()})}
return{drawXRangeAxis:function(a,d,f,t,k,e,q,u){k=k.map(function(a){var d=A.renderValue(Math.abs(a));return{position:a,label:(0>a?"-":"")+e+d+q}});u=a.axis(t.start,d,t,k,0,"horizontal",u,!1,"last").addClass("fm-axis");var p=a.group(),h=d-f;k.forEach(function(e){var f=t.getPixel(e.position),f=a.line(f,d,f,h);0===e.position?f.addClass("fm-major-grid-line"):f.addClass("fm-minor-grid-line");p.append(f)});return u},drawYLabelAxis:function(d,r,l,t,k,e,q,u,p){var h=d.group().addClass("fm-axis").addClass("fm-y-axis"),
x=l-f.LABEL_AXIS_PADDING-q-e/2;k.forEach(function(f){var b=d.text(r,x,f.text).addClass("fm-axis-label").attr("text-anchor","end");h.append(b);f.pulledOut&&b.addClass("fm-pulled-out-label");a.isIE()&&b.attr({dy:"0.5em"});x-=2*q+e});h.transform("translate("+h.getBBox().width+",0)");return h},drawBars:function(d,r,l,u,k,e,q,x,p,h){var A=q.getPixel(0),y=d.group(),b=d.group(),w=d.group(),z=r-f.LABEL_AXIS_PADDING;l.rows.forEach(function(f){if(f.pullout){var c=2*u+k*l.series.length+e*(l.series.length-1),
c=a.drawPullout(d,q.start,z-c,q.end-q.start,c);y.append(c)}z-=u;l.series.forEach(function(a,c){0<c&&(z-=e);z-=k;if(f.values[c]){var r="right",u=q.getPixel(f.values[c].value),v=A,y=u-A;0>y&&(y*=-1,v-=y,r="left");v=d.rect(v,z,y,k).addClass("fm-column-bar-datum");1<l.series.length?a.hasOwnProperty("colorOverride")?v.attr({fill:a.colorOverride}):v.addClass(x[c]):f.hasOwnProperty("colorOverride")?v.attr({fill:f.colorOverride}):v.addClass(x[c]);f.tintClass&&v.addClass(f.tintClass);y=f.values[c].value;y=
(0>y?"-":"")+p+Math.abs(y)+h;t(d,v,u,r,a.title,y,w);b.append(v)}});z-=u});b.append(w);return b}}});
define("column-bar","snap config scale-utils color-utils number-utils axis grid-lines Tooltip key column bar columnBarUtils".split(" "),function(x,f,u,A,d,a,t,m,r,l,v,k){return x.plugin(function(a,d,m){function p(a,d,e,h,c,m,p,r,q){var t=r.valuePrefix?r.valuePrefix:"",v=r.valueSuffix?r.valueSuffix:"",x=u.getTickMarks(m.range.min,m.range.max,f.TARGET_MARKER_COUNT,!1),y=x[0],A=x[x.length-1];e=new u.Scale(e+c-f.BOTTOM_PADDING,-(e+c-f.TOP_PADDING-f.BOTTOM_PADDING),y,A);d=l.drawYRangeAxis(a,d+f.LEFT_PADDING,
h-d-f.LEFT_PADDING-f.RIGHT_PADDING,e,x,t,v,r.axisLabel);m.labels.map(function(a,b){return{position:b,label:a}});d=d.getBBox().x2+f.LABEL_AXIS_PADDING;h=h-d-f.RIGHT_PADDING;c=f.GROUP_WIDTH_TO_PADDING_RATIO*f.GROUP_PADDING_TO_BAR_PADDING_RATIO+1-m.series.length;x=(h-2*f.LABEL_AXIS_PADDING)*c/(m.rows.length*m.series.length*f.GROUP_PADDING_TO_BAR_PADDING_RATIO*(f.GROUP_WIDTH_TO_PADDING_RATIO+2));c=x*m.series.length*f.GROUP_PADDING_TO_BAR_PADDING_RATIO/c;var B=c/f.GROUP_PADDING_TO_BAR_PADDING_RATIO,D=
m.series.length*x+(m.series.length-1)*B,H=!1,M=m.labels.map(function(a,b){var c=!1,d=!0;m.rows[b].values.forEach(function(a){0>a.value?c=!0:d=!1});c&&!d&&(H=!0);return{text:a,invertPosition:c,pulledOut:m.rows[b].pullout}});H||k.getNegativeProportion(y,A)<f.NEGATIVE_PROPORTION_STICKY_LABELS_LIMIT?(M.forEach(function(a){a.invertPosition=!1}),y=e.start):y=e.getPixel(0);q=l.drawXLabelAxis(a,d,y,h,M,D,c,q);l.drawColumns(a,d,m,c,x,B,e,p,t,v);if(1<m.series.length||r.pulloutTitle)t=m.series.map(function(a,
b){var c={value:a.title};m.series[b].hasOwnProperty("colorOverride")&&(c.colorOverride=m.series[b].colorOverride);return c}),v=Math.max(q.getBBox().y2,e.start),p=k.drawKey(a,d,v+f.KEY_MARGIN_TOP,h,f.TARGET_KEY_COLUMN_WIDTH,t,p,r.pulloutTitle).getBBox().y2,r=a.node.getBoundingClientRect(),a.node.setAttribute("viewBox","0 0 "+(r.right-r.left)+" "+p),a.node.style.height=p+"px"}function h(a){a.rows.reverse();a.labels.reverse();a.series.reverse();a.rows.forEach(function(a){a.values.reverse()})}function r(a,
d,e,l,c,m,p,q){h(m);c=q.valuePrefix?q.valuePrefix:"";var t=q.valueSuffix?q.valueSuffix:"",x=f.BAR_GROUP_TARGET_THICKNESS/m.series.length,x=Math.max(x,f.BAR_MINIMUM_THICKNESS),y=f.BAR_SPACING,A=m.series.length*x+(m.series.length-1)*y,B=A/f.BAR_GROUP_WIDTH_TO_PADDING_RATIO,D=m.rows.length*(A+2*B)+2*f.LABEL_AXIS_PADDING,I=m.labels.map(function(a,b){return{text:a,pulledOut:m.rows[b].pullout}}),A=v.drawYLabelAxis(a,d+f.LEFT_PADDING,e+f.TOP_PADDING+D,D,I,A,B,c,t),I=u.getTickMarks(m.range.min,m.range.max,
f.TARGET_MARKER_COUNT,!1),A=A.getBBox().x2+f.TICK_MARK_HORIZONTAL_PADDING,A=new u.Scale(A,l-f.RIGHT_PADDING-A,I[0],I[I.length-1]),I=v.drawXRangeAxis(a,e+f.TOP_PADDING+D,D,A,I,c,t,q.axisLabel);v.drawBars(a,e+f.TOP_PADDING+D,m,B,x,y,A,p,c,t);e=I.getBBox().y2+f.BOTTOM_PADDING;if(1<m.series.length||q.pulloutTitle)c=m.series.map(function(a,b){var c={value:a.title};m.series[b].hasOwnProperty("colorOverride")&&(c.colorOverride=m.series[b].colorOverride);return c}),t=A.start,x=A.end-A.start,x<f.KEY_MIN_WIDTH_FOR_AXIS_ALIGNMENT&&
(x=l,t=d),e=k.drawKey(a,t,e+f.KEY_MARGIN_TOP,x,f.TARGET_KEY_COLUMN_WIDTH,c,p,q.pulloutTitle).getBBox().y2;d=a.node.getBoundingClientRect();a.node.setAttribute("viewBox","0 0 "+(d.right-d.left)+" "+e);a.node.style.height=e+"px"}function t(a){var d=0;a.rows.concat().sort(function(a,b){return b.values[0].value-a.values[0].value}).forEach(function(a,b,c){c=c[b-1];0!==b&&a.values[0].value/c.values[0].value<f.SHARED_TINT_MINIMUM_RATIO&&9>d&&d++;a.tintClass="tint-"+d})}m.prototype.chart=function(a,d,e,h,
c,l){k.straddlesZero(c.range)||(c.range.min<=c.range.max?c.range.min=0:c.range.max=0);var m;m=A.lowContrast(c.series.length,3<c.series.length||1===c.series.length?5:4);1===c.series.length&&t(c);var q=k.calculateTotalLabelsLength(c.labels,this),v=e/q.squeezed,q=e/q.target>f.MAX_LABEL_DENSITY,v=!q&&v>f.MAX_LABEL_DENSITY;q||v?p(this,a,d,e,h,c,m,l,v):r(this,a,d,e,h,c,m,l)}})});
define("render",["snap","classList","config","data-processor","column-bar"],function(x,f,u,A,d){function a(a){return a.split("-").map(function(a,d){return 0===d?a:a.charAt(0).toUpperCase()+a.substr(1)}).join("")}function t(a,d){var f=document.createElement("div");f.className="fm-powered-by-factmint";f.innerHTML='Powered by <a style="color: #527a92" href="http://factmint.com/charts">Factmint</a>';f.style.fontSize="8px";f.style.lineHeight="12px";f.style.width=d;f.style.textAlign="center";f.style.fontFamily=
"Lato, sans-serif";a.parentNode.insertBefore(f,a.nextSibling)}var m=/([0-9]+)(px|%|rem|em|ex|ch|vw|vh|vmin|vmax|mm|cm|in|pt|pc)/;return function(d){var f=d.getAttribute("data-fm-config"),v=f&&window[f]?window[f]:{};[].filter.call(d.attributes,function(a){return"data-fm-config"===a.name?!1:/^data-fm-/.test(a.name)}).forEach(function(b){var c=b.name.replace(/^data-fm-/,""),c=a(c);v[c]=b.value});v.width||(v.width="100%");v.height||(v.height="450px");if(null===v.height.match(m)||null===v.width.match(m))throw"A valid CSS length must be used for the chart dimensions (such as 50% or 400px)";
var k,e,q;v.width.replace(m,function(a,b,c){k=parseFloat(b);e=k*(u.SPILLOVER_LEFT+u.SPILLOVER_RIGHT);q=c});var B,p,h;v.height.replace(m,function(a,b,c){B=parseFloat(b);p=B*(u.SPILLOVER_TOP+u.SPILLOVER_BOTTOM);h=c});f=document.createElementNS("http://www.w3.org/2000/svg","svg");f.style.opacity=0;f.style.transition="opacity 0.3s ease-in-out";d.id||(d.id=Math.floor(16777216*Math.random()).toString(16));f.setAttribute("aria-describedby",d.id);v.enableSpillover?(f.style.height=B+p+h,f.style.width=k+e+
q,f.style.margin="-"+u.SPILLOVER_TOP*B+h+" -"+u.SPILLOVER_RIGHT*k+q+" -"+u.SPILLOVER_BOTTOM*B+h+" -"+u.SPILLOVER_LEFT*k+q):(f.style.height=B+h,f.style.width=k+q);d.parentElement.insertBefore(f,d);var D=x(f),y=A.tableToJSON(d,v),b=f.getBoundingClientRect(),w=b.right-b.left,b=b.bottom-b.top,z=w/(1+u.SPILLOVER_LEFT+u.SPILLOVER_RIGHT),F=b/(1+u.SPILLOVER_TOP+u.SPILLOVER_BOTTOM),c=z*u.SPILLOVER_LEFT,C=F*u.SPILLOVER_TOP;f.setAttribute("viewBox","0 0 "+w+" "+b);D.chart(c,C,z,F,y,v);d.classList.add("fm-hidden");
f.style.opacity=1;t(f,k+q)}});
require.config({paths:{text:"../../bower_components/requirejs-text/text",classList:"../../bower_components/classlist/classList",snap:"../../bower_components/Snap.svg/dist/snap.svg",axis:"../../bower_components/axis/dist/axis","grid-lines":"../../bower_components/grid-lines/dist/grid-lines","scale-utils":"../../bower_components/scale-utilities/dist/scale-utils","number-utils":"../../bower_components/number-utils/dist/number-utils","color-utils":"../../bower_components/color-utils/dist/color","tick-mark":"../../bower_components/tick-mark/dist/tick-mark",
multitext:"../../bower_components/multitext/dist/multitext",key:"../../bower_components/key/dist/key","scatter-key":"../../bower_components/scatter-key/dist/scatter-key",Tooltip:"../../bower_components/Tooltip/dist/Tooltip",moment:"../../bower_components/moment/moment"},shim:{snap:{exports:"Snap"}}});
require(["render"],function(x){function f(){var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.style.width="500px";document.body.appendChild(a);var d=a.getBoundingClientRect();a.parentNode.removeChild(a);return 500===d.width?!0:!1}var u=function(){for(var a=!1,d=document.querySelectorAll("script"),f=0;f<d.length;f++){var r=d[f].getAttribute("src");if(r){var l="s"==r[4]?1:0;if("f"==r[7+l]&&"i"==r[16+l]&&"c"==r[9+l]&&"."==r[15+l]){a=!0;break}}}return a},A=document.querySelectorAll("table.fm-column-bar");
if(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)if(f()){if(!u())throw"Licence error";for(u=0;u<A.length;u++)if(window.factmint&&window.factmint.previewVisualizations||!A[u].hasAttribute("data-fm-rendered")){A[u].setAttribute("data-fm-rendered","true");try{x(A[u])}catch(d){console.log("ERROR: chart rendering failed"),d instanceof Error?console.log(d.stack):console.log(d)}}}else console.log("Your browser does not correctly support getBoundingClientRect() for SVG elements: visualizations disabled");
else console.log("SVG not supported: visualizations disabled")});define("main",function(){});
