/* bubble-chart version 3.4.2; Copyright (c) Factmint Ltd (http://factmint.com); Licensed under the MIT License (http://opensource.org/licenses/MIT); Includes SnapSVG, https://github.com/adobe-webplatform/Snap.svg/blob/master/LICENSE */
/*
 almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/almond for details
*/
'use strict';var requirejs,require,define;
(function(t){function d(l,b){var a,c,h,e,f,q,d,p,r,x=b&&b.split("/"),y=w.map,k=y&&y["*"]||{};if(l&&"."===l.charAt(0))if(b){l=l.split("/");f=l.length-1;w.nodeIdCompat&&u.test(l[f])&&(l[f]=l[f].replace(u,""));l=x.slice(0,x.length-1).concat(l);for(f=0;f<l.length;f+=1)if(a=l[f],"."===a)l.splice(f,1),--f;else if(".."===a)if(1!==f||".."!==l[2]&&".."!==l[0])0<f&&(l.splice(f-1,2),f-=2);else break;l=l.join("/")}else 0===l.indexOf("./")&&(l=l.substring(2));if((x||k)&&y){a=l.split("/");for(f=a.length;0<f;--f){c=
a.slice(0,f).join("/");if(x)for(r=x.length;0<r;--r)if(h=y[x.slice(0,r).join("/")])if(h=h[c]){e=h;q=f;break}if(e)break;!d&&k&&k[c]&&(d=k[c],p=f)}!e&&d&&(e=d,q=p);e&&(a.splice(0,q,e),l=a.join("/"))}return l}function m(l,b){return function(){var a=x.call(arguments,0);"string"!==typeof a[0]&&1===a.length&&a.push(null);return p.apply(t,a.concat([l,b]))}}function n(l){return function(a){return d(a,l)}}function a(l){return function(a){e[l]=a}}function b(l){if(c.call(f,l)){var a=f[l];delete f[l];r[l]=!0;
B.apply(t,a)}if(!c.call(e,l)&&!c.call(r,l))throw Error("No "+l);return e[l]}function k(l){var a,b=l?l.indexOf("!"):-1;-1<b&&(a=l.substring(0,b),l=l.substring(b+1,l.length));return[a,l]}function E(l){return function(){return w&&w.config&&w.config[l]||{}}}var B,p,y,q,e={},f={},w={},r={},c=Object.prototype.hasOwnProperty,x=[].slice,u=/\.js$/;y=function(l,a){var c,e=k(l),h=e[0];l=e[1];h&&(h=d(h,a),c=b(h));h?l=c&&c.normalize?c.normalize(l,n(a)):d(l,a):(l=d(l,a),e=k(l),h=e[0],l=e[1],h&&(c=b(h)));return{f:h?
h+"!"+l:l,n:l,pr:h,p:c}};q={require:function(l){return m(l)},exports:function(l){var a=e[l];return"undefined"!==typeof a?a:e[l]={}},module:function(l){return{id:l,uri:"",exports:e[l],config:E(l)}}};B=function(l,v,d,p){var h,z,x,w,u=[];z=typeof d;var k;p=p||l;if("undefined"===z||"function"===z){v=!v.length&&d.length?["require","exports","module"]:v;for(w=0;w<v.length;w+=1)if(x=y(v[w],p),z=x.f,"require"===z)u[w]=q.require(l);else if("exports"===z)u[w]=q.exports(l),k=!0;else if("module"===z)h=u[w]=q.module(l);
else if(c.call(e,z)||c.call(f,z)||c.call(r,z))u[w]=b(z);else if(x.p)x.p.load(x.n,m(p,!0),a(z),{}),u[w]=e[z];else throw Error(l+" missing "+z);v=d?d.apply(e[l],u):void 0;l&&(h&&h.exports!==t&&h.exports!==e[l]?e[l]=h.exports:v===t&&k||(e[l]=v))}else l&&(e[l]=d)};requirejs=require=p=function(l,a,c,e,h){if("string"===typeof l)return q[l]?q[l](a):b(y(l,a).f);if(!l.splice){w=l;w.deps&&p(w.deps,w.callback);if(!a)return;a.splice?(l=a,a=c,c=null):l=t}a=a||function(){};"function"===typeof c&&(c=e,e=h);e?B(t,
l,a,c):setTimeout(function(){B(t,l,a,c)},4);return p};p.config=function(l){return p(l)};requirejs._defined=e;define=function(l,a,b){if("string"!==typeof l)throw Error("See almond README: incorrect module build, no module name");a.splice||(b=a,a=[]);c.call(e,l)||c.call(f,l)||(f[l]=[l,a,b])};define.amd={jQuery:!0}})();define("almond",function(){});
(function(t){var d=/[\.\/]/,m=/\s*,\s*/,n=function(a,b){return a-b},a,b,k={n:{}},E=function(){for(var a=0,b=this.length;a<b;a++)if("undefined"!=typeof this[a])return this[a]},B=function(){for(var a=this.length;--a;)if("undefined"!=typeof this[a])return this[a]},p=function(d,q){d=String(d);var e=b,f=Array.prototype.slice.call(arguments,2),w=p.listeners(d),r=0,c,x=[],u={},l=[],v=a;l.firstDefined=E;l.lastDefined=B;a=d;for(var k=b=0,m=w.length;k<m;k++)"zIndex"in w[k]&&(x.push(w[k].zIndex),0>w[k].zIndex&&
(u[w[k].zIndex]=w[k]));for(x.sort(n);0>x[r];)if(c=u[x[r++]],l.push(c.apply(q,f)),b)return b=e,l;for(k=0;k<m;k++)if(c=w[k],"zIndex"in c)if(c.zIndex==x[r]){l.push(c.apply(q,f));if(b)break;do if(r++,(c=u[x[r]])&&l.push(c.apply(q,f)),b)break;while(c)}else u[c.zIndex]=c;else if(l.push(c.apply(q,f)),b)break;b=e;a=v;return l};p._events=k;p.listeners=function(a){a=a.split(d);var b=k,e,f,p,r,c,x,u,l=[b],v=[];p=0;for(r=a.length;p<r;p++){u=[];c=0;for(x=l.length;c<x;c++)for(b=l[c].n,e=[b[a[p]],b["*"]],f=2;f--;)if(b=
e[f])u.push(b),v=v.concat(b.f||[]);l=u}return v};p.on=function(a,b){a=String(a);if("function"!=typeof b)return function(){};for(var e=a.split(m),f=0,p=e.length;f<p;f++)(function(a){a=a.split(d);for(var c=k,e,f=0,l=a.length;f<l;f++)c=c.n,c=c.hasOwnProperty(a[f])&&c[a[f]]||(c[a[f]]={n:{}});c.f=c.f||[];f=0;for(l=c.f.length;f<l;f++)if(c.f[f]==b){e=!0;break}!e&&c.f.push(b)})(e[f]);return function(a){+a==+a&&(b.zIndex=+a)}};p.f=function(a){var b=[].slice.call(arguments,1);return function(){p.apply(null,
[a,null].concat(b).concat([].slice.call(arguments,0)))}};p.stop=function(){b=1};p.nt=function(b){return b?(new RegExp("(?:\\.|\\/|^)"+b+"(?:\\.|\\/|$)")).test(a):a};p.nts=function(){return a.split(d)};p.off=p.unbind=function(a,b){if(a){var e=a.split(m);if(1<e.length)for(var f=0,w=e.length;f<w;f++)p.off(e[f],b);else{for(var e=a.split(d),r,c,x,u,l=[k],f=0,w=e.length;f<w;f++)for(u=0;u<l.length;u+=x.length-2){x=[u,1];r=l[u].n;if("*"!=e[f])r[e[f]]&&x.push(r[e[f]]);else for(c in r)r.hasOwnProperty(c)&&
x.push(r[c]);l.splice.apply(l,x)}f=0;for(w=l.length;f<w;f++)for(r=l[f];r.n;){if(b){if(r.f){u=0;for(e=r.f.length;u<e;u++)if(r.f[u]==b){r.f.splice(u,1);break}!r.f.length&&delete r.f}for(c in r.n)if(r.n.hasOwnProperty(c)&&r.n[c].f){x=r.n[c].f;u=0;for(e=x.length;u<e;u++)if(x[u]==b){x.splice(u,1);break}!x.length&&delete r.n[c].f}}else for(c in delete r.f,r.n)r.n.hasOwnProperty(c)&&r.n[c].f&&delete r.n[c].f;r=r.n}}}else p._events=k={n:{}}};p.once=function(a,b){var e=function(){p.unbind(a,e);return b.apply(this,
arguments)};return p.on(a,e)};p.version="0.4.2";p.toString=function(){return"You are running Eve 0.4.2"};"undefined"!=typeof module&&module.exports?module.exports=p:"function"===typeof define&&define.amd?define("eve",[],function(){return p}):t.eve=p})(this);
(function(t,d){if("function"==typeof define&&define.amd)define("snap",["eve"],function(m){return d(t,m)});else if("undefined"!=typeof exports){var m=require("eve");module.exports=d(t,m)}else d(t,t.eve)})(window||this,function(t,d){var m=function(a){var b={},d=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(a){setTimeout(a,16)},m=Array.isArray||function(a){return a instanceof Array||"[object Array]"==
Object.prototype.toString.call(a)},B=0,p="M"+(+new Date).toString(36),y=function(a){if(null==a)return this.s;var b=this.s-a;this.b+=this.dur*b;this.B+=this.dur*b;this.s=a},q=function(a){if(null==a)return this.spd;this.spd=a},e=function(a){if(null==a)return this.dur;this.s=this.s*a/this.dur;this.dur=a},f=function(){delete b[this.id];this.update();a("mina.stop."+this.id,this)},w=function(){this.pdif||(delete b[this.id],this.update(),this.pdif=this.get()-this.b)},r=function(){this.pdif&&(this.b=this.get()-
this.pdif,delete this.pdif,b[this.id]=this)},c=function(){var a;if(m(this.start)){a=[];for(var b=0,c=this.start.length;b<c;b++)a[b]=+this.start[b]+(this.end[b]-this.start[b])*this.easing(this.s)}else a=+this.start+(this.end-this.start)*this.easing(this.s);this.set(a)},x=function(){var l=0,c;for(c in b)if(b.hasOwnProperty(c)){var e=b[c],f=e.get();l++;e.s=(f-e.b)/(e.dur/e.spd);1<=e.s&&(delete b[c],e.s=1,l--,function(h){setTimeout(function(){a("mina.finish."+h.id,h)})}(e));e.update()}l&&d(x)},u=function(a,
v,m,E,h,z,D){a={id:p+(B++).toString(36),start:a,end:v,b:m,s:0,dur:E-m,spd:1,get:h,set:z,easing:D||u.linear,status:y,speed:q,duration:e,stop:f,pause:w,resume:r,update:c};b[a.id]=a;v=0;for(var n in b)if(b.hasOwnProperty(n)&&(v++,2==v))break;1==v&&d(x);return a};u.time=Date.now||function(){return+new Date};u.getById=function(a){return b[a]||null};u.linear=function(a){return a};u.easeout=function(a){return Math.pow(a,1.7)};u.easein=function(a){return Math.pow(a,.48)};u.easeinout=function(a){if(1==a)return 1;
if(0==a)return 0;var b=.48-a/1.04,c=Math.sqrt(.1734+b*b);a=c-b;b=-c-b;a=Math.pow(Math.abs(a),1/3)*(0>a?-1:1)+Math.pow(Math.abs(b),1/3)*(0>b?-1:1)+.5;return 3*(1-a)*a*a+a*a*a};u.backin=function(a){return 1==a?1:a*a*(2.70158*a-1.70158)};u.backout=function(a){if(0==a)return 0;--a;return a*a*(2.70158*a+1.70158)+1};u.elastic=function(a){return a==!!a?a:Math.pow(2,-10*a)*Math.sin(2*(a-.075)*Math.PI/.3)+1};u.bounce=function(a){a<1/2.75?a*=7.5625*a:a<2/2.75?(a-=1.5/2.75,a=7.5625*a*a+.75):a<2.5/2.75?(a-=2.25/
2.75,a=7.5625*a*a+.9375):(a-=2.625/2.75,a=7.5625*a*a+.984375);return a};return t.mina=u}("undefined"==typeof d?function(){}:d),n=function(a){function b(A,a){if(A){if(A.nodeType)return u(A);if(m(A,"array")&&b.set)return b.set.apply(b,A);if(A instanceof w)return A;if(null==a)return A=v.doc.querySelector(String(A)),u(A)}return new x(null==A?"100%":A,null==a?"100%":a)}function k(A,a){if(a){"#text"==A&&(A=v.doc.createTextNode(a.text||a["#text"]||""));"#comment"==A&&(A=v.doc.createComment(a.text||a["#text"]||
""));"string"==typeof A&&(A=k(A));if("string"==typeof a)return 1==A.nodeType?"xlink:"==a.substring(0,6)?A.getAttributeNS(N,a.substring(6)):"xml:"==a.substring(0,4)?A.getAttributeNS(O,a.substring(4)):A.getAttribute(a):"text"==a?A.nodeValue:null;if(1==A.nodeType)for(var h in a){if(a[n](h)){var b=C(a[h]);b?"xlink:"==h.substring(0,6)?A.setAttributeNS(N,h.substring(6),b):"xml:"==h.substring(0,4)?A.setAttributeNS(O,h.substring(4),b):A.setAttribute(h,b):A.removeAttribute(h)}}else"text"in a&&(A.nodeValue=
a.text)}else A=v.doc.createElementNS(O,A);return A}function m(A,a){a=C.prototype.toLowerCase.call(a);return"finite"==a?isFinite(A):"array"==a&&(A instanceof Array||Array.isArray&&Array.isArray(A))?!0:"null"==a&&null===A||a==typeof A&&null!==A||"object"==a&&A===Object(A)||K.call(A).slice(8,-1).toLowerCase()==a}function B(A){if("function"==typeof A||Object(A)!==A)return A;var a=new A.constructor,h;for(h in A)A[n](h)&&(a[h]=B(A[h]));return a}function p(A,a,h){function b(){var c=Array.prototype.slice.call(arguments,
0),e=c.join("\u2400"),f=b.cache=b.cache||{},l=b.count=b.count||[];if(f[n](e)){a:for(var c=l,l=e,z=0,F=c.length;z<F;z++)if(c[z]===l){c.push(c.splice(z,1)[0]);break a}return h?h(f[e]):f[e]}1E3<=l.length&&delete f[l.shift()];l.push(e);f[e]=A.apply(a,c);return h?h(f[e]):f[e]}return b}function y(A,a,h,b,c,e){return null==c?(A-=h,a-=b,A||a?(180*D.atan2(-a,-A)/X+540)%360:0):y(A,a,c,e)-y(h,b,c,e)}function q(a){return a%360*X/180}function e(a){return a.node.ownerSVGElement&&u(a.node.ownerSVGElement)||b.select("svg")}
function f(a){m(a,"array")||(a=Array.prototype.slice.call(arguments,0));for(var h=0,b=0,c=this.node;this[h];)delete this[h++];for(h=0;h<a.length;h++)"set"==a[h].type?a[h].forEach(function(a){c.appendChild(a.node)}):c.appendChild(a[h].node);for(var e=c.childNodes,h=0;h<e.length;h++)this[b++]=u(e[h]);return this}function w(a){if(a.snap in H)return H[a.snap];var h;try{h=a.ownerSVGElement}catch(b){}this.node=a;h&&(this.paper=new x(h));this.type=a.tagName||a.nodeName;h=this.id=T(this);this.anims={};this._=
{transform:[]};a.snap=h;H[h]=this;"g"==this.type&&(this.add=f);if(this.type in{g:1,mask:1,pattern:1,symbol:1})for(var c in x.prototype)x.prototype[n](c)&&(this[c]=x.prototype[c])}function r(a){this.node=a}function c(a,h){var b=k(a);h.appendChild(b);return u(b)}function x(a,h){var b,e,f,l=x.prototype;if(a&&"svg"==a.tagName){if(a.snap in H)return H[a.snap];var z=a.ownerDocument;b=new w(a);e=a.getElementsByTagName("desc")[0];f=a.getElementsByTagName("defs")[0];e||(e=k("desc"),e.appendChild(z.createTextNode("Created with Snap")),
b.node.appendChild(e));f||(f=k("defs"),b.node.appendChild(f));b.defs=f;for(var F in l)l[n](F)&&(b[F]=l[F]);b.paper=b.root=b}else b=c("svg",v.doc.body),k(b.node,{height:h,version:1.1,width:a,xmlns:O});return b}function u(a){return!a||a instanceof w||a instanceof r?a:a.tagName&&"svg"==a.tagName.toLowerCase()?new x(a):a.tagName&&"object"==a.tagName.toLowerCase()&&"image/svg+xml"==a.type?new x(a.contentDocument.getElementsByTagName("svg")[0]):new w(a)}function l(a,h){for(var b=0,c=a.length;b<c;b++){var e=
{type:a[b].type,attr:a[b].attr()},f=a[b].children();h.push(e);f.length&&l(f,e.childNodes=[])}}b.version="0.4.0";b.toString=function(){return"Snap v"+this.version};b._={};var v={win:a.window,doc:a.window.document};b._.glob=v;var n="hasOwnProperty",C=String,h=parseFloat,z=parseInt,D=Math,Y=D.max,S=D.min,t=D.abs,X=D.PI,K=Object.prototype.toString,V=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i;
b._.separator=/[,\s]+/;var Q=/[\s]*,[\s]*/,P={hs:1,rg:1},G=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/ig,I=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/ig,R=/(-?\d*\.?\d*(?:e[\-+]?\\d+)?)[\s]*,?[\s]*/ig,L=0,U="S"+(+new Date).toString(36),T=function(a){return(a&&a.type?a.type:"")+U+(L++).toString(36)},N="http://www.w3.org/1999/xlink",O="http://www.w3.org/2000/svg",H={};b.url=function(a){return"url('#"+a+"')"};b._.$=k;b._.id=T;b.format=function(){var a=/\{([^\}]+)\}/g,h=
/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,b=function(a,A,b){var c=b;A.replace(h,function(a,A,h,b,e){A=A||b;c&&(A in c&&(c=c[A]),"function"==typeof c&&e&&(c=c()))});return c=(null==c||c==b?a:c)+""};return function(h,c){return C(h).replace(a,function(a,A){return b(a,A,c)})}}();b._.clone=B;b._.cacher=p;b.rad=q;b.deg=function(a){return 180*a/X%360};b.sin=function(a){return D.sin(b.rad(a))};b.tan=function(a){return D.tan(b.rad(a))};b.cos=function(a){return D.cos(b.rad(a))};b.asin=function(a){return b.deg(D.asin(a))};
b.acos=function(a){return b.deg(D.acos(a))};b.atan=function(a){return b.deg(D.atan(a))};b.atan2=function(a){return b.deg(D.atan2(a))};b.angle=y;b.len=function(a,h,c,e){return Math.sqrt(b.len2(a,h,c,e))};b.len2=function(a,h,b,c){return(a-b)*(a-b)+(h-c)*(h-c)};b.closestPoint=function(a,h,b){function c(a){var A=a.x-h;a=a.y-b;return A*A+a*a}a=a.node;for(var e=a.getTotalLength(),f=e/a.pathSegList.numberOfItems*.125,l,z,F=Infinity,d,q=0,p;q<=e;q+=f)(p=c(d=a.getPointAtLength(q)))<F&&(l=d,z=q,F=p);for(f*=
.5;.5<f;){var r,x,v,w,k,u;0<=(v=z-f)&&(k=c(r=a.getPointAtLength(v)))<F?(l=r,z=v,F=k):(w=z+f)<=e&&(u=c(x=a.getPointAtLength(w)))<F?(l=x,z=w,F=u):f*=.5}return l={x:l.x,y:l.y,length:z,distance:Math.sqrt(F)}};b.is=m;b.snapTo=function(a,h,b){b=m(b,"finite")?b:10;if(m(a,"array"))for(var c=a.length;c--;){if(t(a[c]-h)<=b)return a[c]}else{a=+a;c=h%a;if(c<b)return h-c;if(c>a-b)return h-c+a}return h};b.getRGB=p(function(a){if(!a||(a=C(a)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Z};if("none"==
a)return{r:-1,g:-1,b:-1,hex:"none",toString:Z};!P[n](a.toLowerCase().substring(0,2))&&"#"!=a.charAt()&&(a=F(a));if(!a)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Z};var c,e,f,l,d;if(a=a.match(V)){a[2]&&(f=z(a[2].substring(5),16),e=z(a[2].substring(3,5),16),c=z(a[2].substring(1,3),16));a[3]&&(f=z((d=a[3].charAt(3))+d,16),e=z((d=a[3].charAt(2))+d,16),c=z((d=a[3].charAt(1))+d,16));a[4]&&(d=a[4].split(Q),c=h(d[0]),"%"==d[0].slice(-1)&&(c*=2.55),e=h(d[1]),"%"==d[1].slice(-1)&&(e*=2.55),f=h(d[2]),
"%"==d[2].slice(-1)&&(f*=2.55),"rgba"==a[1].toLowerCase().slice(0,4)&&(l=h(d[3])),d[3]&&"%"==d[3].slice(-1)&&(l/=100));if(a[5])return d=a[5].split(Q),c=h(d[0]),"%"==d[0].slice(-1)&&(c/=100),e=h(d[1]),"%"==d[1].slice(-1)&&(e/=100),f=h(d[2]),"%"==d[2].slice(-1)&&(f/=100),"deg"!=d[0].slice(-3)&&"\u00b0"!=d[0].slice(-1)||(c/=360),"hsba"==a[1].toLowerCase().slice(0,4)&&(l=h(d[3])),d[3]&&"%"==d[3].slice(-1)&&(l/=100),b.hsb2rgb(c,e,f,l);if(a[6])return d=a[6].split(Q),c=h(d[0]),"%"==d[0].slice(-1)&&(c/=100),
e=h(d[1]),"%"==d[1].slice(-1)&&(e/=100),f=h(d[2]),"%"==d[2].slice(-1)&&(f/=100),"deg"!=d[0].slice(-3)&&"\u00b0"!=d[0].slice(-1)||(c/=360),"hsla"==a[1].toLowerCase().slice(0,4)&&(l=h(d[3])),d[3]&&"%"==d[3].slice(-1)&&(l/=100),b.hsl2rgb(c,e,f,l);c=S(D.round(c),255);e=S(D.round(e),255);f=S(D.round(f),255);l=S(Y(l,0),1);a={r:c,g:e,b:f,toString:Z};a.hex="#"+(16777216|f|e<<8|c<<16).toString(16).slice(1);a.opacity=m(l,"finite")?l:1;return a}return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:Z}},b);b.hsb=
p(function(a,h,c){return b.hsb2rgb(a,h,c).hex});b.hsl=p(function(a,h,c){return b.hsl2rgb(a,h,c).hex});b.rgb=p(function(a,h,b,c){if(m(c,"finite")){var e=D.round;return"rgba("+[e(a),e(h),e(b),+c.toFixed(2)]+")"}return"#"+(16777216|b|h<<8|a<<16).toString(16).slice(1)});var F=function(a){var h=v.doc.getElementsByTagName("head")[0]||v.doc.getElementsByTagName("svg")[0];F=p(function(a){if("red"==a.toLowerCase())return"rgb(255, 0, 0)";h.style.color="rgb(255, 0, 0)";h.style.color=a;a=v.doc.defaultView.getComputedStyle(h,
"").getPropertyValue("color");return"rgb(255, 0, 0)"==a?null:a});return F(a)},oa=function(){return"hsb("+[this.h,this.s,this.b]+")"},pa=function(){return"hsl("+[this.h,this.s,this.l]+")"},Z=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},ka=function(a,h,c){null==h&&m(a,"object")&&"r"in a&&"g"in a&&"b"in a&&(c=a.b,h=a.g,a=a.r);null==h&&m(a,string)&&(c=b.getRGB(a),a=c.r,h=c.g,c=c.b);if(1<a||1<h||1<c)a/=255,h/=255,c/=255;return[a,h,c]},
ha=function(a,h,c,e){a=D.round(255*a);h=D.round(255*h);c=D.round(255*c);a={r:a,g:h,b:c,opacity:m(e,"finite")?e:1,hex:b.rgb(a,h,c),toString:Z};m(e,"finite")&&(a.opacity=e);return a};b.color=function(a){var h;m(a,"object")&&"h"in a&&"s"in a&&"b"in a?(h=b.hsb2rgb(a),a.r=h.r,a.g=h.g,a.b=h.b,a.opacity=1,a.hex=h.hex):m(a,"object")&&"h"in a&&"s"in a&&"l"in a?(h=b.hsl2rgb(a),a.r=h.r,a.g=h.g,a.b=h.b,a.opacity=1,a.hex=h.hex):(m(a,"string")&&(a=b.getRGB(a)),m(a,"object")&&"r"in a&&"g"in a&&"b"in a&&!("error"in
a)?(h=b.rgb2hsl(a),a.h=h.h,a.s=h.s,a.l=h.l,h=b.rgb2hsb(a),a.v=h.b):(a={hex:"none"},a.r=a.g=a.b=a.h=a.s=a.v=a.l=-1,a.error=1));a.toString=Z;return a};b.hsb2rgb=function(a,h,b,c){m(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(b=a.b,h=a.s,c=a.o,a=a.h);var e,f,l;a=360*a%360/60;l=b*h;h=l*(1-t(a%2-1));b=e=f=b-l;a=~~a;b+=[l,h,0,0,h,l][a];e+=[h,l,l,h,0,0][a];f+=[0,0,h,l,l,h][a];return ha(b,e,f,c)};b.hsl2rgb=function(a,h,b,c){m(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(b=a.l,h=a.s,a=a.h);if(1<a||1<h||1<b)a/=360,
h/=100,b/=100;var e,f,l;a=360*a%360/60;l=2*h*(.5>b?b:1-b);h=l*(1-t(a%2-1));b=e=f=b-l/2;a=~~a;b+=[l,h,0,0,h,l][a];e+=[h,l,l,h,0,0][a];f+=[0,0,h,l,l,h][a];return ha(b,e,f,c)};b.rgb2hsb=function(a,h,b){b=ka(a,h,b);a=b[0];h=b[1];b=b[2];var c,e;c=Y(a,h,b);e=c-S(a,h,b);a=((0==e?null:c==a?(h-b)/e:c==h?(b-a)/e+2:(a-h)/e+4)+360)%6*60/360;return{h:a,s:0==e?0:e/c,b:c,toString:oa}};b.rgb2hsl=function(a,h,b){b=ka(a,h,b);a=b[0];h=b[1];b=b[2];var c,e,f;c=Y(a,h,b);e=S(a,h,b);f=c-e;a=((0==f?null:c==a?(h-b)/f:c==h?
(b-a)/f+2:(a-h)/f+4)+360)%6*60/360;c=(c+e)/2;return{h:a,s:0==f?0:.5>c?f/(2*c):f/(2-2*c),l:c,toString:pa}};b.parsePathString=function(a){if(!a)return null;var h=b.path(a);if(h.arr)return b.path.clone(h.arr);var c={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},e=[];m(a,"array")&&m(a[0],"array")&&(e=b.path.clone(a));e.length||C(a).replace(G,function(a,h,b){var f=[];a=h.toLowerCase();b.replace(R,function(a,h){h&&f.push(+h)});"m"==a&&2<f.length&&(e.push([h].concat(f.splice(0,2))),a="l",h="m"==h?
"l":"L");"o"==a&&1==f.length&&e.push([h,f[0]]);if("r"==a)e.push([h].concat(f));else for(;f.length>=c[a]&&(e.push([h].concat(f.splice(0,c[a]))),c[a]););});e.toString=b.path.toString;h.arr=b.path.clone(e);return e};var ja=b.parseTransformString=function(a){if(!a)return null;var h=[];m(a,"array")&&m(a[0],"array")&&(h=b.path.clone(a));h.length||C(a).replace(I,function(a,b,c){var e=[];b.toLowerCase();c.replace(R,function(a,h){h&&e.push(+h)});h.push([b].concat(e))});h.toString=b.path.toString;return h};
b._.svgTransform2string=function(a){var h=[];a=a.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(a,b,c){c=c.split(/\s*,\s*|\s+/);"rotate"==b&&1==c.length&&c.push(0,0);"scale"==b&&(2<c.length?c=c.slice(0,2):2==c.length&&c.push(0,0),1==c.length&&c.push(c[0],0,0));"skewX"==b?h.push(["m",1,0,D.tan(q(c[0])),1,0,0]):"skewY"==b?h.push(["m",1,D.tan(q(c[0])),0,1,0,0]):h.push([b.charAt(0)].concat(c));return a});return h};b._.rgTransform=/^[a-z][\s]*-?\.?\d/i;b._.transform2matrix=function(a,h){var c=ja(a),e=new b.Matrix;
if(c)for(var f=0,l=c.length;f<l;f++){var d=c[f],z=d.length,F=C(d[0]).toLowerCase(),q=d[0]!=F,p=q?e.invert():0,r;"t"==F&&2==z?e.translate(d[1],0):"t"==F&&3==z?q?(z=p.x(0,0),F=p.y(0,0),q=p.x(d[1],d[2]),p=p.y(d[1],d[2]),e.translate(q-z,p-F)):e.translate(d[1],d[2]):"r"==F?2==z?(r=r||h,e.rotate(d[1],r.x+r.width/2,r.y+r.height/2)):4==z&&(q?(q=p.x(d[2],d[3]),p=p.y(d[2],d[3]),e.rotate(d[1],q,p)):e.rotate(d[1],d[2],d[3])):"s"==F?2==z||3==z?(r=r||h,e.scale(d[1],d[z-1],r.x+r.width/2,r.y+r.height/2)):4==z?q?
(q=p.x(d[2],d[3]),p=p.y(d[2],d[3]),e.scale(d[1],d[1],q,p)):e.scale(d[1],d[1],d[2],d[3]):5==z&&(q?(q=p.x(d[3],d[4]),p=p.y(d[3],d[4]),e.scale(d[1],d[2],q,p)):e.scale(d[1],d[2],d[3],d[4])):"m"==F&&7==z&&e.add(d[1],d[2],d[3],d[4],d[5],d[6])}return e};b._unit2px=function(a,h,b){function c(a){if(null==a)return"";if(a==+a)return a;k(F,{width:a});try{return F.getBBox().width}catch(h){return 0}}function f(a){if(null==a)return"";if(a==+a)return a;k(F,{height:a});try{return F.getBBox().height}catch(h){return 0}}
function l(c,e){null==h?z[c]=e(a.attr(c)||0):c==h&&(z=e(null==b?a.attr(c)||0:b))}var d=e(a).node,z={},F=d.querySelector(".svg---mgr");F||(F=k("rect"),k(F,{x:-9E9,y:-9E9,width:10,height:10,"class":"svg---mgr",fill:"none"}),d.appendChild(F));switch(a.type){case "rect":l("rx",c),l("ry",f);case "image":l("width",c),l("height",f);case "text":l("x",c);l("y",f);break;case "circle":l("cx",c);l("cy",f);l("r",c);break;case "ellipse":l("cx",c);l("cy",f);l("rx",c);l("ry",f);break;case "line":l("x1",c);l("x2",
c);l("y1",f);l("y2",f);break;case "marker":l("refX",c);l("markerWidth",c);l("refY",f);l("markerHeight",f);break;case "radialGradient":l("fx",c);l("fy",f);break;case "tspan":l("dx",c);l("dy",f);break;default:l(h,c)}d.removeChild(F);return z};b._.getSomeDefs=function(a){a=a.node.ownerSVGElement&&u(a.node.ownerSVGElement)||a.node.parentNode&&u(a.node.parentNode)||b.select("svg")||b(0,0);var h=a.select("defs"),h=null==h?!1:h.node;h||(h=c("defs",a.node).node);return h};b._.getSomeSVG=e;b.select=function(a){a=
C(a).replace(/([^\\]):/g,"$1\\:");return u(v.doc.querySelector(a))};b.selectAll=function(a){a=v.doc.querySelectorAll(a);for(var h=(b.set||Array)(),c=0;c<a.length;c++)h.push(u(a[c]));return h};setInterval(function(){for(var a in H)if(H[n](a)){var h=H[a],c=h.node;("svg"!=h.type&&!c.ownerSVGElement||"svg"==h.type&&(!c.parentNode||"ownerSVGElement"in c.parentNode&&!c.ownerSVGElement))&&delete H[a]}},1E4);w.prototype.attr=function(a,h){var c=this.node;if(!a){if(1!=c.nodeType)return{text:c.nodeValue};for(var b=
c.attributes,c={},e=0,f=b.length;e<f;e++)c[b[e].nodeName]=b[e].nodeValue;return c}if(m(a,"string"))if(1<arguments.length)c={},c[a]=h,a=c;else return d("snap.util.getattr."+a,this).firstDefined();for(b in a)a[n](b)&&d("snap.util.attr."+b,this,a[b]);return this};b.parse=function(a){var h=v.doc.createDocumentFragment(),c=!0,b=v.doc.createElement("div");a=C(a);a.match(/^\s*<\s*svg(?:\s|>)/)||(a="<svg>"+a+"</svg>",c=!1);b.innerHTML=a;if(a=b.getElementsByTagName("svg")[0])if(c)h=a;else for(;a.firstChild;)h.appendChild(a.firstChild);
return new r(h)};b.fragment=function(){for(var a=Array.prototype.slice.call(arguments,0),h=v.doc.createDocumentFragment(),c=0,e=a.length;c<e;c++){var f=a[c];f.node&&f.node.nodeType&&h.appendChild(f.node);f.nodeType&&h.appendChild(f);"string"==typeof f&&h.appendChild(b.parse(f).node)}return new r(h)};b._.make=c;b._.wrap=u;x.prototype.el=function(a,h){var b=c(a,this.node);h&&b.attr(h);return b};w.prototype.children=function(){for(var a=[],h=this.node.childNodes,c=0,e=h.length;c<e;c++)a[c]=b(h[c]);return a};
w.prototype.toJSON=function(){var a=[];l([this],a);return a[0]};d.on("snap.util.getattr",function(){var a=d.nt(),a=a.substring(a.lastIndexOf(".")+1),h=a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()});return ia[n](h)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(h):k(this.node,a)});var ia={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,
cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,
"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};d.on("snap.util.attr",function(a){var h=d.nt(),c={},h=h.substring(h.lastIndexOf(".")+1);c[h]=a;var b=h.replace(/-(\w)/gi,function(a,h){return h.toUpperCase()}),h=h.replace(/[A-Z]/g,
function(a){return"-"+a.toLowerCase()});ia[n](h)?this.node.style[b]=null==a?"":a:k(this.node,c)});b.ajax=function(a,h,c,b){var e=new XMLHttpRequest,f=T();if(e){if(m(h,"function"))b=c,c=h,h=null;else if(m(h,"object")){var l=[],z;for(z in h)h.hasOwnProperty(z)&&l.push(encodeURIComponent(z)+"="+encodeURIComponent(h[z]));h=l.join("&")}e.open(h?"POST":"GET",a,!0);h&&(e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"));c&&(d.once("snap.ajax."+
f+".0",c),d.once("snap.ajax."+f+".200",c),d.once("snap.ajax."+f+".304",c));e.onreadystatechange=function(){4==e.readyState&&d("snap.ajax."+f+"."+e.status,b,e)};if(4==e.readyState)return e;e.send(h);return e}};b.load=function(a,h,c){b.ajax(a,function(a){a=b.parse(a.responseText);c?h.call(c,a):h(a)})};b.getElementByPoint=function(a,h){var c,b,e=v.doc.elementFromPoint(a,h);if(v.win.opera&&"svg"==e.tagName){c=e;b=c.getBoundingClientRect();c=c.ownerDocument;var f=c.body,l=c.documentElement;c=b.top+(g.win.pageYOffset||
l.scrollTop||f.scrollTop)-(l.clientTop||f.clientTop||0);b=b.left+(g.win.pageXOffset||l.scrollLeft||f.scrollLeft)-(l.clientLeft||f.clientLeft||0);f=e.createSVGRect();f.x=a-b;f.y=h-c;f.width=f.height=1;c=e.getIntersectionList(f,null);c.length&&(e=c[c.length-1])}return e?u(e):null};b.plugin=function(a){a(b,w,x,v,r)};return v.win.Snap=b}(t||this);n.plugin(function(a,b,k,n,B){function p(h,c){if(null==c){var b=!0;c="linearGradient"==h.type||"radialGradient"==h.type?h.node.getAttribute("gradientTransform"):
"pattern"==h.type?h.node.getAttribute("patternTransform"):h.node.getAttribute("transform");if(!c)return new a.Matrix;c=a._.svgTransform2string(c)}else c=a._.rgTransform.test(c)?w(c).replace(/\.{3}|\u2026/g,h._.transform||""):a._.svgTransform2string(c),f(c,"array")&&(c=a.path?a.path.toString.call(c):w(c)),h._.transform=c;var e=a._.transform2matrix(c,h.getBBox(1));if(b)return e;h.matrix=e}function y(a){function b(a,h){var e=c(a.node,h);(e=(e=e&&e.match(d))&&e[2])&&"#"==e.charAt()&&(e=e.substring(1))&&
(q[e]=(q[e]||[]).concat(function(b){var e={};e[h]=URL(b);c(a.node,e)}))}function e(a){var h=c(a.node,"xlink:href");h&&"#"==h.charAt()&&(h=h.substring(1))&&(q[h]=(q[h]||[]).concat(function(h){a.attr("xlink:href","#"+h)}))}var f=a.selectAll("*"),l,d=/^\s*url\(("|'|)(.*)\1\)\s*$/;a=[];for(var q={},p=0,r=f.length;p<r;p++){l=f[p];b(l,"fill");b(l,"stroke");b(l,"filter");b(l,"mask");b(l,"clip-path");e(l);var x=c(l.node,"id");x&&(c(l.node,{id:l.id}),a.push({old:x,id:l.id}))}p=0;for(r=a.length;p<r;p++)if(f=
q[a[p].old])for(l=0,x=f.length;l<x;l++)f[l](a[p].id)}function q(a,c,b){return function(e){e=e.slice(a,c);1==e.length&&(e=e[0]);return b?b(e):e}}function e(a){return function(){var c=a?"<"+this.type:"",b=this.node.attributes,e=this.node.childNodes;if(a)for(var f=0,d=b.length;f<d;f++)c+=" "+b[f].name+'="'+b[f].value.replace(/"/g,'\\"')+'"';if(e.length){a&&(c+=">");f=0;for(d=e.length;f<d;f++)3==e[f].nodeType?c+=e[f].nodeValue:1==e[f].nodeType&&(c+=l(e[f]).toString());a&&(c+="</"+this.type+">")}else a&&
(c+="/>");return c}}b=b.prototype;var f=a.is,w=String,r=a._unit2px,c=a._.$,x=a._.make,u=a._.getSomeDefs,l=a._.wrap;b.getBBox=function(h){if(!a.Matrix||!a.path)return this.node.getBBox();var c=this,b=new a.Matrix;if(c.removed)return a._.box();for(;"use"==c.type;)if(h||(b=b.add(c.transform().localMatrix.translate(c.attr("x")||0,c.attr("y")||0))),c.original)c=c.original;else var e=c.attr("xlink:href"),c=c.original=c.node.ownerDocument.getElementById(e.substring(e.indexOf("#")+1));var e=c._,f=a.path.get[c.type]||
a.path.get.deflt;try{if(h)return e.bboxwt=f?a.path.getBBox(c.realPath=f(c)):a._.box(c.node.getBBox()),a._.box(e.bboxwt);c.realPath=f(c);c.matrix=c.transform().localMatrix;e.bbox=a.path.getBBox(a.path.map(c.realPath,b.add(c.matrix)));return a._.box(e.bbox)}catch(l){return a._.box()}};var v=function(){return this.string};b.transform=function(h){var b=this._;if(null==h){var e=this;h=new a.Matrix(this.node.getCTM());for(var f=p(this),l=[f],d=new a.Matrix,q=f.toTransformString(),b=w(f)==w(this.matrix)?
w(b.transform):q;"svg"!=e.type&&(e=e.parent());)l.push(p(e));for(e=l.length;e--;)d.add(l[e]);return{string:b,globalMatrix:h,totalMatrix:d,localMatrix:f,diffMatrix:h.clone().add(f.invert()),global:h.toTransformString(),total:d.toTransformString(),local:q,toString:v}}h instanceof a.Matrix?(this.matrix=h,this._.transform=h.toTransformString()):p(this,h);this.node&&("linearGradient"==this.type||"radialGradient"==this.type?c(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?c(this.node,{patternTransform:this.matrix}):
c(this.node,{transform:this.matrix}));return this};b.parent=function(){return l(this.node.parentNode)};b.append=b.add=function(a){if(a){if("set"==a.type){var c=this;a.forEach(function(a){c.add(a)});return this}a=l(a);this.node.appendChild(a.node);a.paper=this.paper}return this};b.appendTo=function(a){a&&(a=l(a),a.append(this));return this};b.prepend=function(a){if(a){if("set"==a.type){var c=this,b;a.forEach(function(a){b?b.after(a):c.prepend(a);b=a});return this}a=l(a);var e=a.parent();this.node.insertBefore(a.node,
this.node.firstChild);this.add&&this.add();a.paper=this.paper;this.parent()&&this.parent().add();e&&e.add()}return this};b.prependTo=function(a){a=l(a);a.prepend(this);return this};b.before=function(a){if("set"==a.type){var c=this;a.forEach(function(a){var h=a.parent();c.node.parentNode.insertBefore(a.node,c.node);h&&h.add()});this.parent().add();return this}a=l(a);var b=a.parent();this.node.parentNode.insertBefore(a.node,this.node);this.parent()&&this.parent().add();b&&b.add();a.paper=this.paper;
return this};b.after=function(a){a=l(a);var c=a.parent();this.node.nextSibling?this.node.parentNode.insertBefore(a.node,this.node.nextSibling):this.node.parentNode.appendChild(a.node);this.parent()&&this.parent().add();c&&c.add();a.paper=this.paper;return this};b.insertBefore=function(a){a=l(a);var c=this.parent();a.node.parentNode.insertBefore(this.node,a.node);this.paper=a.paper;c&&c.add();a.parent()&&a.parent().add();return this};b.insertAfter=function(a){a=l(a);var c=this.parent();a.node.parentNode.insertBefore(this.node,
a.node.nextSibling);this.paper=a.paper;c&&c.add();a.parent()&&a.parent().add();return this};b.remove=function(){var a=this.parent();this.node.parentNode&&this.node.parentNode.removeChild(this.node);delete this.paper;this.removed=!0;a&&a.add();return this};b.select=function(a){return l(this.node.querySelector(a))};b.selectAll=function(c){c=this.node.querySelectorAll(c);for(var b=(a.set||Array)(),e=0;e<c.length;e++)b.push(l(c[e]));return b};b.asPX=function(a,c){null==c&&(c=this.attr(a));return+r(this,
a,c)};b.use=function(){var a,b=this.node.id;b||(b=this.id,c(this.node,{id:b}));a="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?x(this.type,this.node.parentNode):x("use",this.node.parentNode);c(a.node,{"xlink:href":"#"+b});a.original=this;return a};b.clone=function(){var a=l(this.node.cloneNode(!0));c(a.node,"id")&&c(a.node,{id:a.id});y(a);a.insertAfter(this);return a};b.toDefs=function(){u(this).appendChild(this.node);return this};b.pattern=b.toPattern=function(a,
b,e,l){var d=x("pattern",u(this));null==a&&(a=this.getBBox());f(a,"object")&&"x"in a&&(b=a.y,e=a.width,l=a.height,a=a.x);c(d.node,{x:a,y:b,width:e,height:l,patternUnits:"userSpaceOnUse",id:d.id,viewBox:[a,b,e,l].join(" ")});d.node.appendChild(this.node);return d};b.marker=function(a,b,e,l,d,q){var p=x("marker",u(this));null==a&&(a=this.getBBox());f(a,"object")&&"x"in a&&(b=a.y,e=a.width,l=a.height,d=a.refX||a.cx,q=a.refY||a.cy,a=a.x);c(p.node,{viewBox:[a,b,e,l].join(" "),markerWidth:e,markerHeight:l,
orient:"auto",refX:d||0,refY:q||0,id:p.id});p.node.appendChild(this.node);return p};var J=function(a,c,b,e){"function"!=typeof b||b.length||(e=b,b=m.linear);this.attr=a;this.dur=c;b&&(this.easing=b);e&&(this.callback=e)};a._.Animation=J;a.animation=function(a,c,b,e){return new J(a,c,b,e)};b.inAnim=function(){var a=[],c;for(c in this.anims)this.anims.hasOwnProperty(c)&&function(c){a.push({anim:new J(c._attrs,c.dur,c.easing,c._callback),mina:c,curStatus:c.status(),status:function(a){return c.status(a)},
stop:function(){c.stop()}})}(this.anims[c]);return a};a.animate=function(a,c,b,e,f,l){"function"!=typeof f||f.length||(l=f,f=m.linear);var q=m.time();a=m(a,c,q,q+e,m.time,b,f);l&&d.once("mina.finish."+a.id,l);return a};b.stop=function(){for(var a=this.inAnim(),c=0,b=a.length;c<b;c++)a[c].stop();return this};b.animate=function(a,c,b,e){"function"!=typeof b||b.length||(e=b,b=m.linear);a instanceof J&&(e=a.callback,b=a.easing,c=a.dur,a=a.attr);var l=[],p=[],r={},x,v,k,u=this,n;for(n in a)if(a.hasOwnProperty(n)){u.equal?
(k=u.equal(n,w(a[n])),x=k.from,v=k.to,k=k.f):(x=+u.attr(n),v=+a[n]);var y=f(x,"array")?x.length:1;r[n]=q(l.length,l.length+y,k);l=l.concat(x);p=p.concat(v)}x=m.time();var B=m(l,p,x,x+c,m.time,function(a){var c={},b;for(b in r)r.hasOwnProperty(b)&&(c[b]=r[b](a));u.attr(c)},b);u.anims[B.id]=B;B._attrs=a;B._callback=e;d("snap.animcreated."+u.id,B);d.once("mina.finish."+B.id,function(){delete u.anims[B.id];e&&e.call(u)});d.once("mina.stop."+B.id,function(){delete u.anims[B.id]});return u};var C={};b.data=
function(c,b){var e=C[this.id]=C[this.id]||{};if(0==arguments.length)return d("snap.data.get."+this.id,this,e,null),e;if(1==arguments.length){if(a.is(c,"object")){for(var f in c)c.hasOwnProperty(f)&&this.data(f,c[f]);return this}d("snap.data.get."+this.id,this,e[c],c);return e[c]}e[c]=b;d("snap.data.set."+this.id,this,b,c);return this};b.removeData=function(a){null==a?C[this.id]={}:C[this.id]&&delete C[this.id][a];return this};b.outerSVG=b.toString=e(1);b.innerSVG=e();b.toDataURL=function(){if(t&&
t.btoa){var c=this.getBBox(),c=a.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+c.x.toFixed(3),y:+c.y.toFixed(3),width:+c.width.toFixed(3),height:+c.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(c)))}};B.prototype.select=b.select;B.prototype.selectAll=b.selectAll});n.plugin(function(a,
b,d,m,n){function p(a,b,e,c,d,q){null==b&&"[object SVGMatrix]"==y.call(a)?(this.a=a.a,this.b=a.b,this.c=a.c,this.d=a.d,this.e=a.e,this.f=a.f):null!=a?(this.a=+a,this.b=+b,this.c=+e,this.d=+c,this.e=+d,this.f=+q):(this.a=1,this.c=this.b=0,this.d=1,this.f=this.e=0)}var y=Object.prototype.toString,q=String,e=Math;(function(b){function d(a){return a[0]*a[0]+a[1]*a[1]}function r(a){var b=e.sqrt(d(a));a[0]&&(a[0]/=b);a[1]&&(a[1]/=b)}b.add=function(a,b,e,f,d,q){var r=[[],[],[]],h=[[this.a,this.c,this.e],
[this.b,this.d,this.f],[0,0,1]];b=[[a,e,d],[b,f,q],[0,0,1]];a&&a instanceof p&&(b=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]);for(a=0;3>a;a++)for(e=0;3>e;e++){for(f=d=0;3>f;f++)d+=h[a][f]*b[f][e];r[a][e]=d}this.a=r[0][0];this.b=r[1][0];this.c=r[0][1];this.d=r[1][1];this.e=r[0][2];this.f=r[1][2];return this};b.invert=function(){var a=this.a*this.d-this.b*this.c;return new p(this.d/a,-this.b/a,-this.c/a,this.a/a,(this.c*this.f-this.d*this.e)/a,(this.b*this.e-this.a*this.f)/a)};b.clone=function(){return new p(this.a,
this.b,this.c,this.d,this.e,this.f)};b.translate=function(a,b){return this.add(1,0,0,1,a,b)};b.scale=function(a,b,e,f){null==b&&(b=a);(e||f)&&this.add(1,0,0,1,e,f);this.add(a,0,0,b,0,0);(e||f)&&this.add(1,0,0,1,-e,-f);return this};b.rotate=function(c,b,f){c=a.rad(c);b=b||0;f=f||0;var l=+e.cos(c).toFixed(9);c=+e.sin(c).toFixed(9);this.add(l,c,-c,l,b,f);return this.add(1,0,0,1,-b,-f)};b.x=function(a,b){return a*this.a+b*this.c+this.e};b.y=function(a,b){return a*this.b+b*this.d+this.f};b.get=function(a){return+this[q.fromCharCode(97+
a)].toFixed(4)};b.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"};b.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};b.determinant=function(){return this.a*this.d-this.b*this.c};b.split=function(){var b={};b.dx=this.e;b.dy=this.f;var f=[[this.a,this.c],[this.b,this.d]];b.scalex=e.sqrt(d(f[0]));r(f[0]);b.shear=f[0][0]*f[1][0]+f[0][1]*f[1][1];f[1]=[f[1][0]-f[0][0]*b.shear,f[1][1]-f[0][1]*b.shear];b.scaley=e.sqrt(d(f[1]));
r(f[1]);b.shear/=b.scaley;0>this.determinant()&&(b.scalex=-b.scalex);var q=-f[0][1],f=f[1][1];0>f?(b.rotate=a.deg(e.acos(f)),0>q&&(b.rotate=360-b.rotate)):b.rotate=a.deg(e.asin(q));b.isSimple=!+b.shear.toFixed(9)&&(b.scalex.toFixed(9)==b.scaley.toFixed(9)||!b.rotate);b.isSuperSimple=!+b.shear.toFixed(9)&&b.scalex.toFixed(9)==b.scaley.toFixed(9)&&!b.rotate;b.noRotation=!+b.shear.toFixed(9)&&!b.rotate;return b};b.toTransformString=function(a){a=a||this.split();if(+a.shear.toFixed(9))return"m"+[this.get(0),
this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)];a.scalex=+a.scalex.toFixed(4);a.scaley=+a.scaley.toFixed(4);a.rotate=+a.rotate.toFixed(4);return(a.dx||a.dy?"t"+[+a.dx.toFixed(4),+a.dy.toFixed(4)]:"")+(1!=a.scalex||1!=a.scaley?"s"+[a.scalex,a.scaley,0,0]:"")+(a.rotate?"r"+[+a.rotate.toFixed(4),0,0]:"")}})(p.prototype);a.Matrix=p;a.matrix=function(a,b,e,c,d,q){return new p(a,b,e,c,d,q)}});n.plugin(function(a,b,k,m,n){function p(e){return function(f){d.stop();f instanceof n&&1==f.node.childNodes.length&&
("radialGradient"==f.node.firstChild.tagName||"linearGradient"==f.node.firstChild.tagName||"pattern"==f.node.firstChild.tagName)&&(f=f.node.firstChild,c(this).appendChild(f),f=w(f));if(f instanceof b)if("radialGradient"==f.type||"linearGradient"==f.type||"pattern"==f.type){f.node.id||u(f.node,{id:f.id});var q=l(f.node.id)}else q=f.attr(e);else q=a.color(f),q.error?(q=a(c(this).ownerSVGElement).gradient(f))?(q.node.id||u(q.node,{id:q.id}),q=l(q.node.id)):q=f:q=v(q);f={};f[e]=q;u(this.node,f);this.node.style[e]=
""}}function y(a){d.stop();a==+a&&(a+="px");this.node.style.fontSize=a}function q(a){var b=[];a=a.childNodes;for(var c=0,e=a.length;c<e;c++){var f=a[c];3==f.nodeType&&b.push(f.nodeValue);"tspan"==f.tagName&&(1==f.childNodes.length&&3==f.firstChild.nodeType?b.push(f.firstChild.nodeValue):b.push(q(f)))}return b}function e(){d.stop();return this.node.style.fontSize}var f=a._.make,w=a._.wrap,r=a.is,c=a._.getSomeDefs,x=/^url\(#?([^)]+)\)$/,u=a._.$,l=a.url,v=String,J=a._.separator;d.on("snap.util.attr.mask",
function(a){if(a instanceof b||a instanceof n){d.stop();a instanceof n&&1==a.node.childNodes.length&&(a=a.node.firstChild,c(this).appendChild(a),a=w(a));if("mask"==a.type)var e=a;else e=f("mask",c(this)),e.node.appendChild(a.node);!e.node.id&&u(e.node,{id:e.id});u(this.node,{mask:l(e.id)})}});(function(a){d.on("snap.util.attr.clip",a);d.on("snap.util.attr.clip-path",a);d.on("snap.util.attr.clipPath",a)})(function(a){if(a instanceof b||a instanceof n){d.stop();if("clipPath"==a.type)var e=a;else e=
f("clipPath",c(this)),e.node.appendChild(a.node),!e.node.id&&u(e.node,{id:e.id});u(this.node,{"clip-path":l(e.node.id||e.id)})}});d.on("snap.util.attr.fill",p("fill"));d.on("snap.util.attr.stroke",p("stroke"));var C=/^([lr])(?:\(([^)]*)\))?(.*)$/i;d.on("snap.util.grad.parse",function(a){a=v(a);var b=a.match(C);if(!b)return null;a=b[1];var c=b[2],b=b[3],c=c.split(/\s*,\s*/).map(function(a){return+a==a?+a:a});1==c.length&&0==c[0]&&(c=[]);b=b.split("-");b=b.map(function(a){a=a.split(":");var b={color:a[0]};
a[1]&&(b.offset=parseFloat(a[1]));return b});return{type:a,params:c,stops:b}});d.on("snap.util.attr.d",function(b){d.stop();r(b,"array")&&r(b[0],"array")&&(b=a.path.toString.call(b));b=v(b);b.match(/[ruo]/i)&&(b=a.path.toAbsolute(b));u(this.node,{d:b})})(-1);d.on("snap.util.attr.#text",function(a){d.stop();a=v(a);for(a=m.doc.createTextNode(a);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(a)})(-1);d.on("snap.util.attr.path",function(a){d.stop();this.attr({d:a})})(-1);
d.on("snap.util.attr.class",function(a){d.stop();this.node.className.baseVal=a})(-1);d.on("snap.util.attr.viewBox",function(a){a=r(a,"object")&&"x"in a?[a.x,a.y,a.width,a.height].join(" "):r(a,"array")?a.join(" "):a;u(this.node,{viewBox:a});d.stop()})(-1);d.on("snap.util.attr.transform",function(a){this.transform(a);d.stop()})(-1);d.on("snap.util.attr.r",function(a){"rect"==this.type&&(d.stop(),u(this.node,{rx:a,ry:a}))})(-1);d.on("snap.util.attr.textpath",function(a){d.stop();if("text"==this.type){var e,
f;if(!a&&this.textPath){for(a=this.textPath;a.node.firstChild;)this.node.appendChild(a.node.firstChild);a.remove();delete this.textPath}else if(r(a,"string")?(e=c(this),a=w(e.parentNode).path(a),e.appendChild(a.node),e=a.id,a.attr({id:e})):(a=w(a),a instanceof b&&(e=a.attr("id"),e||(e=a.id,a.attr({id:e})))),e)if(a=this.textPath,f=this.node,a)a.attr({"xlink:href":"#"+e});else{for(a=u("textPath",{"xlink:href":"#"+e});f.firstChild;)a.appendChild(f.firstChild);f.appendChild(a);this.textPath=w(a)}}})(-1);
d.on("snap.util.attr.text",function(a){if("text"==this.type){for(var b=this.node,c=function(a){var b=u("tspan");if(r(a,"array"))for(var e=0;e<a.length;e++)b.appendChild(c(a[e]));else b.appendChild(m.doc.createTextNode(a));b.normalize&&b.normalize();return b};b.firstChild;)b.removeChild(b.firstChild);for(a=c(a);a.firstChild;)b.appendChild(a.firstChild)}d.stop()})(-1);d.on("snap.util.attr.fontSize",y)(-1);d.on("snap.util.attr.font-size",y)(-1);d.on("snap.util.getattr.transform",function(){d.stop();
return this.transform()})(-1);d.on("snap.util.getattr.textpath",function(){d.stop();return this.textPath})(-1);(function(){function b(c){return function(){d.stop();var b=m.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+c);return"none"==b?b:a(m.doc.getElementById(b.match(x)[1]))}}function c(a){return function(b){d.stop();var c="marker"+a.charAt(0).toUpperCase()+a.substring(1);if(""==b||!b)this.node.style[c]="none";else if("marker"==b.type){var e=b.node.id;e||u(b.node,{id:b.id});
this.node.style[c]=l(e)}}}d.on("snap.util.getattr.marker-end",b("end"))(-1);d.on("snap.util.getattr.markerEnd",b("end"))(-1);d.on("snap.util.getattr.marker-start",b("start"))(-1);d.on("snap.util.getattr.markerStart",b("start"))(-1);d.on("snap.util.getattr.marker-mid",b("mid"))(-1);d.on("snap.util.getattr.markerMid",b("mid"))(-1);d.on("snap.util.attr.marker-end",c("end"))(-1);d.on("snap.util.attr.markerEnd",c("end"))(-1);d.on("snap.util.attr.marker-start",c("start"))(-1);d.on("snap.util.attr.markerStart",
c("start"))(-1);d.on("snap.util.attr.marker-mid",c("mid"))(-1);d.on("snap.util.attr.markerMid",c("mid"))(-1)})();d.on("snap.util.getattr.r",function(){if("rect"==this.type&&u(this.node,"rx")==u(this.node,"ry"))return d.stop(),u(this.node,"rx")})(-1);d.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){d.stop();var a=q(this.node);return 1==a.length?a[0]:a}})(-1);d.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1);d.on("snap.util.getattr.viewBox",
function(){d.stop();var b=u(this.node,"viewBox");if(b)return b=b.split(J),a._.box(+b[0],+b[1],+b[2],+b[3])})(-1);d.on("snap.util.getattr.points",function(){var a=u(this.node,"points");d.stop();if(a)return a.split(J)})(-1);d.on("snap.util.getattr.path",function(){var a=u(this.node,"d");d.stop();return a})(-1);d.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1);d.on("snap.util.getattr.fontSize",e)(-1);d.on("snap.util.getattr.font-size",e)(-1)});n.plugin(function(a,b,d,
m,n){var p=/\S+/g,y=String;a=b.prototype;a.addClass=function(a){var b=y(a||"").match(p)||[];a=this.node;var f=a.className.baseVal,d=f.match(p)||[],r,c,k;if(b.length){for(r=0;k=b[r++];)c=d.indexOf(k),~c||d.push(k);b=d.join(" ");f!=b&&(a.className.baseVal=b)}return this};a.removeClass=function(a){var b=y(a||"").match(p)||[];a=this.node;var f=a.className.baseVal,d=f.match(p)||[],r,c;if(d.length){for(r=0;c=b[r++];)c=d.indexOf(c),~c&&d.splice(c,1);b=d.join(" ");f!=b&&(a.className.baseVal=b)}return this};
a.hasClass=function(a){return!!~(this.node.className.baseVal.match(p)||[]).indexOf(a)};a.toggleClass=function(a,b){if(null!=b)return b?this.addClass(a):this.removeClass(a);var f=(a||"").match(p)||[],d=this.node,r=d.className.baseVal,c=r.match(p)||[],k,m,l;for(k=0;l=f[k++];)m=c.indexOf(l),~m?c.splice(m,1):c.push(l);f=c.join(" ");r!=f&&(d.className.baseVal=f);return this}});n.plugin(function(a,b,k,m,n){function p(a){return a}function y(a){return function(b){return+b.toFixed(3)+a}}var q={"+":function(a,
b){return a+b},"-":function(a,b){return a-b},"/":function(a,b){return a/b},"*":function(a,b){return a*b}},e=String,f=/[a-z]+$/i,w=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;d.on("snap.util.attr",function(a){if(a=e(a).match(w)){var b=d.nt(),b=b.substring(b.lastIndexOf(".")+1),p=this.attr(b),k={};d.stop();var l=a[3]||"",v=p.match(f),m=q[a[1]];v&&v==l?a=m(parseFloat(p),+a[2]):(p=this.asPX(b),a=m(this.asPX(b),this.asPX(b,a[2]+l)));isNaN(p)||isNaN(a)||(k[b]=a,this.attr(k))}})(-10);d.on("snap.util.equal",
function(a,b){var k=e(this.attr(a)||""),m=e(b).match(w);if(m){d.stop();var l=m[3]||"",v=k.match(f),n=q[m[1]];if(v&&v==l)return{from:parseFloat(k),to:n(parseFloat(k),+m[2]),f:y(v)};k=this.asPX(a);return{from:k,to:n(k,this.asPX(a,m[2]+l)),f:p}}})(-10)});n.plugin(function(a,b,k,m,n){var p=k.prototype,y=a.is;p.rect=function(a,b,d,q,c,p){var k;null==p&&(p=c);y(a,"object")&&"[object Object]"==a?k=a:null!=a&&(k={x:a,y:b,width:d,height:q},null!=c&&(k.rx=c,k.ry=p));return this.el("rect",k)};p.circle=function(a,
b,d){var q;y(a,"object")&&"[object Object]"==a?q=a:null!=a&&(q={cx:a,cy:b,r:d});return this.el("circle",q)};var q=function(){function a(){this.parentNode.removeChild(this)}return function(b,d){var q=m.doc.createElement("img"),c=m.doc.body;q.style.cssText="position:absolute;left:-9999em;top:-9999em";q.onload=function(){d.call(q);q.onload=q.onerror=null;c.removeChild(q)};q.onerror=a;c.appendChild(q);q.src=b}}();p.image=function(b,f,d,p,c){var k=this.el("image");if(y(b,"object")&&"src"in b)k.attr(b);
else if(null!=b){var m={"xlink:href":b,preserveAspectRatio:"none"};null!=f&&null!=d&&(m.x=f,m.y=d);null!=p&&null!=c?(m.width=p,m.height=c):q(b,function(){a._.$(k.node,{width:this.offsetWidth,height:this.offsetHeight})});a._.$(k.node,m)}return k};p.ellipse=function(a,b,d,q){var c;y(a,"object")&&"[object Object]"==a?c=a:null!=a&&(c={cx:a,cy:b,rx:d,ry:q});return this.el("ellipse",c)};p.path=function(a){var b;y(a,"object")&&!y(a,"array")?b=a:a&&(b={d:a});return this.el("path",b)};p.group=p.g=function(a){var b=
this.el("g");1==arguments.length&&a&&!a.type?b.attr(a):arguments.length&&b.add(Array.prototype.slice.call(arguments,0));return b};p.svg=function(a,b,d,q,c,p,k,l){var m={};y(a,"object")&&null==b?m=a:(null!=a&&(m.x=a),null!=b&&(m.y=b),null!=d&&(m.width=d),null!=q&&(m.height=q),null!=c&&null!=p&&null!=k&&null!=l&&(m.viewBox=[c,p,k,l]));return this.el("svg",m)};p.mask=function(a){var b=this.el("mask");1==arguments.length&&a&&!a.type?b.attr(a):arguments.length&&b.add(Array.prototype.slice.call(arguments,
0));return b};p.ptrn=function(a,b,d,q,c,p,k,l){if(y(a,"object"))var m=a;else m={patternUnits:"userSpaceOnUse"},a&&(m.x=a),b&&(m.y=b),null!=d&&(m.width=d),null!=q&&(m.height=q),m.viewBox=null!=c&&null!=p&&null!=k&&null!=l?[c,p,k,l]:[a||0,b||0,d||0,q||0];return this.el("pattern",m)};p.use=function(e){return null!=e?(e instanceof b&&(e.attr("id")||e.attr({id:a._.id(e)}),e=e.attr("id")),"#"==String(e).charAt()&&(e=e.substring(1)),this.el("use",{"xlink:href":"#"+e})):b.prototype.use.call(this)};p.symbol=
function(a,b,d,q){var c={};null!=a&&null!=b&&null!=d&&null!=q&&(c.viewBox=[a,b,d,q]);return this.el("symbol",c)};p.text=function(a,b,d){var q={};y(a,"object")?q=a:null!=a&&(q={x:a,y:b,text:d||""});return this.el("text",q)};p.line=function(a,b,d,q){var c={};y(a,"object")?c=a:null!=a&&(c={x1:a,x2:d,y1:b,y2:q});return this.el("line",c)};p.polyline=function(a){1<arguments.length&&(a=Array.prototype.slice.call(arguments,0));var b={};y(a,"object")&&!y(a,"array")?b=a:null!=a&&(b={points:a});return this.el("polyline",
b)};p.polygon=function(a){1<arguments.length&&(a=Array.prototype.slice.call(arguments,0));var b={};y(a,"object")&&!y(a,"array")?b=a:null!=a&&(b={points:a});return this.el("polygon",b)};(function(){function b(){return this.selectAll("stop")}function f(b,c){var e=n("stop"),f={offset:+c+"%"};b=a.color(b);f["stop-color"]=b.hex;1>b.opacity&&(f["stop-opacity"]=b.opacity);n(e,f);this.node.appendChild(e);return this}function q(){if("linearGradient"==this.type){var b=n(this.node,"x1")||0,c=n(this.node,"x2")||
1,e=n(this.node,"y1")||0,f=n(this.node,"y2")||0;return a._.box(b,e,math.abs(c-b),math.abs(f-e))}b=this.node.r||0;return a._.box((this.node.cx||.5)-b,(this.node.cy||.5)-b,2*b,2*b)}function k(a,b){function e(a,b){for(var c=(b-p)/(a-r),f=r;f<a;f++)q[f].offset=+(+p+c*(f-r)).toFixed(2);r=a;p=b}var f=d("snap.util.grad.parse",null,b).firstDefined(),h;if(!f)return null;f.params.unshift(a);h="l"==f.type.toLowerCase()?c.apply(0,f.params):m.apply(0,f.params);f.type!=f.type.toLowerCase()&&n(h.node,{gradientUnits:"userSpaceOnUse"});
var q=f.stops,f=q.length,p=0,r=0;f--;for(var w=0;w<f;w++)"offset"in q[w]&&e(w,q[w].offset);q[f].offset=q[f].offset||100;e(f,q[f].offset);for(w=0;w<=f;w++){var y=q[w];h.addStop(y.color,y.offset)}return h}function c(c,d,p,k,h){c=a._.make("linearGradient",c);c.stops=b;c.addStop=f;c.getBBox=q;null!=d&&n(c.node,{x1:d,y1:p,x2:k,y2:h});return c}function m(c,d,p,k,h,r){c=a._.make("radialGradient",c);c.stops=b;c.addStop=f;c.getBBox=q;null!=d&&n(c.node,{cx:d,cy:p,r:k});null!=h&&null!=r&&n(c.node,{fx:h,fy:r});
return c}var n=a._.$;p.gradient=function(a){return k(this.defs,a)};p.gradientLinear=function(a,b,e,f){return c(this.defs,a,b,e,f)};p.gradientRadial=function(a,b,c,e,f){return m(this.defs,a,b,c,e,f)};p.toString=function(){var b=this.node.ownerDocument,c=b.createDocumentFragment(),b=b.createElement("div"),e=this.node.cloneNode(!0);c.appendChild(b);b.appendChild(e);a._.$(e,{xmlns:"http://www.w3.org/2000/svg"});b=b.innerHTML;c.removeChild(c.firstChild);return b};p.toDataURL=function(){if(t&&t.btoa)return"data:image/svg+xml;base64,"+
btoa(unescape(encodeURIComponent(this)))};p.clear=function(){for(var a=this.node.firstChild,b;a;)b=a.nextSibling,"defs"!=a.tagName?a.parentNode.removeChild(a):p.clear.call({node:a}),a=b}})()});n.plugin(function(a,b,d,m){function n(a){var b=n.ps=n.ps||{};b[a]?b[a].sleep=100:b[a]={sleep:100};setTimeout(function(){for(var c in b)b.hasOwnProperty(c)&&c!=a&&(b[c].sleep--,!b[c].sleep&&delete b[c])});return b[a]}function p(a,b,c,e){null==a&&(a=b=c=e=0);null==b&&(b=a.y,c=a.width,e=a.height,a=a.x);return{x:a,
y:b,width:c,w:c,height:e,h:e,x2:a+c,y2:b+e,cx:a+c/2,cy:b+e/2,r1:G.min(c,e)/2,r2:G.max(c,e)/2,r0:G.sqrt(c*c+e*e)/2,path:t(a,b,c,e),vb:[a,b,c,e].join(" ")}}function y(){return this.join(",").replace(Q,"$1")}function q(a){a=V(a);a.toString=y;return a}function e(a,b,c,e,f,d,h,l,q){if(null==q)return u(a,b,c,e,f,d,h,l);if(0>q||u(a,b,c,e,f,d,h,l)<q)q=void 0;else{var p=.5,m=1-p,k;for(k=u(a,b,c,e,f,d,h,l,m);.01<T(k-q);)p/=2,m+=(k<q?1:-1)*p,k=u(a,b,c,e,f,d,h,l,m);q=m}return w(a,b,c,e,f,d,h,l,q)}function f(c,
f){function d(a){return+(+a).toFixed(3)}return a._.cacher(function(a,h,l){a instanceof b&&(a=a.attr("d"));a=aa(a);for(var q,p,m,k,n="",r={},v=0,y=0,x=a.length;y<x;y++){m=a[y];if("M"==m[0])q=+m[1],p=+m[2];else{k=e(q,p,m[1],m[2],m[3],m[4],m[5],m[6]);if(v+k>h){if(f&&!r.start){q=e(q,p,m[1],m[2],m[3],m[4],m[5],m[6],h-v);n+=["C"+d(q.start.x),d(q.start.y),d(q.m.x),d(q.m.y),d(q.x),d(q.y)];if(l)return n;r.start=n;n=["M"+d(q.x),d(q.y)+"C"+d(q.n.x),d(q.n.y),d(q.end.x),d(q.end.y),d(m[5]),d(m[6])].join();v+=k;
q=+m[5];p=+m[6];continue}if(!c&&!f)return q=e(q,p,m[1],m[2],m[3],m[4],m[5],m[6],h-v)}v+=k;q=+m[5];p=+m[6]}n+=m.shift()+m}r.end=n;return q=c?v:f?r:w(q,p,m[0],m[1],m[2],m[3],m[4],m[5],1)},null,a._.clone)}function w(a,b,c,e,f,d,h,l,q){var p=1-q,m=U(p,3),k=U(p,2),n=q*q,r=n*q,v=m*a+3*k*q*c+3*p*q*q*f+r*h,m=m*b+3*k*q*e+3*p*q*q*d+r*l,k=a+2*q*(c-a)+n*(f-2*c+a),r=b+2*q*(e-b)+n*(d-2*e+b),w=c+2*q*(f-c)+n*(h-2*f+c),n=e+2*q*(d-e)+n*(l-2*d+e);a=p*a+q*c;b=p*b+q*e;f=p*f+q*h;d=p*d+q*l;l=90-180*G.atan2(k-w,r-n)/I;return{x:v,
y:m,m:{x:k,y:r},n:{x:w,y:n},start:{x:a,y:b},end:{x:f,y:d},alpha:l}}function r(b,c,e,f,d,h,q,l){a.is(b,"array")||(b=[b,c,e,f,d,h,q,l]);b=S.apply(null,b);return p(b.min.x,b.min.y,b.max.x-b.min.x,b.max.y-b.min.y)}function c(a,b,c){return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height}function x(a,b){a=p(a);b=p(b);return c(b,a.x,a.y)||c(b,a.x2,a.y)||c(b,a.x,a.y2)||c(b,a.x2,a.y2)||c(a,b.x,b.y)||c(a,b.x2,b.y)||c(a,b.x,b.y2)||c(a,b.x2,b.y2)||(a.x<b.x2&&a.x>b.x||b.x<a.x2&&b.x>a.x)&&(a.y<b.y2&&a.y>b.y||b.y<
a.y2&&b.y>a.y)}function u(a,b,c,e,f,d,h,q,l){null==l&&(l=1);l=(1<l?1:0>l?0:l)/2;for(var p=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],m=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],k=0,n=0;12>n;n++)var r=l*p[n]+l,v=r*(r*(-3*a+9*c-9*f+3*h)+6*a-12*c+6*f)-3*a+3*c,r=r*(r*(-3*b+9*e-9*d+3*q)+6*b-12*e+6*d)-3*b+3*e,k=k+m[n]*G.sqrt(v*v+r*r);return l*k}function l(a,b,c){a=aa(a);b=aa(b);for(var e,f,d,h,q,l,p,m,k,n,v=c?0:[],y=0,B=a.length;y<B;y++)if(k=
a[y],"M"==k[0])e=q=k[1],f=l=k[2];else{"C"==k[0]?(k=[e,f].concat(k.slice(1)),e=k[6],f=k[7]):(k=[e,f,e,f,q,l,q,l],e=q,f=l);for(var t=0,E=b.length;t<E;t++)if(n=b[t],"M"==n[0])d=p=n[1],h=m=n[2];else{"C"==n[0]?(n=[d,h].concat(n.slice(1)),d=n[6],h=n[7]):(n=[d,h,d,h,p,m,p,m],d=p,h=m);var z;var J=k,C=n;z=c;var W=r(J),D=r(C);if(x(W,D)){for(var W=u.apply(0,J),D=u.apply(0,C),W=~~(W/8),D=~~(D/8),S=[],Y=[],X={},G=z?0:[],K=0;K<W+1;K++){var H=w.apply(0,J.concat(K/W));S.push({x:H.x,y:H.y,t:K/W})}for(K=0;K<D+1;K++)H=
w.apply(0,C.concat(K/D)),Y.push({x:H.x,y:H.y,t:K/D});for(K=0;K<W;K++)for(J=0;J<D;J++){var I=S[K],V=S[K+1],C=Y[J],H=Y[J+1],P=.001>T(V.x-I.x)?"y":"x",U=.001>T(H.x-C.x)?"y":"x",M;M=I.x;var N=I.y,O=V.x,Q=V.y,ba=C.x,ca=C.y,da=H.x,ea=H.y;if(L(M,O)<R(ba,da)||R(M,O)>L(ba,da)||L(N,Q)<R(ca,ea)||R(N,Q)>L(ca,ea))M=void 0;else{var la=(M*Q-N*O)*(ba-da)-(M-O)*(ba*ea-ca*da),ma=(M*Q-N*O)*(ca-ea)-(N-Q)*(ba*ea-ca*da),fa=(M-O)*(ca-ea)-(N-Q)*(ba-da);if(fa){var la=la/fa,ma=ma/fa,fa=+la.toFixed(2),na=+ma.toFixed(2);M=fa<
+R(M,O).toFixed(2)||fa>+L(M,O).toFixed(2)||fa<+R(ba,da).toFixed(2)||fa>+L(ba,da).toFixed(2)||na<+R(N,Q).toFixed(2)||na>+L(N,Q).toFixed(2)||na<+R(ca,ea).toFixed(2)||na>+L(ca,ea).toFixed(2)?void 0:{x:la,y:ma}}else M=void 0}M&&X[M.x.toFixed(4)]!=M.y.toFixed(4)&&(X[M.x.toFixed(4)]=M.y.toFixed(4),I=I.t+T((M[P]-I[P])/(V[P]-I[P]))*(V.t-I.t),C=C.t+T((M[U]-C[U])/(H[U]-C[U]))*(H.t-C.t),0<=I&&1>=I&&0<=C&&1>=C&&(z?G++:G.push({x:M.x,y:M.y,t1:I,t2:C})))}z=G}else z=z?0:[];if(c)v+=z;else{W=0;for(D=z.length;W<D;W++)z[W].segment1=
y,z[W].segment2=t,z[W].bez1=k,z[W].bez2=n;v=v.concat(z)}}}return v}function v(a){var b=n(a);if(b.bbox)return V(b.bbox);if(!a)return p();a=aa(a);for(var c=0,e=0,f=[],d=[],h,q=0,l=a.length;q<l;q++)h=a[q],"M"==h[0]?(c=h[1],e=h[2],f.push(c),d.push(e)):(c=S(c,e,h[1],h[2],h[3],h[4],h[5],h[6]),f=f.concat(c.min.x,c.max.x),d=d.concat(c.min.y,c.max.y),c=h[5],e=h[6]);a=R.apply(0,f);h=R.apply(0,d);f=L.apply(0,f);d=L.apply(0,d);d=p(a,h,f-a,d-h);b.bbox=V(d);return d}function t(a,b,c,e,f){if(f)return[["M",+a+ +f,
b],["l",c-2*f,0],["a",f,f,0,0,1,f,f],["l",0,e-2*f],["a",f,f,0,0,1,-f,f],["l",2*f-c,0],["a",f,f,0,0,1,-f,-f],["l",0,2*f-e],["a",f,f,0,0,1,f,-f],["z"]];a=[["M",a,b],["l",c,0],["l",0,e],["l",-c,0],["z"]];a.toString=y;return a}function C(a,b,c,e,f){null==f&&null==e&&(e=c);a=+a;b=+b;c=+c;e=+e;if(null!=f){var d=Math.PI/180;a=[["M",a+c*Math.cos(-e*d),b+c*Math.sin(-e*d)],["A",c,c,0,+(180<f-e),0,a+c*Math.cos(-f*d),b+c*Math.sin(-f*d)]]}else a=[["M",a,b],["m",0,-e],["a",c,e,0,1,1,0,2*e],["a",c,e,0,1,1,0,-2*
e],["z"]];a.toString=y;return a}function h(b){var c=n(b);if(c.abs)return q(c.abs);K(b,"array")&&K(b&&b[0],"array")||(b=a.parsePathString(b));if(!b||!b.length)return[["M",0,0]];var e=[],f=0,d=0,h=0,l=0,p=0;"M"==b[0][0]&&(f=+b[0][1],d=+b[0][2],h=f,l=d,p++,e[0]=["M",f,d]);for(var m=3==b.length&&"M"==b[0][0]&&"R"==b[1][0].toUpperCase()&&"Z"==b[2][0].toUpperCase(),k,r,v=p,w=b.length;v<w;v++){e.push(k=[]);r=b[v];p=r[0];if(p!=p.toUpperCase())switch(k[0]=p.toUpperCase(),k[0]){case "A":k[1]=r[1];k[2]=r[2];
k[3]=r[3];k[4]=r[4];k[5]=r[5];k[6]=+r[6]+f;k[7]=+r[7]+d;break;case "V":k[1]=+r[1]+d;break;case "H":k[1]=+r[1]+f;break;case "R":for(var x=[f,d].concat(r.slice(1)),u=2,t=x.length;u<t;u++)x[u]=+x[u]+f,x[++u]=+x[u]+d;e.pop();e=e.concat(X(x,m));break;case "O":e.pop();x=C(f,d,r[1],r[2]);x.push(x[0]);e=e.concat(x);break;case "U":e.pop();e=e.concat(C(f,d,r[1],r[2],r[3]));k=["U"].concat(e[e.length-1].slice(-2));break;case "M":h=+r[1]+f,l=+r[2]+d;default:for(u=1,t=r.length;u<t;u++)k[u]=+r[u]+(u%2?f:d)}else if("R"==
p)x=[f,d].concat(r.slice(1)),e.pop(),e=e.concat(X(x,m)),k=["R"].concat(r.slice(-2));else if("O"==p)e.pop(),x=C(f,d,r[1],r[2]),x.push(x[0]),e=e.concat(x);else if("U"==p)e.pop(),e=e.concat(C(f,d,r[1],r[2],r[3])),k=["U"].concat(e[e.length-1].slice(-2));else for(x=0,u=r.length;x<u;x++)k[x]=r[x];p=p.toUpperCase();if("O"!=p)switch(k[0]){case "Z":f=+h;d=+l;break;case "H":f=k[1];break;case "V":d=k[1];break;case "M":h=k[k.length-2],l=k[k.length-1];default:f=k[k.length-2],d=k[k.length-1]}}e.toString=y;c.abs=
q(e);return e}function z(a,b,c,e){return[a,b,c,e,c,e]}function D(a,b,c,e,f,d){var h=1/3,l=2/3;return[h*a+l*c,h*b+l*e,h*f+l*c,h*d+l*e,f,d]}function Y(b,c,e,f,d,h,l,q,p,k){var m=120*I/180,r=I/180*(+d||0),n=[],v,w=a._.cacher(function(a,b,c){var e=a*G.cos(c)-b*G.sin(c);a=a*G.sin(c)+b*G.cos(c);return{x:e,y:a}});if(k)u=k[0],v=k[1],h=k[2],x=k[3];else{v=w(b,c,-r);b=v.x;c=v.y;v=w(q,p,-r);q=v.x;p=v.y;G.cos(I/180*d);G.sin(I/180*d);v=(b-q)/2;u=(c-p)/2;x=v*v/(e*e)+u*u/(f*f);1<x&&(x=G.sqrt(x),e*=x,f*=x);var x=
e*e,y=f*f,x=(h==l?-1:1)*G.sqrt(T((x*y-x*u*u-y*v*v)/(x*u*u+y*v*v)));h=x*e*u/f+(b+q)/2;var x=x*-f*v/e+(c+p)/2,u=G.asin(((c-x)/f).toFixed(9));v=G.asin(((p-x)/f).toFixed(9));u=b<h?I-u:u;v=q<h?I-v:v;0>u&&(u=2*I+u);0>v&&(v=2*I+v);l&&u>v&&(u-=2*I);!l&&v>u&&(v-=2*I)}if(T(v-u)>m){var n=v,y=q,B=p;v=u+m*(l&&v>u?1:-1);q=h+e*G.cos(v);p=x+f*G.sin(v);n=Y(q,p,e,f,d,0,l,y,B,[v,n,h,x])}h=v-u;d=G.cos(u);m=G.sin(u);l=G.cos(v);v=G.sin(v);h=G.tan(h/4);e=4/3*e*h;h*=4/3*f;f=[b,c];b=[b+e*m,c-h*d];c=[q+e*v,p-h*l];q=[q,p];
b[0]=2*f[0]-b[0];b[1]=2*f[1]-b[1];if(k)return[b,c,q].concat(n);n=[b,c,q].concat(n).join().split(",");k=[];q=0;for(p=n.length;q<p;q++)k[q]=q%2?w(n[q-1],n[q],r).y:w(n[q],n[q+1],r).x;return k}function S(a,b,c,e,f,d,h,q){for(var l=[],p=[[],[]],k,m,n,r,v=0;2>v;++v)0==v?(m=6*a-12*c+6*f,k=-3*a+9*c-9*f+3*h,n=3*c-3*a):(m=6*b-12*e+6*d,k=-3*b+9*e-9*d+3*q,n=3*e-3*b),1E-12>T(k)?1E-12>T(m)||(k=-n/m,0<k&&1>k&&l.push(k)):(r=m*m-4*n*k,n=G.sqrt(r),0>r||(r=(-m+n)/(2*k),0<r&&1>r&&l.push(r),k=(-m-n)/(2*k),0<k&&1>k&&l.push(k)));
for(m=v=l.length;v--;)k=l[v],n=1-k,p[0][v]=n*n*n*a+3*n*n*k*c+3*n*k*k*f+k*k*k*h,p[1][v]=n*n*n*b+3*n*n*k*e+3*n*k*k*d+k*k*k*q;p[0][m]=a;p[1][m]=b;p[0][m+1]=h;p[1][m+1]=q;p[0].length=p[1].length=m+2;return{min:{x:R.apply(0,p[0]),y:R.apply(0,p[1])},max:{x:L.apply(0,p[0]),y:L.apply(0,p[1])}}}function aa(a,b){var c=!b&&n(a);if(!b&&c.curve)return q(c.curve);var e=h(a),f=b&&h(b),d={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},p=function(a,b,c){if(!a)return["C",b.x,
b.y,b.x,b.y,b.x,b.y];a[0]in{T:1,Q:1}||(b.qx=b.qy=null);switch(a[0]){case "M":b.X=a[1];b.Y=a[2];break;case "A":a=["C"].concat(Y.apply(0,[b.x,b.y].concat(a.slice(1))));break;case "S":"C"==c||"S"==c?(c=2*b.x-b.bx,b=2*b.y-b.by):(c=b.x,b=b.y);a=["C",c,b].concat(a.slice(1));break;case "T":"Q"==c||"T"==c?(b.qx=2*b.x-b.qx,b.qy=2*b.y-b.qy):(b.qx=b.x,b.qy=b.y);a=["C"].concat(D(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case "Q":b.qx=a[1];b.qy=a[2];a=["C"].concat(D(b.x,b.y,a[1],a[2],a[3],a[4]));break;case "L":a=["C"].concat(z(b.x,
b.y,a[1],a[2]));break;case "H":a=["C"].concat(z(b.x,b.y,a[1],b.y));break;case "V":a=["C"].concat(z(b.x,b.y,b.x,a[1]));break;case "Z":a=["C"].concat(z(b.x,b.y,b.X,b.Y))}return a},k=function(a,b){if(7<a[b].length){a[b].shift();for(var c=a[b];c.length;)r[b]="A",f&&(v[b]="A"),a.splice(b++,0,["C"].concat(c.splice(0,6)));a.splice(b,1);y=L(e.length,f&&f.length||0)}},m=function(a,b,c,d,h){a&&b&&"M"==a[h][0]&&"M"!=b[h][0]&&(b.splice(h,0,["M",d.x,d.y]),c.bx=0,c.by=0,c.x=a[h][1],c.y=a[h][2],y=L(e.length,f&&
f.length||0))},r=[],v=[],x="",u="",w=0,y=L(e.length,f&&f.length||0);for(;w<y;w++){e[w]&&(x=e[w][0]);"C"!=x&&(r[w]=x,w&&(u=r[w-1]));e[w]=p(e[w],d,u);"A"!=r[w]&&"C"==x&&(r[w]="C");k(e,w);f&&(f[w]&&(x=f[w][0]),"C"!=x&&(v[w]=x,w&&(u=v[w-1])),f[w]=p(f[w],l,u),"A"!=v[w]&&"C"==x&&(v[w]="C"),k(f,w));m(e,f,d,l,w);m(f,e,l,d,w);var t=e[w],E=f&&f[w],J=t.length,C=f&&E.length;d.x=t[J-2];d.y=t[J-1];d.bx=P(t[J-4])||d.x;d.by=P(t[J-3])||d.y;l.bx=f&&(P(E[C-4])||l.x);l.by=f&&(P(E[C-3])||l.y);l.x=f&&E[C-2];l.y=f&&E[C-
1]}f||(c.curve=q(e));return f?[e,f]:e}function X(a,b){for(var c=[],e=0,f=a.length;f-2*!b>e;e+=2){var d=[{x:+a[e-2],y:+a[e-1]},{x:+a[e],y:+a[e+1]},{x:+a[e+2],y:+a[e+3]},{x:+a[e+4],y:+a[e+5]}];b?e?f-4==e?d[3]={x:+a[0],y:+a[1]}:f-2==e&&(d[2]={x:+a[0],y:+a[1]},d[3]={x:+a[2],y:+a[3]}):d[0]={x:+a[f-2],y:+a[f-1]}:f-4==e?d[3]=d[2]:e||(d[0]={x:+a[e],y:+a[e+1]});c.push(["C",(-d[0].x+6*d[1].x+d[2].x)/6,(-d[0].y+6*d[1].y+d[2].y)/6,(d[1].x+6*d[2].x-d[3].x)/6,(d[1].y+6*d[2].y-d[3].y)/6,d[2].x,d[2].y])}return c}
d=b.prototype;var K=a.is,V=a._.clone,Q=/,?([a-z]),?/gi,P=parseFloat,G=Math,I=G.PI,R=G.min,L=G.max,U=G.pow,T=G.abs;m=f(1);var N=f(),O=f(0,1),H=a._unit2px;a.path=n;a.path.getTotalLength=m;a.path.getPointAtLength=N;a.path.getSubpath=function(a,b,c){if(1E-6>this.getTotalLength(a)-c)return O(a,b).end;a=O(a,c,1);return b?O(a,b).end:a};d.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength()};d.getPointAtLength=function(a){return N(this.attr("d"),a)};d.getSubpath=function(b,
c){return a.path.getSubpath(this.attr("d"),b,c)};a._.box=p;a.path.findDotsAtSegment=w;a.path.bezierBBox=r;a.path.isPointInsideBBox=c;a.closest=function(b,e,f,d){for(var h=100,l=p(b-h/2,e-h/2,h,h),q=[],k=f[0].hasOwnProperty("x")?function(a){return{x:f[a].x,y:f[a].y}}:function(a){return{x:f[a],y:d[a]}},m=0;1E6>=h&&!m;){for(var n=0,r=f.length;n<r;n++){var v=k(n);if(c(l,v.x,v.y)){m++;q.push(v);break}}m||(h*=2,l=p(b-h/2,e-h/2,h,h))}if(1E6!=h){for(var h=Infinity,w,n=0,r=q.length;n<r;n++)l=a.len(b,e,q[n].x,
q[n].y),h>l&&(h=l,q[n].len=l,w=q[n]);return w}};a.path.isBBoxIntersect=x;a.path.intersection=function(a,b){return l(a,b)};a.path.intersectionNumber=function(a,b){return l(a,b,1)};a.path.isPointInside=function(a,b,e){var f=v(a);return c(f,b,e)&&1==l(a,[["M",b,e],["H",f.x2+10]],1)%2};a.path.getBBox=v;a.path.get={path:function(a){return a.attr("path")},circle:function(a){a=H(a);return C(a.cx,a.cy,a.r)},ellipse:function(a){a=H(a);return C(a.cx||0,a.cy||0,a.rx,a.ry)},rect:function(a){a=H(a);return t(a.x||
0,a.y||0,a.width,a.height,a.rx,a.ry)},image:function(a){a=H(a);return t(a.x||0,a.y||0,a.width,a.height)},line:function(a){return"M"+[a.attr("x1")||0,a.attr("y1")||0,a.attr("x2"),a.attr("y2")]},polyline:function(a){return"M"+a.attr("points")},polygon:function(a){return"M"+a.attr("points")+"z"},deflt:function(a){a=a.node.getBBox();return t(a.x,a.y,a.width,a.height)}};a.path.toRelative=function(b){var c=n(b),e=String.prototype.toLowerCase;if(c.rel)return q(c.rel);a.is(b,"array")&&a.is(b&&b[0],"array")||
(b=a.parsePathString(b));var f=[],d=0,h=0,l=0,p=0,k=0;"M"==b[0][0]&&(d=b[0][1],h=b[0][2],l=d,p=h,k++,f.push(["M",d,h]));for(var m=b.length;k<m;k++){var r=f[k]=[],v=b[k];if(v[0]!=e.call(v[0]))switch(r[0]=e.call(v[0]),r[0]){case "a":r[1]=v[1];r[2]=v[2];r[3]=v[3];r[4]=v[4];r[5]=v[5];r[6]=+(v[6]-d).toFixed(3);r[7]=+(v[7]-h).toFixed(3);break;case "v":r[1]=+(v[1]-h).toFixed(3);break;case "m":l=v[1],p=v[2];default:for(var w=1,x=v.length;w<x;w++)r[w]=+(v[w]-(w%2?d:h)).toFixed(3)}else for(f[k]=[],"m"==v[0]&&
(l=v[1]+d,p=v[2]+h),r=0,w=v.length;r<w;r++)f[k][r]=v[r];v=f[k].length;switch(f[k][0]){case "z":d=l;h=p;break;case "h":d+=+f[k][v-1];break;case "v":h+=+f[k][v-1];break;default:d+=+f[k][v-2],h+=+f[k][v-1]}}f.toString=y;c.rel=q(f);return f};a.path.toAbsolute=h;a.path.toCubic=aa;a.path.map=function(a,b){if(!b)return a;var c,e,f,d,h,l,q;a=aa(a);f=0;for(h=a.length;f<h;f++)for(q=a[f],d=1,l=q.length;d<l;d+=2)c=b.x(q[d],q[d+1]),e=b.y(q[d],q[d+1]),q[d]=c,q[d+1]=e;return a};a.path.toString=y;a.path.clone=q});
n.plugin(function(a,b,k,n){var B=Math.max,p=Math.min,y=function(a){this.items=[];this.bindings={};this.length=0;this.type="set";if(a)for(var b=0,f=a.length;b<f;b++)a[b]&&(this[this.items.length]=this.items[this.items.length]=a[b],this.length++)};b=y.prototype;b.push=function(){for(var a,b,f=0,d=arguments.length;f<d;f++)if(a=arguments[f])b=this.items.length,this[b]=this.items[b]=a,this.length++;return this};b.pop=function(){this.length&&delete this[this.length--];return this.items.pop()};b.forEach=
function(a,b){for(var f=0,d=this.items.length;f<d&&!1!==a.call(b,this.items[f],f);f++);return this};b.animate=function(b,e,f,p){"function"!=typeof f||f.length||(p=f,f=m.linear);b instanceof a._.Animation&&(p=b.callback,f=b.easing,e=f.dur,b=b.attr);var k=arguments;if(a.is(b,"array")&&a.is(k[k.length-1],"array"))var c=!0;var n,u=function(){n?this.b=n:n=this.b},l=0,v=this,y=p&&function(){++l==v.length&&p.call(this)};return this.forEach(function(a,h){d.once("snap.animcreated."+a.id,u);c?k[h]&&a.animate.apply(a,
k[h]):a.animate(b,e,f,y)})};b.remove=function(){for(;this.length;)this.pop().remove();return this};b.bind=function(a,b,f){var d={};if("function"==typeof b)this.bindings[a]=b;else{var p=f||a;this.bindings[a]=function(a){d[p]=a;b.attr(d)}}return this};b.attr=function(a){var b={},f;for(f in a)if(this.bindings[f])this.bindings[f](a[f]);else b[f]=a[f];a=0;for(f=this.items.length;a<f;a++)this.items[a].attr(b);return this};b.clear=function(){for(;this.length;)this.pop()};b.splice=function(a,b,f){a=0>a?B(this.length+
a,0):a;b=B(0,p(this.length-a,b));var d=[],k=[],c=[],m;for(m=2;m<arguments.length;m++)c.push(arguments[m]);for(m=0;m<b;m++)k.push(this[a+m]);for(;m<this.length-a;m++)d.push(this[a+m]);var n=c.length;for(m=0;m<n+d.length;m++)this.items[a+m]=this[a+m]=m<n?c[m]:d[m-n];for(m=this.items.length=this.length-=b-n;this[m];)delete this[m++];return new y(k)};b.exclude=function(a){for(var b=0,f=this.length;b<f;b++)if(this[b]==a)return this.splice(b,1),!0;return!1};b.insertAfter=function(a){for(var b=this.items.length;b--;)this.items[b].insertAfter(a);
return this};b.getBBox=function(){for(var a=[],b=[],f=[],d=[],k=this.items.length;k--;)if(!this.items[k].removed){var c=this.items[k].getBBox();a.push(c.x);b.push(c.y);f.push(c.x+c.width);d.push(c.y+c.height)}a=p.apply(0,a);b=p.apply(0,b);f=B.apply(0,f);d=B.apply(0,d);return{x:a,y:b,x2:f,y2:d,width:f-a,height:d-b,cx:a+(f-a)/2,cy:b+(d-b)/2}};b.clone=function(a){a=new y;for(var b=0,f=this.items.length;b<f;b++)a.push(this.items[b].clone());return a};b.toString=function(){return"Snap\u2018s set"};b.type=
"set";a.Set=y;a.set=function(){var a=new y;arguments.length&&a.push.apply(a,Array.prototype.slice.call(arguments,0));return a}});n.plugin(function(a,b,k,m){function n(a){var b=a[0];switch(b.toLowerCase()){case "t":return[b,0,0];case "m":return[b,1,0,0,1,0,0];case "r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case "s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}}function p(b,c,e){c=l(c).replace(/\.{3}|\u2026/g,b);b=a.parseTransformString(b)||[];c=a.parseTransformString(c)||[];for(var f=
Math.max(b.length,c.length),d=[],p=[],q=0,k,m,u,y;q<f;q++){u=b[q]||n(c[q]);y=c[q]||n(u);if(u[0]!=y[0]||"r"==u[0].toLowerCase()&&(u[2]!=y[2]||u[3]!=y[3])||"s"==u[0].toLowerCase()&&(u[3]!=y[3]||u[4]!=y[4])){b=a._.transform2matrix(b,e());c=a._.transform2matrix(c,e());d=[["m",b.a,b.b,b.c,b.d,b.e,b.f]];p=[["m",c.a,c.b,c.c,c.d,c.e,c.f]];break}d[q]=[];p[q]=[];k=0;for(m=Math.max(u.length,y.length);k<m;k++)k in u&&(d[q][k]=u[k]),k in y&&(p[q][k]=y[k])}return{from:r(d),to:r(p),f:w(d)}}function y(a){return a}
function q(a){return function(b){return+b.toFixed(3)+a}}function e(a){return a.join(" ")}function f(b){return a.rgb(b[0],b[1],b[2])}function w(a){var b=0,c,e,f,d,l,p,q=[];c=0;for(e=a.length;c<e;c++){l="[";p=['"'+a[c][0]+'"'];f=1;for(d=a[c].length;f<d;f++)p[f]="val["+b++ +"]";l+=p+"]";q[c]=l}return Function("val","return Snap.path.toString.call(["+q+"])")}function r(a){for(var b=[],c=0,e=a.length;c<e;c++)for(var f=1,d=a[c].length;f<d;f++)b.push(a[c][f]);return b}function c(b,c){return a.is(b,"array")&&
a.is(c,"array")?b.toString()==c.toString():!1}var x={},u=/[a-z]+$/i,l=String;x.stroke=x.fill="colour";b.prototype.equal=function(a,b){return d("snap.util.equal",this,a,b).firstDefined()};d.on("snap.util.equal",function(b,d){var k,h;k=l(this.attr(b)||"");var m=this;if(isFinite(parseFloat(k))&&isFinite(parseFloat(d)))return{from:parseFloat(k),to:parseFloat(d),f:y};if("colour"==x[b])return k=a.color(k),h=a.color(d),{from:[k.r,k.g,k.b,k.opacity],to:[h.r,h.g,h.b,h.opacity],f:f};if("viewBox"==b)return k=
this.attr(b).vb.split(" ").map(Number),h=d.split(" ").map(Number),{from:k,to:h,f:e};if("transform"==b||"gradientTransform"==b||"patternTransform"==b)return d instanceof a.Matrix&&(d=d.toTransformString()),a._.rgTransform.test(d)||(d=a._.svgTransform2string(d)),p(k,d,function(){return m.getBBox(1)});if("d"==b||"path"==b)return k=a.path.toCubic(k,d),{from:r(k[0]),to:r(k[1]),f:w(k[0])};if("points"==b)return k=l(k).split(a._.separator),h=l(d).split(a._.separator),{from:k,to:h,f:function(a){return a}};
h=k.match(u);var n=l(d).match(u);return h&&c(h,n)?{from:parseFloat(k),to:parseFloat(d),f:q(h)}:{from:this.asPX(b),to:this.asPX(b,d),f:y}})});n.plugin(function(a,b,k,m){var n=b.prototype,p="createTouch"in m.doc;b="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel".split(" ");var y={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},q=function(a,b){var c="y"==a?"scrollTop":"scrollLeft",f=b&&b.node?b.node.ownerDocument:m.doc;return f[c in
f.documentElement?"documentElement":"body"][c]},e=function(){return this.originalEvent.preventDefault()},f=function(){return this.originalEvent.stopPropagation()},w=function(a,b,c,d){var h=p&&y[b]?y[b]:b,k=function(h){var k=q("y",d),m=q("x",d);if(p&&y.hasOwnProperty(b))for(var n=0,r=h.targetTouches&&h.targetTouches.length;n<r;n++)if(h.targetTouches[n].target==a||a.contains(h.targetTouches[n].target)){r=h;h=h.targetTouches[n];h.originalEvent=r;h.preventDefault=e;h.stopPropagation=f;break}return c.call(d,
h,h.clientX+m,h.clientY+k)};b!==h&&a.addEventListener(b,k,!1);a.addEventListener(h,k,!1);return function(){b!==h&&a.removeEventListener(b,k,!1);a.removeEventListener(h,k,!1);return!0}},r=[],c=function(a){for(var b=a.clientX,c=a.clientY,f=q("y"),e=q("x"),k,m=r.length;m--;){k=r[m];if(p)for(var n=a.touches&&a.touches.length,u;n--;){if(u=a.touches[n],u.identifier==k.el._drag.id||k.el.node.contains(u.target)){b=u.clientX;c=u.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();
b+=e;c+=f;d("snap.drag.move."+k.el.id,k.move_scope||k.el,b-k.el._drag.x,c-k.el._drag.y,b,c,a)}},x=function(b){a.unmousemove(c).unmouseup(x);for(var f=r.length,e;f--;)e=r[f],e.el._drag={},d("snap.drag.end."+e.el.id,e.end_scope||e.start_scope||e.move_scope||e.el,b),d.off("snap.drag.*."+e.el.id);r=[]};for(k=b.length;k--;)(function(b){a[b]=n[b]=function(c,e){if(a.is(c,"function"))this.events=this.events||[],this.events.push({name:b,f:c,unbind:w(this.node||document,b,c,e||this)});else for(var f=0,d=this.events.length;f<
d;f++)if(this.events[f].name==b)try{this.events[f].f.call(this)}catch(k){}return this};a["un"+b]=n["un"+b]=function(a){for(var c=this.events||[],f=c.length;f--;)if(c[f].name==b&&(c[f].f==a||!a)){c[f].unbind();c.splice(f,1);!c.length&&delete this.events;break}return this}})(b[k]);n.hover=function(a,b,c,f){return this.mouseover(a,c).mouseout(b,f||c)};n.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var u=[];n.drag=function(b,f,e,k,h,p){function q(m,u,w){(m.originalEvent||m).preventDefault();
n._drag.x=u;n._drag.y=w;n._drag.id=m.identifier;!r.length&&a.mousemove(c).mouseup(x);r.push({el:n,move_scope:k,start_scope:h,end_scope:p});f&&d.on("snap.drag.start."+n.id,f);b&&d.on("snap.drag.move."+n.id,b);e&&d.on("snap.drag.end."+n.id,e);d("snap.drag.start."+n.id,h||k||n,u,w,m)}function m(a,b,c){d("snap.draginit."+n.id,n,a,b,c)}var n=this;if(!arguments.length){var w;return n.drag(function(a,b){this.attr({transform:w+(w?"T":"t")+[a,b]})},function(){w=this.transform().local})}d.on("snap.draginit."+
n.id,q);n._drag={};u.push({el:n,start:q,init:m});n.mousedown(m);return n};n.undrag=function(){for(var b=u.length;b--;)u[b].el==this&&(this.unmousedown(u[b].init),u.splice(b,1),d.unbind("snap.drag.*."+this.id),d.unbind("snap.draginit."+this.id));!u.length&&a.unmousemove(c).unmouseup(x);return this}});n.plugin(function(a,b,k,m){k=k.prototype;var n=/^\s*url\((.+)\)/,p=String,y=a._.$;a.filter={};k.filter=function(d){var e=this;"svg"!=e.type&&(e=e.paper);d=a.parse(p(d));var f=a._.id(),k=y("filter");y(k,
{id:f,filterUnits:"userSpaceOnUse"});k.appendChild(d.node);e.defs.appendChild(k);return new b(k)};d.on("snap.util.getattr.filter",function(){d.stop();var b=y(this.node,"filter");if(b)return(b=p(b).match(n))&&a.select(b[1])});d.on("snap.util.attr.filter",function(k){if(k instanceof b&&"filter"==k.type){d.stop();var e=k.node.id;e||(y(k.node,{id:k.id}),e=k.id);y(this.node,{filter:a.url(e)})}k&&"none"!=k||(d.stop(),this.node.removeAttribute("filter"))});a.filter.blur=function(b,e){null==b&&(b=2);return a.format('<feGaussianBlur stdDeviation="{def}"/>',
{def:null==e?b:[b,e]})};a.filter.blur.toString=function(){return this()};a.filter.shadow=function(b,e,f,d,k){"string"==typeof f&&(k=d=f,f=4);"string"!=typeof d&&(k=d,d="#000");null==f&&(f=4);null==k&&(k=1);null==b&&(b=0,e=2);null==e&&(e=b);d=a.color(d||"#000");return a.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',
{color:d,dx:b,dy:e,blur:f,opacity:k})};a.filter.shadow.toString=function(){return this()};a.filter.grayscale=function(b){null==b&&(b=1);return a.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-b),b:.7152-.7152*(1-b),c:.0722-.0722*(1-b),d:.2126-.2126*(1-b),e:.7152+.2848*(1-b),f:.0722-.0722*(1-b),g:.2126-.2126*(1-b),h:.0722+.9278*(1-b)})};a.filter.grayscale.toString=function(){return this()};a.filter.sepia=function(b){null==
b&&(b=1);return a.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-b),b:.769-.769*(1-b),c:.189-.189*(1-b),d:.349-.349*(1-b),e:.686+.314*(1-b),f:.168-.168*(1-b),g:.272-.272*(1-b),h:.534-.534*(1-b),i:.131+.869*(1-b)})};a.filter.sepia.toString=function(){return this()};a.filter.saturate=function(b){null==b&&(b=1);return a.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-b})};a.filter.saturate.toString=function(){return this()};
a.filter.hueRotate=function(b){return a.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:b||0})};a.filter.hueRotate.toString=function(){return this()};a.filter.invert=function(b){null==b&&(b=1);return a.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:b,amount2:1-b})};a.filter.invert.toString=function(){return this()};
a.filter.brightness=function(b){null==b&&(b=1);return a.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:b})};a.filter.brightness.toString=function(){return this()};a.filter.contrast=function(b){null==b&&(b=1);return a.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',
{amount:b,amount2:.5-b/2})};a.filter.contrast.toString=function(){return this()}});n.plugin(function(a,b,d,m,n){var p=a._.box,y=a.is,q=/^[^a-z]*([tbmlrc])/i,e=function(){return"T"+this.dx+","+this.dy};b.prototype.getAlign=function(a,b){null==b&&y(a,"string")&&(b=a,a=null);a=a||this.paper;var d=a.getBBox?a.getBBox():p(a),c=this.getBBox(),k={};b=(b=b&&b.match(q))?b[1].toLowerCase():"c";switch(b){case "t":k.dx=0;k.dy=d.y-c.y;break;case "b":k.dx=0;k.dy=d.y2-c.y2;break;case "m":k.dx=0;k.dy=d.cy-c.cy;break;
case "l":k.dx=d.x-c.x;k.dy=0;break;case "r":k.dx=d.x2-c.x2;k.dy=0;break;default:k.dx=d.cx-c.cx,k.dy=0}k.toString=e;return k};b.prototype.align=function(a,b){return this.transform("..."+this.getAlign(a,b))}});return n});
"document"in self&&!("classList"in document.createElement("_"))&&function(t){if("Element"in t){t=t.Element.prototype;var d=Object,m=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},n=Array.prototype.indexOf||function(a){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===a)return b;return-1},a=function(a,b){this.name=a;this.code=DOMException[a];this.message=b},b=function(b,d){if(""===d)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(d))throw new a("INVALID_CHARACTER_ERR",
"String contains an invalid character");return n.call(b,d)},k=function(a){for(var b=m.call(a.getAttribute("class")||""),b=b?b.split(/\s+/):[],d=0,e=b.length;d<e;d++)this.push(b[d]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},E=k.prototype=[],B=function(){return new k(this)};a.prototype=Error.prototype;E.item=function(a){return this[a]||null};E.contains=function(a){return-1!==b(this,a+"")};E.add=function(){var a=arguments,d=0,k=a.length,e,f=!1;do e=a[d]+"",-1===b(this,
e)&&(this.push(e),f=!0);while(++d<k);f&&this._updateClassName()};E.remove=function(){var a=arguments,d=0,k=a.length,e,f=!1;do e=a[d]+"",e=b(this,e),-1!==e&&(this.splice(e,1),f=!0);while(++d<k);f&&this._updateClassName()};E.toggle=function(a,b){a+="";var d=this.contains(a),e=d?!0!==b&&"remove":!1!==b&&"add";if(e)this[e](a);return!d};E.toString=function(){return this.join(" ")};if(d.defineProperty){E={get:B,enumerable:!0,configurable:!0};try{d.defineProperty(t,"classList",E)}catch(p){-2146823252===
p.number&&(E.enumerable=!1,d.defineProperty(t,"classList",E))}}else d.prototype.__defineGetter__&&t.__defineGetter__("classList",B)}}(self);define("classList",function(){});
define("config",[],function(){return{FONT_FAMILY:"'Lato', sans-serif",TEXT_SIZE_SMALL:12,TEXT_SIZE_MEDIUM:14.4,SPILLOVER_TOP:0,SPILLOVER_RIGHT:0,SPILLOVER_BOTTOM:0,SPILLOVER_LEFT:0,TARGET_MARKER_COUNT:5,SMALL_MARKER_SIZE:5,X_RANGE_PADDING:.1,DOT_SIZE:3,BUBBLE_MAX_RADIUS_PROPORTION:.12,BUBBLE_MIN_RADIUS_PROPORTION:.03,KEY_SIDE_PADDING:50,KEY_MAX_VALUES:12,KEY_PADDING_TOP:20,KEY_PADDING_RIGHT:50,KEY_PADDING_BOTTOM:20,KEY_PADDING_LEFT:50,KEY_COLUMNS:3,KEY_ROWSPACING:25,KEY_TEXT_SPACING:5,KEY_NEUTRAL_FILL:"#E4E4E3",
KEY_NEUTRAL_STROKE:"#676A68",KEY_MAX_TEXT_LENGTH:18,KEY_MARGIN_TOP:100,TICK_MARK_HORIZONTAL_PADDING:10,TICK_MARK_VERTICAL_PADDING:10,TICK_MARK_FONT_WEIGHT:300}});
define("data-processor",[],function(){return{sortDataByValue:function(t,d){return d.value-t.value},tableToJSON:function(t){function d(){this.rows=this.keys=this.yLabel=this.xLabel=this._cacheRange=null}d.prototype={constructor:d,getRange:function(a){var b=-1,b="string"===typeof a?this.keys[a]:a;if(!this._cacheRange[b]){var d=Number.MAX_VALUE,k=Number.MIN_VALUE,e=0;this.rows.forEach(function(a){e=a[b];e<d&&(d=e);e>k&&(k=e)});this._cacheRange[b]={max:k,min:d}}return this._cacheRange[b]}};var m=0,n,
a,b=-1,k=new d,E;k.keys={};Array.prototype.forEach.call(t.rows[0].cells,function(a,b){1===b?k.xLabel=a.textContent:2===b&&(k.yLabel=a.textContent);k.keys[a.textContent]=b});a=t.rows[0].cells.length;n=t.rows.length;k.rows=Array(n-1);for(k._cacheRange=Array(n-1);++m<n;)for(k.rows[m-1]=Array(a),b=-1;++b<a;)t.rows[m].cells[b]?E=t.rows[m].cells[b].textContent.split(",").join(""):4===b&&(E="Other"),isNaN(E)||(E=parseFloat(E)),k.rows[m-1][b]=E;return k}}});
define("number-utils",[],function(){return{roundToOrder:function(t,d,m){function n(a,b){var d=Math.abs(a);d>=Math.pow(10,m)?(a=n(a/10,b),a*=10):d<Math.pow(10,m-1)?(a*=10,a=n(a,b),a/=10):(d=Math.round(a/b)*b,0===d&&(m++,d=n(a,b)),a=d);return parseFloat(a.toPrecision(m+1))}t=parseFloat(t);if(0==t)return 0;m||(m=2);return 1===d?parseFloat(t.toPrecision(m)):n(t,d)},renderValue:function(t){function d(a){if(0==a)return 0;if(1<=a&&1E3>a)return a;if(1>a)return n-=3,d(1E3*a);if(1E3<=a)return n+=3,d(a/1E3)}
if(0===t)return"0";if(!t)return"";var m=1;0>t&&(m=-1,t*=-1);t=this.roundToOrder(t,1,3);var n=0,a=new String(m*d(t));return 3==n?a+"k":6==n?a+"m":9==n?a+"bn":12==n?a+" trillion":new String(m*t)},getDataTotal:function(t){for(var d=0,m=0;m<t.length;m++)d+=t[m].value;return d},getAngle:function(t,d,m){m="undefined"===typeof m?Circle.whole:m;return m/d*t},getFactor:function(t){for(var d=t-1;1<d;d--){var m=t/d;if(parseInt(m)==m)return d}return t}}});
define("scale-utils",["number-utils"],function(t){return{Scale:function(d,m,n,a){this.start=d;this.middle=d+m/2;this.end=d+m;if(n==a)throw"Min and max values are the same";var b=n>a?!0:!1;this.getPixel=function(k,t){if((k<n||k>a)&&!1===("undefined"===typeof t?!0:!1)&&!(b&&k<=n&&k>=a))throw"Out of range";return d+(k-n)/(a-n)*m}},AreaScale:function(d,m,n,a){this.start=d;this.middle=d+m/2;this.midValue=n+(a-n)*Math.pow(.5,2);this.end=d+m;if(n==a)throw"Min value and max are the same";var b=n>a?!0:!1;
this.getPixel=function(k,t){if((k<n||k>a)&&!1===("undefined"===typeof t?!0:!1)&&!(b&&k<=n&&k>=a))throw"Out of range";return d+m*Math.pow((k-n)/(a-n),.5)}},getTickMarks:function(d,m,n,a){var b=0,k=0,t=0,B=0,t=0,p=[],B=t=0;d==m&&(b=0!==m?m/10:1,d-=b,m+=b);n=(m-d)/(n-1);k=b=0;b=Math.floor(Math.log(n)/Math.LN10);k=n/Math.pow(10,b);k=(1.5>k?1:3>k?2:7>k?5:10)*Math.pow(10,b);t=Math.floor(d/k)*k;B=Math.ceil(m/k)*k;b=Math.max(-Math.floor(Math.log(k)/Math.LN10),1);B+=.5*k;a&&(0!==t&&(t-=k),B+=k);for(;t<B;t+=
k)p.push(parseFloat(t.toFixed(b)));return p}}});
define("color-utils",[],function(){return{colorWheelClasses:"fm-datum-color-wheel-a fm-datum-color-wheel-b fm-datum-color-wheel-c fm-datum-color-wheel-d fm-datum-color-wheel-e fm-datum-color-wheel-f fm-datum-color-wheel-g fm-datum-color-wheel-h fm-datum-color-wheel-i fm-datum-color-wheel-j fm-datum-color-wheel-k fm-datum-color-wheel-l".split(" "),overflowClass:"fm-datum-color-overflow",pad:function(t){return 2>t.length?"0"+t:t},contrasting:function(t){throw"Not yet implemented";},registerTint1Filter:function(){throw"Not yet implemented";
},registerTint2Filter:function(){throw"Not yet implemented";},lowContrast:function(t,d){d="undefined"===typeof d?0:d;if(t+d>this.colorWheelClasses.length){for(var m=[],n=0;n<t;n++)n<this.colorWheelClasses.length?m.push(this.colorWheelClasses[n]):m.push(this.colorWheelClasses[this.colorWheelClasses.length-n]);return m}return this.colorWheelClasses.splice(d,t)},monochromatic:function(t,d,m){throw"Not yet implemented";},harmonious:function(t){for(var d=Math.min(t,this.colorWheelClasses.length),m=[],
n=Math.floor(this.colorWheelClasses.length/2),a=function(){return 0==this.colorWheelClasses.length%4}.bind(this),b=function(a,b){a=(a+this.colorWheelClasses.length)%this.colorWheelClasses.length;var k=Math.floor(m.length/4)+1;m.length<d&&m.splice(1*k-1,0,a);m.length<d&&m.splice(2*k-1,0,(a+b+1)%this.colorWheelClasses.length);m.length<d&&m.splice(3*k-1,0,(a+n)%this.colorWheelClasses.length);m.length<d&&m.splice(4*k-1,0,(a+b+1+n)%this.colorWheelClasses.length)}.bind(this),k=function(a,b){a=(a+this.colorWheelClasses.length)%
this.colorWheelClasses.length;m.splice(b,0,a)}.bind(this),E=1,B=0;E<=n-2;E+=2,B--)b(B,E);b=m.length/4;m.length<d&&k(1,b);m.length<d&&k(1+n,3*b+1);a()&&(m.length<d&&k(1+n/2,2*b+1),m.length<d&&k(1+3*n/2,4*b+3));a=[];for(k=0;k<t;k++)a.push(this.colorWheelClasses[m[k%d]]);return a}}});
define("tick-mark",["snap","config"],function(t,d){return t.plugin(function(m,n,a){a.prototype.tickMark=function(a,k,m,n,p){if("horizontal"===m){a=this.text(a-d.TICK_MARK_HORIZONTAL_PADDING,k,p).attr({"font-family":d.FONT_FAMILY,"font-size":d.TEXT_SIZE_SMALL,"font-weight":d.TICK_MARK_FONT_WEIGHT,"text-anchor":"end","dominant-baseline":"central"});var y=this.g(a).addClass("fm-tick-mark")}else"vertical"===m?(m=this.line(a,k,a,k+n),a=this.text(a,k+d.TICK_MARK_VERTICAL_PADDING+d.TEXT_SIZE_SMALL/2,p).attr({"font-family":d.FONT_FAMILY,
"font-size":d.TEXT_SIZE_SMALL,"font-weight":d.TICK_MARK_FONT_WEIGHT,"text-anchor":"middle"}),y=this.g(a,m).addClass("fm-tick-mark")):console.err("Incorrect orientation specified");return y}})});
define("axis",["snap","tick-mark","number-utils"],function(t,d,m){return t.plugin(function(d,a,b){b.prototype.axis=function(a,b,d,p,n,q,e,f,w){var r=this,c=r.g(),x=this.g();c.startPoints=[];if("horizontal"===q){p.forEach(function(a){"object"!==typeof a&&(a={position:a,label:m.renderValue(a)});var e=d.getPixel(a.position);c.startPoints.push({x:e,y:b});x.append(r.tickMark(e,b,"vertical",n,a.label,10))});if(f)var u=r.line(a,b,d.end,b).addClass("fm-axis");if(e){var l;w&&"last"!==w?"first"===w?l=x.getBBox().y-
17.5:console.error("Invalid axis label position specified."):l=x.getBBox().y+x.getBBox().height+17.5;e=r.text(d.middle,l,e).addClass("fm-x-axis-label");e.attr({"font-family":"'Lato', sans-serif","font-weight":400,"font-size":12,"text-anchor":"middle"});c.append(e)}c.append(u);c.append(x)}else p.forEach(function(b){"object"!==typeof b&&(b={position:b,label:m.renderValue(b)});var e=d.getPixel(b.position);c.startPoints.push({x:a,y:e});b=r.tickMark(a,e,"horizontal",n,b.label);x.append(b)}),c.append(x),
p=c.getBBox(),f&&(u=r.line(a,b,a,d.end).addClass("fm-axis"),c.append(u)),e&&(e=r.text(p.x-6-25,d.middle,e).addClass("fm-y-axis-label"),e.getBBox(),e.attr({"font-family":"'Lato', sans-serif","font-weight":400,"font-size":12,"text-anchor":"middle"}).transform("r -90"),c.append(e));return c}})});
define("grid-lines",["snap"],function(t){return t.plugin(function(d,m,n){n.prototype.gridLines=function(a,b,d,m,n){function p(){d.forEach(function(b,d){var k=q.line(a,b.y,a+m,b.y).addClass("fm-grid-line");e.append(k)})}function y(){d.forEach(function(a,d){var k=q.line(a.x,b,a.x,b+m).addClass("fm-grid-line");e.append(k)})}var q=this,e=this.g();"horizontal"===n?p():"vertical"===n?y():console.err("Invalid orientation specified");return e}})});
define("bubble-point",["snap"],function(t){return t.plugin(function(d,m,n){n.prototype.bubblePoint=function(a,b,d){return this.circle(a,b,Math.sqrt(d/Math.PI)).addClass("fm-scatter-bubble")}})});
define("key",["snap","config","color-utils"],function(t,d,m){t=function(d,a,b,k,m,t,p,y,q,e,f,w){this._paper=d;this.node=d.g();this.x=a;this.y=b;this.width=k;this.columns=m;this.columnWidth=t;this.centerItems=p;this.values=y;this.maxValues=q;this.maxValueLength=e;this.lastItemIsOther=f;this.colorClasses=w};t.prototype={constructor:t,hide:function(){},remove:function(){this.node.parent.remove(this.node);this.node=null},render:function(){var n=this.values.length;if("undefined"===typeof this.maxValues||
this.maxValues>n)this.maxValues=n;"undefined"===typeof this.maxValueLength&&(this.maxValueLength=d.KEY_MAX_TEXT_LENGTH);var a;a=this.colorClasses?this.colorClasses:m.harmonious(n);this.container=this.node.rect(this.x,this.y,this.width,10).addClass("fm-key-container").attr({fill:d.KEY_NEUTRAL_FILL,stroke:d.KEY_NEUTRAL_STROKE});var b=this.node.g().addClass("fm-key-items"),k=0,t=0,B;this.values.every(function(m,p){if(p===this.maxValues)return!1;var e;e=p===this.values.length-1&&this.lastItemIsOther?
"fm-datum-color-overflow":a[p];0!==p&&0===p%this.columns&&(k=0,t+=B.getBBox().height+d.KEY_ROWSPACING);var f=m.length>this.maxValueLength?m.substring(0,this.maxValueLength-1)+"\u2026":m;e=this.node.rect(this.x+k,this.y+d.KEY_PADDING_TOP+t,13,13).addClass(e);B=this.node.text(this.x+d.KEY_TEXT_SPACING+e.getBBox().width+k,this.y+d.KEY_PADDING_TOP+t+parseInt(e.attr("height"),10)-1,f).attr({"font-family":d.FONT_FAMILY,"font-size":d.TEXT_SIZE_SMALL});f=this.node.g(e,B).data("fullText",m[p]);e=this.columnWidth-
d.KEY_TEXT_SPACING;var n=f.getBBox().width;if(!(n<=e))for(var r=f.select("text"),c=r.attr("text"),x=!0,c=c.substr(0,c.length-1)+"\u2026";x;)if(c=c.substr(0,c.length-2)+"\u2026",r.attr("text",c),n=f.getBBox().width,n<=e||5===c.length)x=!1;b.append(f);k+=this.columnWidth;return!0}.bind(this));var n=b.getBBox(),p=this.container.getBBox();this.container.attr({height:n.height+d.KEY_PADDING_TOP+d.KEY_PADDING_BOTTOM});!0===this.centerItems?b.transform("t"+(p.width/2-n.width/2)+" 0"):b.transform("t"+d.KEY_PADDING_LEFT+
" 0");return this.node.g(this.container,b).addClass("fm-key").attr({strokeDasharray:this.width+","+p.height+",0,"+100*this.width+",0"})},show:function(){},setHeight:function(d){this.node.select(".fm-key-container").attr({height:d+"px"})}};return t});
define("bubble-key",["config","key","number-utils"],function(t,d,m){function n(a,b,k,m,n,p,t,q,e){d.call(this,a,b,k,m,1,n,!1,p,t,q);this._scaleSettings=e;this.state={fixed:{bubble:null,scale:null},hover:{bubble:null,scale:null}}}n.prototype=Object.create(d.prototype);n.prototype._createScaleCircle=function(a,b,d){var m=this._paper,n=b.clone(),p=null,p=null,p=0;a.scale=m.g();p=n.attr("r");p=d-p;n.attr({cx:0,cy:d+p});n.addClass("fm-scatter-bubble-active");a.scale.append(n);p=m.text(0,d+p+parseInt(t.TEXT_SIZE_MEDIUM,
10)/2,b.data("area value")).attr({fill:"#fff","font-family":t.FONT_FAMILY,"font-size":t.TEXT_SIZE_MEDIUM,"text-anchor":"middle"});a.scale.append(p);this.node.select(".fm-key-scale-bubblegroup").append(a.scale)};n.prototype._hideScaleLabels=function(){this.node.selectAll(".fm-key-scale-maxbubble text, .fm-key-scale-midbubble text, .fm-key-scale-minbubble text").forEach(function(a){a.attr("display","none")})};n.prototype._showScaleLabels=function(){this.node.selectAll(".fm-key-scale-maxbubble text, .fm-key-scale-midbubble text, .fm-key-scale-minbubble text").forEach(function(a){a.attr("display",
"block")})};n.prototype.constructor=n;n.prototype.render=function(){d.prototype.render.apply(this);var a=this._paper,b=0,k=0,n=0,B=0,p={fill:"none",stroke:"#8D8E8D","stroke-dasharray":"4,4"},y={fill:"#8D8E8D","font-family":t.FONT_FAMILY,"font-size":t.TEXT_SIZE_SMALL,"text-anchor":"middle"},q=parseInt(t.TEXT_SIZE_SMALL,10)/2,e=this._scaleSettings,f=a.g().attr("class","fm-key-scale"),w=a.text(0,0,e.title).attr({"font-family":t.FONT_FAMILY,"font-size":t.TEXT_SIZE_SMALL,"text-anchor":"middle"}),r=a.g().attr("class",
"fm-key-scale-bubblegroup");r.transform("t0,"+w.getBBox().height);var k=e.scale.end,n=e.scale.middle,B=e.scale.start,c=a.g().attr("class","fm-key-scale-maxbubble");c.append(a.text(0,b+(k-n)+q,m.renderValue(e.maxValue)).attr(y));b+=k;c.append(a.circle(0,b,k).attr(p));var x=a.g().attr("class","fm-key-scale-midbubble"),u=e.scale.midValue,u=parseFloat(u.toFixed(12)),b=b+(k-n);x.append(a.text(0,b-n+(n-B)+q,m.renderValue(u)).attr(y));x.append(a.circle(0,b,n).attr(p));b+=n-B;k=a.g().attr("class","fm-key-scale-minbubble");
k.append(a.text(0,b-B+q+B,m.renderValue(e.minValue)).attr(y));k.append(a.circle(0,b,B).attr(p));r.append(c);r.append(x);r.append(k);f.append(w);f.append(r);a=this.node.select(".fm-key");b=a.getBBox();B=f.getBBox();this.setHeight(Math.max(b.height,B.height+t.KEY_PADDING_TOP+t.KEY_PADDING_BOTTOM));p=(this.node.getBBox().height-B.height+t.KEY_PADDING_TOP)/2;a.append(f);f.transform("t"+(this.width-B.width/2-t.KEY_SIDE_PADDING)+","+(b.y+p));a=this.node;f=a.select(".fm-key-items");a=a.getBBox().cy-f.getBBox().cy;
f.transform("t"+t.KEY_SIDE_PADDING+","+a)};n.prototype.setScaleFixed=function(a){if(null===a)this.state.fixed.scale.remove(),this.state.fixed.scale=null,this.state.fixed.bubble.removeClass("fm-scatter-bubble-active"),this.state.fixed.bubble=null;else{var b=this._scaleSettings.scale.end;this._hideScaleLabels();this._createScaleCircle(this.state.fixed,a,b);this.state.fixed.bubble=a;a.addClass("fm-scatter-bubble-active");this.state.hover.bubble===a&&this.setScaleHover(null)}};n.prototype.setScaleHover=
function(a){if(null===a)null!==this.state.hover.scale&&(this.state.hover.scale.remove(),this.state.hover.scale=null,this.state.hover.bubble=null,null===this.state.fixed.scale&&this._showScaleLabels());else{null!==this.state.hover.scale&&this.setScaleHover(null);var b=this._scaleSettings.scale.end;this._hideScaleLabels();this._createScaleCircle(this.state.hover,a,b);this.state.hover.bubble=a;null!==this.state.fixed.scale&&(this.state.hover.scale.select("circle").attr("fill-opacity","0"),this.state.hover.scale.select("text").remove(),
this.state.hover.scale.insertBefore(this.state.fixed.scale))}};return n});define("multitext",["snap"],function(t){return t.plugin(function(d,m,n,a){n.prototype.multitext=function(a,d,m,n,p){"undefined"===typeof n&&(n="1.8em");"undefined"===typeof p&&(p="start");m=m.split("\n");d=this.text(a,d,m);d.attr({textAnchor:p});d.selectAll("tspan:nth-child(n+2)").attr({dy:n,x:a});return d}})});
define("tooltip",["config","multitext"],function(t,d){function m(a,b,d,m,n){(this.enableBlackBorder=m)&&!document.getElementById("black-border")&&(a.node.querySelector("defs").innerHTML+='<filter id="black-border" x="-5%" y="-5%" width="110%" height="110%"><feMorphology in="SourceAlpha" operator="dilate" radius="1" result="border"></feMorphology><feGaussianBlur stdDeviation="0.2" in="border" result="blurred-border"></feGaussianBlur><feMerge><feMergeNode in="blurred-border"></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter>');
this.tooltipClass=b;this.colorClass=d;this.colorOverride=n;this._paper=a;this._parent=a.node;this._tooltipBG=this._tooltipArrow=null;this._tooltipPlacement="right";this.snapElement=this._tooltipText=null}var n;t.TOOLTIP_MAX_VALUE_LENGTH?n=t.TOOLTIP_MAX_VALUE_LENGTH:20;m.prototype={_positionTooltipArrow:function(a){var b=Snap.matrix(),d=this._tooltipBG.getBBox();switch(a){case "left":b.translate(d.width+4,d.height/2);b.rotate(180);this._tooltipArrow.transform(b.toTransformString());break;case "right":b.translate(-4,
d.height/2);this._tooltipArrow.transform(b.toTransformString());break;case "top":b.translate(d.width/2,d.height+4);b.rotate(-90);this._tooltipArrow.transform(b.toTransformString());break;case "bottom":b.translate(d.width/2,-4),b.rotate(90),this._tooltipArrow.transform(b.toTransformString())}this._tooltipPlacement=a},constructor:m,hide:function(){this.snapElement&&this.snapElement.attr("display","none")},remove:function(){this._tooltipText=this._tooltipBG=this._tooltipArrow=null;this.snapElement.remove();
this.snapElement=null},render:function(a,b){var d=this._paper,m=null;null!==this.snapElement&&this.remove();this.snapElement=d.g();var t,p="[object Array]"===Object.prototype.toString.call(b)?!0:!1;a.length>n&&(a=a.substring(0,n-3)+"...");if(p){t=d.g();t.attr({fill:"#fff"});var y=d.text(10,10,a);y.attr({dy:parseInt("12px",10),"font-family":"'Lato', sans-serif","font-size":"12px"});t.append(y);var q=[],e=[];b.forEach(function(a){var b;b=a.title.length>n?a.title.substring(0,n-3)+"...":a.title;a=a.value.length>
n?a.value.substring(0,n-3)+"...":a.value;q.push(b+":");e.push(a)});var m=d.multitext(10,20+y.getBBox().height+5,q.join("\n"),"1.2em").attr({"font-family":"'Lato', sans-serif","font-size":"12px"}),f=d.multitext(10,20+y.getBBox().height+5,e.join("\n"),"1.2em","end").attr({"font-family":"'Lato', sans-serif","font-size":"12px"});f.transform("t "+(m.getBBox().width+f.getBBox().width+5)+" 0");t.append(m);t.append(f)}else t=d.text(10,10,a+": "+b),t.attr({dy:parseInt("12px",10)});this._tooltipText=t;this.snapElement.append(t);
this.snapElement.addClass("fm-tooltip "+this.tooltipClass);m=t.getBBox();t=d.rect(0,0,m.width+10+10,m.height+10+10,4);t.addClass(this.colorClass);this.colorOverride&&t.attr({fill:this.colorOverride});this._tooltipBG=t;p&&y.transform("t "+(m.width/2-y.getBBox().width/2)+" 0");d=d.polygon([-5,.2,5,-5,5,5]).addClass(this.colorClass);this.colorOverride&&d.attr({fill:this.colorOverride});this._tooltipArrow=d;this._positionTooltipArrow(this._tooltipPlacement);this.snapElement.prepend(t);this.snapElement.append(d);
this.hide();this.enableBlackBorder&&this.snapElement.attr({filter:"url(#black-border)"});return this.snapElement},setPosition:function(a,b,d){if(this.snapElement){void 0===d?d=this._tooltipPlacement:d!==this._tooltipPlacement&&this._positionTooltipArrow(d);var m=this._tooltipArrow.getBBox(),n=this._tooltipBG.getBBox();switch(d){case "left":a=a-m.width-n.width;b-=n.height/2;break;case "right":a+=m.width;b-=n.height/2;break;case "bottom":a-=n.width/2;b+=m.height;break;case "top":a-=n.width/2,b=b-n.height-
m.height}this.snapElement.transform("T"+a+","+b)}},show:function(){this.snapElement&&(this.snapElement.parent().append(this.snapElement),this.snapElement.attr("display","block"))}};return m});
define("multi-tier-tooltip",["tooltip","multitext"],function(t){function d(d,n,a){t.call(this,d,n,a)}d.prototype=Object.create(t.prototype);d.prototype.render=function(d,n,a){var b=this._paper,k=null;null!==this.snapElement&&this.remove();this.snapElement=b.g();var t;t=b.g();d=b.text(10,7,d);d.attr({dy:parseInt("12px",10)});t.append(d);var B=[],p=[];n.forEach(function(a){B.push(a.title+":");p.push(a.value)});n=b.multitext(10,d.getBBox().y+d.getBBox().height,B.join("\n"),"1.4em");n.transform("t0 "+
n.getBBox().height);var k=b.multitext(10,d.getBBox().y+d.getBBox().height,p.join("\n"),"1.4em","end"),y=[],q=[];a.forEach(function(a){y.push(a.title+":");q.push(a.value)});a=b.multitext(10,n.getBBox().y+20+2*parseInt("12px",10),y.join("\n"),"1.4em");var e=b.multitext(10,n.getBBox().y+20+2*parseInt("12px",10),q.join("\n"),"1.4em","end"),f=n.getBBox(),w=a.getBBox(),f=f.width>w.width?f.width:w.width,w=k.getBBox(),r=e.getBBox(),w=w.width>r.width?w.width:r.width;k.transform("t "+(f+w)+" "+k.getBBox().height);
e.transform("t "+(f+w)+" 0");t.append(n);t.append(k);t.append(a);t.append(e);t.attr({fill:"#fff","font-family":"'Lato', sans-serif","font-size":"12px"});this._tooltipText=t;k=t.getBBox();a=b.rect(0,0,k.width+10+10,k.height+7+10,4);a.addClass(this.colorClass);this._tooltipBG=a;f=a.getBBox();this.groupBoundary=n.getBBox().y+10+parseInt("12px",10);n=b.line(0,this.groupBoundary,f.width,this.groupBoundary).attr({stroke:"white"});e=b.rect(f.x,f.y,f.width,f.height,4);f=b.rect(f.x,this.groupBoundary,f.width,
f.height-this.groupBoundary).attr("fill","white");e.attr("mask",f);e.addClass(this.colorClass+" tint-1");d.transform("t "+(k.width/2-d.getBBox().width/2)+" 0");d=b.polygon([-3.5,.2,6.5,-5,6.5,5]);b=b.rect(-6,-6,11,12).attr("fill","#fff");d.attr({mask:b}).addClass(this.colorClass);this._tooltipArrow=d;this._positionTooltipArrow(this._tooltipPlacement);this.snapElement.append(a);this.snapElement.append(e);this.snapElement.append(t);this.snapElement.append(d);this.snapElement.append(n);this.snapElement.addClass("fm-tooltip");
this.hide();return this.snapElement};d.prototype.setPosition=function(d,n,a){if(this.snapElement){void 0===a?a=this._tooltipPlacement:a!==this._tooltipPlacement&&this._positionTooltipArrow(a);var b=this._tooltipArrow.getBBox(),k=this._tooltipBG.getBBox();switch(a){case "left":d=d-b.width-k.width;n=n-this.groupBoundary/2-2;break;case "right":d+=b.width;n=n-this.groupBoundary/2-2;break;case "top":d=d-b.width-k.width;n-=b.height;break;case "bottom":d+=b.width,n+=b.height}this.snapElement.transform("T"+
d+","+n)}};d.prototype._positionTooltipArrow=function(d){var n=Snap.matrix(),a=this._tooltipBG.getBBox();switch(d){case "left":n.translate(a.width+4,this.groupBoundary/2+3);n.rotate(180);this._tooltipArrow.transform(n.toTransformString());break;case "right":n.translate(-4,this.groupBoundary/2+3);this._tooltipArrow.transform(n.toTransformString());break;case "top":n.translate(a.width/2,a.height+4);n.rotate(-90);this._tooltipArrow.transform(n.toTransformString());break;case "bottom":n.translate(a.width/
2,-4);n.rotate(90);this._tooltipArrow.transform(n.toTransformString());break;case "none":this._tooltipArrow.remove()}this._tooltipPlacement=d};return d});
define("bubble","snap config scale-utils color-utils axis grid-lines bubble-point bubble-key multi-tier-tooltip".split(" "),function(t,d,m,n,a,b,k,E,B){function p(a,b,d){return(0>a?"-":"")+b+Math.abs(a)+d}return t.plugin(function(a,b,e){e.prototype.chart=function(a,b,e,c,k,q){function l(a,b,c,e,f,h){var k="";a=m.getTickMarks(a.min,a.max,d.TARGET_MARKER_COUNT,!0);var l,n,p=a[0],q=a[a.length-1];switch(f){case "horizontal":l=q-p;k="fm-x-axis";n=d.SMALL_MARKER_SIZE;l=G=new m.Scale(b,e,p-l*d.X_RANGE_PADDING,
q+.1*l);break;case "vertical":k="fm-y-axis",n=e,l=I=new m.Scale(c,e,q,p)}return z.axis(b,c,l,a,n,f,h).addClass(k)}function t(a){return function(){var b=this,c=a.state.fixed.bubble;null!=c&&a.setScaleFixed(null);c!=b?a.setScaleFixed(b):a._showScaleLabels();a.setScaleHover(null);T.forEach(function(a){if(a!=b||b==c){var d=a.data("tooltip");d&&(d.remove(),a.data("tooltip",null))}})}}function y(a){return function(){a.setScaleHover(null);if(a.state.fixed.bubble!==this){var b=this.data("tooltip");b&&b.remove();
this.data("tooltip",null)}}}function C(a){return function(){if(a.state.fixed.bubble!==this){var b=L.getBBox(),c=new B(z,"fm-bubble-tooltip",this.data("colour"));c.render(this.data("title"),[{title:X,value:p(this.data("area value"),q.sizePrefix,q.sizeSuffix)}],[{title:S,value:p(this.data("x value"),q.xPrefix,q.xSuffix)},{title:aa,value:p(this.data("y value"),q.yPrefix,q.ySuffix)}]);var d=this.data("radius"),e=G.getPixel(this.data("x value")),f=I.getPixel(this.data("y value"));c.snapElement.getBBox();
e>b.x+b.width/2?(b=e-d,d="left"):(b=e+d,d="right");c.setPosition(b,f,d);c.show();this.data("tooltip",c)}a.setScaleHover(this)}}function h(){ga.setScaleHover(null);ga.setScaleFixed(null);T.forEach(function(a){var b=a.data("tooltip");b&&(b.remove(),a.data("tooltip",null))});ga._showScaleLabels()}q.xPrefix||(q.xPrefix="");q.xSuffix||(q.xSuffix="");q.yPrefix||(q.yPrefix="");q.ySuffix||(q.ySuffix="");q.sizePrefix||(q.sizePrefix="");q.sizeSuffix||(q.sizeSuffix="");var z=this,D=Object.keys(k.keys),Y=D[0],
S=D[1],aa=D[2],X=D[3],K=k.getRange(S),V=k.getRange(aa),Q=k.getRange(X),P,G,I,R,L,U=0,D=z.g(),T=[],N=[],O=null,H={},F="";for(P in k.keys){F=P;break}k.rows.forEach(function(a,b){void 0==a[4]&&(a[4]=F);H.hasOwnProperty(a[4])||(H[a[4]]=null,N.push(a[4]))});N.sort(function(a,b){return"Other"==a?1:-1});O=n.harmonious(N.length);N.forEach(function(a,b){H[a]=O[b]});q=function(a){a.xLabel=a.xLabel?a.xLabel:"";a.yLabel=a.yLabel?a.yLabel:"";a.bubbleScaleLabel=a.bubbleScaleLabel?a.bubbleScaleLabel:"";return a}(q);
P=l(V,a,b+d.TEXT_SIZE_SMALL,c,"vertical",k.yLabel);U=P.getBBox().width;P.transform("t "+U+" 0");e-=U;K=l(K,a+U,P.startPoints[0].y,e-U-a,"horizontal",k.xLabel);V=z.rect(a,b,e,c).attr({fill:"transparent",opacity:0});V.click(function(){h()});L=z.gridLines(a,b,P.startPoints,e,"horizontal");L.transform("t "+U+" 0");L.addClass("fm-scatter-gridlines");var oa=k.keys[S],pa=k.keys[aa],Z=k.keys[X],ka=k.keys[Y],ha=0,ja=0;R=new m.AreaScale(d.BUBBLE_MIN_RADIUS_PROPORTION*Math.min(e,c),(d.BUBBLE_MAX_RADIUS_PROPORTION-
d.BUBBLE_MIN_RADIUS_PROPORTION)*Math.min(e,c),Q.min,Q.max);var ia=z.g(),A;k.rows.sort(function(a,b){return b[Z]-a[Z]});k.rows.forEach(function(a,b){ha=a[oa];ja=a[pa];var c=R.getPixel(a[Z]);A=z.circle(G.getPixel(ha),I.getPixel(ja),c).addClass("fm-scatter-bubble");A.addClass(H[a[4]]).attr("stroke",A.attr("fill")).data("x value",ha).data("y value",ja).data("colour",H[a[4]]).data("radius",c).data("area value",a[Z]).data("title",a[ka]);ia.append(A);T.push(A)});D.append(V);D.append(P);D.append(K);D.append(L);
D.append(ia);b=K.getBBox();var ga=new E(z,a+U,b.y+b.height+d.KEY_MARGIN_TOP,e,(b.width-d.KEY_SIDE_PADDING)/d.KEY_COLUMNS,N,d.KEY_MAX_VALUES,d.KEY_MAX_TEXT_LENGTH,{scale:R,maxValue:Q.max,minValue:Q.min,title:X});ga.render();a=ga.node.getBBox();a=a.y+a.height;z.node.style.height=a+"px";z.node.setAttribute("viewBox","0 0 "+e+" "+a);(function(a,b){a.forEach(function(a,c){a.mouseover(C(b));a.mouseout(y(b));a.click(t(b))})})(ia.selectAll(".fm-scatter-bubble"),ga);return D}})});
define("render",["snap","classList","config","data-processor","bubble"],function(t,d,m,n,a){function b(a){return a.split("-").map(function(a,b){return 0===b?a:a.charAt(0).toUpperCase()+a.substr(1)}).join("")}function k(a,b){var d=document.createElement("div");d.className="fm-powered-by-factmint";d.innerHTML='Powered by <a style="color: #527a92" href="http://factmint.com/charts">Factmint</a>';d.style.fontSize="8px";d.style.lineHeight="12px";d.style.width=b;d.style.textAlign="center";d.style.fontFamily=
"Lato, sans-serif";a.parentNode.insertBefore(d,a.nextSibling)}var E=/([0-9]+)(px|%|rem|em|ex|ch|vw|vh|vmin|vmax|mm|cm|in|pt|pc)/;return function(a){var d=a.getAttribute("data-fm-config"),y=d&&window[d]?window[d]:{};[].filter.call(a.attributes,function(a){return"data-fm-config"===a.name?!1:/^data-fm-/.test(a.name)}).forEach(function(a){var c=a.name.replace(/^data-fm-/,""),c=b(c);y[c]=a.value});y.width||(y.width="100%");y.height||(y.height="450px");if(null===y.height.match(E)||null===y.width.match(E))throw"A valid CSS length must be used for the chart dimensions (such as 50% or 400px)";
var q,e,f;y.width.replace(E,function(a,b,c){q=parseFloat(b);e=q*(m.SPILLOVER_LEFT+m.SPILLOVER_RIGHT);f=c});var w,r,c;y.height.replace(E,function(a,b,d){w=parseFloat(b);r=w*(m.SPILLOVER_TOP+m.SPILLOVER_BOTTOM);c=d});d=document.createElementNS("http://www.w3.org/2000/svg","svg");d.style.opacity=0;d.style.transition="opacity 0.3s ease-in-out";a.id||(a.id=Math.floor(16777216*Math.random()).toString(16));d.setAttribute("aria-describedby",a.id);y.enableSpillover?(d.style.height=w+r+c,d.style.width=q+e+
f,d.style.margin="-"+m.SPILLOVER_TOP*w+c+" -"+m.SPILLOVER_RIGHT*q+f+" -"+m.SPILLOVER_BOTTOM*w+c+" -"+m.SPILLOVER_LEFT*q+f):(d.style.height=w+c,d.style.width=q+f);a.parentElement.insertBefore(d,a);var x=t(d),u=n.tableToJSON(a,y),l=d.getBoundingClientRect(),v=l.right-l.left,l=l.bottom-l.top,J=v/(1+m.SPILLOVER_LEFT+m.SPILLOVER_RIGHT),C=l/(1+m.SPILLOVER_TOP+m.SPILLOVER_BOTTOM),h=J*m.SPILLOVER_LEFT,z=C*m.SPILLOVER_TOP;d.setAttribute("viewBox","0 0 "+v+" "+l);x.chart(h,z,J,C,u,y);a.classList.add("fm-hidden");
d.style.opacity=1;k(d,q+f)}});
require.config({paths:{snap:"../../bower_components/Snap.svg/dist/snap.svg",axis:"../../bower_components/axis/dist/axis",classList:"../../bower_components/classList.js/classList.min","grid-lines":"../../bower_components/grid-lines/dist/grid-lines","scale-utils":"../../bower_components/scale-utils/dist/scale-utils","number-utils":"../../bower_components/number-utils/dist/number-utils","tick-mark":"../../bower_components/tick-mark/dist/tick-mark","bubble-point":"../../bower_components/bubble-point/dist/bubble-point","color-utils":"../../bower_components/color-utils/dist/color",
"bubble-key":"../../bower_components/bubble-key/dist/bubble-key",key:"../../bower_components/key/dist/key","multi-tier-tooltip":"../../bower_components/multi-tier-tooltip/dist/multi-tier-tooltip",multitext:"../../bower_components/multitext/dist/multitext",tooltip:"../../bower_components/tooltip/dist/Tooltip"},shim:{snap:{exports:"Snap"}}});
require(["render"],function(t){var d=document.querySelectorAll("table.fm-bubble");if(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect){var m=document.createElementNS("http://www.w3.org/2000/svg","svg");m.style.width="500px";document.body.appendChild(m);var n=m.getBoundingClientRect();m.parentNode.removeChild(m);if(500===n.width)for(m=0;m<d.length;m++){if(window.factmint&&window.factmint.previewVisualizations||!d[m].hasAttribute("data-fm-rendered")){d[m].setAttribute("data-fm-rendered",
"true");try{t(d[m])}catch(a){console.log("ERROR: chart rendering failed"),a instanceof Error?console.log(a.stack):console.log(a)}}}else console.log("Your browser does not correctly support getBoundingClientRect() for SVG elements: visualizations disabled")}else console.log("SVG not supported: visualizations disabled")});define("main",function(){});
