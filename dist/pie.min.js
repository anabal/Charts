/* Copyright Factmint Ltd, not for distribution without consent; version 3.0.7*/
/*
 almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/almond for details
*/
'use strict';var requirejs,require,define;
(function(l){function d(b,g){var a,m,u,c,e,f,r,p,h,d=g&&g.split("/"),q=z.map,n=q&&q["*"]||{};if(b&&"."===b.charAt(0))if(g){b=b.split("/");e=b.length-1;z.nodeIdCompat&&A.test(b[e])&&(b[e]=b[e].replace(A,""));b=d.slice(0,d.length-1).concat(b);for(e=0;e<b.length;e+=1)if(a=b[e],"."===a)b.splice(e,1),--e;else if(".."===a)if(1!==e||".."!==b[2]&&".."!==b[0])0<e&&(b.splice(e-1,2),e-=2);else break;b=b.join("/")}else 0===b.indexOf("./")&&(b=b.substring(2));if((d||n)&&q){a=b.split("/");for(e=a.length;0<e;--e){m=
a.slice(0,e).join("/");if(d)for(h=d.length;0<h;--h)if(u=q[d.slice(0,h).join("/")])if(u=u[m]){c=u;f=e;break}if(c)break;!r&&n&&n[m]&&(r=n[m],p=e)}!c&&r&&(c=r,f=p);c&&(a.splice(0,f,c),b=a.join("/"))}return b}function f(k,c){return function(){var a=b.call(arguments,0);"string"!==typeof a[0]&&1===a.length&&a.push(null);return w.apply(l,a.concat([k,c]))}}function c(b){return function(c){return d(c,b)}}function g(b){return function(c){v[b]=c}}function h(b){if(B.call(x,b)){var c=x[b];delete x[b];r[b]=!0;
n.apply(l,c)}if(!B.call(v,b)&&!B.call(r,b))throw Error("No "+b);return v[b]}function t(b){var c,a=b?b.indexOf("!"):-1;-1<a&&(c=b.substring(0,a),b=b.substring(a+1,b.length));return[c,b]}function e(b){return function(){return z&&z.config&&z.config[b]||{}}}var n,w,p,q,v={},x={},z={},r={},B=Object.prototype.hasOwnProperty,b=[].slice,A=/\.js$/;p=function(b,g){var a,m=t(b),u=m[0];b=m[1];u&&(u=d(u,g),a=h(u));u?b=a&&a.normalize?a.normalize(b,c(g)):d(b,g):(b=d(b,g),m=t(b),u=m[0],b=m[1],u&&(a=h(u)));return{f:u?
u+"!"+b:b,n:b,pr:u,p:a}};q={require:function(b){return f(b)},exports:function(b){var c=v[b];return"undefined"!==typeof c?c:v[b]={}},module:function(b){return{id:b,uri:"",exports:v[b],config:e(b)}}};n=function(b,c,a,m){var u,D,e,d,n=[];D=typeof a;var t;m=m||b;if("undefined"===D||"function"===D){c=!c.length&&a.length?["require","exports","module"]:c;for(d=0;d<c.length;d+=1)if(e=p(c[d],m),D=e.f,"require"===D)n[d]=q.require(b);else if("exports"===D)n[d]=q.exports(b),t=!0;else if("module"===D)u=n[d]=q.module(b);
else if(B.call(v,D)||B.call(x,D)||B.call(r,D))n[d]=h(D);else if(e.p)e.p.load(e.n,f(m,!0),g(D),{}),n[d]=v[D];else throw Error(b+" missing "+D);c=a?a.apply(v[b],n):void 0;b&&(u&&u.exports!==l&&u.exports!==v[b]?v[b]=u.exports:c===l&&t||(v[b]=c))}else b&&(v[b]=a)};requirejs=require=w=function(b,c,a,m,u){if("string"===typeof b)return q[b]?q[b](c):h(p(b,c).f);if(!b.splice){z=b;z.deps&&w(z.deps,z.callback);if(!c)return;c.splice?(b=c,c=a,a=null):b=l}c=c||function(){};"function"===typeof a&&(a=m,m=u);m?n(l,
b,c,a):setTimeout(function(){n(l,b,c,a)},4);return w};w.config=function(b){return w(b)};requirejs._defined=v;define=function(b,c,a){if("string"!==typeof b)throw Error("See almond README: incorrect module build, no module name");c.splice||(a=c,c=[]);B.call(v,b)||B.call(x,b)||(x[b]=[b,c,a])};define.amd={jQuery:!0}})();define("almond",function(){});
(function(l,d){"function"===typeof define&&define.amd?define("svg-js",d):"object"===typeof exports?module.exports=d(require,exports,module):l.SVG=d()})(this,function(l,d,f){function c(a){return a.toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function g(a){return a.charAt(0).toUpperCase()+a.slice(1)}function h(a){return 4==a.length?["#",a.substring(1,2),a.substring(1,2),a.substring(2,3),a.substring(2,3),a.substring(3,4),a.substring(3,4)].join(""):a}function t(a){a=a.toString(16);
return 1==a.length?"0"+a:a}function e(a,b,u){null==u?u=a.height/a.width*b:null==b&&(b=a.width/a.height*u);return{width:b,height:u}}function n(a){return{a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5]}}function w(a){a instanceof b.Matrix||(a=new b.Matrix(a));return a}function p(a,b){a.cx=null==a.cx?b.bbox().cx:a.cx;a.cy=null==a.cy?b.bbox().cy:a.cy}function q(a){a=a.replace(b.regex.whitespace,"").replace(b.regex.matrix,"").split(",");return n(b.utils.map(a,function(a){return parseFloat(a)}))}function v(a,
m){return"number"==typeof a.from?a.from+(a.to-a.from)*m:a instanceof b.Color||a instanceof b.Number||a instanceof b.Matrix?a.at(m):1>m?a.from:a.to}function x(a){for(var b=0,u=a.length,c="";b<u;b++)c+=a[b][0],null!=a[b][1]&&(c+=a[b][1],null!=a[b][2]&&(c+=" ",c+=a[b][2],null!=a[b][3]&&(c+=" ",c+=a[b][3],c+=" ",c+=a[b][4],null!=a[b][5]&&(c+=" ",c+=a[b][5],c+=" ",c+=a[b][6],null!=a[b][7]&&(c+=" ",c+=a[b][7])))));return c+" "}function z(a){for(var m=a.childNodes.length-1;0<=m;m--)a.childNodes[m]instanceof
SVGElement&&z(a.childNodes[m]);return b.adopt(a).id(b.eid(a.nodeName))}function r(a){null==a.x&&(a.x=0,a.y=0,a.width=0,a.height=0);a.w=a.width;a.h=a.height;a.x2=a.x+a.width;a.y2=a.y+a.height;a.cx=a.x+a.width/2;a.cy=a.y+a.height/2;return a}function B(a){if(a=a.toString().match(b.regex.reference))return a[1]}var b=this.SVG=function(a){if(b.supported)return a=new b.Doc(a),b.parser||b.prepare(a),a};b.ns="http://www.w3.org/2000/svg";b.xmlns="http://www.w3.org/2000/xmlns/";b.xlink="http://www.w3.org/1999/xlink";
b.supported=!!document.createElementNS&&!!document.createElementNS(b.ns,"svg").createSVGRect;if(!b.supported)return!1;b.did=1E3;b.eid=function(a){return"Svgjs"+g(a)+b.did++};b.create=function(a){var b=document.createElementNS(this.ns,a);b.setAttribute("id",this.eid(a));return b};b.extend=function(){var a,m,u,c;a=[].slice.call(arguments);m=a.pop();for(c=a.length-1;0<=c;c--)if(a[c])for(u in m)a[c].prototype[u]=m[u];b.Set&&b.Set.inherit&&b.Set.inherit()};b.invent=function(a){var m="function"==typeof a.create?
a.create:function(){this.constructor.call(this,b.create(a.create))};a.inherit&&(m.prototype=new a.inherit);a.extend&&b.extend(m,a.extend);a.construct&&b.extend(a.parent||b.Container,a.construct);return m};b.adopt=function(a){if(a.instance)return a.instance;var m;m="svg"==a.nodeName?a.parentNode instanceof SVGElement?new b.Nested:new b.Doc:"lineairGradient"==a.nodeName?new b.Gradient("lineair"):"radialGradient"==a.nodeName?new b.Gradient("radial"):b[g(a.nodeName)]?new (b[g(a.nodeName)]):new b.Element(a);
m.type=a.nodeName;m.node=a;a.instance=m;m instanceof b.Doc&&m.namespace().defs();return m};b.prepare=function(a){var m=document.getElementsByTagName("body")[0],u=(m?new b.Doc(m):a.nested()).size(2,0),c=b.create("path");u.node.appendChild(c);b.parser={body:m||a.parent(),draw:u.style("opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),poly:u.polyline().node,path:c}};b.regex={unit:/^(-?[\d\.]+)([a-z%]{0,2})$/,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,
matrix:/matrix\(|\)/g,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^-?[\d\.]+$/,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i};b.utils={map:function(a,b){var u,c=a.length,g=[];for(u=0;u<c;u++)g.push(b(a[u]));return g},radians:function(a){return a%360*Math.PI/180},degrees:function(a){return 180*a/Math.PI%360},filterSVGElements:function(a){return[].filter.call(a,function(a){return a instanceof SVGElement})}};
b.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}};b.Color=function(a){this.b=this.g=this.r=0;"string"===typeof a?b.regex.isRgb.test(a)?(a=b.regex.rgb.exec(a.replace(/\s/g,"")),this.r=parseInt(a[1]),this.g=
parseInt(a[2]),this.b=parseInt(a[3])):b.regex.isHex.test(a)&&(a=b.regex.hex.exec(h(a)),this.r=parseInt(a[1],16),this.g=parseInt(a[2],16),this.b=parseInt(a[3],16)):"object"===typeof a&&(this.r=a.r,this.g=a.g,this.b=a.b)};b.extend(b.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+t(this.r)+t(this.g)+t(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(a){this.destination=
new b.Color(a);return this},at:function(a){if(!this.destination)return this;a=0>a?0:1<a?1:a;return new b.Color({r:~~(this.r+(this.destination.r-this.r)*a),g:~~(this.g+(this.destination.g-this.g)*a),b:~~(this.b+(this.destination.b-this.b)*a)})}});b.Color.test=function(a){a+="";return b.regex.isHex.test(a)||b.regex.isRgb.test(a)};b.Color.isRgb=function(a){return a&&"number"==typeof a.r&&"number"==typeof a.g&&"number"==typeof a.b};b.Color.isColor=function(a){return b.Color.isRgb(a)||b.Color.test(a)};
b.Array=function(a,b){a=(a||[]).valueOf();0==a.length&&b&&(a=b.valueOf());this.value=this.parse(a)};b.extend(b.Array,{morph:function(a){this.destination=this.parse(a);if(this.value.length!=this.destination.length){a=this.value[this.value.length-1];for(var b=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(b);for(;this.value.length<this.destination.length;)this.value.push(a)}return this},settle:function(){for(var a=0,b=this.value.length,u=
[];a<b;a++)-1==u.indexOf(this.value[a])&&u.push(this.value[a]);return this.value=u},at:function(a){if(!this.destination)return this;for(var m=0,u=this.value.length,c=[];m<u;m++)c.push(this.value[m]+(this.destination[m]-this.value[m])*a);return new b.Array(c)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(a){a=a.valueOf();return Array.isArray(a)?a:this.split(a)},split:function(a){return a.trim().split(/\s+/)},reverse:function(){this.value.reverse();
return this}});b.PointArray=function(a,b){this.constructor.call(this,a,b||[[0,0]])};b.PointArray.prototype=new b.Array;b.extend(b.PointArray,{toString:function(){for(var a=0,b=this.value.length,u=[];a<b;a++)u.push(this.value[a].join(","));return u.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(a){if(!this.destination)return this;for(var m=0,u=this.value.length,c=[];m<u;m++)c.push([this.value[m][0]+(this.destination[m][0]-
this.value[m][0])*a,this.value[m][1]+(this.destination[m][1]-this.value[m][1])*a]);return new b.PointArray(c)},parse:function(a){a=a.valueOf();if(Array.isArray(a))return a;a=this.split(a);for(var b=0,u=a.length,c,g=[];b<u;b++)c=a[b].split(","),g.push([parseFloat(c[0]),parseFloat(c[1])]);return g},move:function(a,b){var u=this.bbox();a-=u.x;b-=u.y;if(!isNaN(a)&&!isNaN(b))for(u=this.value.length-1;0<=u;u--)this.value[u]=[this.value[u][0]+a,this.value[u][1]+b];return this},size:function(a,b){var u,c=
this.bbox();for(u=this.value.length-1;0<=u;u--)this.value[u][0]=(this.value[u][0]-c.x)*a/c.width+c.x,this.value[u][1]=(this.value[u][1]-c.y)*b/c.height+c.y;return this},bbox:function(){b.parser.poly.setAttribute("points",this.toString());return b.parser.poly.getBBox()}});b.PathArray=function(a,b){this.constructor.call(this,a,b||[["M",0,0]])};b.PathArray.prototype=new b.Array;b.extend(b.PathArray,{toString:function(){return x(this.value)},move:function(a,b){var u=this.bbox();a-=u.x;b-=u.y;if(!isNaN(a)&&
!isNaN(b))for(var c=this.value.length-1;0<=c;c--)u=this.value[c][0],"M"==u||"L"==u||"T"==u?(this.value[c][1]+=a,this.value[c][2]+=b):"H"==u?this.value[c][1]+=a:"V"==u?this.value[c][1]+=b:"C"==u||"S"==u||"Q"==u?(this.value[c][1]+=a,this.value[c][2]+=b,this.value[c][3]+=a,this.value[c][4]+=b,"C"==u&&(this.value[c][5]+=a,this.value[c][6]+=b)):"A"==u&&(this.value[c][6]+=a,this.value[c][7]+=b);return this},size:function(a,b){var c,g,k=this.bbox();for(c=this.value.length-1;0<=c;c--)g=this.value[c][0],"M"==
g||"L"==g||"T"==g?(this.value[c][1]=(this.value[c][1]-k.x)*a/k.width+k.x,this.value[c][2]=(this.value[c][2]-k.y)*b/k.height+k.y):"H"==g?this.value[c][1]=(this.value[c][1]-k.x)*a/k.width+k.x:"V"==g?this.value[c][1]=(this.value[c][1]-k.y)*b/k.height+k.y:"C"==g||"S"==g||"Q"==g?(this.value[c][1]=(this.value[c][1]-k.x)*a/k.width+k.x,this.value[c][2]=(this.value[c][2]-k.y)*b/k.height+k.y,this.value[c][3]=(this.value[c][3]-k.x)*a/k.width+k.x,this.value[c][4]=(this.value[c][4]-k.y)*b/k.height+k.y,"C"==g&&
(this.value[c][5]=(this.value[c][5]-k.x)*a/k.width+k.x,this.value[c][6]=(this.value[c][6]-k.y)*b/k.height+k.y)):"A"==g&&(this.value[c][1]=this.value[c][1]*a/k.width,this.value[c][2]=this.value[c][2]*b/k.height,this.value[c][6]=(this.value[c][6]-k.x)*a/k.width+k.x,this.value[c][7]=(this.value[c][7]-k.y)*b/k.height+k.y);return this},parse:function(a){if(a instanceof b.PathArray)return a.valueOf();var m,c,k,g,e,f,r,p,d,h,n,q=0,t=0;b.parser.path.setAttribute("d","string"===typeof a?a:x(a));n=b.parser.path.pathSegList;
m=0;for(c=n.numberOfItems;m<c;++m){h=n.getItem(m);d=h.pathSegTypeAsLetter;if("M"==d||"L"==d||"H"==d||"V"==d||"C"==d||"S"==d||"Q"==d||"T"==d||"A"==d)"x"in h&&(q=h.x),"y"in h&&(t=h.y);else if("x1"in h&&(e=q+h.x1),"x2"in h&&(r=q+h.x2),"y1"in h&&(f=t+h.y1),"y2"in h&&(p=t+h.y2),"x"in h&&(q+=h.x),"y"in h&&(t+=h.y),"m"==d)n.replaceItem(b.parser.path.createSVGPathSegMovetoAbs(q,t),m);else if("l"==d)n.replaceItem(b.parser.path.createSVGPathSegLinetoAbs(q,t),m);else if("h"==d)n.replaceItem(b.parser.path.createSVGPathSegLinetoHorizontalAbs(q),
m);else if("v"==d)n.replaceItem(b.parser.path.createSVGPathSegLinetoVerticalAbs(t),m);else if("c"==d)n.replaceItem(b.parser.path.createSVGPathSegCurvetoCubicAbs(q,t,e,f,r,p),m);else if("s"==d)n.replaceItem(b.parser.path.createSVGPathSegCurvetoCubicSmoothAbs(q,t,r,p),m);else if("q"==d)n.replaceItem(b.parser.path.createSVGPathSegCurvetoQuadraticAbs(q,t,e,f),m);else if("t"==d)n.replaceItem(b.parser.path.createSVGPathSegCurvetoQuadraticSmoothAbs(q,t),m);else if("a"==d)n.replaceItem(b.parser.path.createSVGPathSegArcAbs(q,
t,h.r1,h.r2,h.angle,h.largeArcFlag,h.sweepFlag),m);else if("z"==d||"Z"==d)q=k,t=g;if("M"==d||"m"==d)k=q,g=t}a=[];n=b.parser.path.pathSegList;m=0;for(c=n.numberOfItems;m<c;++m)h=n.getItem(m),d=h.pathSegTypeAsLetter,q=[d],"M"==d||"L"==d||"T"==d?q.push(h.x,h.y):"H"==d?q.push(h.x):"V"==d?q.push(h.y):"C"==d?q.push(h.x1,h.y1,h.x2,h.y2,h.x,h.y):"S"==d?q.push(h.x2,h.y2,h.x,h.y):"Q"==d?q.push(h.x1,h.y1,h.x,h.y):"A"==d&&q.push(h.r1,h.r2,h.angle,h.largeArcFlag|0,h.sweepFlag|0,h.x,h.y),a.push(q);return a},bbox:function(){b.parser.path.setAttribute("d",
this.toString());return b.parser.path.getBBox()}});b.Number=b.invent({create:function(a,m){this.value=0;this.unit=m||"";if("number"===typeof a)this.value=isNaN(a)?0:isFinite(a)?a:0>a?-3.4E38:3.4E38;else if("string"===typeof a){if(m=a.match(b.regex.unit))this.value=parseFloat(m[1]),"%"==m[2]?this.value/=100:"s"==m[2]&&(this.value*=1E3),this.unit=m[2]}else a instanceof b.Number&&(this.value=a.valueOf(),this.unit=a.unit)},extend:{toString:function(){return("%"==this.unit?~~(1E8*this.value)/1E6:"s"==
this.unit?this.value/1E3:this.value)+this.unit},valueOf:function(){return this.value},plus:function(a){return new b.Number(this+new b.Number(a),this.unit)},minus:function(a){return this.plus(-new b.Number(a))},times:function(a){return new b.Number(this*new b.Number(a),this.unit)},divide:function(a){return new b.Number(this/new b.Number(a),this.unit)},to:function(a){var m=new b.Number(this);"string"===typeof a&&(m.unit=a);return m},morph:function(a){this.destination=new b.Number(a);return this},at:function(a){return this.destination?
(new b.Number(this.destination)).minus(this).times(a).plus(this):this}}});b.ViewBox=function(a){var m,c,k;c=m=1;var g=a.bbox(),e=(a.attr("viewBox")||"").match(/-?[\d\.]+/g),h=a,d=a;k=new b.Number(a.width());for(a=new b.Number(a.height());"%"==k.unit;)m*=k.value,k=new b.Number(h instanceof b.Doc?h.parent().offsetWidth:h.parent().width()),h=h.parent();for(;"%"==a.unit;)c*=a.value,a=new b.Number(d instanceof b.Doc?d.parent().offsetHeight:d.parent().height()),d=d.parent();this.x=g.x;this.y=g.y;this.width=
k*m;this.height=a*c;this.zoom=1;e&&(m=parseFloat(e[0]),c=parseFloat(e[1]),k=parseFloat(e[2]),a=parseFloat(e[3]),this.zoom=this.width/this.height>k/a?this.height/a:this.width/k,this.x=m,this.y=c,this.width=k,this.height=a)};b.extend(b.ViewBox,{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height}});b.Element=b.invent({create:function(a){this._stroke=b.defaults.attrs.stroke;if(this.node=a)this.type=a.nodeName,this.node.instance=this,this._stroke=a.getAttribute("stroke")||this._stroke},
extend:{x:function(a){return this.attr("x",a)},y:function(a){return this.attr("y",a)},cx:function(a){return null==a?this.x()+this.width()/2:this.x(a-this.width()/2)},cy:function(a){return null==a?this.y()+this.height()/2:this.y(a-this.height()/2)},move:function(a,b){return this.x(a).y(b)},center:function(a,b){return this.cx(a).cy(b)},width:function(a){return this.attr("width",a)},height:function(a){return this.attr("height",a)},size:function(a,m){var c=e(this.bbox(),a,m);return this.width(new b.Number(c.width)).height(new b.Number(c.height))},
clone:function(){var a=z(this.node.cloneNode(!0));this.after(a);return a},remove:function(){this.parent()&&this.parent().removeElement(this);return this},replace:function(a){this.after(a).remove();return a},addTo:function(a){return a.put(this)},putIn:function(a){return a.add(this)},id:function(a){return this.attr("id",a)},inside:function(a,b){var c=this.bbox();return a>c.x&&b>c.y&&a<c.x+c.width&&b<c.y+c.height},show:function(){return this.style("display","")},hide:function(){return this.style("display",
"none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var a=this.attr("class");return null==a?[]:a.trim().split(/\s+/)},hasClass:function(a){return-1!=this.classes().indexOf(a)},addClass:function(a){if(!this.hasClass(a)){var b=this.classes();b.push(a);this.attr("class",b.join(" "))}return this},removeClass:function(a){this.hasClass(a)&&this.attr("class",this.classes().filter(function(b){return b!=a}).join(" "));return this},
toggleClass:function(a){return this.hasClass(a)?this.removeClass(a):this.addClass(a)},reference:function(a){return b.get(this.attr(a))},parent:function(a){if(this.node.parentNode){var m=b.adopt(this.node.parentNode);if(a)for(;!(m instanceof a)&&m.node.parentNode instanceof SVGElement;)m=b.adopt(m.node.parentNode);return m}},doc:function(a){return this instanceof b.Doc?this:this.parent(b.Doc)},native:function(){return this.node},svg:function(a){var m=document.createElement("svg");if(a&&this instanceof
b.Parent){m.innerHTML="<svg>"+a.replace(/\n/,"").replace(/<(\w+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";a=0;for(var c=m.firstChild.childNodes.length;a<c;a++)this.node.appendChild(m.firstChild.firstChild)}else return m.appendChild(a=document.createElement("svg")),a.appendChild(this.node.cloneNode(!0)),m.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");return this}}});b.FX=b.invent({create:function(a){this.target=a},extend:{animate:function(a,m,c){var k,g,e,h=this.target,d=this;"object"==typeof a&&
(c=a.delay,m=a.ease,a=a.duration);a="="==a?a:null==a?1E3:(new b.Number(a)).valueOf();m=m||"<>";d.at=function(a){var b;a=0>a?0:1<a?1:a;if(null==k){k=[];for(e in d.attrs)k.push(e);if(h.morphArray&&(d.destination.plot||-1<k.indexOf("points"))){var c=new h.morphArray(d.destination.plot||d.attrs.points||h.array());d.destination.size&&c.size(d.destination.size.width.to,d.destination.size.height.to);b=c.bbox();d.destination.x?c.move(d.destination.x.to,b.y):d.destination.cx&&c.move(d.destination.cx.to-b.width/
2,b.y);b=c.bbox();d.destination.y?c.move(b.x,d.destination.y.to):d.destination.cy&&c.move(b.x,d.destination.cy.to-b.height/2);d.destination={plot:h.array().morph(c)}}}if(null==g)for(e in g=[],d.styles)g.push(e);a="<>"==m?-Math.cos(a*Math.PI)/2+.5:">"==m?Math.sin(a*Math.PI/2):"<"==m?-Math.cos(a*Math.PI/2)+1:"-"==m?a:"function"==typeof m?m(a):a;d.destination.plot?h.plot(d.destination.plot.at(a)):(d.destination.x?h.x(d.destination.x.at(a)):d.destination.cx&&h.cx(d.destination.cx.at(a)),d.destination.y?
h.y(d.destination.y.at(a)):d.destination.cy&&h.cy(d.destination.cy.at(a)),d.destination.size&&h.size(d.destination.size.width.at(a),d.destination.size.height.at(a)));d.destination.viewbox&&h.viewbox(d.destination.viewbox.x.at(a),d.destination.viewbox.y.at(a),d.destination.viewbox.width.at(a),d.destination.viewbox.height.at(a));d.destination.leading&&h.leading(d.destination.leading.at(a));for(b=k.length-1;0<=b;b--)h.attr(k[b],v(d.attrs[k[b]],a));for(b=g.length-1;0<=b;b--)h.style(g[b],v(d.styles[g[b]],
a));d.situation.during&&d.situation.during.call(h,a,function(b,m){return v({from:b,to:m},a)})};"number"===typeof a&&(this.timeout=setTimeout(function(){var k=(new Date).getTime();d.situation.start=k;d.situation.play=!0;d.situation.finish=k+a;d.situation.duration=a;d.situation.ease=m;d.render=function(){if(!0===d.situation.play){var k=(new Date).getTime(),g=k>d.situation.finish?1:(k-d.situation.start)/a;d.situation.reversing&&(g=-g+1);d.at(g);k>d.situation.finish?(d.destination.plot&&h.plot((new b.PointArray(d.destination.plot.destination)).settle()),
!0===d.situation.loop||"number"==typeof d.situation.loop&&0<d.situation.loop?(d.situation.reverse&&(d.situation.reversing=!d.situation.reversing),"number"==typeof d.situation.loop&&(d.situation.reverse&&!d.situation.reversing||--d.situation.loop,d.situation.reverse||1!=d.situation.loop||--d.situation.loop),d.animate(a,m,c)):d.situation.after?d.situation.after.apply(h,[d]):d.stop()):d.animationFrame=requestAnimationFrame(d.render)}else d.animationFrame=requestAnimationFrame(d.render)};d.render()},
(new b.Number(c)).valueOf()));return this},bbox:function(){return this.target.bbox()},attr:function(a,m){if("object"==typeof a)for(var c in a)this.attr(c,a[c]);else c=this.target.attr(a),"transform"==a?(this.attrs[a]&&(m=this.attrs[a].destination.multiply(m)),this.attrs[a]=this.target.ctm().morph(m),this.param&&(m=this.target.transform("rotation"),this.attrs[a].param={from:this.target.param||{rotation:m,cx:this.param.cx,cy:this.param.cy},to:this.param})):this.attrs[a]=b.Color.isColor(m)?(new b.Color(c)).morph(m):
b.regex.unit.test(m)?(new b.Number(c)).morph(m):{from:c,to:m};return this},style:function(a,b){if("object"==typeof a)for(var c in a)this.style(c,a[c]);else this.styles[a]={from:this.target.style(a),to:b};return this},x:function(a){this.destination.x=(new b.Number(this.target.x())).morph(a);return this},y:function(a){this.destination.y=(new b.Number(this.target.y())).morph(a);return this},cx:function(a){this.destination.cx=(new b.Number(this.target.cx())).morph(a);return this},cy:function(a){this.destination.cy=
(new b.Number(this.target.cy())).morph(a);return this},move:function(a,b){return this.x(a).y(b)},center:function(a,b){return this.cx(a).cy(b)},size:function(a,m){if(this.target instanceof b.Text)this.attr("font-size",a);else{var c=this.target.bbox();this.destination.size={width:(new b.Number(c.width)).morph(a),height:(new b.Number(c.height)).morph(m)}}return this},plot:function(a){this.destination.plot=a;return this},leading:function(a){this.target.destination.leading&&(this.destination.leading=(new b.Number(this.target.destination.leading)).morph(a));
return this},viewbox:function(a,m,c,k){if(this.target instanceof b.Container){var g=this.target.viewbox();this.destination.viewbox={x:(new b.Number(g.x)).morph(a),y:(new b.Number(g.y)).morph(m),width:(new b.Number(g.width)).morph(c),height:(new b.Number(g.height)).morph(k)}}return this},update:function(a){this.target instanceof b.Stop&&(null!=a.opacity&&this.attr("stop-opacity",a.opacity),null!=a.color&&this.attr("stop-color",a.color),null!=a.offset&&this.attr("offset",new b.Number(a.offset)));return this},
during:function(a){this.situation.during=a;return this},after:function(a){this.situation.after=a;return this},loop:function(a,b){this.situation.loop=this.situation.loops=a||!0;this.situation.reverse=!!b;return this},stop:function(a){!0===a?(this.animate(0),this.situation.after&&this.situation.after.apply(this.target,[this])):(clearTimeout(this.timeout),cancelAnimationFrame(this.animationFrame),this.attrs={},this.styles={},this.situation={},this.destination={});return this},pause:function(){!0===this.situation.play&&
(this.situation.play=!1,this.situation.pause=(new Date).getTime());return this},play:function(){if(!1===this.situation.play){var a=(new Date).getTime()-this.situation.pause;this.situation.finish+=a;this.situation.start+=a;this.situation.play=!0}return this}},parent:b.Element,construct:{animate:function(a,m,c){return(this.fx||(this.fx=new b.FX(this))).stop().animate(a,m,c)},stop:function(a){this.fx&&this.fx.stop(a);return this},pause:function(){this.fx&&this.fx.pause();return this},play:function(){this.fx&&
this.fx.play();return this}}});b.BBox=b.invent({create:function(a){if(a){var b;try{b=a.node.getBBox()}catch(c){b={x:a.node.clientLeft,y:a.node.clientTop,width:a.node.clientWidth,height:a.node.clientHeight}}this.x=b.x;this.y=b.y;this.width=b.width;this.height=b.height}r(this)},parent:b.Element,construct:{bbox:function(){return new b.BBox(this)}}});b.TBox=b.invent({create:function(a){if(a){var b=a.ctm().extract();a=a.bbox();this.width=a.width*b.scaleX;this.height=a.height*b.scaleY;this.x=a.x+b.x;this.y=
a.y+b.y}r(this)},parent:b.Element,construct:{tbox:function(){return new b.TBox(this)}}});b.RBox=b.invent({create:function(a){if(a){var b=a.doc().parent(),c=a.node.getBoundingClientRect(),k=1;this.x=c.left;this.y=c.top;this.x-=b.offsetLeft;for(this.y-=b.offsetTop;b=b.offsetParent;)this.x-=b.offsetLeft,this.y-=b.offsetTop;for(b=a;b.parent&&(b=b.parent());)b.viewbox&&(k*=b.viewbox().zoom,this.x-=b.x()||0,this.y-=b.y()||0);this.width=c.width/=k;this.height=c.height/=k}r(this);this.x+=window.scrollX;this.y+=
window.scrollY},parent:b.Element,construct:{rbox:function(){return new b.RBox(this)}}});[b.BBox,b.TBox,b.RBox].forEach(function(a){b.extend(a,{merge:function(b){var c=new a;c.x=Math.min(this.x,b.x);c.y=Math.min(this.y,b.y);c.width=Math.max(this.x+this.width,b.x+b.width)-c.x;c.height=Math.max(this.y+this.height,b.y+b.height)-c.y;return r(c)}})});b.Matrix=b.invent({create:function(a){var m,c=n([1,0,0,1,0,0]);a=a instanceof b.Element?a.matrixify():"string"===typeof a?q(a):6==arguments.length?n([].slice.call(arguments)):
"object"===typeof a?a:c;for(m=k.length-1;0<=m;m--)this[k[m]]=a&&"number"===typeof a[k[m]]?a[k[m]]:c[k[m]]},extend:{extract:function(){var a=180/Math.PI*Math.atan2(0*this.b+1*this.d+0,0*this.a+1*this.c+0)-90;return{x:this.e,y:this.f,skewX:-a,skewY:180/Math.PI*Math.atan2(1*this.b+0*this.d+0,1*this.a+0*this.c+0),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*this.c+this.d*this.d),rotation:a}},clone:function(){return new b.Matrix(this)},morph:function(a){this.destination=new b.Matrix(a);
return this},at:function(a){if(!this.destination)return this;var m=new b.Matrix({a:this.a+(this.destination.a-this.a)*a,b:this.b+(this.destination.b-this.b)*a,c:this.c+(this.destination.c-this.c)*a,d:this.d+(this.destination.d-this.d)*a,e:this.e+(this.destination.e-this.e)*a,f:this.f+(this.destination.f-this.f)*a});if(this.param&&this.param.to){var c={rotation:this.param.from.rotation+(this.param.to.rotation-this.param.from.rotation)*a,cx:this.param.from.cx,cy:this.param.from.cy},m=m.rotate((this.param.to.rotation-
2*this.param.from.rotation)*a,c.cx,c.cy);m.param=c}return m},multiply:function(a){return new b.Matrix(this.native().multiply(w(a).native()))},inverse:function(){return new b.Matrix(this.native().inverse())},translate:function(a,m){return new b.Matrix(this.native().translate(a||0,m||0))},scale:function(a,m,c,k){if(1==arguments.length||3==arguments.length)m=a;3==arguments.length&&(k=c,c=m);return this.around(c,k,new b.Matrix(a,0,0,m,0,0))},rotate:function(a,m,c){a=b.utils.radians(a);return this.around(m,
c,new b.Matrix(Math.cos(a),Math.sin(a),-Math.sin(a),Math.cos(a),0,0))},flip:function(a,b){return"x"==a?this.scale(-1,1,b,0):this.scale(1,-1,0,b)},skew:function(a,b,c,k){return this.around(c,k,this.native().skewX(a||0).skewY(b||0))},around:function(a,c,k){return this.multiply(new b.Matrix(1,0,0,1,a||0,c||0)).multiply(k).multiply(new b.Matrix(1,0,0,1,-a||0,-c||0))},native:function(){for(var a=b.parser.draw.node.createSVGMatrix(),c=k.length-1;0<=c;c--)a[k[c]]=this[k[c]];return a},toString:function(){return"matrix("+
this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}},parent:b.Element,construct:{ctm:function(){return new b.Matrix(this.node.getCTM())}}});b.extend(b.Element,{attr:function(a,c,k){if(null==a){a={};c=this.node.attributes;for(k=c.length-1;0<=k;k--)a[c[k].nodeName]=b.regex.isNumber.test(c[k].nodeValue)?parseFloat(c[k].nodeValue):c[k].nodeValue;return a}if("object"==typeof a)for(c in a)this.attr(c,a[c]);else if(null===c)this.node.removeAttribute(a);else{if(null==c)return c=this.node.getAttribute(a),
null==c?b.defaults.attrs[a]:b.regex.isNumber.test(c)?parseFloat(c):c;"stroke-width"==a?this.attr("stroke",0<parseFloat(c)?this._stroke:null):"stroke"==a&&(this._stroke=c);if("fill"==a||"stroke"==a)b.regex.isImage.test(c)&&(c=this.doc().defs().image(c,0,0)),c instanceof b.Image&&(c=this.doc().defs().pattern(0,0,function(){this.add(c)}));"number"===typeof c?c=new b.Number(c):b.Color.isColor(c)?c=new b.Color(c):Array.isArray(c)?c=new b.Array(c):c instanceof b.Matrix&&c.param&&(this.param=c.param);"leading"==
a?this.leading&&this.leading(c):"string"===typeof k?this.node.setAttributeNS(k,a,c.toString()):this.node.setAttribute(a,c.toString());!this.rebuild||"font-size"!=a&&"x"!=a||this.rebuild(a,c)}return this}});b.extend(b.Element,b.FX,{transform:function(a,c){var k=this.target||this,g;if("object"!==typeof a)return g=(new b.Matrix(k)).extract(),"object"===typeof this.param&&(g.rotation=this.param.rotation,g.cx=this.param.cx,g.cy=this.param.cy),"string"===typeof a?g[a]:g;g=this instanceof b.FX&&this.attrs.transform?
this.attrs.transform:new b.Matrix(k);c=!!c||!!a.relative;if(null!=a.a)g=c?g.multiply(new b.Matrix(a)):new b.Matrix(a);else if(null!=a.rotation)p(a,k),c&&(a.rotation+=this.param&&null!=this.param.rotation?this.param.rotation:g.extract().rotation),this.param=a,this instanceof b.Element&&(g=c?g.rotate(a.rotation,a.cx,a.cy):g.rotate(a.rotation-g.extract().rotation,a.cx,a.cy));else if(null!=a.scale||null!=a.scaleX||null!=a.scaleY)p(a,k),a.scaleX=null!=a.scale?a.scale:null!=a.scaleX?a.scaleX:1,a.scaleY=
null!=a.scale?a.scale:null!=a.scaleY?a.scaleY:1,c||(k=g.extract(),a.scaleX=1*a.scaleX/k.scaleX,a.scaleY=1*a.scaleY/k.scaleY),g=g.scale(a.scaleX,a.scaleY,a.cx,a.cy);else if(null!=a.skewX||null!=a.skewY)p(a,k),a.skewX=null!=a.skewX?a.skewX:0,a.skewY=null!=a.skewY?a.skewY:0,c||(k=g.extract(),g=g.multiply((new b.Matrix).skew(k.skewX,k.skewY,a.cx,a.cy).inverse())),g=g.skew(a.skewX,a.skewY,a.cx,a.cy);else if(a.flip)g=g.flip(a.flip,null==a.offset?k.bbox()["c"+a.flip]:a.offset);else if(null!=a.x||null!=a.y)c?
g=g.translate(a.x,a.y):(null!=a.x&&(g.e=a.x),null!=a.y&&(g.f=a.y));return this.attr("transform",g)}});b.extend(b.Element,{untransform:function(){return this.attr("transform",null)},matrixify:function(){var a=(this.attr("transform")||"").split(/\)\s*/).slice(0,-1).map(function(a){a=a.trim().split("(");return[a[0],a[1].split(",").map(function(a){return parseFloat(a)})]}).reduce(function(a,b){return"matrix"==b[0]?a.multiply(n(b[1])):a[b[0]].apply(a,b[1])},new b.Matrix);this.attr("transform",a);return a}});
b.extend(b.Element,{style:function(a,m){if(0==arguments.length)return this.node.style.cssText||"";if(2>arguments.length)if("object"==typeof a)for(m in a)this.style(m,a[m]);else if(b.regex.isCss.test(a)){a=a.split(";");for(var k=0;k<a.length;k++)m=a[k].split(":"),this.style(m[0].replace(/\s+/g,""),m[1])}else return this.node.style[c(a)];else this.node.style[c(a)]=null===m||b.regex.isBlank.test(m)?"":m;return this}});b.Parent=b.invent({create:function(a){this.constructor.call(this,a)},inherit:b.Element,
extend:{children:function(){return b.utils.map(b.utils.filterSVGElements(this.node.childNodes),function(a){return b.adopt(a)})},add:function(a,b){this.has(a)||(b=null==b?this.children().length:b,this.node.insertBefore(a.node,this.node.childNodes[b]||null));return this},put:function(a,b){this.add(a,b);return a},has:function(a){return 0<=this.index(a)},index:function(a){return this.children().indexOf(a)},get:function(a){return this.children()[a]},first:function(){return this.children()[0]},last:function(){return this.children()[this.children().length-
1]},each:function(a,c){var k,g,d=this.children();k=0;for(g=d.length;k<g;k++)d[k]instanceof b.Element&&a.apply(d[k],[k,d]),c&&d[k]instanceof b.Container&&d[k].each(a,c);return this},removeElement:function(a){this.node.removeChild(a.node);return this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);delete this._defs;return this},defs:function(){return this.doc().defs()}}});b.Container=b.invent({create:function(a){this.constructor.call(this,a)},inherit:b.Parent,
extend:{viewbox:function(a){if(0==arguments.length)return new b.ViewBox(this);a=1==arguments.length?[a.x,a.y,a.width,a.height]:[].slice.call(arguments);return this.attr("viewBox",a)}}});"click dblclick mousedown mouseup mouseover mouseout mousemove touchstart touchmove touchleave touchend touchcancel".split(" ").forEach(function(a){b.Element.prototype[a]=function(b){var c=this;this.node["on"+a]="function"==typeof b?function(){return b.apply(c,arguments)}:null;return this}});b.listeners=[];b.handlerMap=
[];b.on=function(a,c,k){var g=k.bind(a.instance||a),d=(b.handlerMap.indexOf(a)+1||b.handlerMap.push(a))-1,e=c.split(".")[0];c=c.split(".")[1]||"*";b.listeners[d]=b.listeners[d]||{};b.listeners[d][e]=b.listeners[d][e]||{};b.listeners[d][e][c]=b.listeners[d][e][c]||{};b.listeners[d][e][c][k]=g;a.addEventListener(e,g,!1)};b.off=function(a,c,k){var g=b.handlerMap.indexOf(a),d=c&&c.split(".")[0],e=c&&c.split(".")[1];if(-1!=g)if(k)b.listeners[g][d]&&b.listeners[g][d][e||"*"]&&(a.removeEventListener(d,b.listeners[g][d][e||
"*"][k],!1),delete b.listeners[g][d][e||"*"][k]);else if(e&&d){if(b.listeners[g][d]&&b.listeners[g][d][e]){for(k in b.listeners[g][d][e])b.off(a,[d,e].join("."),k);delete b.listeners[g][d][e]}}else if(e)for(c in b.listeners[g])for(namespace in b.listeners[g][c])e===namespace&&b.off(a,[c,e].join("."));else if(d){if(b.listeners[g][d]){for(namespace in b.listeners[g][d])b.off(a,[d,namespace].join("."));delete b.listeners[g][d]}}else{for(c in b.listeners[g])b.off(a,c);delete b.listeners[g]}};b.extend(b.Element,
{on:function(a,c){b.on(this.node,a,c);return this},off:function(a,c){b.off(this.node,a,c);return this},fire:function(a,b){a instanceof Event?this.node.dispatchEvent(a):this.node.dispatchEvent(new G(a,{detail:b}));return this}});b.Defs=b.invent({create:"defs",inherit:b.Container});b.G=b.invent({create:"g",inherit:b.Container,extend:{x:function(a){return null==a?this.transform("x"):this.transform({x:-this.x()+a},!0)},y:function(a){return null==a?this.transform("y"):this.transform({y:-this.y()+a},!0)},
cx:function(a){return null==a?this.tbox().cx:this.x(a-this.tbox().width/2)},cy:function(a){return null==a?this.tbox().cy:this.y(a-this.tbox().height/2)}},construct:{group:function(){return this.put(new b.G)}}});b.extend(b.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var a=this.position()+
1,c=this.parent();c.removeElement(this).add(this,a);c instanceof b.Doc&&c.node.appendChild(c.defs().node);return this},backward:function(){var a=this.position();0<a&&this.parent().removeElement(this).add(this,a-1);return this},front:function(){var a=this.parent();a.node.appendChild(this.node);a instanceof b.Doc&&a.node.appendChild(a.defs().node);return this},back:function(){0<this.position()&&this.parent().removeElement(this).add(this,0);return this},before:function(a){a.remove();var b=this.position();
this.parent().add(a,b);return this},after:function(a){a.remove();var b=this.position();this.parent().add(a,b+1);return this}});b.Mask=b.invent({create:function(){this.constructor.call(this,b.create("mask"));this.targets=[]},inherit:b.Container,extend:{remove:function(){for(var a=this.targets.length-1;0<=a;a--)this.targets[a]&&this.targets[a].unmask();delete this.targets;this.parent().removeElement(this);return this}},construct:{mask:function(){return this.defs().put(new b.Mask)}}});b.extend(b.Element,
{maskWith:function(a){this.masker=a instanceof b.Mask?a:this.parent().mask().add(a);this.masker.targets.push(this);return this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){delete this.masker;return this.attr("mask",null)}});b.ClipPath=b.invent({create:function(){this.constructor.call(this,b.create("clipPath"));this.targets=[]},inherit:b.Container,extend:{remove:function(){for(var a=this.targets.length-1;0<=a;a--)this.targets[a]&&this.targets[a].unclip();delete this.targets;
this.parent().removeElement(this);return this}},construct:{clip:function(){return this.defs().put(new b.ClipPath)}}});b.extend(b.Element,{clipWith:function(a){this.clipper=a instanceof b.ClipPath?a:this.parent().clip().add(a);this.clipper.targets.push(this);return this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){delete this.clipper;return this.attr("clip-path",null)}});b.Gradient=b.invent({create:function(a){this.constructor.call(this,b.create(a+"Gradient"));this.type=
a},inherit:b.Container,extend:{at:function(a,c,k){return this.put(new b.Stop).update(a,c,k)},update:function(a){this.clear();"function"==typeof a&&a.call(this,this);return this},fill:function(){return"url(#"+this.id()+")"},toString:function(){return this.fill()}},construct:{gradient:function(a,b){return this.defs().gradient(a,b)}}});b.extend(b.Gradient,b.FX,{from:function(a,c){return"radial"==(this.target||this).type?this.attr({fx:new b.Number(a),fy:new b.Number(c)}):this.attr({x1:new b.Number(a),
y1:new b.Number(c)})},to:function(a,c){return"radial"==(this.target||this).type?this.attr({cx:new b.Number(a),cy:new b.Number(c)}):this.attr({x2:new b.Number(a),y2:new b.Number(c)})}});b.extend(b.Defs,{gradient:function(a,c){return this.put(new b.Gradient(a)).update(c)}});b.Stop=b.invent({create:"stop",inherit:b.Element,extend:{update:function(a,c,k){if("number"==typeof a||a instanceof b.Number)a={offset:a,color:c,opacity:k};null!=a.opacity&&this.attr("stop-opacity",a.opacity);null!=a.color&&this.attr("stop-color",
a.color);null!=a.offset&&this.attr("offset",new b.Number(a.offset));return this}}});b.Pattern=b.invent({create:"pattern",inherit:b.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(a){this.clear();"function"==typeof a&&a.call(this,this);return this},toString:function(){return this.fill()}},construct:{pattern:function(a,b,c){return this.defs().pattern(a,b,c)}}});b.extend(b.Defs,{pattern:function(a,c,k){return this.put(new b.Pattern).update(k).attr({x:0,y:0,width:a,height:c,
patternUnits:"userSpaceOnUse"})}});b.Doc=b.invent({create:function(a){a&&(a="string"==typeof a?document.getElementById(a):a,"svg"==a.nodeName?this.constructor.call(this,a):(this.constructor.call(this,b.create("svg")),a.appendChild(this.node)),this.namespace().size("100%","100%").defs())},inherit:b.Container,extend:{namespace:function(){return this.attr({xmlns:b.ns,version:"1.1"}).attr("xmlns:xlink",b.xlink,b.xmlns)},defs:function(){if(!this._defs){var a;(a=this.node.getElementsByTagName("defs")[0])?
this._defs=b.adopt(a):this._defs=new b.Defs;this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return"#document"==this.node.parentNode.nodeName?null:this.node.parentNode},spof:function(a){(a=this.node.getScreenCTM())&&this.style("left",-a.e%1+"px").style("top",-a.f%1+"px");return this},remove:function(){this.parent()&&this.parent().removeChild(this.node);return this}}});b.Shape=b.invent({create:function(a){this.constructor.call(this,a)},inherit:b.Element});b.Bare=b.invent({create:function(a,
c){this.constructor.call(this,b.create(a));if(c)for(var k in c.prototype)"function"===typeof c.prototype[k]&&(this[k]=c.prototype[k])},inherit:b.Element,extend:{words:function(a){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);this.node.appendChild(document.createTextNode(a));return this}}});b.extend(b.Parent,{element:function(a,c){return this.put(new b.Bare(a,c))},symbol:function(){return this.defs().element("symbol",b.Container)}});b.Use=b.invent({create:"use",inherit:b.Shape,
extend:{element:function(a,c){return this.attr("href",(c||"")+"#"+a,b.xlink)}},construct:{use:function(a,c){return this.put(new b.Use).element(a,c)}}});b.Rect=b.invent({create:"rect",inherit:b.Shape,construct:{rect:function(a,c){return this.put((new b.Rect).size(a,c))}}});b.Circle=b.invent({create:"circle",inherit:b.Shape,construct:{circle:function(a){return this.put(new b.Circle).rx((new b.Number(a)).divide(2)).move(0,0)}}});b.extend(b.Circle,b.FX,{rx:function(a){return this.attr("r",a)},ry:function(a){return this.rx(a)}});
b.Ellipse=b.invent({create:"ellipse",inherit:b.Shape,construct:{ellipse:function(a,c){return this.put(new b.Ellipse).size(a,c).move(0,0)}}});b.extend(b.Ellipse,b.Rect,b.FX,{rx:function(a){return this.attr("rx",a)},ry:function(a){return this.attr("ry",a)}});b.extend(b.Circle,b.Ellipse,{x:function(a){return null==a?this.cx()-this.rx():this.cx(a+this.rx())},y:function(a){return null==a?this.cy()-this.ry():this.cy(a+this.ry())},cx:function(a){return null==a?this.attr("cx"):this.attr("cx",a)},cy:function(a){return null==
a?this.attr("cy"):this.attr("cy",a)},width:function(a){return null==a?2*this.rx():this.rx((new b.Number(a)).divide(2))},height:function(a){return null==a?2*this.ry():this.ry((new b.Number(a)).divide(2))},size:function(a,c){var k=e(this.bbox(),a,c);return this.rx((new b.Number(k.width)).divide(2)).ry((new b.Number(k.height)).divide(2))}});b.Line=b.invent({create:"line",inherit:b.Shape,extend:{array:function(){return new b.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},
plot:function(a,c,k,g){a=4==arguments.length?{x1:a,y1:c,x2:k,y2:g}:(new b.PointArray(a)).toLine();return this.attr(a)},move:function(a,b){return this.attr(this.array().move(a,b).toLine())},size:function(a,b){var c=e(this.bbox(),a,b);return this.attr(this.array().size(c.width,c.height).toLine())}},construct:{line:function(a,c,k,g){return this.put(new b.Line).plot(a,c,k,g)}}});b.Polyline=b.invent({create:"polyline",inherit:b.Shape,construct:{polyline:function(a){return this.put(new b.Polyline).plot(a)}}});
b.Polygon=b.invent({create:"polygon",inherit:b.Shape,construct:{polygon:function(a){return this.put(new b.Polygon).plot(a)}}});b.extend(b.Polyline,b.Polygon,{array:function(){return this._array||(this._array=new b.PointArray(this.attr("points")))},plot:function(a){return this.attr("points",this._array=new b.PointArray(a))},move:function(a,b){return this.attr("points",this.array().move(a,b))},size:function(a,b){var c=e(this.bbox(),a,b);return this.attr("points",this.array().size(c.width,c.height))}});
b.extend(b.Line,b.Polyline,b.Polygon,{morphArray:b.PointArray,x:function(a){return null==a?this.bbox().x:this.move(a,this.bbox().y)},y:function(a){return null==a?this.bbox().y:this.move(this.bbox().x,a)},width:function(a){var b=this.bbox();return null==a?b.width:this.size(a,b.height)},height:function(a){var b=this.bbox();return null==a?b.height:this.size(b.width,a)}});b.Path=b.invent({create:"path",inherit:b.Shape,extend:{morphArray:b.PathArray,array:function(){return this._array||(this._array=new b.PathArray(this.attr("d")))},
plot:function(a){return this.attr("d",this._array=new b.PathArray(a))},move:function(a,b){return this.attr("d",this.array().move(a,b))},x:function(a){return null==a?this.bbox().x:this.move(a,this.bbox().y)},y:function(a){return null==a?this.bbox().y:this.move(this.bbox().x,a)},size:function(a,b){var c=e(this.bbox(),a,b);return this.attr("d",this.array().size(c.width,c.height))},width:function(a){return null==a?this.bbox().width:this.size(a,this.bbox().height)},height:function(a){return null==a?this.bbox().height:
this.size(this.bbox().width,a)}},construct:{path:function(a){return this.put(new b.Path).plot(a)}}});b.Image=b.invent({create:"image",inherit:b.Shape,extend:{load:function(a){if(!a)return this;var c=this,k=document.createElement("img");k.onload=function(){var g=c.parent(b.Pattern);0==c.width()&&0==c.height()&&c.size(k.width,k.height);g&&0==g.width()&&0==g.height()&&g.size(c.width(),c.height());"function"===typeof c._loaded&&c._loaded.call(c,{width:k.width,height:k.height,ratio:k.width/k.height,url:a})};
return this.attr("href",k.src=this.src=a,b.xlink)},loaded:function(a){this._loaded=a;return this}},construct:{image:function(a,c,k){return this.put(new b.Image).load(a).size(c||0,k||c||0)}}});b.Text=b.invent({create:function(){this.constructor.call(this,b.create("text"));this._leading=new b.Number(1.3);this._rebuild=!0;this._build=!1;this.attr("font-family",b.defaults.attrs["font-family"])},inherit:b.Shape,extend:{x:function(a){if(null==a)return this.attr("x");this.textPath||this.lines().each(function(){this.newLined&&
this.x(a)});return this.attr("x",a)},y:function(a){var b=this.attr("y"),c="number"===typeof b?b-this.bbox().y:0;return null==a?"number"===typeof b?b-c:b:this.attr("y","number"===typeof a?a+c:a)},cx:function(a){return null==a?this.bbox().cx:this.x(a-this.bbox().width/2)},cy:function(a){return null==a?this.bbox().cy:this.y(a-this.bbox().height/2)},text:function(a){if("undefined"===typeof a)return this.content;this.clear().build(!0);if("function"===typeof a)a.call(this,this);else{a=(this.content=a).split("\n");
for(var b=0,c=a.length;b<c;b++)this.tspan(a[b]).newLine()}return this.build(!1).rebuild()},size:function(a){return this.attr("font-size",a).rebuild()},leading:function(a){if(null==a)return this._leading;this._leading=new b.Number(a);return this.rebuild()},lines:function(){var a=b.utils.map(b.utils.filterSVGElements(this.node.childNodes),function(a){return b.adopt(a)});return new b.Set(a)},rebuild:function(a){"boolean"==typeof a&&(this._rebuild=a);if(this._rebuild){var c=this;this.lines().each(function(){this.newLined&&
(this.textPath||this.attr("x",c.attr("x")),this.attr("dy",c._leading*new b.Number(c.attr("font-size"))))});this.fire("rebuild")}return this},build:function(a){this._build=!!a;return this}},construct:{text:function(a){return this.put(new b.Text).text(a)},plain:function(a){return this.put(new b.Text).plain(a)}}});b.Tspan=b.invent({create:"tspan",inherit:b.Shape,extend:{text:function(a){"function"===typeof a?a.call(this,this):this.plain(a);return this},dx:function(a){return this.attr("dx",a)},dy:function(a){return this.attr("dy",
a)},newLine:function(){var a=this.parent(b.Text);this.newLined=!0;return this.dy(a._leading*a.attr("font-size")).attr("x",a.x())}}});b.extend(b.Text,b.Tspan,{plain:function(a){!1===this._build&&this.clear();this.node.appendChild(document.createTextNode(this.content=a));return this},tspan:function(a){var c=(this.textPath()||this).node,k=new b.Tspan;!1===this._build&&this.clear();c.appendChild(k.node);return k.text(a)},clear:function(){for(var a=(this.textPath()||this).node;a.hasChildNodes();)a.removeChild(a.lastChild);
this instanceof b.Text&&(this.content="");return this},length:function(){return this.node.getComputedTextLength()}});b.TextPath=b.invent({create:"textPath",inherit:b.Element,parent:b.Text,construct:{path:function(a){var c=new b.TextPath;for(a=this.doc().defs().path(a);this.node.hasChildNodes();)c.node.appendChild(this.node.firstChild);this.node.appendChild(c.node);c.attr("href","#"+a,b.xlink);return this},plot:function(a){var b=this.track();b&&b.plot(a);return this},track:function(){var a=this.textPath();
if(a)return a.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return b.adopt(this.node.firstChild)}}});b.Nested=b.invent({create:function(){this.constructor.call(this,b.create("svg"));this.style("overflow","visible")},inherit:b.Container,construct:{nested:function(){return this.put(new b.Nested)}}});b.A=b.invent({create:"a",inherit:b.Container,extend:{to:function(a){return this.attr("href",a,b.xlink)},show:function(a){return this.attr("show",
a,b.xlink)},target:function(a){return this.attr("target",a)}},construct:{link:function(a){return this.put(new b.A).to(a)}}});b.extend(b.Element,{linkTo:function(a){var c=new b.A;"function"==typeof a?a.call(c,c):c.to(a);return this.parent().put(c).put(this)}});b.Marker=b.invent({create:"marker",inherit:b.Container,extend:{width:function(a){return this.attr("markerWidth",a)},height:function(a){return this.attr("markerHeight",a)},ref:function(a,b){return this.attr("refX",a).attr("refY",b)},update:function(a){this.clear();
"function"==typeof a&&a.call(this,this);return this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(a,b,c){return this.defs().marker(a,b,c)}}});b.extend(b.Defs,{marker:function(a,c,k){return this.put(new b.Marker).size(a,c).ref(a/2,c/2).viewbox(0,0,a,c).attr("orient","auto").update(k)}});b.extend(b.Line,b.Polyline,b.Polygon,b.Path,{marker:function(a,c,k,g){var d=["marker"];"all"!=a&&d.push(a);d=d.join("-");a=c instanceof b.Marker?c:this.doc().marker(c,k,g);return this.attr(d,
a)}});var A={stroke:"color width opacity linecap linejoin miterlimit dasharray dashoffset".split(" "),fill:["color","opacity","rule"],prefix:function(a,b){return"color"==b?a:a+"-"+b}};["fill","stroke"].forEach(function(a){var c,k={};k[a]=function(k){if("string"==typeof k||b.Color.isRgb(k)||k&&"function"===typeof k.fill)this.attr(a,k);else for(c=A[a].length-1;0<=c;c--)null!=k[A[a][c]]&&this.attr(A.prefix(a,A[a][c]),k[A[a][c]]);return this};b.extend(b.Element,b.FX,k)});b.extend(b.Element,b.FX,{rotate:function(a,
b,c){return this.transform({rotation:a,cx:b,cy:c})},skew:function(a,b,c,k){return this.transform({skewX:a,skewY:b,cx:c,cy:k})},scale:function(a,b,c,k){return 1==arguments.length||3==arguments.length?this.transform({scale:a,cx:b,cy:c}):this.transform({scaleX:a,scaleY:b,cx:c,cy:k})},translate:function(a,b){return this.transform({x:a,y:b})},flip:function(a,b){return this.transform({flip:a,offset:b})},matrix:function(a){return this.attr("transform",new b.Matrix(a))},opacity:function(a){return this.attr("opacity",
a)},dx:function(a){return this.x((this.target||this).x()+a)},dy:function(a){return this.y((this.target||this).y()+a)},dmove:function(a,b){return this.dx(a).dy(b)}});b.extend(b.Rect,b.Ellipse,b.Circle,b.Gradient,b.FX,{radius:function(a,c){return"radial"==(this.target||this).type?this.attr({r:new b.Number(a)}):this.rx(a).ry(null==c?a:c)}});b.extend(b.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(a){return this.node.getPointAtLength(a)}});b.extend(b.Parent,b.Text,b.FX,{font:function(a){for(var b in a)"leading"==
b?this.leading(a[b]):"anchor"==b?this.attr("text-anchor",a[b]):"size"==b||"family"==b||"weight"==b||"stretch"==b||"variant"==b||"style"==b?this.attr("font-"+b,a[b]):this.attr(b,a[b]);return this}});b.Set=b.invent({create:function(a){Array.isArray(a)?this.members=a:this.clear()},extend:{add:function(){var a,b,c=[].slice.call(arguments);a=0;for(b=c.length;a<b;a++)this.members.push(c[a]);return this},remove:function(a){a=this.index(a);-1<a&&this.members.splice(a,1);return this},each:function(a){for(var b=
0,c=this.members.length;b<c;b++)a.apply(this.members[b],[b,this.members]);return this},clear:function(){this.members=[];return this},length:function(){return this.members.length},has:function(a){return 0<=this.index(a)},index:function(a){return this.members.indexOf(a)},get:function(a){return this.members[a]},first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){var a=new b.BBox;if(0==this.members.length)return a;
var c=this.members[0].rbox();a.x=c.x;a.y=c.y;a.width=c.width;a.height=c.height;this.each(function(){a=a.merge(this.rbox())});return a}},construct:{set:function(a){return new b.Set(a)}}});b.FX.Set=b.invent({create:function(a){this.set=a}});b.Set.inherit=function(){var a,c=[];for(a in b.Shape.prototype)"function"==typeof b.Shape.prototype[a]&&"function"!=typeof b.Set.prototype[a]&&c.push(a);c.forEach(function(a){b.Set.prototype[a]=function(){for(var c=0,k=this.members.length;c<k;c++)this.members[c]&&
"function"==typeof this.members[c][a]&&this.members[c][a].apply(this.members[c],arguments);return"animate"==a?this.fx||(this.fx=new b.FX.Set(this)):this}});c=[];for(a in b.FX.prototype)"function"==typeof b.FX.prototype[a]&&"function"!=typeof b.FX.Set.prototype[a]&&c.push(a);c.forEach(function(a){b.FX.Set.prototype[a]=function(){for(var b=0,c=this.set.members.length;b<c;b++)this.set.members[b].fx[a].apply(this.set.members[b].fx,arguments);return this}})};b.extend(b.Element,{data:function(a,b,c){if("object"==
typeof a)for(b in a)this.data(b,a[b]);else if(2>arguments.length)try{return JSON.parse(this.attr("data-"+a))}catch(k){return this.attr("data-"+a)}else this.attr("data-"+a,null===b?null:!0===c||"string"===typeof b||"number"===typeof b?b:JSON.stringify(b));return this}});b.extend(b.Element,{remember:function(a,b){if("object"==typeof arguments[0])for(b in a)this.remember(b,a[b]);else{if(1==arguments.length)return this.memory()[a];this.memory()[a]=b}return this},forget:function(){if(0==arguments.length)this._memory=
{};else for(var a=arguments.length-1;0<=a;a--)delete this.memory()[arguments[a]];return this},memory:function(){return this._memory||(this._memory={})}});b.get=function(a){if(a=document.getElementById(B(a)||a))return b.adopt(a)};b.select=function(a,c){return new b.Set(b.utils.map((c||document).querySelectorAll(a),function(a){return b.adopt(a)}))};b.extend(b.Parent,{select:function(a){return b.select(a,this.node)}});var k="abcdef".split("");if("function"!==typeof G){var G=function(a,b){b=b||{bubbles:!1,
cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail);return c};G.prototype=window.Event.prototype;window.CustomEvent=G}(function(a){for(var b=0,c=["moz","webkit"],k=0;k<c.length&&!window.requestAnimationFrame;++k)a.requestAnimationFrame=a[c[k]+"RequestAnimationFrame"],a.cancelAnimationFrame=a[c[k]+"CancelAnimationFrame"]||a[c[k]+"CancelRequestAnimationFrame"];a.requestAnimationFrame=a.requestAnimationFrame||function(c){var k=(new Date).getTime(),
g=Math.max(0,16-(k-b)),d=a.setTimeout(function(){c(k+g)},g);b=k+g;return d};a.cancelAnimationFrame=a.cancelAnimationFrame||a.clearTimeout})(window);return b});
(function(){define("path",[],function(){var l;l=function(d){var f,c,g,h,t,e,n,w;c=d||[];e=function(c,g){var d;d=c.slice(0,c.length);d.push(g);return d};f=function(c,g){return c[0]===g[0]&&c[1]===g[1]};w=function(c,g){var d;for(d=c.length;"0"===c.charAt(d-1);)--d;"."===c.charAt(d-1)&&--d;return c.substr(0,d)};n=function(c,g){var d;d=c.toFixed(g);return w(d)};t=function(c){var g,d;g=c.command;d=c.params;var e,h,f;f=[];e=0;for(h=d.length;e<h;e++)c=d[e],f.push(n(c,6));return g+" "+f.join(" ")};h=function(c,
g){var d,e,h,f;d=c.command;e=c.params;h=g[0];f=g[1];switch(d){case "M":return[e[0],e[1]];case "L":return[e[0],e[1]];case "H":return[e[0],f];case "V":return[h,e[0]];case "Z":return null;case "C":return[e[4],e[5]];case "S":return[e[2],e[3]];case "Q":return[e[2],e[3]];case "T":return[e[0],e[1]];case "A":return[e[5],e[6]]}};d=function(c,g){return function(d){var e;e="object"===typeof d?c.map(function(c){return d[c]}):arguments;return g.apply(null,e)}};g=function(g){return l(e(c,g))};return{moveto:d(["x",
"y"],function(c,d){return g({command:"M",params:[c,d]})}),lineto:d(["x","y"],function(c,d){return g({command:"L",params:[c,d]})}),hlineto:d(["x"],function(c){return g({command:"H",params:[c]})}),vlineto:d(["y"],function(c){return g({command:"V",params:[c]})}),closepath:function(){return g({command:"Z",params:[]})},curveto:d("x1 y1 x2 y2 x y".split(" "),function(c,d,e,h,f,r){return g({command:"C",params:[c,d,e,h,f,r]})}),smoothcurveto:d(["x2","y2","x","y"],function(c,d,e,h){return g({command:"S",params:[c,
d,e,h]})}),qcurveto:d(["x1","y1","x","y"],function(c,d,e,h){return g({command:"Q",params:[c,d,e,h]})}),smoothqcurveto:d(["x","y"],function(c,d){return g({command:"T",params:[c,d]})}),arc:d("rx ry xrot large_arc_flag sweep_flag x y".split(" "),function(c,d,e,h,f,r,n){return g({command:"A",params:[c,d,e,h,f,r,n]})}),print:function(){return c.map(t).join(" ")},points:function(){var g,d,e,f,n,r;r=[];n=[0,0];g=function(){var c;if(n=c=h(e,n))return r.push(c)};d=0;for(f=c.length;d<f;d++)e=c[d],g();return r},
instructions:function(){return c.slice(0,c.length)},connect:function(c){var g,d;d=this.points().slice(-1)[0];g=c.points()[0];c=c.instructions().slice(1);f(d,g)||c.unshift({command:"L",params:g});return l(this.instructions().concat(c))}}};return function(){return l()}})}).call(this);
define("geometry",[],function(){return{circle:{tenth:.2*Math.PI,eighth:.25*Math.PI,quarter:.5*Math.PI,half:Math.PI,whole:2*Math.PI,getPointOnCircumference:function(l,d,f,c){return{x:l+f*Math.sin(c),y:d+-f*Math.cos(c)}},getAngle:function(l,d,f){f="undefined"===typeof f?this.whole:f;return f/d*l}}}});
define("circle-segment",["svg-js","path","geometry"],function(l,d,f){l.CircleSegment=l.invent({create:"path",inherit:l.Path,construct:{circleSegment:function(c,g,h,t,e){var n=f.circle.getPointOnCircumference(c,g,h,t),w=f.circle.getPointOnCircumference(c,g,h,e);t=e-t>Math.PI?1:0;c=d().moveto(c,g).lineto(n.x,n.y).arc(h,h,0,t,1,w.x,w.y).closepath().print();return this.put(new l.CircleSegment).attr({d:c})}}});return{}});
define("configuration-builder",[],function(){return function(l){var d={};l.forEach(function(f){for(var c in f)f.hasOwnProperty(c)&&(d[c]=f[c])});return d}});
define("float",[],function(){return{left:function(){var l=0,d=0,f=0,c=this.xPadding,g=this.yPadding,h=this.flowWidth;this.children().forEach(function(t,e){var n=t.bbox();n.height+d>f&&(f=n.height+d);l+n.width>h&&(l=0,d=f+g);t.move(l,d);l+=n.width+c})},right:function(){var l=this.flowWidth,d=0,f=0,c=this.xPadding,g=this.yPadding,h=this.flowWidth;this.children().forEach(function(t,e){var n=t.bbox();n.height+d>f&&(f=n.height+d);0>l-n.width&&(l=h,d=f+g);l-=n.width;t.move(l,d);l-=c})}}});
define("grid",[],function(){function l(d){var f={height:0,width:0};d.forEach(function(c){c=c.bbox();c.width>f.width&&(f.width=c.width);c.height>f.height&&(f.height=c.height)});return f}return{left:function(){var d=l(this.children()),f=Math.floor((this.flowWidth+this.xPadding)/(d.width+this.xPadding));1>f&&(f=1);var c=this.xPadding,g=this.yPadding;this.children().forEach(function(h,t){h.move(t%f*(d.width+c),Math.floor(t/f)*(d.height+g))})},right:function(){var d=l(this.children()),f=Math.floor((this.flowWidth+
this.xPadding)/(d.width+this.xPadding));1>f&&(f=1);var c=this.xPadding,g=this.yPadding,h=this.flowWidth;this.children().forEach(function(t,e){var n=Math.floor(e/f),l=h-e%f*(c+d.width)-t.bbox().width;t.move(l,n*(d.height+g))})}}});
define("center",[],function(){function l(d){var f=[];d.forEach(function(c){f.push(c.bbox().width)});return f.reduce(function(c,g){return c+g})}return function(){var d=l(this.children())+this.xPadding*(this.children().length-1),f=this.flowWidth/2-d/2,c=this.xPadding;this.children().forEach(function(g){g.move(f,0);f+=g.bbox().width+c})}});
define("flow",["svg-js","float","grid","center"],function(l,d,f,c){l.Flow=l.invent({create:"g",inherit:l.G,extend:{setWidth:function(c){this.flowWidth=c;return this},setPadding:function(c,d){this.xPadding=c;this.yPadding=d;return this},floatLeft:d.left,floatRight:d.right,gridLeft:f.left,gridRight:f.right,center:c},construct:{flow:function(c,d,f){return this.put(new l.Flow).setWidth(c).setPadding(d,f)}}})});
define("key",["flow","float","grid","svg-js"],function(l,d,f,c){return function(c,d,f,e,n,l){var p={INDICATOR_SIZE:13,TITLE_PADDING_LEFT:7,KEY_ITEM_PADDING_LEFT:10,PADDING_TOP:20,PADDING_RIGHT:20,PADDING_BOTTOM:20,PADDING_LEFT:20},q=c.group().addClass("fm-key");q.configuration=p;var v=c.line(0,0,d,0).addClass("fm-key-top-border"),x,z=!1;q.backgroundColorClass="fm-datum-color-neutral";q.setValues=function(f,n){q.keyItems&&(z=!0,q.keyItems.clear(),q.keyItems=c.flow(d-p.PADDING_RIGHT-p.PADDING_LEFT,
p.KEY_ITEM_PADDING_LEFT,p.PADDING_BOTTOM).addClass("fm-key-items"));q.keyItems=c.flow(d-p.PADDING_RIGHT-p.PADDING_LEFT,p.KEY_ITEM_PADDING_LEFT,p.PADDING_BOTTOM).addClass("fm-key-items");f.forEach(function(b,k){var d=c.group(),a=c.text(b).move(p.INDICATOR_SIZE+p.TITLE_PADDING_LEFT,0).addClass("fm-key-value-title"),h=c.rect(p.INDICATOR_SIZE,p.INDICATOR_SIZE).addClass("fm-key-value-indicator");l&&k==f.length-1?h.addClass("fm-datum-color-overflow"):n&&n[k]?h.attr({fill:n[k]}):h.addClass(e[k]);d.add(a);
d.add(h);q.keyItems.add(d)});q.keyItems.gridLeft();var b=q.keyItems.bbox().height+p.PADDING_TOP+p.PADDING_BOTTOM;z?q.background.attr("height",b):q.background=c.rect(d,b).addClass("fm-key-background "+q.backgroundColorClass);x=c.flow(d,100,100);x.add(q.keyItems);x.center();x.move(0,p.PADDING_TOP);q.add(q.background);q.add(v);q.add(x)};q.clearItems=function(){q.keyItems.clear()};q.setValues(f,n);return q}});
define("configuration",["circle-segment","configuration-builder","key"],function(l,d,f){return d([l,{ASPECT_RATIO:2/3,ASPECT_RATIO_BREAKPOINT:4/3,MAX_HEIGHT:600,MIN_RADIUS:100,DEBOUNCE_TIMEOUT:200,MIN_RADIANS:Math.PI/20,SPILLOVER_TOP:50,SPILLOVER_RIGHT:15,SPILLOVER_BOTTOM:50,SPILLOVER_LEFT:.15,PADDING_FOR_LABELS:70,OVERFLOW_SPREAD:6,OVERFLOW_INNER_RADIUS:1.2,OVERFLOW_OUTER_RADIUS:1.36,BRACKET_INNER_RADIUS_ADJUST:.03,BRACKET_MIDDLE_RADIUS_ADJUST:.1,BRACKET_OUTER_RADIUS_ADJUST:.15,TOOLTIP_DISTANCE_FROM_CIRCUMFERENCE:3,
KEY_TOP_MARGIN:30,KEY_LEFT_MARGIN:20}])});
define("dashed-bracket",["svg-js","path","geometry"],function(l,d,f){l.DashedBracket=l.invent({create:"path",inherit:l.Path,extend:{},construct:{dashedBracket:function(c,g,h,t,e,n,w){f.circle.getPointOnCircumference(c,g,h,n);f.circle.getPointOnCircumference(c,g,h,w);var p=f.circle.getPointOnCircumference(c,g,t,n),q=f.circle.getPointOnCircumference(c,g,t,w),v=f.circle.getPointOnCircumference(c,g,e,n);e=f.circle.getPointOnCircumference(c,g,e,w);var x=f.circle.getPointOnCircumference(c,g,t,w-(w-n)/2);
c=f.circle.getPointOnCircumference(c,g,h,w-(w-n)/2);t=d().moveto(v.x,v.y).lineto(p.x,p.y).arc(t,t,0,w-n>Math.PI?1:0,1,q.x,q.y).lineto(e.x,e.y).moveto(x.x,x.y).lineto(c.x,c.y).print();return this.put(new l.DashedBracket).attr({d:t}).addClass("fm-dashed-bracket")}}})});
define("doughnut-segment",["svg-js","path","geometry"],function(l,d,f){l.DoughnutSegment=l.invent({create:"path",inherit:l.Path,construct:{doughnutSegment:function(c,g,h,t,e,n){var w=f.circle.getPointOnCircumference(c,g,h,e),p=f.circle.getPointOnCircumference(c,g,h,n),q=f.circle.getPointOnCircumference(c,g,t,n);c=f.circle.getPointOnCircumference(c,g,t,e);e=n-e>Math.PI?1:0;h=d().moveto(w.x,w.y).arc(h,h,0,e,1,p.x,p.y).lineto(q.x,q.y).arc(t,t,0,e,0,c.x,c.y).closepath().print();return this.put(new l.DoughnutSegment).attr({d:h})}}});
return{}});
define("number",[],function(){return{roundToOrder:function(l,d,f){function c(d,h){var t=Math.abs(d);t>=Math.pow(10,f)?(d=c(d/10,h),d*=10):t<Math.pow(10,f-1)?(d*=10,d=c(d,h),d/=10):(t=Math.round(d/h)*h,0===t&&(f++,t=c(d,h)),d=t);return parseFloat(d.toPrecision(f+1))}l=parseFloat(l);if(0==l)return 0;f||(f=2);return 1===d?parseFloat(l.toPrecision(f)):c(l,d)},renderValue:function(l){function d(g){if(0==g)return 0;if(1<=g&&1E3>g)return g;if(1>g)return c-=3,d(1E3*g);if(1E3<=g)return c+=3,d(g/1E3)}if(0===
l)return"0";if(!l)return"";var f=1;0>l&&(f=-1,l*=-1);l=this.roundToOrder(l,1,3);var c=0,g=new String(f*d(l));return 3==c?g+"k":6==c?g+"m":9==c?g+"bn":12==c?g+" trillion":new String(f*l)},getDataTotal:function(l){for(var d=0,f=0;f<l.length;f++)d+=l[f].value;return d},getAngle:function(l,d,f){f="undefined"===typeof f?Circle.whole:f;return f/d*l},getFactor:function(l){for(var d=l-1;1<d;d--){var f=l/d;if(parseInt(f)==f)return d}return l}}});
define("scale",[],function(){function l(c,d,h){var f;f=(d-c)/(h-1);var e=Math.pow(10,Math.floor(Math.log(f)/Math.LN10));f=Math.ceil(f/e)*e;if(0>d*c){h=[];for(e=0;e<d;e+=f)h.push(e);h.push(e);for(e=-f;e>c;e-=f)h.unshift(e);h.unshift(e);d=h}else for(e=f*h,e>d&&(c=0<=c&&c<f?0:c-(e-(d-c))/2),d=[];d.length<h+1;)d.push(c),c+=f;return d}var d=function(){this.range=this.domain=null};d.prototype.map=function(c){c=this.domain.getProportion(c);return this.range.getValue(c)};var f=0;return function(){return{withIncrements:function(c){f=
c;return this},project:function(c){var g=new d;g.domain=c;return{onto:function(c){g.range=c;return g}}},domains:{RealNumbers:function(c,d){0<f?(this.increments=l(c,d,f,!1),this.min=this.increments[0],this.max=this.increments[this.increments.length-1]):(this.min=c,this.max=d);this.getProportion=function(c){return(c-this.min)/(this.max-this.min)};return this}},ranges:{Angle:function(c,d){void 0===c&&(c=0);void 0===d&&(d=2*Math.PI);this.getValue=function(h){h=c+(d-c)*h;if(h>2*Math.PI)h=h%2*Math.PI;else if(0>
h)for(;0>h;)h+=2*Math.PI;return h};return this},Chromatic:{},Linear:function(c,d){if(void 0===c||void 0===d)throw"Both start and end points must be defined for linear scales.";this.getValue=function(h){return c+(d-c)*h};return this},Logarithmic:{},PointOnPath:{}}}}});
define("tooltip-background",["svg-js","path"],function(l,d){l.TooltipBackground=l.invent({create:"path",inherit:l.Path,extend:{setConfiguration:function(d){this.configuration=d;return this}},construct:{tooltipBackground:function(f,c,g){function h(){var b=[],d=c-2*r.BORDER_RADIUS;b.push({x:-r.ARROW_THICKNESS/2,y:r.ARROW_LENGTH});b.push({x:-d/2,y:r.ARROW_LENGTH});b.push({x:-c/2,y:r.ARROW_LENGTH});b.push({x:-c/2,y:r.ARROW_LENGTH+r.BORDER_RADIUS});b.push({x:-c/2,y:r.ARROW_LENGTH+r.BORDER_RADIUS+B});b.push({x:-c/
2,y:r.ARROW_LENGTH+g});b.push({x:-c/2+r.BORDER_RADIUS,y:r.ARROW_LENGTH+g});b.push({x:d/2,y:r.ARROW_LENGTH+g});b.push({x:c/2,y:r.ARROW_LENGTH+g});b.push({x:c/2,y:r.ARROW_LENGTH+r.BORDER_RADIUS+B});b.push({x:c/2,y:r.ARROW_LENGTH+r.BORDER_RADIUS});b.push({x:c/2,y:r.ARROW_LENGTH});b.push({x:d/2,y:r.ARROW_LENGTH});b.push({x:r.ARROW_THICKNESS/2,y:r.ARROW_LENGTH});return b}function t(){var b=[];b.push({x:r.ARROW_LENGTH,y:-.5*r.ARROW_THICKNESS});b.push({x:r.ARROW_LENGTH,y:-.5*B});b.push({x:r.ARROW_LENGTH,
y:-.5*g});b.push({x:r.ARROW_LENGTH+r.BORDER_RADIUS,y:-.5*g});b.push({x:r.ARROW_LENGTH+c-r.BORDER_RADIUS,y:-.5*g});b.push({x:r.ARROW_LENGTH+c,y:-.5*g});b.push({x:r.ARROW_LENGTH+c,y:-.5*B});b.push({x:r.ARROW_LENGTH+c,y:.5*B});b.push({x:r.ARROW_LENGTH+c,y:.5*g});b.push({x:r.ARROW_LENGTH+c-r.BORDER_RADIUS,y:.5*g});b.push({x:r.ARROW_LENGTH+r.BORDER_RADIUS,y:.5*g});b.push({x:r.ARROW_LENGTH,y:.5*g});b.push({x:r.ARROW_LENGTH,y:.5*B});b.push({x:r.ARROW_LENGTH,y:.5*r.ARROW_THICKNESS});return b}function e(){var b=
[],d=c-2*r.BORDER_RADIUS;b.push({x:-r.ARROW_THICKNESS/2,y:r.ARROW_LENGTH});b.push({x:-d/2,y:r.ARROW_LENGTH});b.push({x:-c/2,y:r.ARROW_LENGTH});b.push({x:-c/2,y:r.ARROW_LENGTH+r.BORDER_RADIUS});b.push({x:-c/2,y:r.ARROW_LENGTH+r.BORDER_RADIUS+B});b.push({x:-c/2,y:r.ARROW_LENGTH+g});b.push({x:-c/2+r.BORDER_RADIUS,y:r.ARROW_LENGTH+g});b.push({x:c/2,y:r.ARROW_LENGTH+g});b.push({x:c/2,y:r.ARROW_LENGTH});b.push({x:r.ARROW_THICKNESS/2,y:r.ARROW_LENGTH});return b}function n(){var b=[];b.push({x:r.ARROW_LENGTH,
y:-.5*r.ARROW_THICKNESS});b.push({x:r.ARROW_LENGTH,y:-.5*B});b.push({x:r.ARROW_LENGTH,y:-.5*g});b.push({x:r.ARROW_LENGTH+r.BORDER_RADIUS,y:-.5*g});b.push({x:r.ARROW_LENGTH+c,y:-.5*g});b.push({x:r.ARROW_LENGTH+c,y:.5*g});b.push({x:r.ARROW_LENGTH+r.BORDER_RADIUS,y:.5*g});b.push({x:r.ARROW_LENGTH,y:.5*g});b.push({x:r.ARROW_LENGTH,y:.5*B});b.push({x:r.ARROW_LENGTH,y:.5*r.ARROW_THICKNESS});return b}function w(){var b=[];b.push({x:-c+r.BORDER_RADIUS,y:0});b.push({x:-c,y:0});b.push({x:-c,y:r.BORDER_RADIUS});
b.push({x:-c,y:g-r.BORDER_RADIUS});b.push({x:-c,y:g});b.push({x:-c+r.BORDER_RADIUS,y:g});b.push({x:0,y:g});return b}function p(b){return d().moveto(0,0).lineto(b[0].x,b[0].y).lineto(b[1].x,b[1].y).smoothcurveto(b[2].x,b[2].y,b[3].x,b[3].y).lineto(b[4].x,b[4].y).smoothcurveto(b[5].x,b[5].y,b[6].x,b[6].y).lineto(b[7].x,b[7].y).smoothcurveto(b[8].x,b[8].y,b[9].x,b[9].y).lineto(b[10].x,b[10].y).smoothcurveto(b[11].x,b[11].y,b[12].x,b[12].y).lineto(b[13].x,b[13].y).closepath().print()}function q(b){return d().moveto(0,
0).lineto(b[0].x,b[0].y).lineto(b[1].x,b[1].y).smoothcurveto(b[2].x,b[2].y,b[3].x,b[3].y).lineto(b[4].x,b[4].y).smoothcurveto(b[5].x,b[5].y,b[6].x,b[6].y).lineto(b[7],b[7]).smoothcurveto(b[8].x,b[8].y,b[9].x,b[9].y).lineto(b[10].x,b[10].y).smoothcurveto(b[11].x,b[11].y,b[12].x,b[12].y).lineto(b[13].x,b[13].y).closepath().print()}function v(b){return d().moveto(0,0).lineto(b[0].x,b[0].y).smoothcurveto(b[1].x,b[1].y,b[2].x,b[2].y).lineto(b[3].x,b[3].y).smoothcurveto(b[4].x,b[4].y,b[5].x,b[5].y).lineto(b[6].x,
b[6].y).closepath().print()}function x(b){return d().moveto(0,0).lineto(b[0].x,b[0].y).lineto(b[1].x,b[1].y).smoothcurveto(b[2].x,b[2].y,b[3].x,b[3].y).lineto(b[4].x,b[4].y).smoothcurveto(b[5].x,b[5].y,b[6].x,b[6].y).lineto(b[7].x,b[7].y).lineto(b[8].x,b[8].y).lineto(b[9].x,b[9].y).lineto(0,0).print()}function z(b){return d().moveto(0,0).lineto(b[0].x,b[0].y).lineto(b[1].x,b[1].y).smoothcurveto(b[2].x,b[2].y,b[3].x,b[3].y).lineto(b[4].x,b[4].y).lineto(b[5].x,b[5].y).lineto(b[6].x,b[6].y).smoothcurveto(b[7].x,
b[7].y,b[8].x,b[8].y).lineto(b[9].x,b[9].y).closepath().print()}var r={ARROW_LENGTH:7,ARROW_THICKNESS:10,BORDER_RADIUS:5},B=g-2*r.BORDER_RADIUS,b,A=new l.TooltipBackground;if("singleTop"==f||"singleBottom"==f)b=h(),b=p(b);else if("singleLeft"==f||"singleRight"==f)b=t(),b=q(b);else if("leftSection"==f||"rightSection"==f)b=w(),b=v(b);else if("leftSectionWithTopArrow"==f||"rightSectionWithBottomArrow"==f||"rightSectionWithTopArrow"==f||"leftSectionWithBottomArrow"==f)b=e(),b=x(b);else if("leftSectionWithLeftArrow"==
f||"rightSectionWithRightArrow"==f)b=n(),b=z(b);A.attr({d:b}).addClass("fm-tooltip-background").setConfiguration(r);"singleRight"==f||"rightSection"==f||"rightSectionWithRightArrow"==f||"rightSectionWithTopArrow"==f?A.scale(-1,1):"singleBottom"==f||"leftSectionWithBottomArrow"==f?A.scale(1,-1):"rightSectionWithBottomArrow"==f&&A.scale(-1,-1);return A}}})});define("G.unshift",["svg-js"],function(l){l.extend(l.G,{unshift:function(d){this.node.insertBefore(d.node,this.children()[0].node)}})});
define("tooltip",["svg-js","tooltip-background","G.unshift"],function(l,d,f){return function(c,d,h,f){var e={PADDING:7,ICON_SPACING:9},n=c.group().addClass("fm-tooltip");n.configuration=e;n.mainTextObject=c.text(""+d);n.add(n.mainTextObject);d=n.mainTextObject.bbox();var l=d.width+2*e.PADDING,p=d.height+2*e.PADDING,q=0,v=0;f&&(p=f.bbox(),q=p.width,v=p.height,l=d.width+q+2*e.ICON_SPACING+e.PADDING,p=Math.max(v,d.height)+2*e.PADDING,n.add(f));var x;switch(h){case "left":x="singleLeft";break;case "right":x=
"singleRight";break;case "top":x="singleTop";break;case "bottom":x="singleBottom";break;default:x="singleLeft"}n.background=c.tooltipBackground(x,l,p);n.unshift(n.background);"left"==h?(c=n.background.configuration.ARROW_LENGTH,f?(c+=e.ICON_SPACING,f.move(c,-v/2),c+=q+e.ICON_SPACING):c+=e.PADDING,n.mainTextObject.move(c,-d.height/2)):"right"==h?(c=-n.background.configuration.ARROW_LENGTH,f?(c-=e.ICON_SPACING,f.move(c-q,-v/2),c-=q+e.ICON_SPACING):c-=e.PADDING,n.mainTextObject.attr({"text-anchor":"end"}),
n.mainTextObject.move(c,-d.height/2)):"top"==h?(c=-e.PADDING,f?(c+=e.ICON_SPACING,f.move(c,-v/2),c+=q+e.ICON_SPACING):c+=e.PADDING,n.mainTextObject.attr({"text-anchor":"middle"}),n.mainTextObject.move(c,n.background.configuration.ARROW_LENGTH+d.height/2)):"bottom"==h&&(c=-e.PADDING,f?(c+=e.ICON_SPACING,f.move(c,-v/2),c+=q+e.ICON_SPACING):c+=e.PADDING,n.mainTextObject.attr({"text-anchor":"middle"}),n.mainTextObject.move(c,-n.background.configuration.ARROW_LENGTH-d.height/2-p/2));return n}});
define("two-section-tooltip",["svg-js","tooltip-background","G.unshift"],function(l,d,f){return function(c,d,f,l){var e=c.group().addClass("fm-tooltip");f=f?f:"";e.mainTextObject=c.text(""+d);e.secondaryTextObject=c.text(""+f);e.background=c.group();e.add(e.mainTextObject);e.add(e.secondaryTextObject);e.unshift(e.background);d=e.mainTextObject.bbox();f=e.secondaryTextObject.bbox();var n=Math.max(d.height,f.height)+14,w=d.width+14,p=f.width+14,q=0;"left"==l?(e.background.leftSection=c.tooltipBackground("leftSectionWithLeftArrow",
w,n),e.background.rightSection=c.tooltipBackground("rightSection",p,n).move(-(p+w+e.background.leftSection.configuration.ARROW_LENGTH+1),-n/2),e.background.add(e.background.leftSection),e.background.add(e.background.rightSection),q=q+e.background.leftSection.configuration.ARROW_LENGTH+7,e.mainTextObject.move(q,-d.height/2),q=q+14+1+d.width,e.secondaryTextObject.move(q,-d.height/2)):"right"==l?(e.background.leftSection=c.tooltipBackground("leftSection",w,n),e.background.rightSection=c.tooltipBackground("rightSectionWithRightArrow",
p,n),e.background.leftSection.move(-e.background.leftSection.configuration.ARROW_LENGTH-p-w-1,-n/2),e.background.add(e.background.leftSection),e.background.add(e.background.rightSection),q=q-e.background.rightSection.configuration.ARROW_LENGTH-7,e.secondaryTextObject.attr({"text-anchor":"end"}),e.secondaryTextObject.move(q,-f.height/2),q=q-14-1-f.width,e.mainTextObject.attr({"text-anchor":"end"}),e.mainTextObject.move(q,-d.height/2)):"topLeft"==l?(e.background.leftSection=c.tooltipBackground("leftSectionWithTopArrow",
w,n),e.background.rightSection=c.tooltipBackground("rightSection",p,n).move(-(w/2+1+p),e.background.leftSection.configuration.ARROW_LENGTH),e.background.add(e.background.leftSection),e.background.add(e.background.rightSection),c=-Math.max(d.height,f.height)/2+e.background.leftSection.configuration.ARROW_LENGTH+n/2,e.mainTextObject.attr({"text-anchor":"middle"}),e.mainTextObject.move(q,c),e.secondaryTextObject.move(q+w/2+1+7,c)):"bottomLeft"==l?(e.background.leftSection=c.tooltipBackground("leftSectionWithBottomArrow",
w,n),e.background.rightSection=c.tooltipBackground("rightSection",p,n).move(-(w/2+1+p),-n-e.background.leftSection.configuration.ARROW_LENGTH),e.background.add(e.background.leftSection),e.background.add(e.background.rightSection),c=-Math.max(d.height,f.height)/2-e.background.leftSection.configuration.ARROW_LENGTH-n/2,e.mainTextObject.attr({"text-anchor":"middle"}),e.mainTextObject.move(q,c),q=q+w/2+f.width+7+1,e.secondaryTextObject.attr({"text-anchor":"end"}),e.secondaryTextObject.move(q,c)):"bottomRight"==
l?(e.background.leftSection=c.tooltipBackground("leftSection",w,n).move(-p/2-1-w,0),e.background.leftSection.translate(0,-e.background.leftSection.configuration.ARROW_LENGTH-n),e.background.rightSection=c.tooltipBackground("rightSectionWithBottomArrow",p,n),e.background.add(e.background.leftSection),e.background.add(e.background.rightSection),c=-Math.max(d.height,f.height)/2-e.background.leftSection.configuration.ARROW_LENGTH-n/2,e.secondaryTextObject.attr({"text-anchor":"middle"}),e.secondaryTextObject.move(q,
c),q=q-p/2-1-d.width-7,e.mainTextObject.move(q,c)):"topRight"==l&&(e.background.leftSection=c.tooltipBackground("leftSection",w,n).move(-p/2-1-w,0),e.background.leftSection.translate(0,e.background.leftSection.configuration.ARROW_LENGTH),e.background.rightSection=c.tooltipBackground("rightSectionWithTopArrow",p,n),e.background.add(e.background.leftSection),e.background.add(e.background.rightSection),c=-Math.max(d.height,f.height)/2+e.background.leftSection.configuration.ARROW_LENGTH+n/2,e.secondaryTextObject.attr({"text-anchor":"middle"}),
e.secondaryTextObject.move(q,c),q=q-p/2-1-d.width-7,e.mainTextObject.move(q,c));e.unshift(e.background);return e}});
define("utilities",["configuration","geometry","number","two-section-tooltip"],function(l,d,f,c){return{checkBBoxFitsInSegment:function(c,d,f,e,n,l){c=c.bbox();var p=!1;[{x:c.x,y:c.y},{x:c.x2,y:c.y},{x:c.x,y:c.y2},{x:c.x2,y:c.y2}].forEach(function(c){if(!p){var g=c.x-f;c=c.y-e;var x=Math.atan2(g,-c);0>x&&(x+=2*Math.PI);x>l||x<n?p=!0:Math.sqrt(Math.pow(g,2)+Math.pow(c,2))>d.radius&&(p=!0)}});return p},createSegmentLabel:function(c,d,f,e,n,l,p){d+=3*c.radius/5*Math.sin(e);f-=3*c.radius/5*Math.cos(e);
p.bbox();n=c.chart.text(n).move(d,f).addClass("fm-segment-label");p=n.bbox();n.move(d,f-p.height);l=c.chart.text(l).move(d,f).addClass("fm-segment-label");l.attr({y:p.y2-p.height});c=c.chart.group().attr({"pointer-events":"none"});c.add(n);c.add(l);return c},drawBackground:function(c,d,f,e,n){c=c.rect(d,f);c.move(e,n);c.attr({opacity:"0"});return c},drawTestRegions:function(c,d){c.rect(d.drawRegions.pieArea.width,d.drawRegions.pieArea.height).move(d.drawRegions.pieArea.x,d.drawRegions.pieArea.y);
c.rect(d.drawRegions.keyArea.width,d.drawRegions.keyArea.height).move(d.drawRegions.keyArea.x,d.drawRegions.keyArea.y).attr({fill:"blue"})},getApproximateKeyColumnWidth:function(c,d){var f=0;d.forEach(function(d){d=c.text(""+d.title).addClass("fm-key-value-title");var h=d.bbox().width;d.remove();h>f&&(f=h)});f+=70},getMaxTooltipDimensions:function(d,f){var l=d.group();f.forEach(function(e,f){l.add(c(d,e.title,e.renderedValue,"left"))});var e=l.bbox();l.remove();return{height:e.height,width:e.width}},
getOverflowItemCount:function(c,f){var t=0;c.forEach(function(c){d.circle.getAngle(c.value,f)<=l.MIN_RADIANS&&t++});return t},processOverflowData:function(c,h,t){var e=[],n=[];c.forEach(function(c,g){2>t||d.circle.getAngle(c.value,h)>l.MIN_RADIANS?e.push(c):n.push(c)});e.sort(function(c,d){return d.value-c.value});n.sort(function(c,d){return d.value-c.value});0<n.length&&(c=f.getDataTotal(n),e.push({title:"Other",value:c,overflow:n}));return e},setDefaultOptions:function(c){"undefined"==typeof c.valuePrefix&&
(c.valuePrefix="");"undefined"==typeof c.valueSuffix&&(c.valueSuffix="");"undefined"==typeof c.showInnerLabels&&(c.showInnerLabels=!1);"undefined"==typeof c.useOuterLabels&&(c.useOuterLabels=!1);"undefined"==typeof c.hideKey&&(c.hideKey=!1);return c}}});define("G.move",["svg-js"],function(l){l.extend(l.G,{move:function(d,f){this.node.setAttribute("transform","translate("+d+" "+f+")")}})});
define("chart","circle-segment configuration dashed-bracket doughnut-segment geometry key number path scale svg-js tooltip two-section-tooltip utilities G.move".split(" "),function(l,d,f,c,g,h,t,e,n,w,p,q,v){function x(c,d,b){var e=d.chart.text(c.overflow?c.title:c.title+": "+c.value).addClass("fm-external-details");c.colorOverride?e.attr({fill:c.colorOverride.morph("#000").at(.45).toHex()}):e.addClass(c.colorClass);c=e.bbox();b=b.bbox();e.move(d.layout.drawRegions.pieArea.width/2-c.width/2,b.y2);
d.chart.externalDetails=e}function z(c,e){var b=e.layout.drawRegions.pieArea.x+e.layout.drawRegions.pieArea.width/2,f=e.layout.drawRegions.pieArea.y+e.layout.drawRegions.pieArea.height/2,k=(c.startAngle+c.endAngle)/2;c.endAngle<c.startAngle&&(k+=Math.PI);var b=g.circle.getPointOnCircumference(b,f,c.isOuterSegment?e.radius*d.OVERFLOW_OUTER_RADIUS+d.TOOLTIP_DISTANCE_FROM_CIRCUMFERENCE:e.radius+d.TOOLTIP_DISTANCE_FROM_CIRCUMFERENCE,k),h;c.overflow?h="bottom":k<g.circle.eighth||k>=7*g.circle.eighth?h=
k<=1*Math.PI/4?"bottomLeft":"bottomRight":k>=g.circle.eighth&&k<3*g.circle.eighth?h="left":k>=3*g.circle.eighth&&k<5*g.circle.eighth?h=k<=g.circle.half?"topLeft":"topRight":k>=5*g.circle.eighth&&k<7*g.circle.eighth&&(h="right");k="top"==h||"bottom"==h?p(e.chart,c.title,h):q(e.chart,c.title,c.value,h,c.colorOverride?c.colorOverride:null);c.overflow?k.background.addClass(c.colorClass):c.colorOverride?(k.background.leftSection.attr({fill:c.colorOverride}),k.background.rightSection.attr({fill:c.colorOverride.morph("#fff").at(.4).toHex()})):
(k.background.leftSection.addClass(c.colorClass),k.background.rightSection.addClass(c.colorClass+" tint-5"));k.move(b.x,b.y);e.chart.tooltip=k}return{applyMouseEventHandlers:function(c,d,b,e,f,g,a){function h(){f.each(function(){this.isCurrentlyActive=!1})}e.click(function(){b.transition("Neutral")});var n=function(){if(this.isCurrentlyActive||b.isInState("ShowOverflowAndDataInKey"))b.transition("Neutral");else{h();this.isCurrentlyActive=!0;var a={title:this.title,body:this.details,colorClass:this.colorClass,
colorOverride:this.colorOverride};this.isOuterSegment?b.transition("ShowingOverflowAndDataInKey",a):b.transition("ShowingDataInKey",a)}};e=function(){b.isInState("ShowingOverflow")?b.transition("Neutral"):b.transition("ShowingOverflow")};f.each(function(){!this.details&&!this.overflow||d.options.hideKey&&!this.overflow?this.addClass("click-disabled"):this.click(n);this.on("mouseover",function(){d.options.useOuterLabels?x(this,d,f):z(this,d,b)});this.on("mouseout",function(){d.options.useOuterLabels?
d.chart.externalDetails.remove():d.chart.tooltip.remove()})});c[c.length-1].hasOwnProperty("overflow")&&f.get(c.length-1).click(e);g.each(function(){!this.details&&!this.overflow||d.options.hideKey?this.addClass("click-disabled"):this.click(n);this.on("mouseover",function(){d.options.useOuterLabels?x(this,d,f):z(this,d,b)});this.on("mouseout",function(){d.options.useOuterLabels?d.chart.externalDetails.remove():d.chart.tooltip.remove()})})},drawDashedBracket:function(c){return c.chart.dashedBracket(c.layout.drawRegions.pieArea.x+
c.layout.drawRegions.pieArea.width/2,c.layout.drawRegions.pieArea.y+c.layout.drawRegions.pieArea.height/2,c.radius+c.radius*d.BRACKET_INNER_RADIUS_ADJUST,c.radius+c.radius*d.BRACKET_MIDDLE_RADIUS_ADJUST,c.radius+c.radius*d.BRACKET_OUTER_RADIUS_ADJUST,c.overflowValueScaleStart,c.overflowValueScaleEnd).addClass("fm-hidden")},drawInnerSegments:function(c,d){var b=d.chart.group(),e,f=0,g=d.layout.drawRegions.pieArea.x+d.layout.drawRegions.pieArea.width/2,a=d.layout.drawRegions.pieArea.y+d.layout.drawRegions.pieArea.height/
2,h=!0;c.forEach(function(c,n){e=f;f+=c.value;var l=d.valueScale.map(e),r=d.valueScale.map(f),p=d.chart.circleSegment(g,a,d.radius,l,r).addClass("fm-segment fm-inner-segment");p.title=c.title;p.value=c.renderedValue;p.details=c.details;p.startAngle=l;p.endAngle=r;var q=(l+r)/2,t;c.hasOwnProperty("overflow")?(t="fm-datum-color-overflow",p.overflow=!0):t=d.colorClasses[n];c.hasOwnProperty("colorOverride")?(p.colorOverride=new w.Color(c.colorOverride),p.attr("fill",c.colorOverride)):(p.addClass(t),p.colorClass=
t);d.options.showInnerLabels&&h&&(q=v.createSegmentLabel(d,g,a,q,c.title,c.renderedValue,p),v.checkBBoxFitsInSegment(q,d,g,a,l,r)?(q.remove(),h=!1):p.after(q));b.add(p)});return b},drawKey:function(c,d){var b=[],e=[];c.forEach(function(a,c){b.push(a.title);a.colorOverride&&(e[c]=a.colorOverride)});var f=h(d.chart,d.layout.drawRegions.keyArea.width,b,d.colorClasses,e,c[c.length-1].hasOwnProperty("overflow")),g=d.layout.drawRegions.keyArea.y;"landscape"==d.orientation&&(g+=d.layout.drawRegions.keyArea.height/
2-f.background.bbox().height/2);f.move(d.layout.drawRegions.keyArea.x,g);return f},drawOuterSegments:function(c,e){var b=c[c.length-1].overflow;t.getDataTotal(b);var f=e.chart.group(),g=0;b.forEach(function(b,a){var c=g;g+=b.value;var h=e.layout.drawRegions.pieArea.x+e.layout.drawRegions.pieArea.width/2,n=e.layout.drawRegions.pieArea.y+e.layout.drawRegions.pieArea.height/2,c=e.overflowValueScale.map(c),l=e.overflowValueScale.map(g),h=e.chart.doughnutSegment(h,n,e.radius*d.OVERFLOW_OUTER_RADIUS,e.radius*
d.OVERFLOW_INNER_RADIUS,c,l).addClass("fm-segment fm-outer-segment "+e.colorClasses[a]);h.title=b.title;h.value=b.renderedValue;h.details=b.details;h.startAngle=c;h.endAngle=l;h.colorClass=e.colorClasses[a];h.isOuterSegment=!0;f.add(h)});return f}}});
define("color",[],function(){return{colorWheelClasses:"fm-datum-color-wheel-a fm-datum-color-wheel-b fm-datum-color-wheel-c fm-datum-color-wheel-d fm-datum-color-wheel-e fm-datum-color-wheel-f fm-datum-color-wheel-g fm-datum-color-wheel-h fm-datum-color-wheel-i fm-datum-color-wheel-j fm-datum-color-wheel-k fm-datum-color-wheel-l".split(" "),overflowClass:"fm-datum-color-overflow",pad:function(l){return 2>l.length?"0"+l:l},contrasting:function(l){throw"Not yet implemented";},registerTint1Filter:function(){throw"Not yet implemented";
},registerTint2Filter:function(){throw"Not yet implemented";},lowContrast:function(l,d){d="undefined"===typeof d?0:d;if(l+d>this.colorWheelClasses.length){for(var f=[],c=0;c<l;c++)c<this.colorWheelClasses.length?f.push(this.colorWheelClasses[c]):f.push(this.colorWheelClasses[this.colorWheelClasses.length-c]);return f}return this.colorWheelClasses.splice(d,l)},monochromatic:function(l,d,f){throw"Not yet implemented";},harmonious:function(l){for(var d=Math.min(l,this.colorWheelClasses.length),f=[],
c=Math.floor(this.colorWheelClasses.length/2),g=function(){return 0==this.colorWheelClasses.length%4}.bind(this),h=function(e,g){e=(e+this.colorWheelClasses.length)%this.colorWheelClasses.length;var h=Math.floor(f.length/4)+1;f.length<d&&f.splice(1*h-1,0,e);f.length<d&&f.splice(2*h-1,0,(e+g+1)%this.colorWheelClasses.length);f.length<d&&f.splice(3*h-1,0,(e+c)%this.colorWheelClasses.length);f.length<d&&f.splice(4*h-1,0,(e+g+1+c)%this.colorWheelClasses.length)}.bind(this),t=function(c,d){c=(c+this.colorWheelClasses.length)%
this.colorWheelClasses.length;f.splice(d,0,c)}.bind(this),e=1,n=0;e<=c-2;e+=2,n--)h(n,e);h=f.length/4;f.length<d&&t(1,h);f.length<d&&t(1+c,3*h+1);g()&&(f.length<d&&t(1+c/2,2*h+1),f.length<d&&t(1+3*c/2,4*h+3));g=[];for(t=0;t<l;t++)g.push(this.colorWheelClasses[f[t%d]]);return g}}});
define("mapper",[],function(){var l=function(d){this.keys=d.querySelectorAll("thead > tr > th");this.rows=d.querySelectorAll("tbody > tr")};l.prototype.mapRows=function(d){if("function"!=typeof d)throw new TypeError;for(var f=[],c=0;c<this.keys.length;c++)f.push(this.keys[c].textContent);for(var c=[],g=0;g<this.rows.length;g++){for(var h=this.rows[g],l=[],e=h.classList,n=h.attributes,w=0;w<this.rows[g].children.length;w++)l.push(this.rows[g].children[w].textContent);(h=d(l,g,h,f,e,n))&&c.push(h)}return c};
l.prototype.forEachRows=function(d){if("function"!=typeof d)throw new TypeError;for(var f=[],c=0;c<this.keys.length;c++)f.push(this.keys[c].textContent);for(c=0;c<this.rows.length;c++){for(var g=this.rows[c],h=[],l=g.classList,e=g.attributes,n=0;n<this.rows[c].children.length;n++)h.push(this.rows[c].children[n].textContent);d(h,c,g,f,l,e)}};l.prototype.reduceRows=function(d,f){if("function"!=typeof d)throw new TypeError;"undefined"===typeof f&&(f=0);for(var c=[],g=0;g<this.keys.length;g++)c.push(this.keys[g].textContent);
for(g=0;g<this.rows.length;g++){for(var h=this.rows[g],l=[],e=h.classList,n=h.attributes,w=0;w<this.rows[g].children.length;w++)l.push(this.rows[g].children[w].textContent);f=d(f,l,g,h,c,e,n)}return f};return l});
define("state",[],function(){return{State:function(l,d,f){this.name=l;this.enter=d?d:function(){console.log("No enter() method has been defined for the state "+l)};this.leave=f?f:function(){console.log("No leave() method has been defined for the state "+l)}},StateMachine:function(){this.states=Array.prototype.slice.call(arguments);var l=function(d){var f=!1;this.states.some(function(c,g){if(c.name===d)return this.currentState=c,f=!0}.bind(this));if(f)return!0;throw""+d+" does not exist in this state machine.";
};this.start=function(d){d?l.call(this,d):this.currentState=this.states[0];this.currentState.enter()};this.transition=function(d,f){var c=this.currentState.name;this.currentState.leave(d);l.call(this,d);this.currentState.enter(f,c)};this.isInState=function(d){return this.currentState.name===d}}}});
define("text-area",["svg-js"],function(l){return function(d,f,c,g,h){var l=g.split(/\s+/),e=[],n="";l.forEach(function(c,g){var q=0!=g?n+" "+c:c,v=d.text(q).addClass(h),x=v.bbox().width;v.remove();x<f?(n=q,g==l.length-1&&e.push(n)):(e.push(n),g==l.length-1?e.push(c):n=c)});return d.text(function(d){e.forEach(function(e){var f=d.tspan(e).newLine().addClass(h),g=d.bbox().height;f.node.parentNode.removeChild(f.node);g<=c&&d.tspan(e).newLine().addClass(h)})}).addClass("fm-text-area")}});
define("states",["configuration","key","state","svg-js","text-area"],function(l,d,f,c,g){return function(c,d,e,l,w,p){function q(){var b=c.layout.drawRegions.keyArea.y,b="landscape"==c.orientation?b+(c.layout.drawRegions.keyArea.height/2-p.background.bbox().height/2):b+(c.top+c.height-p.bbox().height);p.move(c.layout.drawRegions.keyArea.x,b)}function v(b){var c=[],d=[];b.forEach(function(a,b){c.push(a.title);a.colorOverride&&(d[b]=a.colorOverride)});p.setValues(c,d);p.background.removeClass(p.backgroundColorClass);
p.background.attr({fill:"none"});p.background.removeClass("tint-9");p.background.addClass("fm-datum-color-neutral");p.backgroundColorClass="fm-datum-color-neutral";q()}function x(b){p.clearItems();p.titleText&&p.titleText.remove();p.bodyText&&p.bodyText.remove();if(b.title&&b.body){var d=p.bbox(),e=c.chart.text(b.title).addClass("fm-key-title"),a=e.bbox();e.move(d.width/2-a.width/2,10);p.add(e);p.titleText=e;d=g(c.chart,d.width-p.configuration.PADDING_LEFT-p.configuration.PADDING_RIGHT,c.layout.drawRegions.keyArea.height-
a.height-50,b.body,"fm-key-body");d.move(p.configuration.PADDING_LEFT,a.y2+10);p.background.height(d.bbox().height+a.height+40);q();p.add(d);p.bodyText=d}p.background.removeClass(p.backgroundColorClass);b.colorOverride?(p.background.attr({fill:b.colorOverride.morph("#fff").at(.65).toHex()}),e.attr({fill:b.colorOverride.morph("#000").at(.45).toHex()})):(p.background.addClass(b.colorClass),p.background.hasClass("tint-9")||p.background.addClass("tint-9"),p.backgroundColorClass=b.colorClass,b.title&&
b.body&&e.addClass(b.colorClass))}var z=new f.State("Neutral");z.enter=function(b,c){e.each(function(){this.isCurrentlyActive=!1});l.addClass("fm-hidden");w.addClass("fm-hidden");c&&"Neutral"!=c&&(p.titleText&&p.titleText.remove(),p.bodyText&&p.bodyText.remove(),v(d))};z.leave=function(){};var r=new f.State("ShowingDataInKey");r.enter=function(b,c){x(b)};r.leave=function(){};var B=new f.State("ShowingOverflow");B.enter=function(){e.each(function(){this.isCurrentlyActive=!1});l.removeClass("fm-hidden");
w.removeClass("fm-hidden");p.titleText&&p.titleText.remove();p.bodyText&&p.bodyText.remove();v(d[d.length-1].overflow)};B.leave=function(b){"ShowingOverflowAndDataInKey"!=b&&(l.addClass("fm-hidden"),w.addClass("fm-hidden"))};var b=new f.State("ShowingOverflowAndDataInKey");b.enter=function(b){x(b)};b.leave=function(b){"ShowingOverflowAndDataInKey"!=b&&(l.addClass("fm-hidden"),w.addClass("fm-hidden"))};return new f.StateMachine(z,r,B,b)}});
define("renderer","chart color configuration geometry number mapper scale states utilities".split(" "),function(l,d,f,c,g,h,t,e,n){return function(c,p,q,v,x,z,r,B){x=n.setDefaultOptions(x);var b=function(b,a,c,d,e,f){a=parseFloat(b[1].replace(/,([0-9]{3})/g,"$1"));b={title:b[0],details:b[2],value:a,renderedValue:x.valuePrefix+g.renderValue(a)+x.valueSuffix};(f=f.getNamedItem("data-fm-color"))&&""!==f.value&&(b.colorOverride=f.value);return b},A,k=z;"htmlTable"==B&&(k=(new h(z)).mapRows(b),A=z);(function(b){var a=
g.getDataTotal(b),h=n.getOverflowItemCount(b,a);b=n.processOverflowData(b,a,h);var k=n.getMaxTooltipDimensions(r,b),z=n.drawBackground(r,q,v,c,p).addClass("fm-whitespace"),E=d.harmonious(b.length),C=x;"undefined"!=typeof C.useOuterLabels&&("false"===C.useOuterLabels?C.useOuterLabels=!1:"true"===C.useOuterLabels&&(C.useOuterLabels=!0));"undefined"!=typeof C.showInnerLabels&&("false"===C.showInnerLabels?C.showInnerLabels=!1:"true"===C.showInnerLabels&&(C.showInnerLabels=!0));"undefined"!=typeof C.hideKey&&
("false"===C.hideKey?C.hideKey=!1:"true"===C.hideKey&&(C.hideKey=!0));var y={chart:r,colorClasses:E,height:v,layout:{drawRegions:{}},options:C,radius:y,top:p},y,F;q/v>=f.ASPECT_RATIO_BREAKPOINT?(y.orientation="landscape",E=.3*q,C=q-E,F=v,y.layout.drawRegions.keyArea={x:c+q-E,y:p,width:E,height:v},y.layout.drawRegions.pieArea={x:c,y:p,width:C,height:v},E=l.drawKey(b,y)):(y.orientation="portrait",C=E=q,y.layout.drawRegions.keyArea={x:c,y:0,width:E},E=l.drawKey(b,y),F=E.bbox().height,E.move(0,p+v-F),
F=v-F-k.height,y.layout.drawRegions.pieArea={x:c,y:p,width:C,height:F},y.layout.drawRegions.keyArea.height=v-F);k.width>.2*q&&(x.hideKey=!0,x.useOuterLabels=!0);var H=0<h?f.OVERFLOW_OUTER_RADIUS:1;y.radius<f.MIN_RADIUS&&(x.hideKey=!0,x.useOuterLabels=!0);x.hideKey||(y.radius=Math.min(C/2-k.width,F/(2*H)),y.radius<f.MIN_RADIUS&&(x.hideKey=!0,x.useOuterLabels=!0));x.hideKey&&(E.remove(),k=v/(2*H),x.useOuterLabels&&(C=r.text("thequickbrownfoxjumpedoverthelazydog").addClass("fm-externalDetails"),F=C.bbox().height,
C.remove(),k-=F),y.radius=Math.min(q/2,k),y.layout.drawRegions.pieArea={x:c,y:p,width:q,height:v},0==h&&(y.radius*=.9));y.valueScale=t().project((new t).domains.RealNumbers(0,a)).onto((new t).ranges.Angle());b[b.length-1].hasOwnProperty("overflow")?(a=y.valueScale.map(b[b.length-1].value)/2,y.overflowValueScaleStart=-(Math.PI/f.OVERFLOW_SPREAD)-a,y.overflowValueScaleEnd=1*Math.PI/f.OVERFLOW_SPREAD-a,a=g.getDataTotal(b[b.length-1].overflow),y.overflowValueScale=t().project((new t).domains.RealNumbers(0,
a)).onto((new t).ranges.Angle(y.overflowValueScaleStart,y.overflowValueScaleEnd)),a=l.drawOuterSegments(b,y),k=l.drawDashedBracket(y)):(a=r.group(),k=r.group());h=l.drawInnerSegments(b,y);k=e(y,b,h,a,k,E);k.start("Neutral");l.applyMouseEventHandlers(b,y,k,z,h,a,E);"htmlTable"==B&&A.classList.add("fm-hidden")})(k)}});
define("svg-builder",["renderer","svg-js","configuration"],function(l,d,f){function c(c){return c.split("-").map(function(c,d){return 0===d?c:c.charAt(0).toUpperCase()+c.substr(1)}).join("")}function g(c,d){var f=document.createElement("div");f.className="fm-powered-by-factmint";f.innerHTML='Powered by <a style="color: #527a92" href="http://factmint.com/charts">Factmint</a>';f.style.fontSize="8px";f.style.lineHeight="12px";f.style.width=d;f.style.textAlign="center";f.style.fontFamily="Lato, sans-serif";
c.parentNode.insertBefore(f,c.nextSibling)}if(window.addEventListener&&window.document.createEvent){var h=window.document.createEvent("Event");h.initEvent("resizefinished",!1,!1);var t=null;window.addEventListener("resize",function(){clearTimeout(t);return t=setTimeout(function(){window.dispatchEvent(h)},f.DEBOUNCE_TIMEOUT)},!1);return function(e){var h,t="json";1==e.nodeType&&"table"==e.tagName.toLowerCase()&&(h=e,t="htmlTable");var p=function(p){var q=(p="htmlTable"==t?h.getAttribute("data-fm-config"):
e.config)&&window[p]?window[p]:{};p=[];"htmlTable"==t&&(p=[].filter.call(h.attributes,function(a){return"data-fm-config"===a.name?!1:/^data-fm-/.test(a.name)}));p.forEach(function(a){var b=a.name.replace(/^data-fm-/,""),b=c(b);q[b]=a.value});var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.className.baseVal+="fm-unrendered-chart fm-chart";"htmlTable"==t?h.parentNode.insertBefore(r,h):document.body.appendChild(r);var v=/([0-9]+)(px|%|rem|em|ex|ch|vw|vh|vmin|vmax|mm|cm|in|pt|pc)/;
p=function(){var a={};q.width?q.width.replace(v,function(b,c,d){a.value=parseFloat(c);a.units=d}):(a.value=100,a.units="%");return a}();r.style.width=p.value+p.units;var b=function(){var a={};if(q.height)q.height.replace(v,function(b,c,d){a.value=parseFloat(c);a.units=d});else{var b=r.getBoundingClientRect().width/f.ASPECT_RATIO;a.value=Math.min(f.MAX_HEIGHT,b);a.units="px"}return a}();r.style.height=b.value+b.units;var A=r.getBoundingClientRect(),k=A.width,G=A.height;"true"==q.enableSpillover&&(A=
(f.SPILLOVER_LEFT+f.SPILLOVER_RIGHT+k)/k,r.style.height=(f.SPILLOVER_TOP+f.SPILLOVER_BOTTOM+G)/G*b.value+b.units,r.style.width=p.value*A+p.units,r.style.margin="-"+f.SPILLOVER_TOP+"px -"+f.SPILLOVER_RIGHT+"px -"+f.SPILLOVER_BOTTOM+"px -"+f.SPILLOVER_LEFT+"px");A=r.getBoundingClientRect();r.setAttribute("viewBox","0 0 "+(A.right-A.left)+" "+(A.bottom-A.top));b=d(r);r.removeAttribute("width");r.removeAttribute("height");l(q.disableSpillover?0:f.SPILLOVER_LEFT,q.disableSpillover?0:f.SPILLOVER_TOP,k,
G,q,e,b,t);r.className.baseVal=r.className.baseVal.replace("fm-unrendered-chart","");g(r,p.value+p.units);return r},q=p(),v=window.innerWidth;window.addEventListener("resizefinished",function(){var c=window.innerWidth;if(c!=v){q.parentNode.removeChild(q);var d=document.querySelector(".fm-powered-by-factmint");d.parentNode.removeChild(d);q=p();v=c}},!1)}}});
require.config({paths:{classList:"../../node_modules/classList/classList",path:"../../node_modules/paths-js/dist/amd/path","svg-js":"../../node_modules/svg.js/dist/svg.min",center:"../../../../api/etc/center","circle-segment":"../../../../api/inventions/circle-segment",color:"../../../../api/utilities/color","configuration-builder":"../../../../api/utilities/configuration-builder","dashed-bracket":"../../../../api/inventions/dashed-bracket","doughnut-segment":"../../../../api/inventions/doughnut-segment",
flow:"../../../../api/inventions/flow","float":"../../../../api/etc/float","G.unshift":"../../../../api/extensions/G.unshift","G.move":"../../../../api/extensions/G.move",geometry:"../../../../api/utilities/geometry",grid:"../../../../api/etc/grid",key:"../../../../api/components/key",number:"../../../../api/utilities/number",mapper:"../../../../api/utilities/mapper",scale:"../../../../api/utilities/scale",state:"../../../../api/utilities/state","text-area":"../../../../api/components/text-area",
tooltip:"../../../../api/components/tooltip","tooltip-background":"../../../../api/inventions/tooltip-background","two-section-tooltip":"../../../../api/components/two-section-tooltip","two-section-tooltip-background":"../../../../api/inventions/two-section-tooltip-background"}});
require(["svg-builder"],function(l){var d=document.querySelectorAll("table.fm-pie");if(0<d.length)if(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect){var f=document.createElementNS("http://www.w3.org/2000/svg","svg");f.style.width="500px";document.body.appendChild(f);var c=f.getBoundingClientRect();f.parentNode.removeChild(f);if(500===c.width)for(f=0;f<d.length;f++){if(window.factmint&&window.factmint.previewVisualizations||!d[f].hasAttribute("data-fm-rendered")){d[f].setAttribute("data-fm-rendered",
"true");try{l(d[f])}catch(g){console.log("ERROR: chart rendering failed"),g instanceof Error?console.log(g.stack):console.log(g)}}}else console.log("Your browser does not correctly support getBoundingClientRect() for SVG elements: visualizations disabled")}else console.log("SVG not supported: visualizations disabled")});define("main",function(){});
