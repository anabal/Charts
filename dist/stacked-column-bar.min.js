/* stacked-column-bar-chart version 1.0.0; Copyright (c) Factmint Ltd (http://factmint.com); Licensed under the MIT License (http://opensource.org/licenses/MIT); Includes SnapSVG, https://github.com/adobe-webplatform/Snap.svg/blob/master/LICENSE */
/*
 almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/almond for details
*/
'use strict';var requirejs,require,define;
(function(y){function f(d,a){var e,b,c,z,h,n,k,f,B,m=a&&a.split("/"),u=x.map,A=u&&u["*"]||{};if(d&&"."===d.charAt(0))if(a){d=d.split("/");h=d.length-1;x.nodeIdCompat&&r.test(d[h])&&(d[h]=d[h].replace(r,""));d=m.slice(0,m.length-1).concat(d);for(h=0;h<d.length;h+=1)if(e=d[h],"."===e)d.splice(h,1),--h;else if(".."===e)if(1!==h||".."!==d[2]&&".."!==d[0])0<h&&(d.splice(h-1,2),h-=2);else break;d=d.join("/")}else 0===d.indexOf("./")&&(d=d.substring(2));if((m||A)&&u){e=d.split("/");for(h=e.length;0<h;--h){b=
e.slice(0,h).join("/");if(m)for(B=m.length;0<B;--B)if(c=u[m.slice(0,B).join("/")])if(c=c[b]){z=c;n=h;break}if(z)break;!k&&A&&A[b]&&(k=A[b],f=h)}!z&&k&&(z=k,n=f);z&&(e.splice(0,n,z),d=e.join("/"))}return d}function q(d,a){return function(){var e=A.call(arguments,0);"string"!==typeof e[0]&&1===e.length&&e.push(null);return m.apply(y,e.concat([d,a]))}}function w(d){return function(a){return f(a,d)}}function b(d){return function(a){h[d]=a}}function a(d){if(e.call(k,d)){var a=k[d];delete k[d];B[d]=!0;
C.apply(y,a)}if(!e.call(h,d)&&!e.call(B,d))throw Error("No "+d);return h[d]}function p(d){var a,e=d?d.indexOf("!"):-1;-1<e&&(a=d.substring(0,e),d=d.substring(e+1,d.length));return[a,d]}function l(d){return function(){return x&&x.config&&x.config[d]||{}}}var C,m,u,n,h={},k={},x={},B={},e=Object.prototype.hasOwnProperty,A=[].slice,r=/\.js$/;u=function(d,e){var h,b=p(d),c=b[0];d=b[1];c&&(c=f(c,e),h=a(c));c?d=h&&h.normalize?h.normalize(d,w(e)):f(d,e):(d=f(d,e),b=p(d),c=b[0],d=b[1],c&&(h=a(c)));return{f:c?
c+"!"+d:d,n:d,pr:c,p:h}};n={require:function(d){return q(d)},exports:function(d){var a=h[d];return"undefined"!==typeof a?a:h[d]={}},module:function(d){return{id:d,uri:"",exports:h[d],config:l(d)}}};C=function(d,v,f,m){var c,z,r,x,A=[];z=typeof f;var l;m=m||d;if("undefined"===z||"function"===z){v=!v.length&&f.length?["require","exports","module"]:v;for(x=0;x<v.length;x+=1)if(r=u(v[x],m),z=r.f,"require"===z)A[x]=n.require(d);else if("exports"===z)A[x]=n.exports(d),l=!0;else if("module"===z)c=A[x]=n.module(d);
else if(e.call(h,z)||e.call(k,z)||e.call(B,z))A[x]=a(z);else if(r.p)r.p.load(r.n,q(m,!0),b(z),{}),A[x]=h[z];else throw Error(d+" missing "+z);v=f?f.apply(h[d],A):void 0;d&&(c&&c.exports!==y&&c.exports!==h[d]?h[d]=c.exports:v===y&&l||(h[d]=v))}else d&&(h[d]=f)};requirejs=require=m=function(d,e,h,b,c){if("string"===typeof d)return n[d]?n[d](e):a(u(d,e).f);if(!d.splice){x=d;x.deps&&m(x.deps,x.callback);if(!e)return;e.splice?(d=e,e=h,h=null):d=y}e=e||function(){};"function"===typeof h&&(h=b,b=c);b?C(y,
d,e,h):setTimeout(function(){C(y,d,e,h)},4);return m};m.config=function(d){return m(d)};requirejs._defined=h;define=function(d,a,b){if("string"!==typeof d)throw Error("See almond README: incorrect module build, no module name");a.splice||(b=a,a=[]);e.call(h,d)||e.call(k,d)||(k[d]=[d,a,b])};define.amd={jQuery:!0}})();define("almond",function(){});
(function(y){var f=/[\.\/]/,q=/\s*,\s*/,w=function(a,b){return a-b},b,a,p={n:{}},l=function(){for(var a=0,b=this.length;a<b;a++)if("undefined"!=typeof this[a])return this[a]},C=function(){for(var a=this.length;--a;)if("undefined"!=typeof this[a])return this[a]},m=function(f,n){f=String(f);var h=a,k=Array.prototype.slice.call(arguments,2),x=m.listeners(f),B=0,e,A=[],r={},d=[],v=b;d.firstDefined=l;d.lastDefined=C;b=f;for(var E=a=0,p=x.length;E<p;E++)"zIndex"in x[E]&&(A.push(x[E].zIndex),0>x[E].zIndex&&
(r[x[E].zIndex]=x[E]));for(A.sort(w);0>A[B];)if(e=r[A[B++]],d.push(e.apply(n,k)),a)return a=h,d;for(E=0;E<p;E++)if(e=x[E],"zIndex"in e)if(e.zIndex==A[B]){d.push(e.apply(n,k));if(a)break;do if(B++,(e=r[A[B]])&&d.push(e.apply(n,k)),a)break;while(e)}else r[e.zIndex]=e;else if(d.push(e.apply(n,k)),a)break;a=h;b=v;return d};m._events=p;m.listeners=function(a){a=a.split(f);var b=p,h,k,m,B,e,A,r,d=[b],v=[];m=0;for(B=a.length;m<B;m++){r=[];e=0;for(A=d.length;e<A;e++)for(b=d[e].n,h=[b[a[m]],b["*"]],k=2;k--;)if(b=
h[k])r.push(b),v=v.concat(b.f||[]);d=r}return v};m.on=function(a,b){a=String(a);if("function"!=typeof b)return function(){};for(var h=a.split(q),k=0,m=h.length;k<m;k++)(function(a){a=a.split(f);for(var e=p,h,k=0,d=a.length;k<d;k++)e=e.n,e=e.hasOwnProperty(a[k])&&e[a[k]]||(e[a[k]]={n:{}});e.f=e.f||[];k=0;for(d=e.f.length;k<d;k++)if(e.f[k]==b){h=!0;break}!h&&e.f.push(b)})(h[k]);return function(a){+a==+a&&(b.zIndex=+a)}};m.f=function(a){var b=[].slice.call(arguments,1);return function(){m.apply(null,
[a,null].concat(b).concat([].slice.call(arguments,0)))}};m.stop=function(){a=1};m.nt=function(a){return a?(new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)")).test(b):b};m.nts=function(){return b.split(f)};m.off=m.unbind=function(a,b){if(a){var h=a.split(q);if(1<h.length)for(var k=0,x=h.length;k<x;k++)m.off(h[k],b);else{for(var h=a.split(f),B,e,A,r,d=[p],k=0,x=h.length;k<x;k++)for(r=0;r<d.length;r+=A.length-2){A=[r,1];B=d[r].n;if("*"!=h[k])B[h[k]]&&A.push(B[h[k]]);else for(e in B)B.hasOwnProperty(e)&&
A.push(B[e]);d.splice.apply(d,A)}k=0;for(x=d.length;k<x;k++)for(B=d[k];B.n;){if(b){if(B.f){r=0;for(h=B.f.length;r<h;r++)if(B.f[r]==b){B.f.splice(r,1);break}!B.f.length&&delete B.f}for(e in B.n)if(B.n.hasOwnProperty(e)&&B.n[e].f){A=B.n[e].f;r=0;for(h=A.length;r<h;r++)if(A[r]==b){A.splice(r,1);break}!A.length&&delete B.n[e].f}}else for(e in delete B.f,B.n)B.n.hasOwnProperty(e)&&B.n[e].f&&delete B.n[e].f;B=B.n}}}else m._events=p={n:{}}};m.once=function(a,b){var h=function(){m.unbind(a,h);return b.apply(this,
arguments)};return m.on(a,h)};m.version="0.4.2";m.toString=function(){return"You are running Eve 0.4.2"};"undefined"!=typeof module&&module.exports?module.exports=m:"function"===typeof define&&define.amd?define("eve",[],function(){return m}):y.eve=m})(this);
(function(y,f){if("function"==typeof define&&define.amd)define("snap",["eve"],function(q){return f(y,q)});else if("undefined"!=typeof exports){var q=require("eve");module.exports=f(y,q)}else f(y,y.eve)})(window||this,function(y,f){var q=function(b){var a={},f=y.requestAnimationFrame||y.webkitRequestAnimationFrame||y.mozRequestAnimationFrame||y.oRequestAnimationFrame||y.msRequestAnimationFrame||function(d){setTimeout(d,16)},l=Array.isArray||function(d){return d instanceof Array||"[object Array]"==
Object.prototype.toString.call(d)},C=0,m="M"+(+new Date).toString(36),u=function(d){if(null==d)return this.s;var a=this.s-d;this.b+=this.dur*a;this.B+=this.dur*a;this.s=d},n=function(d){if(null==d)return this.spd;this.spd=d},h=function(d){if(null==d)return this.dur;this.s=this.s*d/this.dur;this.dur=d},k=function(){delete a[this.id];this.update();b("mina.stop."+this.id,this)},x=function(){this.pdif||(delete a[this.id],this.update(),this.pdif=this.get()-this.b)},B=function(){this.pdif&&(this.b=this.get()-
this.pdif,delete this.pdif,a[this.id]=this)},e=function(){var d;if(l(this.start)){d=[];for(var a=0,e=this.start.length;a<e;a++)d[a]=+this.start[a]+(this.end[a]-this.start[a])*this.easing(this.s)}else d=+this.start+(this.end-this.start)*this.easing(this.s);this.set(d)},A=function(){var d=0,e;for(e in a)if(a.hasOwnProperty(e)){var h=a[e],k=h.get();d++;h.s=(k-h.b)/(h.dur/h.spd);1<=h.s&&(delete a[e],h.s=1,d--,function(c){setTimeout(function(){b("mina.finish."+c.id,c)})}(h));h.update()}d&&f(A)},r=function(d,
b,l,D,c,z,F){d={id:m+(C++).toString(36),start:d,end:b,b:l,s:0,dur:D-l,spd:1,get:c,set:z,easing:F||r.linear,status:u,speed:n,duration:h,stop:k,pause:x,resume:B,update:e};a[d.id]=d;b=0;for(var N in a)if(a.hasOwnProperty(N)&&(b++,2==b))break;1==b&&f(A);return d};r.time=Date.now||function(){return+new Date};r.getById=function(d){return a[d]||null};r.linear=function(d){return d};r.easeout=function(d){return Math.pow(d,1.7)};r.easein=function(d){return Math.pow(d,.48)};r.easeinout=function(d){if(1==d)return 1;
if(0==d)return 0;var a=.48-d/1.04,e=Math.sqrt(.1734+a*a);d=e-a;a=-e-a;d=Math.pow(Math.abs(d),1/3)*(0>d?-1:1)+Math.pow(Math.abs(a),1/3)*(0>a?-1:1)+.5;return 3*(1-d)*d*d+d*d*d};r.backin=function(d){return 1==d?1:d*d*(2.70158*d-1.70158)};r.backout=function(d){if(0==d)return 0;--d;return d*d*(2.70158*d+1.70158)+1};r.elastic=function(d){return d==!!d?d:Math.pow(2,-10*d)*Math.sin(2*(d-.075)*Math.PI/.3)+1};r.bounce=function(d){d<1/2.75?d*=7.5625*d:d<2/2.75?(d-=1.5/2.75,d=7.5625*d*d+.75):d<2.5/2.75?(d-=2.25/
2.75,d=7.5625*d*d+.9375):(d-=2.625/2.75,d=7.5625*d*d+.984375);return d};return y.mina=r}("undefined"==typeof f?function(){}:f),w=function(b){function a(t,c){if(t){if(t.nodeType)return r(t);if(l(t,"array")&&a.set)return a.set.apply(a,t);if(t instanceof x)return t;if(null==c)return t=v.doc.querySelector(String(t)),r(t)}return new A(null==t?"100%":t,null==c?"100%":c)}function p(t,c){if(c){"#text"==t&&(t=v.doc.createTextNode(c.text||c["#text"]||""));"#comment"==t&&(t=v.doc.createComment(c.text||c["#text"]||
""));"string"==typeof t&&(t=p(t));if("string"==typeof c)return 1==t.nodeType?"xlink:"==c.substring(0,6)?t.getAttributeNS(W,c.substring(6)):"xml:"==c.substring(0,4)?t.getAttributeNS(S,c.substring(4)):t.getAttribute(c):"text"==c?t.nodeValue:null;if(1==t.nodeType)for(var d in c){if(c[E](d)){var a=D(c[d]);a?"xlink:"==d.substring(0,6)?t.setAttributeNS(W,d.substring(6),a):"xml:"==d.substring(0,4)?t.setAttributeNS(S,d.substring(4),a):t.setAttribute(d,a):t.removeAttribute(d)}}else"text"in c&&(t.nodeValue=
c.text)}else t=v.doc.createElementNS(S,t);return t}function l(t,c){c=D.prototype.toLowerCase.call(c);return"finite"==c?isFinite(t):"array"==c&&(t instanceof Array||Array.isArray&&Array.isArray(t))?!0:"null"==c&&null===t||c==typeof t&&null!==t||"object"==c&&t===Object(t)||U.call(t).slice(8,-1).toLowerCase()==c}function C(t){if("function"==typeof t||Object(t)!==t)return t;var c=new t.constructor,d;for(d in t)t[E](d)&&(c[d]=C(t[d]));return c}function m(t,c,d){function a(){var e=Array.prototype.slice.call(arguments,
0),b=e.join("\u2400"),h=a.cache=a.cache||{},z=a.count=a.count||[];if(h[E](b)){a:for(var e=z,z=b,k=0,f=e.length;k<f;k++)if(e[k]===z){e.push(e.splice(k,1)[0]);break a}return d?d(h[b]):h[b]}1E3<=z.length&&delete h[z.shift()];z.push(b);h[b]=t.apply(c,e);return d?d(h[b]):h[b]}return a}function u(t,c,d,a,e,b){return null==e?(t-=d,c-=a,t||c?(180*F.atan2(-c,-t)/y+540)%360:0):u(t,c,e,b)-u(d,a,e,b)}function n(t){return t%360*y/180}function h(t){return t.node.ownerSVGElement&&r(t.node.ownerSVGElement)||a.select("svg")}
function k(t){l(t,"array")||(t=Array.prototype.slice.call(arguments,0));for(var c=0,d=0,a=this.node;this[c];)delete this[c++];for(c=0;c<t.length;c++)"set"==t[c].type?t[c].forEach(function(t){a.appendChild(t.node)}):a.appendChild(t[c].node);for(var e=a.childNodes,c=0;c<e.length;c++)this[d++]=r(e[c]);return this}function x(t){if(t.snap in O)return O[t.snap];var c;try{c=t.ownerSVGElement}catch(d){}this.node=t;c&&(this.paper=new A(c));this.type=t.tagName||t.nodeName;c=this.id=T(this);this.anims={};this._=
{transform:[]};t.snap=c;O[c]=this;"g"==this.type&&(this.add=k);if(this.type in{g:1,mask:1,pattern:1,symbol:1})for(var a in A.prototype)A.prototype[E](a)&&(this[a]=A.prototype[a])}function B(t){this.node=t}function e(t,c){var d=p(t);c.appendChild(d);return r(d)}function A(t,c){var d,a,b,h=A.prototype;if(t&&"svg"==t.tagName){if(t.snap in O)return O[t.snap];var z=t.ownerDocument;d=new x(t);a=t.getElementsByTagName("desc")[0];b=t.getElementsByTagName("defs")[0];a||(a=p("desc"),a.appendChild(z.createTextNode("Created with Snap")),
d.node.appendChild(a));b||(b=p("defs"),d.node.appendChild(b));d.defs=b;for(var k in h)h[E](k)&&(d[k]=h[k]);d.paper=d.root=d}else d=e("svg",v.doc.body),p(d.node,{height:c,version:1.1,width:t,xmlns:S});return d}function r(t){return!t||t instanceof x||t instanceof B?t:t.tagName&&"svg"==t.tagName.toLowerCase()?new A(t):t.tagName&&"object"==t.tagName.toLowerCase()&&"image/svg+xml"==t.type?new A(t.contentDocument.getElementsByTagName("svg")[0]):new x(t)}function d(t,c){for(var a=0,e=t.length;a<e;a++){var b=
{type:t[a].type,attr:t[a].attr()},h=t[a].children();c.push(b);h.length&&d(h,b.childNodes=[])}}a.version="0.4.0";a.toString=function(){return"Snap v"+this.version};a._={};var v={win:b.window,doc:b.window.document};a._.glob=v;var E="hasOwnProperty",D=String,c=parseFloat,z=parseInt,F=Math,N=F.max,q=F.min,w=F.abs,y=F.PI,U=Object.prototype.toString,I=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i;
a._.separator=/[,\s]+/;var H=/[\s]*,[\s]*/,L={hs:1,rg:1},G=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/ig,J=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/ig,Q=/(-?\d*\.?\d*(?:e[\-+]?\\d+)?)[\s]*,?[\s]*/ig,P=0,X="S"+(+new Date).toString(36),T=function(t){return(t&&t.type?t.type:"")+X+(P++).toString(36)},W="http://www.w3.org/1999/xlink",S="http://www.w3.org/2000/svg",O={};a.url=function(t){return"url('#"+t+"')"};a._.$=p;a._.id=T;a.format=function(){var t=/\{([^\}]+)\}/g,c=
/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,d=function(t,d,a){var e=a;d.replace(c,function(t,c,d,a,b){c=c||a;e&&(c in e&&(e=e[c]),"function"==typeof e&&b&&(e=e()))});return e=(null==e||e==a?t:e)+""};return function(c,a){return D(c).replace(t,function(t,c){return d(t,c,a)})}}();a._.clone=C;a._.cacher=m;a.rad=n;a.deg=function(t){return 180*t/y%360};a.sin=function(t){return F.sin(a.rad(t))};a.tan=function(t){return F.tan(a.rad(t))};a.cos=function(t){return F.cos(a.rad(t))};a.asin=function(t){return a.deg(F.asin(t))};
a.acos=function(t){return a.deg(F.acos(t))};a.atan=function(t){return a.deg(F.atan(t))};a.atan2=function(t){return a.deg(F.atan2(t))};a.angle=u;a.len=function(t,c,d,e){return Math.sqrt(a.len2(t,c,d,e))};a.len2=function(t,c,d,a){return(t-d)*(t-d)+(c-a)*(c-a)};a.closestPoint=function(t,c,d){function a(t){var e=t.x-c;t=t.y-d;return e*e+t*t}t=t.node;for(var e=t.getTotalLength(),b=e/t.pathSegList.numberOfItems*.125,h,z,k=Infinity,f,n=0,M;n<=e;n+=b)(M=a(f=t.getPointAtLength(n)))<k&&(h=f,z=n,k=M);for(b*=
.5;.5<b;){var m,v,B,x,r,A;0<=(B=z-b)&&(r=a(m=t.getPointAtLength(B)))<k?(h=m,z=B,k=r):(x=z+b)<=e&&(A=a(v=t.getPointAtLength(x)))<k?(h=v,z=x,k=A):b*=.5}return h={x:h.x,y:h.y,length:z,distance:Math.sqrt(k)}};a.is=l;a.snapTo=function(t,c,d){d=l(d,"finite")?d:10;if(l(t,"array"))for(var a=t.length;a--;){if(w(t[a]-c)<=d)return t[a]}else{t=+t;a=c%t;if(a<d)return c-a;if(a>t-d)return c-a+t}return c};a.getRGB=m(function(t){if(!t||(t=D(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ga};
if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:ga};!L[E](t.toLowerCase().substring(0,2))&&"#"!=t.charAt()&&(t=M(t));if(!t)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ga};var d,e,b,h,k;if(t=t.match(I)){t[2]&&(b=z(t[2].substring(5),16),e=z(t[2].substring(3,5),16),d=z(t[2].substring(1,3),16));t[3]&&(b=z((k=t[3].charAt(3))+k,16),e=z((k=t[3].charAt(2))+k,16),d=z((k=t[3].charAt(1))+k,16));t[4]&&(k=t[4].split(H),d=c(k[0]),"%"==k[0].slice(-1)&&(d*=2.55),e=c(k[1]),"%"==k[1].slice(-1)&&(e*=2.55),
b=c(k[2]),"%"==k[2].slice(-1)&&(b*=2.55),"rgba"==t[1].toLowerCase().slice(0,4)&&(h=c(k[3])),k[3]&&"%"==k[3].slice(-1)&&(h/=100));if(t[5])return k=t[5].split(H),d=c(k[0]),"%"==k[0].slice(-1)&&(d/=100),e=c(k[1]),"%"==k[1].slice(-1)&&(e/=100),b=c(k[2]),"%"==k[2].slice(-1)&&(b/=100),"deg"!=k[0].slice(-3)&&"\u00b0"!=k[0].slice(-1)||(d/=360),"hsba"==t[1].toLowerCase().slice(0,4)&&(h=c(k[3])),k[3]&&"%"==k[3].slice(-1)&&(h/=100),a.hsb2rgb(d,e,b,h);if(t[6])return k=t[6].split(H),d=c(k[0]),"%"==k[0].slice(-1)&&
(d/=100),e=c(k[1]),"%"==k[1].slice(-1)&&(e/=100),b=c(k[2]),"%"==k[2].slice(-1)&&(b/=100),"deg"!=k[0].slice(-3)&&"\u00b0"!=k[0].slice(-1)||(d/=360),"hsla"==t[1].toLowerCase().slice(0,4)&&(h=c(k[3])),k[3]&&"%"==k[3].slice(-1)&&(h/=100),a.hsl2rgb(d,e,b,h);d=q(F.round(d),255);e=q(F.round(e),255);b=q(F.round(b),255);h=q(N(h,0),1);t={r:d,g:e,b:b,toString:ga};t.hex="#"+(16777216|b|e<<8|d<<16).toString(16).slice(1);t.opacity=l(h,"finite")?h:1;return t}return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ga}},
a);a.hsb=m(function(t,c,d){return a.hsb2rgb(t,c,d).hex});a.hsl=m(function(t,c,d){return a.hsl2rgb(t,c,d).hex});a.rgb=m(function(t,c,d,a){if(l(a,"finite")){var e=F.round;return"rgba("+[e(t),e(c),e(d),+a.toFixed(2)]+")"}return"#"+(16777216|d|c<<8|t<<16).toString(16).slice(1)});var M=function(c){var d=v.doc.getElementsByTagName("head")[0]||v.doc.getElementsByTagName("svg")[0];M=m(function(c){if("red"==c.toLowerCase())return"rgb(255, 0, 0)";d.style.color="rgb(255, 0, 0)";d.style.color=c;c=v.doc.defaultView.getComputedStyle(d,
"").getPropertyValue("color");return"rgb(255, 0, 0)"==c?null:c});return M(c)},na=function(){return"hsb("+[this.h,this.s,this.b]+")"},oa=function(){return"hsl("+[this.h,this.s,this.l]+")"},ga=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},ka=function(c,d,e){null==d&&l(c,"object")&&"r"in c&&"g"in c&&"b"in c&&(e=c.b,d=c.g,c=c.r);null==d&&l(c,string)&&(e=a.getRGB(c),c=e.r,d=e.g,e=e.b);if(1<c||1<d||1<e)c/=255,d/=255,e/=255;return[c,d,e]},
la=function(c,d,e,b){c=F.round(255*c);d=F.round(255*d);e=F.round(255*e);c={r:c,g:d,b:e,opacity:l(b,"finite")?b:1,hex:a.rgb(c,d,e),toString:ga};l(b,"finite")&&(c.opacity=b);return c};a.color=function(c){var d;l(c,"object")&&"h"in c&&"s"in c&&"b"in c?(d=a.hsb2rgb(c),c.r=d.r,c.g=d.g,c.b=d.b,c.opacity=1,c.hex=d.hex):l(c,"object")&&"h"in c&&"s"in c&&"l"in c?(d=a.hsl2rgb(c),c.r=d.r,c.g=d.g,c.b=d.b,c.opacity=1,c.hex=d.hex):(l(c,"string")&&(c=a.getRGB(c)),l(c,"object")&&"r"in c&&"g"in c&&"b"in c&&!("error"in
c)?(d=a.rgb2hsl(c),c.h=d.h,c.s=d.s,c.l=d.l,d=a.rgb2hsb(c),c.v=d.b):(c={hex:"none"},c.r=c.g=c.b=c.h=c.s=c.v=c.l=-1,c.error=1));c.toString=ga;return c};a.hsb2rgb=function(c,d,a,e){l(c,"object")&&"h"in c&&"s"in c&&"b"in c&&(a=c.b,d=c.s,e=c.o,c=c.h);var b,h,k;c=360*c%360/60;k=a*d;d=k*(1-w(c%2-1));a=b=h=a-k;c=~~c;a+=[k,d,0,0,d,k][c];b+=[d,k,k,d,0,0][c];h+=[0,0,d,k,k,d][c];return la(a,b,h,e)};a.hsl2rgb=function(c,d,a,e){l(c,"object")&&"h"in c&&"s"in c&&"l"in c&&(a=c.l,d=c.s,c=c.h);if(1<c||1<d||1<a)c/=360,
d/=100,a/=100;var b,h,k;c=360*c%360/60;k=2*d*(.5>a?a:1-a);d=k*(1-w(c%2-1));a=b=h=a-k/2;c=~~c;a+=[k,d,0,0,d,k][c];b+=[d,k,k,d,0,0][c];h+=[0,0,d,k,k,d][c];return la(a,b,h,e)};a.rgb2hsb=function(c,d,a){a=ka(c,d,a);c=a[0];d=a[1];a=a[2];var e,b;e=N(c,d,a);b=e-q(c,d,a);c=((0==b?null:e==c?(d-a)/b:e==d?(a-c)/b+2:(c-d)/b+4)+360)%6*60/360;return{h:c,s:0==b?0:b/e,b:e,toString:na}};a.rgb2hsl=function(c,d,a){a=ka(c,d,a);c=a[0];d=a[1];a=a[2];var e,b,h;e=N(c,d,a);b=q(c,d,a);h=e-b;c=((0==h?null:e==c?(d-a)/h:e==d?
(a-c)/h+2:(c-d)/h+4)+360)%6*60/360;e=(e+b)/2;return{h:c,s:0==h?0:.5>e?h/(2*e):h/(2-2*e),l:e,toString:oa}};a.parsePathString=function(c){if(!c)return null;var d=a.path(c);if(d.arr)return a.path.clone(d.arr);var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},b=[];l(c,"array")&&l(c[0],"array")&&(b=a.path.clone(c));b.length||D(c).replace(G,function(c,d,a){var h=[];c=d.toLowerCase();a.replace(Q,function(c,d){d&&h.push(+d)});"m"==c&&2<h.length&&(b.push([d].concat(h.splice(0,2))),c="l",d="m"==d?
"l":"L");"o"==c&&1==h.length&&b.push([d,h[0]]);if("r"==c)b.push([d].concat(h));else for(;h.length>=e[c]&&(b.push([d].concat(h.splice(0,e[c]))),e[c]););});b.toString=a.path.toString;d.arr=a.path.clone(b);return b};var pa=a.parseTransformString=function(c){if(!c)return null;var d=[];l(c,"array")&&l(c[0],"array")&&(d=a.path.clone(c));d.length||D(c).replace(J,function(c,a,e){var b=[];a.toLowerCase();e.replace(Q,function(c,d){d&&b.push(+d)});d.push([a].concat(b))});d.toString=a.path.toString;return d};
a._.svgTransform2string=function(c){var d=[];c=c.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(c,a,e){e=e.split(/\s*,\s*|\s+/);"rotate"==a&&1==e.length&&e.push(0,0);"scale"==a&&(2<e.length?e=e.slice(0,2):2==e.length&&e.push(0,0),1==e.length&&e.push(e[0],0,0));"skewX"==a?d.push(["m",1,0,F.tan(n(e[0])),1,0,0]):"skewY"==a?d.push(["m",1,F.tan(n(e[0])),0,1,0,0]):d.push([a.charAt(0)].concat(e));return c});return d};a._.rgTransform=/^[a-z][\s]*-?\.?\d/i;a._.transform2matrix=function(c,d){var e=pa(c),b=new a.Matrix;
if(e)for(var h=0,k=e.length;h<k;h++){var z=e[h],f=z.length,n=D(z[0]).toLowerCase(),M=z[0]!=n,m=M?b.invert():0,v;"t"==n&&2==f?b.translate(z[1],0):"t"==n&&3==f?M?(f=m.x(0,0),n=m.y(0,0),M=m.x(z[1],z[2]),m=m.y(z[1],z[2]),b.translate(M-f,m-n)):b.translate(z[1],z[2]):"r"==n?2==f?(v=v||d,b.rotate(z[1],v.x+v.width/2,v.y+v.height/2)):4==f&&(M?(M=m.x(z[2],z[3]),m=m.y(z[2],z[3]),b.rotate(z[1],M,m)):b.rotate(z[1],z[2],z[3])):"s"==n?2==f||3==f?(v=v||d,b.scale(z[1],z[f-1],v.x+v.width/2,v.y+v.height/2)):4==f?M?
(M=m.x(z[2],z[3]),m=m.y(z[2],z[3]),b.scale(z[1],z[1],M,m)):b.scale(z[1],z[1],z[2],z[3]):5==f&&(M?(M=m.x(z[3],z[4]),m=m.y(z[3],z[4]),b.scale(z[1],z[2],M,m)):b.scale(z[1],z[2],z[3],z[4])):"m"==n&&7==f&&b.add(z[1],z[2],z[3],z[4],z[5],z[6])}return b};a._unit2px=function(c,d,a){function e(c){if(null==c)return"";if(c==+c)return c;p(n,{width:c});try{return n.getBBox().width}catch(d){return 0}}function b(c){if(null==c)return"";if(c==+c)return c;p(n,{height:c});try{return n.getBBox().height}catch(d){return 0}}
function z(e,b){null==d?f[e]=b(c.attr(e)||0):e==d&&(f=b(null==a?c.attr(e)||0:a))}var k=h(c).node,f={},n=k.querySelector(".svg---mgr");n||(n=p("rect"),p(n,{x:-9E9,y:-9E9,width:10,height:10,"class":"svg---mgr",fill:"none"}),k.appendChild(n));switch(c.type){case "rect":z("rx",e),z("ry",b);case "image":z("width",e),z("height",b);case "text":z("x",e);z("y",b);break;case "circle":z("cx",e);z("cy",b);z("r",e);break;case "ellipse":z("cx",e);z("cy",b);z("rx",e);z("ry",b);break;case "line":z("x1",e);z("x2",
e);z("y1",b);z("y2",b);break;case "marker":z("refX",e);z("markerWidth",e);z("refY",b);z("markerHeight",b);break;case "radialGradient":z("fx",e);z("fy",b);break;case "tspan":z("dx",e);z("dy",b);break;default:z(d,e)}k.removeChild(n);return f};a._.getSomeDefs=function(c){c=c.node.ownerSVGElement&&r(c.node.ownerSVGElement)||c.node.parentNode&&r(c.node.parentNode)||a.select("svg")||a(0,0);var d=c.select("defs"),d=null==d?!1:d.node;d||(d=e("defs",c.node).node);return d};a._.getSomeSVG=h;a.select=function(c){c=
D(c).replace(/([^\\]):/g,"$1\\:");return r(v.doc.querySelector(c))};a.selectAll=function(c){c=v.doc.querySelectorAll(c);for(var d=(a.set||Array)(),e=0;e<c.length;e++)d.push(r(c[e]));return d};setInterval(function(){for(var c in O)if(O[E](c)){var d=O[c],a=d.node;("svg"!=d.type&&!a.ownerSVGElement||"svg"==d.type&&(!a.parentNode||"ownerSVGElement"in a.parentNode&&!a.ownerSVGElement))&&delete O[c]}},1E4);x.prototype.attr=function(c,d){var a=this.node;if(!c){if(1!=a.nodeType)return{text:a.nodeValue};for(var e=
a.attributes,a={},b=0,h=e.length;b<h;b++)a[e[b].nodeName]=e[b].nodeValue;return a}if(l(c,"string"))if(1<arguments.length)a={},a[c]=d,c=a;else return f("snap.util.getattr."+c,this).firstDefined();for(e in c)c[E](e)&&f("snap.util.attr."+e,this,c[e]);return this};a.parse=function(c){var d=v.doc.createDocumentFragment(),a=!0,e=v.doc.createElement("div");c=D(c);c.match(/^\s*<\s*svg(?:\s|>)/)||(c="<svg>"+c+"</svg>",a=!1);e.innerHTML=c;if(c=e.getElementsByTagName("svg")[0])if(a)d=c;else for(;c.firstChild;)d.appendChild(c.firstChild);
return new B(d)};a.fragment=function(){for(var c=Array.prototype.slice.call(arguments,0),d=v.doc.createDocumentFragment(),e=0,b=c.length;e<b;e++){var h=c[e];h.node&&h.node.nodeType&&d.appendChild(h.node);h.nodeType&&d.appendChild(h);"string"==typeof h&&d.appendChild(a.parse(h).node)}return new B(d)};a._.make=e;a._.wrap=r;A.prototype.el=function(c,d){var a=e(c,this.node);d&&a.attr(d);return a};x.prototype.children=function(){for(var c=[],d=this.node.childNodes,e=0,b=d.length;e<b;e++)c[e]=a(d[e]);return c};
x.prototype.toJSON=function(){var c=[];d([this],c);return c[0]};f.on("snap.util.getattr",function(){var c=f.nt(),c=c.substring(c.lastIndexOf(".")+1),d=c.replace(/[A-Z]/g,function(c){return"-"+c.toLowerCase()});return ma[E](d)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(d):p(this.node,c)});var ma={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,
cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,
"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};f.on("snap.util.attr",function(c){var d=f.nt(),a={},d=d.substring(d.lastIndexOf(".")+1);a[d]=c;var e=d.replace(/-(\w)/gi,function(c,d){return d.toUpperCase()}),d=d.replace(/[A-Z]/g,
function(c){return"-"+c.toLowerCase()});ma[E](d)?this.node.style[e]=null==c?"":c:p(this.node,a)});a.ajax=function(c,d,a,e){var b=new XMLHttpRequest,h=T();if(b){if(l(d,"function"))e=a,a=d,d=null;else if(l(d,"object")){var z=[],k;for(k in d)d.hasOwnProperty(k)&&z.push(encodeURIComponent(k)+"="+encodeURIComponent(d[k]));d=z.join("&")}b.open(d?"POST":"GET",c,!0);d&&(b.setRequestHeader("X-Requested-With","XMLHttpRequest"),b.setRequestHeader("Content-type","application/x-www-form-urlencoded"));a&&(f.once("snap.ajax."+
h+".0",a),f.once("snap.ajax."+h+".200",a),f.once("snap.ajax."+h+".304",a));b.onreadystatechange=function(){4==b.readyState&&f("snap.ajax."+h+"."+b.status,e,b)};if(4==b.readyState)return b;b.send(d);return b}};a.load=function(c,d,e){a.ajax(c,function(c){c=a.parse(c.responseText);e?d.call(e,c):d(c)})};a.getElementByPoint=function(c,d){var a,e,b=v.doc.elementFromPoint(c,d);if(v.win.opera&&"svg"==b.tagName){a=b;e=a.getBoundingClientRect();a=a.ownerDocument;var h=a.body,z=a.documentElement;a=e.top+(g.win.pageYOffset||
z.scrollTop||h.scrollTop)-(z.clientTop||h.clientTop||0);e=e.left+(g.win.pageXOffset||z.scrollLeft||h.scrollLeft)-(z.clientLeft||h.clientLeft||0);h=b.createSVGRect();h.x=c-e;h.y=d-a;h.width=h.height=1;a=b.getIntersectionList(h,null);a.length&&(b=a[a.length-1])}return b?r(b):null};a.plugin=function(c){c(a,x,A,v,B)};return v.win.Snap=a}(y||this);w.plugin(function(b,a,p,l,C){function m(c,d){if(null==d){var a=!0;d="linearGradient"==c.type||"radialGradient"==c.type?c.node.getAttribute("gradientTransform"):
"pattern"==c.type?c.node.getAttribute("patternTransform"):c.node.getAttribute("transform");if(!d)return new b.Matrix;d=b._.svgTransform2string(d)}else d=b._.rgTransform.test(d)?x(d).replace(/\.{3}|\u2026/g,c._.transform||""):b._.svgTransform2string(d),k(d,"array")&&(d=b.path?b.path.toString.call(d):x(d)),c._.transform=d;var e=b._.transform2matrix(d,c.getBBox(1));if(a)return e;c.matrix=e}function u(c){function d(c,a){var b=e(c.node,a);(b=(b=b&&b.match(k))&&b[2])&&"#"==b.charAt()&&(b=b.substring(1))&&
(f[b]=(f[b]||[]).concat(function(d){var b={};b[a]=URL(d);e(c.node,b)}))}function a(c){var d=e(c.node,"xlink:href");d&&"#"==d.charAt()&&(d=d.substring(1))&&(f[d]=(f[d]||[]).concat(function(d){c.attr("xlink:href","#"+d)}))}var b=c.selectAll("*"),h,k=/^\s*url\(("|'|)(.*)\1\)\s*$/;c=[];for(var f={},n=0,m=b.length;n<m;n++){h=b[n];d(h,"fill");d(h,"stroke");d(h,"filter");d(h,"mask");d(h,"clip-path");a(h);var v=e(h.node,"id");v&&(e(h.node,{id:h.id}),c.push({old:v,id:h.id}))}n=0;for(m=c.length;n<m;n++)if(b=
f[c[n].old])for(h=0,v=b.length;h<v;h++)b[h](c[n].id)}function n(c,d,a){return function(e){e=e.slice(c,d);1==e.length&&(e=e[0]);return a?a(e):e}}function h(c){return function(){var a=c?"<"+this.type:"",e=this.node.attributes,b=this.node.childNodes;if(c)for(var h=0,k=e.length;h<k;h++)a+=" "+e[h].name+'="'+e[h].value.replace(/"/g,'\\"')+'"';if(b.length){c&&(a+=">");h=0;for(k=b.length;h<k;h++)3==b[h].nodeType?a+=b[h].nodeValue:1==b[h].nodeType&&(a+=d(b[h]).toString());c&&(a+="</"+this.type+">")}else c&&
(a+="/>");return a}}a=a.prototype;var k=b.is,x=String,B=b._unit2px,e=b._.$,A=b._.make,r=b._.getSomeDefs,d=b._.wrap;a.getBBox=function(c){if(!b.Matrix||!b.path)return this.node.getBBox();var d=this,a=new b.Matrix;if(d.removed)return b._.box();for(;"use"==d.type;)if(c||(a=a.add(d.transform().localMatrix.translate(d.attr("x")||0,d.attr("y")||0))),d.original)d=d.original;else var e=d.attr("xlink:href"),d=d.original=d.node.ownerDocument.getElementById(e.substring(e.indexOf("#")+1));var e=d._,h=b.path.get[d.type]||
b.path.get.deflt;try{if(c)return e.bboxwt=h?b.path.getBBox(d.realPath=h(d)):b._.box(d.node.getBBox()),b._.box(e.bboxwt);d.realPath=h(d);d.matrix=d.transform().localMatrix;e.bbox=b.path.getBBox(b.path.map(d.realPath,a.add(d.matrix)));return b._.box(e.bbox)}catch(k){return b._.box()}};var v=function(){return this.string};a.transform=function(c){var d=this._;if(null==c){var a=this;c=new b.Matrix(this.node.getCTM());for(var h=m(this),k=[h],f=new b.Matrix,n=h.toTransformString(),d=x(h)==x(this.matrix)?
x(d.transform):n;"svg"!=a.type&&(a=a.parent());)k.push(m(a));for(a=k.length;a--;)f.add(k[a]);return{string:d,globalMatrix:c,totalMatrix:f,localMatrix:h,diffMatrix:c.clone().add(h.invert()),global:c.toTransformString(),total:f.toTransformString(),local:n,toString:v}}c instanceof b.Matrix?(this.matrix=c,this._.transform=c.toTransformString()):m(this,c);this.node&&("linearGradient"==this.type||"radialGradient"==this.type?e(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?e(this.node,{patternTransform:this.matrix}):
e(this.node,{transform:this.matrix}));return this};a.parent=function(){return d(this.node.parentNode)};a.append=a.add=function(c){if(c){if("set"==c.type){var a=this;c.forEach(function(c){a.add(c)});return this}c=d(c);this.node.appendChild(c.node);c.paper=this.paper}return this};a.appendTo=function(c){c&&(c=d(c),c.append(this));return this};a.prepend=function(c){if(c){if("set"==c.type){var a=this,e;c.forEach(function(c){e?e.after(c):a.prepend(c);e=c});return this}c=d(c);var b=c.parent();this.node.insertBefore(c.node,
this.node.firstChild);this.add&&this.add();c.paper=this.paper;this.parent()&&this.parent().add();b&&b.add()}return this};a.prependTo=function(c){c=d(c);c.prepend(this);return this};a.before=function(c){if("set"==c.type){var a=this;c.forEach(function(c){var d=c.parent();a.node.parentNode.insertBefore(c.node,a.node);d&&d.add()});this.parent().add();return this}c=d(c);var e=c.parent();this.node.parentNode.insertBefore(c.node,this.node);this.parent()&&this.parent().add();e&&e.add();c.paper=this.paper;
return this};a.after=function(c){c=d(c);var a=c.parent();this.node.nextSibling?this.node.parentNode.insertBefore(c.node,this.node.nextSibling):this.node.parentNode.appendChild(c.node);this.parent()&&this.parent().add();a&&a.add();c.paper=this.paper;return this};a.insertBefore=function(c){c=d(c);var a=this.parent();c.node.parentNode.insertBefore(this.node,c.node);this.paper=c.paper;a&&a.add();c.parent()&&c.parent().add();return this};a.insertAfter=function(c){c=d(c);var a=this.parent();c.node.parentNode.insertBefore(this.node,
c.node.nextSibling);this.paper=c.paper;a&&a.add();c.parent()&&c.parent().add();return this};a.remove=function(){var c=this.parent();this.node.parentNode&&this.node.parentNode.removeChild(this.node);delete this.paper;this.removed=!0;c&&c.add();return this};a.select=function(c){return d(this.node.querySelector(c))};a.selectAll=function(c){c=this.node.querySelectorAll(c);for(var a=(b.set||Array)(),e=0;e<c.length;e++)a.push(d(c[e]));return a};a.asPX=function(c,d){null==d&&(d=this.attr(c));return+B(this,
c,d)};a.use=function(){var c,d=this.node.id;d||(d=this.id,e(this.node,{id:d}));c="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?A(this.type,this.node.parentNode):A("use",this.node.parentNode);e(c.node,{"xlink:href":"#"+d});c.original=this;return c};a.clone=function(){var c=d(this.node.cloneNode(!0));e(c.node,"id")&&e(c.node,{id:c.id});u(c);c.insertAfter(this);return c};a.toDefs=function(){r(this).appendChild(this.node);return this};a.pattern=a.toPattern=function(c,
d,a,b){var h=A("pattern",r(this));null==c&&(c=this.getBBox());k(c,"object")&&"x"in c&&(d=c.y,a=c.width,b=c.height,c=c.x);e(h.node,{x:c,y:d,width:a,height:b,patternUnits:"userSpaceOnUse",id:h.id,viewBox:[c,d,a,b].join(" ")});h.node.appendChild(this.node);return h};a.marker=function(c,d,a,b,h,f){var n=A("marker",r(this));null==c&&(c=this.getBBox());k(c,"object")&&"x"in c&&(d=c.y,a=c.width,b=c.height,h=c.refX||c.cx,f=c.refY||c.cy,c=c.x);e(n.node,{viewBox:[c,d,a,b].join(" "),markerWidth:a,markerHeight:b,
orient:"auto",refX:h||0,refY:f||0,id:n.id});n.node.appendChild(this.node);return n};var E=function(c,d,a,e){"function"!=typeof a||a.length||(e=a,a=q.linear);this.attr=c;this.dur=d;a&&(this.easing=a);e&&(this.callback=e)};b._.Animation=E;b.animation=function(c,d,a,e){return new E(c,d,a,e)};a.inAnim=function(){var c=[],d;for(d in this.anims)this.anims.hasOwnProperty(d)&&function(d){c.push({anim:new E(d._attrs,d.dur,d.easing,d._callback),mina:d,curStatus:d.status(),status:function(c){return d.status(c)},
stop:function(){d.stop()}})}(this.anims[d]);return c};b.animate=function(c,d,a,e,b,h){"function"!=typeof b||b.length||(h=b,b=q.linear);var k=q.time();c=q(c,d,k,k+e,q.time,a,b);h&&f.once("mina.finish."+c.id,h);return c};a.stop=function(){for(var c=this.inAnim(),d=0,a=c.length;d<a;d++)c[d].stop();return this};a.animate=function(c,d,a,e){"function"!=typeof a||a.length||(e=a,a=q.linear);c instanceof E&&(e=c.callback,a=c.easing,d=c.dur,c=c.attr);var b=[],h=[],m={},v,B,r,A=this,u;for(u in c)if(c.hasOwnProperty(u)){A.equal?
(r=A.equal(u,x(c[u])),v=r.from,B=r.to,r=r.f):(v=+A.attr(u),B=+c[u]);var l=k(v,"array")?v.length:1;m[u]=n(b.length,b.length+l,r);b=b.concat(v);h=h.concat(B)}v=q.time();var p=q(b,h,v,v+d,q.time,function(c){var d={},a;for(a in m)m.hasOwnProperty(a)&&(d[a]=m[a](c));A.attr(d)},a);A.anims[p.id]=p;p._attrs=c;p._callback=e;f("snap.animcreated."+A.id,p);f.once("mina.finish."+p.id,function(){delete A.anims[p.id];e&&e.call(A)});f.once("mina.stop."+p.id,function(){delete A.anims[p.id]});return A};var D={};a.data=
function(c,d){var a=D[this.id]=D[this.id]||{};if(0==arguments.length)return f("snap.data.get."+this.id,this,a,null),a;if(1==arguments.length){if(b.is(c,"object")){for(var e in c)c.hasOwnProperty(e)&&this.data(e,c[e]);return this}f("snap.data.get."+this.id,this,a[c],c);return a[c]}a[c]=d;f("snap.data.set."+this.id,this,d,c);return this};a.removeData=function(c){null==c?D[this.id]={}:D[this.id]&&delete D[this.id][c];return this};a.outerSVG=a.toString=h(1);a.innerSVG=h();a.toDataURL=function(){if(y&&
y.btoa){var c=this.getBBox(),c=b.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+c.x.toFixed(3),y:+c.y.toFixed(3),width:+c.width.toFixed(3),height:+c.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(c)))}};C.prototype.select=a.select;C.prototype.selectAll=a.selectAll});w.plugin(function(b,
a,f,l,C){function m(a,b,h,e,f,n){null==b&&"[object SVGMatrix]"==u.call(a)?(this.a=a.a,this.b=a.b,this.c=a.c,this.d=a.d,this.e=a.e,this.f=a.f):null!=a?(this.a=+a,this.b=+b,this.c=+h,this.d=+e,this.e=+f,this.f=+n):(this.a=1,this.c=this.b=0,this.d=1,this.f=this.e=0)}var u=Object.prototype.toString,n=String,h=Math;(function(a){function f(a){return a[0]*a[0]+a[1]*a[1]}function B(a){var b=h.sqrt(f(a));a[0]&&(a[0]/=b);a[1]&&(a[1]/=b)}a.add=function(a,b,h,d,k,f){var n=[[],[],[]],c=[[this.a,this.c,this.e],
[this.b,this.d,this.f],[0,0,1]];b=[[a,h,k],[b,d,f],[0,0,1]];a&&a instanceof m&&(b=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]);for(a=0;3>a;a++)for(h=0;3>h;h++){for(d=k=0;3>d;d++)k+=c[a][d]*b[d][h];n[a][h]=k}this.a=n[0][0];this.b=n[1][0];this.c=n[0][1];this.d=n[1][1];this.e=n[0][2];this.f=n[1][2];return this};a.invert=function(){var a=this.a*this.d-this.b*this.c;return new m(this.d/a,-this.b/a,-this.c/a,this.a/a,(this.c*this.f-this.d*this.e)/a,(this.b*this.e-this.a*this.f)/a)};a.clone=function(){return new m(this.a,
this.b,this.c,this.d,this.e,this.f)};a.translate=function(a,b){return this.add(1,0,0,1,a,b)};a.scale=function(a,b,h,d){null==b&&(b=a);(h||d)&&this.add(1,0,0,1,h,d);this.add(a,0,0,b,0,0);(h||d)&&this.add(1,0,0,1,-h,-d);return this};a.rotate=function(a,k,n){a=b.rad(a);k=k||0;n=n||0;var d=+h.cos(a).toFixed(9);a=+h.sin(a).toFixed(9);this.add(d,a,-a,d,k,n);return this.add(1,0,0,1,-k,-n)};a.x=function(a,b){return a*this.a+b*this.c+this.e};a.y=function(a,b){return a*this.b+b*this.d+this.f};a.get=function(a){return+this[n.fromCharCode(97+
a)].toFixed(4)};a.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"};a.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};a.determinant=function(){return this.a*this.d-this.b*this.c};a.split=function(){var a={};a.dx=this.e;a.dy=this.f;var k=[[this.a,this.c],[this.b,this.d]];a.scalex=h.sqrt(f(k[0]));B(k[0]);a.shear=k[0][0]*k[1][0]+k[0][1]*k[1][1];k[1]=[k[1][0]-k[0][0]*a.shear,k[1][1]-k[0][1]*a.shear];a.scaley=h.sqrt(f(k[1]));
B(k[1]);a.shear/=a.scaley;0>this.determinant()&&(a.scalex=-a.scalex);var n=-k[0][1],k=k[1][1];0>k?(a.rotate=b.deg(h.acos(k)),0>n&&(a.rotate=360-a.rotate)):a.rotate=b.deg(h.asin(n));a.isSimple=!+a.shear.toFixed(9)&&(a.scalex.toFixed(9)==a.scaley.toFixed(9)||!a.rotate);a.isSuperSimple=!+a.shear.toFixed(9)&&a.scalex.toFixed(9)==a.scaley.toFixed(9)&&!a.rotate;a.noRotation=!+a.shear.toFixed(9)&&!a.rotate;return a};a.toTransformString=function(a){a=a||this.split();if(+a.shear.toFixed(9))return"m"+[this.get(0),
this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)];a.scalex=+a.scalex.toFixed(4);a.scaley=+a.scaley.toFixed(4);a.rotate=+a.rotate.toFixed(4);return(a.dx||a.dy?"t"+[+a.dx.toFixed(4),+a.dy.toFixed(4)]:"")+(1!=a.scalex||1!=a.scaley?"s"+[a.scalex,a.scaley,0,0]:"")+(a.rotate?"r"+[+a.rotate.toFixed(4),0,0]:"")}})(m.prototype);b.Matrix=m;b.matrix=function(a,b,h,e,n,f){return new m(a,b,h,e,n,f)}});w.plugin(function(b,a,p,l,C){function m(c){return function(h){f.stop();h instanceof C&&1==h.node.childNodes.length&&
("radialGradient"==h.node.firstChild.tagName||"linearGradient"==h.node.firstChild.tagName||"pattern"==h.node.firstChild.tagName)&&(h=h.node.firstChild,e(this).appendChild(h),h=x(h));if(h instanceof a)if("radialGradient"==h.type||"linearGradient"==h.type||"pattern"==h.type){h.node.id||r(h.node,{id:h.id});var k=d(h.node.id)}else k=h.attr(c);else k=b.color(h),k.error?(k=b(e(this).ownerSVGElement).gradient(h))?(k.node.id||r(k.node,{id:k.id}),k=d(k.node.id)):k=h:k=v(k);h={};h[c]=k;r(this.node,h);this.node.style[c]=
""}}function u(c){f.stop();c==+c&&(c+="px");this.node.style.fontSize=c}function n(c){var a=[];c=c.childNodes;for(var d=0,b=c.length;d<b;d++){var h=c[d];3==h.nodeType&&a.push(h.nodeValue);"tspan"==h.tagName&&(1==h.childNodes.length&&3==h.firstChild.nodeType?a.push(h.firstChild.nodeValue):a.push(n(h)))}return a}function h(){f.stop();return this.node.style.fontSize}var k=b._.make,x=b._.wrap,B=b.is,e=b._.getSomeDefs,A=/^url\(#?([^)]+)\)$/,r=b._.$,d=b.url,v=String,E=b._.separator;f.on("snap.util.attr.mask",
function(c){if(c instanceof a||c instanceof C){f.stop();c instanceof C&&1==c.node.childNodes.length&&(c=c.node.firstChild,e(this).appendChild(c),c=x(c));if("mask"==c.type)var b=c;else b=k("mask",e(this)),b.node.appendChild(c.node);!b.node.id&&r(b.node,{id:b.id});r(this.node,{mask:d(b.id)})}});(function(c){f.on("snap.util.attr.clip",c);f.on("snap.util.attr.clip-path",c);f.on("snap.util.attr.clipPath",c)})(function(c){if(c instanceof a||c instanceof C){f.stop();if("clipPath"==c.type)var b=c;else b=
k("clipPath",e(this)),b.node.appendChild(c.node),!b.node.id&&r(b.node,{id:b.id});r(this.node,{"clip-path":d(b.node.id||b.id)})}});f.on("snap.util.attr.fill",m("fill"));f.on("snap.util.attr.stroke",m("stroke"));var q=/^([lr])(?:\(([^)]*)\))?(.*)$/i;f.on("snap.util.grad.parse",function(c){c=v(c);var a=c.match(q);if(!a)return null;c=a[1];var d=a[2],a=a[3],d=d.split(/\s*,\s*/).map(function(c){return+c==c?+c:c});1==d.length&&0==d[0]&&(d=[]);a=a.split("-");a=a.map(function(c){c=c.split(":");var a={color:c[0]};
c[1]&&(a.offset=parseFloat(c[1]));return a});return{type:c,params:d,stops:a}});f.on("snap.util.attr.d",function(c){f.stop();B(c,"array")&&B(c[0],"array")&&(c=b.path.toString.call(c));c=v(c);c.match(/[ruo]/i)&&(c=b.path.toAbsolute(c));r(this.node,{d:c})})(-1);f.on("snap.util.attr.#text",function(c){f.stop();c=v(c);for(c=l.doc.createTextNode(c);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(c)})(-1);f.on("snap.util.attr.path",function(c){f.stop();this.attr({d:c})})(-1);
f.on("snap.util.attr.class",function(c){f.stop();this.node.className.baseVal=c})(-1);f.on("snap.util.attr.viewBox",function(c){c=B(c,"object")&&"x"in c?[c.x,c.y,c.width,c.height].join(" "):B(c,"array")?c.join(" "):c;r(this.node,{viewBox:c});f.stop()})(-1);f.on("snap.util.attr.transform",function(c){this.transform(c);f.stop()})(-1);f.on("snap.util.attr.r",function(c){"rect"==this.type&&(f.stop(),r(this.node,{rx:c,ry:c}))})(-1);f.on("snap.util.attr.textpath",function(c){f.stop();if("text"==this.type){var d,
b;if(!c&&this.textPath){for(c=this.textPath;c.node.firstChild;)this.node.appendChild(c.node.firstChild);c.remove();delete this.textPath}else if(B(c,"string")?(d=e(this),c=x(d.parentNode).path(c),d.appendChild(c.node),d=c.id,c.attr({id:d})):(c=x(c),c instanceof a&&(d=c.attr("id"),d||(d=c.id,c.attr({id:d})))),d)if(c=this.textPath,b=this.node,c)c.attr({"xlink:href":"#"+d});else{for(c=r("textPath",{"xlink:href":"#"+d});b.firstChild;)c.appendChild(b.firstChild);b.appendChild(c);this.textPath=x(c)}}})(-1);
f.on("snap.util.attr.text",function(c){if("text"==this.type){for(var a=this.node,d=function(c){var a=r("tspan");if(B(c,"array"))for(var b=0;b<c.length;b++)a.appendChild(d(c[b]));else a.appendChild(l.doc.createTextNode(c));a.normalize&&a.normalize();return a};a.firstChild;)a.removeChild(a.firstChild);for(c=d(c);c.firstChild;)a.appendChild(c.firstChild)}f.stop()})(-1);f.on("snap.util.attr.fontSize",u)(-1);f.on("snap.util.attr.font-size",u)(-1);f.on("snap.util.getattr.transform",function(){f.stop();
return this.transform()})(-1);f.on("snap.util.getattr.textpath",function(){f.stop();return this.textPath})(-1);(function(){function c(a){return function(){f.stop();var c=l.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+a);return"none"==c?c:b(l.doc.getElementById(c.match(A)[1]))}}function a(c){return function(a){f.stop();var b="marker"+c.charAt(0).toUpperCase()+c.substring(1);if(""==a||!a)this.node.style[b]="none";else if("marker"==a.type){var h=a.node.id;h||r(a.node,{id:a.id});
this.node.style[b]=d(h)}}}f.on("snap.util.getattr.marker-end",c("end"))(-1);f.on("snap.util.getattr.markerEnd",c("end"))(-1);f.on("snap.util.getattr.marker-start",c("start"))(-1);f.on("snap.util.getattr.markerStart",c("start"))(-1);f.on("snap.util.getattr.marker-mid",c("mid"))(-1);f.on("snap.util.getattr.markerMid",c("mid"))(-1);f.on("snap.util.attr.marker-end",a("end"))(-1);f.on("snap.util.attr.markerEnd",a("end"))(-1);f.on("snap.util.attr.marker-start",a("start"))(-1);f.on("snap.util.attr.markerStart",
a("start"))(-1);f.on("snap.util.attr.marker-mid",a("mid"))(-1);f.on("snap.util.attr.markerMid",a("mid"))(-1)})();f.on("snap.util.getattr.r",function(){if("rect"==this.type&&r(this.node,"rx")==r(this.node,"ry"))return f.stop(),r(this.node,"rx")})(-1);f.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){f.stop();var a=n(this.node);return 1==a.length?a[0]:a}})(-1);f.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1);f.on("snap.util.getattr.viewBox",
function(){f.stop();var a=r(this.node,"viewBox");if(a)return a=a.split(E),b._.box(+a[0],+a[1],+a[2],+a[3])})(-1);f.on("snap.util.getattr.points",function(){var a=r(this.node,"points");f.stop();if(a)return a.split(E)})(-1);f.on("snap.util.getattr.path",function(){var a=r(this.node,"d");f.stop();return a})(-1);f.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1);f.on("snap.util.getattr.fontSize",h)(-1);f.on("snap.util.getattr.font-size",h)(-1)});w.plugin(function(b,a,f,
l,C){var m=/\S+/g,u=String;b=a.prototype;b.addClass=function(a){var b=u(a||"").match(m)||[];a=this.node;var k=a.className.baseVal,f=k.match(m)||[],B,e,l;if(b.length){for(B=0;l=b[B++];)e=f.indexOf(l),~e||f.push(l);b=f.join(" ");k!=b&&(a.className.baseVal=b)}return this};b.removeClass=function(a){var b=u(a||"").match(m)||[];a=this.node;var k=a.className.baseVal,f=k.match(m)||[],B,e;if(f.length){for(B=0;e=b[B++];)e=f.indexOf(e),~e&&f.splice(e,1);b=f.join(" ");k!=b&&(a.className.baseVal=b)}return this};
b.hasClass=function(a){return!!~(this.node.className.baseVal.match(m)||[]).indexOf(a)};b.toggleClass=function(a,b){if(null!=b)return b?this.addClass(a):this.removeClass(a);var k=(a||"").match(m)||[],f=this.node,B=f.className.baseVal,e=B.match(m)||[],u,r,d;for(u=0;d=k[u++];)r=e.indexOf(d),~r?e.splice(r,1):e.push(d);k=e.join(" ");B!=k&&(f.className.baseVal=k);return this}});w.plugin(function(b,a,p,l,C){function m(a){return a}function u(a){return function(b){return+b.toFixed(3)+a}}var n={"+":function(a,
b){return a+b},"-":function(a,b){return a-b},"/":function(a,b){return a/b},"*":function(a,b){return a*b}},h=String,k=/[a-z]+$/i,x=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;f.on("snap.util.attr",function(a){if(a=h(a).match(x)){var b=f.nt(),b=b.substring(b.lastIndexOf(".")+1),m=this.attr(b),r={};f.stop();var d=a[3]||"",v=m.match(k),u=n[a[1]];v&&v==d?a=u(parseFloat(m),+a[2]):(m=this.asPX(b),a=u(this.asPX(b),this.asPX(b,a[2]+d)));isNaN(m)||isNaN(a)||(r[b]=a,this.attr(r))}})(-10);f.on("snap.util.equal",
function(a,b){var l=h(this.attr(a)||""),r=h(b).match(x);if(r){f.stop();var d=r[3]||"",v=l.match(k),p=n[r[1]];if(v&&v==d)return{from:parseFloat(l),to:p(parseFloat(l),+r[2]),f:u(v)};l=this.asPX(a);return{from:l,to:p(l,this.asPX(a,r[2]+d)),f:m}}})(-10)});w.plugin(function(b,a,p,l,C){var m=p.prototype,u=b.is;m.rect=function(a,b,f,n,e,m){var r;null==m&&(m=e);u(a,"object")&&"[object Object]"==a?r=a:null!=a&&(r={x:a,y:b,width:f,height:n},null!=e&&(r.rx=e,r.ry=m));return this.el("rect",r)};m.circle=function(a,
b,f){var n;u(a,"object")&&"[object Object]"==a?n=a:null!=a&&(n={cx:a,cy:b,r:f});return this.el("circle",n)};var n=function(){function a(){this.parentNode.removeChild(this)}return function(b,f){var n=l.doc.createElement("img"),e=l.doc.body;n.style.cssText="position:absolute;left:-9999em;top:-9999em";n.onload=function(){f.call(n);n.onload=n.onerror=null;e.removeChild(n)};n.onerror=a;e.appendChild(n);n.src=b}}();m.image=function(a,k,f,m,e){var l=this.el("image");if(u(a,"object")&&"src"in a)l.attr(a);
else if(null!=a){var r={"xlink:href":a,preserveAspectRatio:"none"};null!=k&&null!=f&&(r.x=k,r.y=f);null!=m&&null!=e?(r.width=m,r.height=e):n(a,function(){b._.$(l.node,{width:this.offsetWidth,height:this.offsetHeight})});b._.$(l.node,r)}return l};m.ellipse=function(a,b,f,n){var e;u(a,"object")&&"[object Object]"==a?e=a:null!=a&&(e={cx:a,cy:b,rx:f,ry:n});return this.el("ellipse",e)};m.path=function(a){var b;u(a,"object")&&!u(a,"array")?b=a:a&&(b={d:a});return this.el("path",b)};m.group=m.g=function(a){var b=
this.el("g");1==arguments.length&&a&&!a.type?b.attr(a):arguments.length&&b.add(Array.prototype.slice.call(arguments,0));return b};m.svg=function(a,b,f,n,e,m,r,d){var v={};u(a,"object")&&null==b?v=a:(null!=a&&(v.x=a),null!=b&&(v.y=b),null!=f&&(v.width=f),null!=n&&(v.height=n),null!=e&&null!=m&&null!=r&&null!=d&&(v.viewBox=[e,m,r,d]));return this.el("svg",v)};m.mask=function(a){var b=this.el("mask");1==arguments.length&&a&&!a.type?b.attr(a):arguments.length&&b.add(Array.prototype.slice.call(arguments,
0));return b};m.ptrn=function(a,b,f,n,e,m,r,d){if(u(a,"object"))var v=a;else v={patternUnits:"userSpaceOnUse"},a&&(v.x=a),b&&(v.y=b),null!=f&&(v.width=f),null!=n&&(v.height=n),v.viewBox=null!=e&&null!=m&&null!=r&&null!=d?[e,m,r,d]:[a||0,b||0,f||0,n||0];return this.el("pattern",v)};m.use=function(h){return null!=h?(h instanceof a&&(h.attr("id")||h.attr({id:b._.id(h)}),h=h.attr("id")),"#"==String(h).charAt()&&(h=h.substring(1)),this.el("use",{"xlink:href":"#"+h})):a.prototype.use.call(this)};m.symbol=
function(a,b,f,n){var e={};null!=a&&null!=b&&null!=f&&null!=n&&(e.viewBox=[a,b,f,n]);return this.el("symbol",e)};m.text=function(a,b,f){var n={};u(a,"object")?n=a:null!=a&&(n={x:a,y:b,text:f||""});return this.el("text",n)};m.line=function(a,b,f,n){var e={};u(a,"object")?e=a:null!=a&&(e={x1:a,x2:f,y1:b,y2:n});return this.el("line",e)};m.polyline=function(a){1<arguments.length&&(a=Array.prototype.slice.call(arguments,0));var b={};u(a,"object")&&!u(a,"array")?b=a:null!=a&&(b={points:a});return this.el("polyline",
b)};m.polygon=function(a){1<arguments.length&&(a=Array.prototype.slice.call(arguments,0));var b={};u(a,"object")&&!u(a,"array")?b=a:null!=a&&(b={points:a});return this.el("polygon",b)};(function(){function a(){return this.selectAll("stop")}function k(a,e){var h=r("stop"),k={offset:+e+"%"};a=b.color(a);k["stop-color"]=a.hex;1>a.opacity&&(k["stop-opacity"]=a.opacity);r(h,k);this.node.appendChild(h);return this}function n(){if("linearGradient"==this.type){var a=r(this.node,"x1")||0,e=r(this.node,"x2")||
1,h=r(this.node,"y1")||0,k=r(this.node,"y2")||0;return b._.box(a,h,math.abs(e-a),math.abs(k-h))}a=this.node.r||0;return b._.box((this.node.cx||.5)-a,(this.node.cy||.5)-a,2*a,2*a)}function u(a,b){function h(a,c){for(var d=(c-m)/(a-p),b=p;b<a;b++)n[b].offset=+(+m+d*(b-p)).toFixed(2);p=a;m=c}var k=f("snap.util.grad.parse",null,b).firstDefined(),c;if(!k)return null;k.params.unshift(a);c="l"==k.type.toLowerCase()?e.apply(0,k.params):l.apply(0,k.params);k.type!=k.type.toLowerCase()&&r(c.node,{gradientUnits:"userSpaceOnUse"});
var n=k.stops,k=n.length,m=0,p=0;k--;for(var x=0;x<k;x++)"offset"in n[x]&&h(x,n[x].offset);n[k].offset=n[k].offset||100;h(k,n[k].offset);for(x=0;x<=k;x++){var C=n[x];c.addStop(C.color,C.offset)}return c}function e(d,e,f,m,c){d=b._.make("linearGradient",d);d.stops=a;d.addStop=k;d.getBBox=n;null!=e&&r(d.node,{x1:e,y1:f,x2:m,y2:c});return d}function l(d,e,f,m,c,u){d=b._.make("radialGradient",d);d.stops=a;d.addStop=k;d.getBBox=n;null!=e&&r(d.node,{cx:e,cy:f,r:m});null!=c&&null!=u&&r(d.node,{fx:c,fy:u});
return d}var r=b._.$;m.gradient=function(a){return u(this.defs,a)};m.gradientLinear=function(a,b,h,k){return e(this.defs,a,b,h,k)};m.gradientRadial=function(a,b,e,h,c){return l(this.defs,a,b,e,h,c)};m.toString=function(){var a=this.node.ownerDocument,e=a.createDocumentFragment(),a=a.createElement("div"),h=this.node.cloneNode(!0);e.appendChild(a);a.appendChild(h);b._.$(h,{xmlns:"http://www.w3.org/2000/svg"});a=a.innerHTML;e.removeChild(e.firstChild);return a};m.toDataURL=function(){if(y&&y.btoa)return"data:image/svg+xml;base64,"+
btoa(unescape(encodeURIComponent(this)))};m.clear=function(){for(var a=this.node.firstChild,b;a;)b=a.nextSibling,"defs"!=a.tagName?a.parentNode.removeChild(a):m.clear.call({node:a}),a=b}})()});w.plugin(function(b,a,f,l){function C(a){var c=C.ps=C.ps||{};c[a]?c[a].sleep=100:c[a]={sleep:100};setTimeout(function(){for(var d in c)c.hasOwnProperty(d)&&d!=a&&(c[d].sleep--,!c[d].sleep&&delete c[d])});return c[a]}function m(a,c,d,b){null==a&&(a=c=d=b=0);null==c&&(c=a.y,d=a.width,b=a.height,a=a.x);return{x:a,
y:c,width:d,w:d,height:b,h:b,x2:a+d,y2:c+b,cx:a+d/2,cy:c+b/2,r1:G.min(d,b)/2,r2:G.max(d,b)/2,r0:G.sqrt(d*d+b*b)/2,path:w(a,c,d,b),vb:[a,c,d,b].join(" ")}}function u(){return this.join(",").replace(H,"$1")}function n(a){a=I(a);a.toString=u;return a}function h(a,c,d,b,e,h,k,f,n){if(null==n)return r(a,c,d,b,e,h,k,f);if(0>n||r(a,c,d,b,e,h,k,f)<n)n=void 0;else{var m=.5,v=1-m,u;for(u=r(a,c,d,b,e,h,k,f,v);.01<T(u-n);)m/=2,v+=(u<n?1:-1)*m,u=r(a,c,d,b,e,h,k,f,v);n=v}return x(a,c,d,b,e,h,k,f,n)}function k(c,
d){function e(a){return+(+a).toFixed(3)}return b._.cacher(function(b,k,f){b instanceof a&&(b=b.attr("d"));b=ia(b);for(var n,m,t,v,u="",r={},l=0,z=0,p=b.length;z<p;z++){t=b[z];if("M"==t[0])n=+t[1],m=+t[2];else{v=h(n,m,t[1],t[2],t[3],t[4],t[5],t[6]);if(l+v>k){if(d&&!r.start){n=h(n,m,t[1],t[2],t[3],t[4],t[5],t[6],k-l);u+=["C"+e(n.start.x),e(n.start.y),e(n.m.x),e(n.m.y),e(n.x),e(n.y)];if(f)return u;r.start=u;u=["M"+e(n.x),e(n.y)+"C"+e(n.n.x),e(n.n.y),e(n.end.x),e(n.end.y),e(t[5]),e(t[6])].join();l+=v;
n=+t[5];m=+t[6];continue}if(!c&&!d)return n=h(n,m,t[1],t[2],t[3],t[4],t[5],t[6],k-l)}l+=v;n=+t[5];m=+t[6]}u+=t.shift()+t}r.end=u;return n=c?l:d?r:x(n,m,t[0],t[1],t[2],t[3],t[4],t[5],1)},null,b._.clone)}function x(a,c,d,b,e,h,k,n,f){var m=1-f,v=X(m,3),u=X(m,2),l=f*f,r=l*f,z=v*a+3*u*f*d+3*m*f*f*e+r*k,v=v*c+3*u*f*b+3*m*f*f*h+r*n,u=a+2*f*(d-a)+l*(e-2*d+a),r=c+2*f*(b-c)+l*(h-2*b+c),p=d+2*f*(e-d)+l*(k-2*e+d),l=b+2*f*(h-b)+l*(n-2*h+b);a=m*a+f*d;c=m*c+f*b;e=m*e+f*k;h=m*h+f*n;n=90-180*G.atan2(u-p,r-l)/J;return{x:z,
y:v,m:{x:u,y:r},n:{x:p,y:l},start:{x:a,y:c},end:{x:e,y:h},alpha:n}}function q(a,c,d,e,h,k,n,f){b.is(a,"array")||(a=[a,c,d,e,h,k,n,f]);a=ha.apply(null,a);return m(a.min.x,a.min.y,a.max.x-a.min.x,a.max.y-a.min.y)}function e(a,c,d){return c>=a.x&&c<=a.x+a.width&&d>=a.y&&d<=a.y+a.height}function A(a,c){a=m(a);c=m(c);return e(c,a.x,a.y)||e(c,a.x2,a.y)||e(c,a.x,a.y2)||e(c,a.x2,a.y2)||e(a,c.x,c.y)||e(a,c.x2,c.y)||e(a,c.x,c.y2)||e(a,c.x2,c.y2)||(a.x<c.x2&&a.x>c.x||c.x<a.x2&&c.x>a.x)&&(a.y<c.y2&&a.y>c.y||
c.y<a.y2&&c.y>a.y)}function r(a,c,d,b,e,h,k,n,f){null==f&&(f=1);f=(1<f?1:0>f?0:f)/2;for(var m=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],v=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],u=0,l=0;12>l;l++)var r=f*m[l]+f,z=r*(r*(-3*a+9*d-9*e+3*k)+6*a-12*d+6*e)-3*a+3*d,r=r*(r*(-3*c+9*b-9*h+3*n)+6*c-12*b+6*h)-3*c+3*b,u=u+v[l]*G.sqrt(z*z+r*r);return f*u}function d(a,c,d){a=ia(a);c=ia(c);for(var b,e,h,k,f,n,m,v,u,l,z=d?0:[],p=0,C=a.length;p<
C;p++)if(u=a[p],"M"==u[0])b=f=u[1],e=n=u[2];else{"C"==u[0]?(u=[b,e].concat(u.slice(1)),b=u[6],e=u[7]):(u=[b,e,b,e,f,n,f,n],b=f,e=n);for(var w=0,E=c.length;w<E;w++)if(l=c[w],"M"==l[0])h=m=l[1],k=v=l[2];else{"C"==l[0]?(l=[h,k].concat(l.slice(1)),h=l[6],k=l[7]):(l=[h,k,h,k,m,v,m,v],h=m,k=v);var D;var y=u,F=l;D=d;var R=q(y),N=q(F);if(A(R,N)){for(var R=r.apply(0,y),N=r.apply(0,F),R=~~(R/8),N=~~(N/8),ha=[],V=[],U={},G=D?0:[],I=0;I<R+1;I++){var H=x.apply(0,y.concat(I/R));ha.push({x:H.x,y:H.y,t:I/R})}for(I=
0;I<N+1;I++)H=x.apply(0,F.concat(I/N)),V.push({x:H.x,y:H.y,t:I/N});for(I=0;I<R;I++)for(y=0;y<N;y++){var J=ha[I],L=ha[I+1],F=V[y],H=V[y+1],O=.001>T(L.x-J.x)?"y":"x",S=.001>T(H.x-F.x)?"y":"x",K;K=J.x;var Y=J.y,Z=L.x,aa=L.y,ba=F.x,ca=F.y,da=H.x,ea=H.y;if(P(K,Z)<Q(ba,da)||Q(K,Z)>P(ba,da)||P(Y,aa)<Q(ca,ea)||Q(Y,aa)>P(ca,ea))K=void 0;else{var X=(K*aa-Y*Z)*(ba-da)-(K-Z)*(ba*ea-ca*da),W=(K*aa-Y*Z)*(ca-ea)-(Y-aa)*(ba*ea-ca*da),fa=(K-Z)*(ca-ea)-(Y-aa)*(ba-da);if(fa){var X=X/fa,W=W/fa,fa=+X.toFixed(2),ja=+W.toFixed(2);
K=fa<+Q(K,Z).toFixed(2)||fa>+P(K,Z).toFixed(2)||fa<+Q(ba,da).toFixed(2)||fa>+P(ba,da).toFixed(2)||ja<+Q(Y,aa).toFixed(2)||ja>+P(Y,aa).toFixed(2)||ja<+Q(ca,ea).toFixed(2)||ja>+P(ca,ea).toFixed(2)?void 0:{x:X,y:W}}else K=void 0}K&&U[K.x.toFixed(4)]!=K.y.toFixed(4)&&(U[K.x.toFixed(4)]=K.y.toFixed(4),J=J.t+T((K[O]-J[O])/(L[O]-J[O]))*(L.t-J.t),F=F.t+T((K[S]-F[S])/(H[S]-F[S]))*(H.t-F.t),0<=J&&1>=J&&0<=F&&1>=F&&(D?G++:G.push({x:K.x,y:K.y,t1:J,t2:F})))}D=G}else D=D?0:[];if(d)z+=D;else{R=0;for(N=D.length;R<
N;R++)D[R].segment1=p,D[R].segment2=w,D[R].bez1=u,D[R].bez2=l;z=z.concat(D)}}}return z}function v(a){var c=C(a);if(c.bbox)return I(c.bbox);if(!a)return m();a=ia(a);for(var d=0,b=0,e=[],h=[],k,f=0,n=a.length;f<n;f++)k=a[f],"M"==k[0]?(d=k[1],b=k[2],e.push(d),h.push(b)):(d=ha(d,b,k[1],k[2],k[3],k[4],k[5],k[6]),e=e.concat(d.min.x,d.max.x),h=h.concat(d.min.y,d.max.y),d=k[5],b=k[6]);a=Q.apply(0,e);k=Q.apply(0,h);e=P.apply(0,e);h=P.apply(0,h);h=m(a,k,e-a,h-k);c.bbox=I(h);return h}function w(a,c,d,b,e){if(e)return[["M",
+a+ +e,c],["l",d-2*e,0],["a",e,e,0,0,1,e,e],["l",0,b-2*e],["a",e,e,0,0,1,-e,e],["l",2*e-d,0],["a",e,e,0,0,1,-e,-e],["l",0,2*e-b],["a",e,e,0,0,1,e,-e],["z"]];a=[["M",a,c],["l",d,0],["l",0,b],["l",-d,0],["z"]];a.toString=u;return a}function D(a,c,d,b,e){null==e&&null==b&&(b=d);a=+a;c=+c;d=+d;b=+b;if(null!=e){var h=Math.PI/180;a=[["M",a+d*Math.cos(-b*h),c+d*Math.sin(-b*h)],["A",d,d,0,+(180<e-b),0,a+d*Math.cos(-e*h),c+d*Math.sin(-e*h)]]}else a=[["M",a,c],["m",0,-b],["a",d,b,0,1,1,0,2*b],["a",d,b,0,1,
1,0,-2*b],["z"]];a.toString=u;return a}function c(a){var c=C(a);if(c.abs)return n(c.abs);U(a,"array")&&U(a&&a[0],"array")||(a=b.parsePathString(a));if(!a||!a.length)return[["M",0,0]];var d=[],e=0,h=0,k=0,f=0,m=0;"M"==a[0][0]&&(e=+a[0][1],h=+a[0][2],k=e,f=h,m++,d[0]=["M",e,h]);for(var t=3==a.length&&"M"==a[0][0]&&"R"==a[1][0].toUpperCase()&&"Z"==a[2][0].toUpperCase(),v,l,r=m,z=a.length;r<z;r++){d.push(v=[]);l=a[r];m=l[0];if(m!=m.toUpperCase())switch(v[0]=m.toUpperCase(),v[0]){case "A":v[1]=l[1];v[2]=
l[2];v[3]=l[3];v[4]=l[4];v[5]=l[5];v[6]=+l[6]+e;v[7]=+l[7]+h;break;case "V":v[1]=+l[1]+h;break;case "H":v[1]=+l[1]+e;break;case "R":for(var p=[e,h].concat(l.slice(1)),x=2,q=p.length;x<q;x++)p[x]=+p[x]+e,p[++x]=+p[x]+h;d.pop();d=d.concat(V(p,t));break;case "O":d.pop();p=D(e,h,l[1],l[2]);p.push(p[0]);d=d.concat(p);break;case "U":d.pop();d=d.concat(D(e,h,l[1],l[2],l[3]));v=["U"].concat(d[d.length-1].slice(-2));break;case "M":k=+l[1]+e,f=+l[2]+h;default:for(x=1,q=l.length;x<q;x++)v[x]=+l[x]+(x%2?e:h)}else if("R"==
m)p=[e,h].concat(l.slice(1)),d.pop(),d=d.concat(V(p,t)),v=["R"].concat(l.slice(-2));else if("O"==m)d.pop(),p=D(e,h,l[1],l[2]),p.push(p[0]),d=d.concat(p);else if("U"==m)d.pop(),d=d.concat(D(e,h,l[1],l[2],l[3])),v=["U"].concat(d[d.length-1].slice(-2));else for(p=0,x=l.length;p<x;p++)v[p]=l[p];m=m.toUpperCase();if("O"!=m)switch(v[0]){case "Z":e=+k;h=+f;break;case "H":e=v[1];break;case "V":h=v[1];break;case "M":k=v[v.length-2],f=v[v.length-1];default:e=v[v.length-2],h=v[v.length-1]}}d.toString=u;c.abs=
n(d);return d}function z(a,c,d,b){return[a,c,d,b,d,b]}function y(a,c,d,b,e,h){var k=1/3,f=2/3;return[k*a+f*d,k*c+f*b,k*e+f*d,k*h+f*b,e,h]}function N(a,c,d,e,h,k,f,n,m,v){var l=120*J/180,u=J/180*(+h||0),r=[],p,z=b._.cacher(function(a,c,d){var b=a*G.cos(d)-c*G.sin(d);a=a*G.sin(d)+c*G.cos(d);return{x:b,y:a}});if(v)q=v[0],p=v[1],k=v[2],x=v[3];else{p=z(a,c,-u);a=p.x;c=p.y;p=z(n,m,-u);n=p.x;m=p.y;G.cos(J/180*h);G.sin(J/180*h);p=(a-n)/2;q=(c-m)/2;x=p*p/(d*d)+q*q/(e*e);1<x&&(x=G.sqrt(x),d*=x,e*=x);var x=
d*d,C=e*e,x=(k==f?-1:1)*G.sqrt(T((x*C-x*q*q-C*p*p)/(x*q*q+C*p*p)));k=x*d*q/e+(a+n)/2;var x=x*-e*p/d+(c+m)/2,q=G.asin(((c-x)/e).toFixed(9));p=G.asin(((m-x)/e).toFixed(9));q=a<k?J-q:q;p=n<k?J-p:p;0>q&&(q=2*J+q);0>p&&(p=2*J+p);f&&q>p&&(q-=2*J);!f&&p>q&&(p-=2*J)}if(T(p-q)>l){var r=p,C=n,B=m;p=q+l*(f&&p>q?1:-1);n=k+d*G.cos(p);m=x+e*G.sin(p);r=N(n,m,d,e,h,0,f,C,B,[p,r,k,x])}k=p-q;h=G.cos(q);l=G.sin(q);f=G.cos(p);p=G.sin(p);k=G.tan(k/4);d=4/3*d*k;k*=4/3*e;e=[a,c];a=[a+d*l,c-k*h];c=[n+d*p,m-k*f];n=[n,m];
a[0]=2*e[0]-a[0];a[1]=2*e[1]-a[1];if(v)return[a,c,n].concat(r);r=[a,c,n].concat(r).join().split(",");v=[];n=0;for(m=r.length;n<m;n++)v[n]=n%2?z(r[n-1],r[n],u).y:z(r[n],r[n+1],u).x;return v}function ha(a,c,d,b,e,h,k,f){for(var n=[],m=[[],[]],v,l,p,u,r=0;2>r;++r)0==r?(l=6*a-12*d+6*e,v=-3*a+9*d-9*e+3*k,p=3*d-3*a):(l=6*c-12*b+6*h,v=-3*c+9*b-9*h+3*f,p=3*b-3*c),1E-12>T(v)?1E-12>T(l)||(v=-p/l,0<v&&1>v&&n.push(v)):(u=l*l-4*p*v,p=G.sqrt(u),0>u||(u=(-l+p)/(2*v),0<u&&1>u&&n.push(u),v=(-l-p)/(2*v),0<v&&1>v&&
n.push(v)));for(l=r=n.length;r--;)v=n[r],p=1-v,m[0][r]=p*p*p*a+3*p*p*v*d+3*p*v*v*e+v*v*v*k,m[1][r]=p*p*p*c+3*p*p*v*b+3*p*v*v*h+v*v*v*f;m[0][l]=a;m[1][l]=c;m[0][l+1]=k;m[1][l+1]=f;m[0].length=m[1].length=l+2;return{min:{x:Q.apply(0,m[0]),y:Q.apply(0,m[1])},max:{x:P.apply(0,m[0]),y:P.apply(0,m[1])}}}function ia(a,d){var b=!d&&C(a);if(!d&&b.curve)return n(b.curve);var e=c(a),h=d&&c(d),k={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},m=function(a,c,d){if(!a)return["C",
c.x,c.y,c.x,c.y,c.x,c.y];a[0]in{T:1,Q:1}||(c.qx=c.qy=null);switch(a[0]){case "M":c.X=a[1];c.Y=a[2];break;case "A":a=["C"].concat(N.apply(0,[c.x,c.y].concat(a.slice(1))));break;case "S":"C"==d||"S"==d?(d=2*c.x-c.bx,c=2*c.y-c.by):(d=c.x,c=c.y);a=["C",d,c].concat(a.slice(1));break;case "T":"Q"==d||"T"==d?(c.qx=2*c.x-c.qx,c.qy=2*c.y-c.qy):(c.qx=c.x,c.qy=c.y);a=["C"].concat(y(c.x,c.y,c.qx,c.qy,a[1],a[2]));break;case "Q":c.qx=a[1];c.qy=a[2];a=["C"].concat(y(c.x,c.y,a[1],a[2],a[3],a[4]));break;case "L":a=
["C"].concat(z(c.x,c.y,a[1],a[2]));break;case "H":a=["C"].concat(z(c.x,c.y,a[1],c.y));break;case "V":a=["C"].concat(z(c.x,c.y,c.x,a[1]));break;case "Z":a=["C"].concat(z(c.x,c.y,c.X,c.Y))}return a},v=function(a,c){if(7<a[c].length){a[c].shift();for(var d=a[c];d.length;)p[c]="A",h&&(u[c]="A"),a.splice(c++,0,["C"].concat(d.splice(0,6)));a.splice(c,1);B=P(e.length,h&&h.length||0)}},l=function(a,c,d,b,k){a&&c&&"M"==a[k][0]&&"M"!=c[k][0]&&(c.splice(k,0,["M",b.x,b.y]),d.bx=0,d.by=0,d.x=a[k][1],d.y=a[k][2],
B=P(e.length,h&&h.length||0))},p=[],u=[],r="",x="",q=0,B=P(e.length,h&&h.length||0);for(;q<B;q++){e[q]&&(r=e[q][0]);"C"!=r&&(p[q]=r,q&&(x=p[q-1]));e[q]=m(e[q],k,x);"A"!=p[q]&&"C"==r&&(p[q]="C");v(e,q);h&&(h[q]&&(r=h[q][0]),"C"!=r&&(u[q]=r,q&&(x=u[q-1])),h[q]=m(h[q],f,x),"A"!=u[q]&&"C"==r&&(u[q]="C"),v(h,q));l(e,h,k,f,q);l(h,e,f,k,q);var w=e[q],A=h&&h[q],E=w.length,D=h&&A.length;k.x=w[E-2];k.y=w[E-1];k.bx=L(w[E-4])||k.x;k.by=L(w[E-3])||k.y;f.bx=h&&(L(A[D-4])||f.x);f.by=h&&(L(A[D-3])||f.y);f.x=h&&A[D-
2];f.y=h&&A[D-1]}h||(b.curve=n(e));return h?[e,h]:e}function V(a,c){for(var d=[],b=0,e=a.length;e-2*!c>b;b+=2){var h=[{x:+a[b-2],y:+a[b-1]},{x:+a[b],y:+a[b+1]},{x:+a[b+2],y:+a[b+3]},{x:+a[b+4],y:+a[b+5]}];c?b?e-4==b?h[3]={x:+a[0],y:+a[1]}:e-2==b&&(h[2]={x:+a[0],y:+a[1]},h[3]={x:+a[2],y:+a[3]}):h[0]={x:+a[e-2],y:+a[e-1]}:e-4==b?h[3]=h[2]:b||(h[0]={x:+a[b],y:+a[b+1]});d.push(["C",(-h[0].x+6*h[1].x+h[2].x)/6,(-h[0].y+6*h[1].y+h[2].y)/6,(h[1].x+6*h[2].x-h[3].x)/6,(h[1].y+6*h[2].y-h[3].y)/6,h[2].x,h[2].y])}return d}
f=a.prototype;var U=b.is,I=b._.clone,H=/,?([a-z]),?/gi,L=parseFloat,G=Math,J=G.PI,Q=G.min,P=G.max,X=G.pow,T=G.abs;l=k(1);var W=k(),S=k(0,1),O=b._unit2px;b.path=C;b.path.getTotalLength=l;b.path.getPointAtLength=W;b.path.getSubpath=function(a,c,d){if(1E-6>this.getTotalLength(a)-d)return S(a,c).end;a=S(a,d,1);return c?S(a,c).end:a};f.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength()};f.getPointAtLength=function(a){return W(this.attr("d"),a)};f.getSubpath=function(a,
c){return b.path.getSubpath(this.attr("d"),a,c)};b._.box=m;b.path.findDotsAtSegment=x;b.path.bezierBBox=q;b.path.isPointInsideBBox=e;b.closest=function(a,c,d,h){for(var k=100,f=m(a-k/2,c-k/2,k,k),n=[],v=d[0].hasOwnProperty("x")?function(a){return{x:d[a].x,y:d[a].y}}:function(a){return{x:d[a],y:h[a]}},l=0;1E6>=k&&!l;){for(var p=0,u=d.length;p<u;p++){var r=v(p);if(e(f,r.x,r.y)){l++;n.push(r);break}}l||(k*=2,f=m(a-k/2,c-k/2,k,k))}if(1E6!=k){for(var k=Infinity,x,p=0,u=n.length;p<u;p++)f=b.len(a,c,n[p].x,
n[p].y),k>f&&(k=f,n[p].len=f,x=n[p]);return x}};b.path.isBBoxIntersect=A;b.path.intersection=function(a,c){return d(a,c)};b.path.intersectionNumber=function(a,c){return d(a,c,1)};b.path.isPointInside=function(a,c,b){var h=v(a);return e(h,c,b)&&1==d(a,[["M",c,b],["H",h.x2+10]],1)%2};b.path.getBBox=v;b.path.get={path:function(a){return a.attr("path")},circle:function(a){a=O(a);return D(a.cx,a.cy,a.r)},ellipse:function(a){a=O(a);return D(a.cx||0,a.cy||0,a.rx,a.ry)},rect:function(a){a=O(a);return w(a.x||
0,a.y||0,a.width,a.height,a.rx,a.ry)},image:function(a){a=O(a);return w(a.x||0,a.y||0,a.width,a.height)},line:function(a){return"M"+[a.attr("x1")||0,a.attr("y1")||0,a.attr("x2"),a.attr("y2")]},polyline:function(a){return"M"+a.attr("points")},polygon:function(a){return"M"+a.attr("points")+"z"},deflt:function(a){a=a.node.getBBox();return w(a.x,a.y,a.width,a.height)}};b.path.toRelative=function(a){var c=C(a),d=String.prototype.toLowerCase;if(c.rel)return n(c.rel);b.is(a,"array")&&b.is(a&&a[0],"array")||
(a=b.parsePathString(a));var e=[],h=0,k=0,f=0,m=0,v=0;"M"==a[0][0]&&(h=a[0][1],k=a[0][2],f=h,m=k,v++,e.push(["M",h,k]));for(var l=a.length;v<l;v++){var p=e[v]=[],r=a[v];if(r[0]!=d.call(r[0]))switch(p[0]=d.call(r[0]),p[0]){case "a":p[1]=r[1];p[2]=r[2];p[3]=r[3];p[4]=r[4];p[5]=r[5];p[6]=+(r[6]-h).toFixed(3);p[7]=+(r[7]-k).toFixed(3);break;case "v":p[1]=+(r[1]-k).toFixed(3);break;case "m":f=r[1],m=r[2];default:for(var x=1,q=r.length;x<q;x++)p[x]=+(r[x]-(x%2?h:k)).toFixed(3)}else for(e[v]=[],"m"==r[0]&&
(f=r[1]+h,m=r[2]+k),p=0,x=r.length;p<x;p++)e[v][p]=r[p];r=e[v].length;switch(e[v][0]){case "z":h=f;k=m;break;case "h":h+=+e[v][r-1];break;case "v":k+=+e[v][r-1];break;default:h+=+e[v][r-2],k+=+e[v][r-1]}}e.toString=u;c.rel=n(e);return e};b.path.toAbsolute=c;b.path.toCubic=ia;b.path.map=function(a,c){if(!c)return a;var d,b,e,h,k,f,n;a=ia(a);e=0;for(k=a.length;e<k;e++)for(n=a[e],h=1,f=n.length;h<f;h+=2)d=c.x(n[h],n[h+1]),b=c.y(n[h],n[h+1]),n[h]=d,n[h+1]=b;return a};b.path.toString=u;b.path.clone=n});
w.plugin(function(b,a,p,l){var C=Math.max,m=Math.min,u=function(a){this.items=[];this.bindings={};this.length=0;this.type="set";if(a)for(var b=0,k=a.length;b<k;b++)a[b]&&(this[this.items.length]=this.items[this.items.length]=a[b],this.length++)};a=u.prototype;a.push=function(){for(var a,b,k=0,f=arguments.length;k<f;k++)if(a=arguments[k])b=this.items.length,this[b]=this.items[b]=a,this.length++;return this};a.pop=function(){this.length&&delete this[this.length--];return this.items.pop()};a.forEach=
function(a,b){for(var k=0,f=this.items.length;k<f&&!1!==a.call(b,this.items[k],k);k++);return this};a.animate=function(a,h,k,m){"function"!=typeof k||k.length||(m=k,k=q.linear);a instanceof b._.Animation&&(m=a.callback,k=a.easing,h=k.dur,a=a.attr);var p=arguments;if(b.is(a,"array")&&b.is(p[p.length-1],"array"))var e=!0;var l,r=function(){l?this.b=l:l=this.b},d=0,v=this,u=m&&function(){++d==v.length&&m.call(this)};return this.forEach(function(d,c){f.once("snap.animcreated."+d.id,r);e?p[c]&&d.animate.apply(d,
p[c]):d.animate(a,h,k,u)})};a.remove=function(){for(;this.length;)this.pop().remove();return this};a.bind=function(a,b,k){var f={};if("function"==typeof b)this.bindings[a]=b;else{var m=k||a;this.bindings[a]=function(a){f[m]=a;b.attr(f)}}return this};a.attr=function(a){var b={},k;for(k in a)if(this.bindings[k])this.bindings[k](a[k]);else b[k]=a[k];a=0;for(k=this.items.length;a<k;a++)this.items[a].attr(b);return this};a.clear=function(){for(;this.length;)this.pop()};a.splice=function(a,b,k){a=0>a?C(this.length+
a,0):a;b=C(0,m(this.length-a,b));var f=[],p=[],e=[],l;for(l=2;l<arguments.length;l++)e.push(arguments[l]);for(l=0;l<b;l++)p.push(this[a+l]);for(;l<this.length-a;l++)f.push(this[a+l]);var r=e.length;for(l=0;l<r+f.length;l++)this.items[a+l]=this[a+l]=l<r?e[l]:f[l-r];for(l=this.items.length=this.length-=b-r;this[l];)delete this[l++];return new u(p)};a.exclude=function(a){for(var b=0,k=this.length;b<k;b++)if(this[b]==a)return this.splice(b,1),!0;return!1};a.insertAfter=function(a){for(var b=this.items.length;b--;)this.items[b].insertAfter(a);
return this};a.getBBox=function(){for(var a=[],b=[],k=[],f=[],l=this.items.length;l--;)if(!this.items[l].removed){var e=this.items[l].getBBox();a.push(e.x);b.push(e.y);k.push(e.x+e.width);f.push(e.y+e.height)}a=m.apply(0,a);b=m.apply(0,b);k=C.apply(0,k);f=C.apply(0,f);return{x:a,y:b,x2:k,y2:f,width:k-a,height:f-b,cx:a+(k-a)/2,cy:b+(f-b)/2}};a.clone=function(a){a=new u;for(var b=0,k=this.items.length;b<k;b++)a.push(this.items[b].clone());return a};a.toString=function(){return"Snap\u2018s set"};a.type=
"set";b.Set=u;b.set=function(){var a=new u;arguments.length&&a.push.apply(a,Array.prototype.slice.call(arguments,0));return a}});w.plugin(function(b,a,p,l){function q(a){var d=a[0];switch(d.toLowerCase()){case "t":return[d,0,0];case "m":return[d,1,0,0,1,0,0];case "r":return 4==a.length?[d,0,a[2],a[3]]:[d,0];case "s":return 5==a.length?[d,1,1,a[3],a[4]]:3==a.length?[d,1,1]:[d,1]}}function m(a,e,h){e=d(e).replace(/\.{3}|\u2026/g,a);a=b.parseTransformString(a)||[];e=b.parseTransformString(e)||[];for(var c=
Math.max(a.length,e.length),k=[],f=[],n=0,m,l,p,r;n<c;n++){p=a[n]||q(e[n]);r=e[n]||q(p);if(p[0]!=r[0]||"r"==p[0].toLowerCase()&&(p[2]!=r[2]||p[3]!=r[3])||"s"==p[0].toLowerCase()&&(p[3]!=r[3]||p[4]!=r[4])){a=b._.transform2matrix(a,h());e=b._.transform2matrix(e,h());k=[["m",a.a,a.b,a.c,a.d,a.e,a.f]];f=[["m",e.a,e.b,e.c,e.d,e.e,e.f]];break}k[n]=[];f[n]=[];m=0;for(l=Math.max(p.length,r.length);m<l;m++)m in p&&(k[n][m]=p[m]),m in r&&(f[n][m]=r[m])}return{from:w(k),to:w(f),f:x(k)}}function u(a){return a}
function n(a){return function(d){return+d.toFixed(3)+a}}function h(a){return a.join(" ")}function k(a){return b.rgb(a[0],a[1],a[2])}function x(a){var d=0,b,c,e,h,k,f,n=[];b=0;for(c=a.length;b<c;b++){k="[";f=['"'+a[b][0]+'"'];e=1;for(h=a[b].length;e<h;e++)f[e]="val["+d++ +"]";k+=f+"]";n[b]=k}return Function("val","return Snap.path.toString.call(["+n+"])")}function w(a){for(var d=[],b=0,c=a.length;b<c;b++)for(var e=1,h=a[b].length;e<h;e++)d.push(a[b][e]);return d}function e(a,d){return b.is(a,"array")&&
b.is(d,"array")?a.toString()==d.toString():!1}var A={},r=/[a-z]+$/i,d=String;A.stroke=A.fill="colour";a.prototype.equal=function(a,d){return f("snap.util.equal",this,a,d).firstDefined()};f.on("snap.util.equal",function(a,f){var l,c;l=d(this.attr(a)||"");var p=this;if(isFinite(parseFloat(l))&&isFinite(parseFloat(f)))return{from:parseFloat(l),to:parseFloat(f),f:u};if("colour"==A[a])return l=b.color(l),c=b.color(f),{from:[l.r,l.g,l.b,l.opacity],to:[c.r,c.g,c.b,c.opacity],f:k};if("viewBox"==a)return l=
this.attr(a).vb.split(" ").map(Number),c=f.split(" ").map(Number),{from:l,to:c,f:h};if("transform"==a||"gradientTransform"==a||"patternTransform"==a)return f instanceof b.Matrix&&(f=f.toTransformString()),b._.rgTransform.test(f)||(f=b._.svgTransform2string(f)),m(l,f,function(){return p.getBBox(1)});if("d"==a||"path"==a)return l=b.path.toCubic(l,f),{from:w(l[0]),to:w(l[1]),f:x(l[0])};if("points"==a)return l=d(l).split(b._.separator),c=d(f).split(b._.separator),{from:l,to:c,f:function(a){return a}};
c=l.match(r);var q=d(f).match(r);return c&&e(c,q)?{from:parseFloat(l),to:parseFloat(f),f:n(c)}:{from:this.asPX(a),to:this.asPX(a,f),f:u}})});w.plugin(function(b,a,p,l){var q=a.prototype,m="createTouch"in l.doc;a="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel".split(" ");var u={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},n=function(a,b){var e="y"==a?"scrollTop":"scrollLeft",h=b&&b.node?b.node.ownerDocument:l.doc;return h[e in
h.documentElement?"documentElement":"body"][e]},h=function(){return this.originalEvent.preventDefault()},k=function(){return this.originalEvent.stopPropagation()},x=function(a,b,e,f){var c=m&&u[b]?u[b]:b,l=function(c){var l=n("y",f),p=n("x",f);if(m&&u.hasOwnProperty(b))for(var r=0,q=c.targetTouches&&c.targetTouches.length;r<q;r++)if(c.targetTouches[r].target==a||a.contains(c.targetTouches[r].target)){q=c;c=c.targetTouches[r];c.originalEvent=q;c.preventDefault=h;c.stopPropagation=k;break}return e.call(f,
c,c.clientX+p,c.clientY+l)};b!==c&&a.addEventListener(b,l,!1);a.addEventListener(c,l,!1);return function(){b!==c&&a.removeEventListener(b,l,!1);a.removeEventListener(c,l,!1);return!0}},w=[],e=function(a){for(var b=a.clientX,e=a.clientY,h=n("y"),c=n("x"),k,l=w.length;l--;){k=w[l];if(m)for(var p=a.touches&&a.touches.length,r;p--;){if(r=a.touches[p],r.identifier==k.el._drag.id||k.el.node.contains(r.target)){b=r.clientX;e=r.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();
b+=c;e+=h;f("snap.drag.move."+k.el.id,k.move_scope||k.el,b-k.el._drag.x,e-k.el._drag.y,b,e,a)}},A=function(a){b.unmousemove(e).unmouseup(A);for(var h=w.length,k;h--;)k=w[h],k.el._drag={},f("snap.drag.end."+k.el.id,k.end_scope||k.start_scope||k.move_scope||k.el,a),f.off("snap.drag.*."+k.el.id);w=[]};for(p=a.length;p--;)(function(a){b[a]=q[a]=function(e,h){if(b.is(e,"function"))this.events=this.events||[],this.events.push({name:a,f:e,unbind:x(this.node||document,a,e,h||this)});else for(var k=0,c=this.events.length;k<
c;k++)if(this.events[k].name==a)try{this.events[k].f.call(this)}catch(f){}return this};b["un"+a]=q["un"+a]=function(b){for(var e=this.events||[],h=e.length;h--;)if(e[h].name==a&&(e[h].f==b||!b)){e[h].unbind();e.splice(h,1);!e.length&&delete this.events;break}return this}})(a[p]);q.hover=function(a,b,e,h){return this.mouseover(a,e).mouseout(b,h||e)};q.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var r=[];q.drag=function(a,h,k,n,c,m){function l(p,r,q){(p.originalEvent||p).preventDefault();
u._drag.x=r;u._drag.y=q;u._drag.id=p.identifier;!w.length&&b.mousemove(e).mouseup(A);w.push({el:u,move_scope:n,start_scope:c,end_scope:m});h&&f.on("snap.drag.start."+u.id,h);a&&f.on("snap.drag.move."+u.id,a);k&&f.on("snap.drag.end."+u.id,k);f("snap.drag.start."+u.id,c||n||u,r,q,p)}function p(a,c,d){f("snap.draginit."+u.id,u,a,c,d)}var u=this;if(!arguments.length){var q;return u.drag(function(a,c){this.attr({transform:q+(q?"T":"t")+[a,c]})},function(){q=this.transform().local})}f.on("snap.draginit."+
u.id,l);u._drag={};r.push({el:u,start:l,init:p});u.mousedown(p);return u};q.undrag=function(){for(var a=r.length;a--;)r[a].el==this&&(this.unmousedown(r[a].init),r.splice(a,1),f.unbind("snap.drag.*."+this.id),f.unbind("snap.draginit."+this.id));!r.length&&b.unmousemove(e).unmouseup(A);return this}});w.plugin(function(b,a,p,l){p=p.prototype;var q=/^\s*url\((.+)\)/,m=String,u=b._.$;b.filter={};p.filter=function(f){var h=this;"svg"!=h.type&&(h=h.paper);f=b.parse(m(f));var k=b._.id(),l=u("filter");u(l,
{id:k,filterUnits:"userSpaceOnUse"});l.appendChild(f.node);h.defs.appendChild(l);return new a(l)};f.on("snap.util.getattr.filter",function(){f.stop();var a=u(this.node,"filter");if(a)return(a=m(a).match(q))&&b.select(a[1])});f.on("snap.util.attr.filter",function(m){if(m instanceof a&&"filter"==m.type){f.stop();var h=m.node.id;h||(u(m.node,{id:m.id}),h=m.id);u(this.node,{filter:b.url(h)})}m&&"none"!=m||(f.stop(),this.node.removeAttribute("filter"))});b.filter.blur=function(a,h){null==a&&(a=2);return b.format('<feGaussianBlur stdDeviation="{def}"/>',
{def:null==h?a:[a,h]})};b.filter.blur.toString=function(){return this()};b.filter.shadow=function(a,h,k,f,m){"string"==typeof k&&(m=f=k,k=4);"string"!=typeof f&&(m=f,f="#000");null==k&&(k=4);null==m&&(m=1);null==a&&(a=0,h=2);null==h&&(h=a);f=b.color(f||"#000");return b.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',
{color:f,dx:a,dy:h,blur:k,opacity:m})};b.filter.shadow.toString=function(){return this()};b.filter.grayscale=function(a){null==a&&(a=1);return b.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-a),b:.7152-.7152*(1-a),c:.0722-.0722*(1-a),d:.2126-.2126*(1-a),e:.7152+.2848*(1-a),f:.0722-.0722*(1-a),g:.2126-.2126*(1-a),h:.0722+.9278*(1-a)})};b.filter.grayscale.toString=function(){return this()};b.filter.sepia=function(a){null==
a&&(a=1);return b.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-a),b:.769-.769*(1-a),c:.189-.189*(1-a),d:.349-.349*(1-a),e:.686+.314*(1-a),f:.168-.168*(1-a),g:.272-.272*(1-a),h:.534-.534*(1-a),i:.131+.869*(1-a)})};b.filter.sepia.toString=function(){return this()};b.filter.saturate=function(a){null==a&&(a=1);return b.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-a})};b.filter.saturate.toString=function(){return this()};
b.filter.hueRotate=function(a){return b.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:a||0})};b.filter.hueRotate.toString=function(){return this()};b.filter.invert=function(a){null==a&&(a=1);return b.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:a,amount2:1-a})};b.filter.invert.toString=function(){return this()};
b.filter.brightness=function(a){null==a&&(a=1);return b.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:a})};b.filter.brightness.toString=function(){return this()};b.filter.contrast=function(a){null==a&&(a=1);return b.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',
{amount:a,amount2:.5-a/2})};b.filter.contrast.toString=function(){return this()}});w.plugin(function(b,a,f,l,q){var m=b._.box,u=b.is,n=/^[^a-z]*([tbmlrc])/i,h=function(){return"T"+this.dx+","+this.dy};a.prototype.getAlign=function(a,b){null==b&&u(a,"string")&&(b=a,a=null);a=a||this.paper;var f=a.getBBox?a.getBBox():m(a),e=this.getBBox(),l={};b=(b=b&&b.match(n))?b[1].toLowerCase():"c";switch(b){case "t":l.dx=0;l.dy=f.y-e.y;break;case "b":l.dx=0;l.dy=f.y2-e.y2;break;case "m":l.dx=0;l.dy=f.cy-e.cy;break;
case "l":l.dx=f.x-e.x;l.dy=0;break;case "r":l.dx=f.x2-e.x2;l.dy=0;break;default:l.dx=f.cx-e.cx,l.dy=0}l.toString=h;return l};a.prototype.align=function(a,b){return this.transform("..."+this.getAlign(a,b))}});return w});
"document"in self&&("classList"in document.createElement("_")?function(){var y=document.createElement("_");y.classList.add("c1","c2");if(!y.classList.contains("c2")){var f=function(f){var b=DOMTokenList.prototype[f];DOMTokenList.prototype[f]=function(a){var f,l=arguments.length;for(f=0;f<l;f++)a=arguments[f],b.call(this,a)}};f("add");f("remove")}y.classList.toggle("c3",!1);if(y.classList.contains("c3")){var q=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(f,b){return 1 in arguments&&
!this.contains(f)===!b?b:q.call(this,f)}}y=null}():function(y){if("Element"in y){y=y.Element.prototype;var f=Object,q=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},w=Array.prototype.indexOf||function(a){for(var b=0,f=this.length;b<f;b++)if(b in this&&this[b]===a)return b;return-1},b=function(a,b){this.name=a;this.code=DOMException[a];this.message=b},a=function(a,f){if(""===f)throw new b("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(f))throw new b("INVALID_CHARACTER_ERR",
"String contains an invalid character");return w.call(a,f)},p=function(a){for(var b=q.call(a.getAttribute("class")||""),b=b?b.split(/\s+/):[],f=0,h=b.length;f<h;f++)this.push(b[f]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},l=p.prototype=[],C=function(){return new p(this)};b.prototype=Error.prototype;l.item=function(a){return this[a]||null};l.contains=function(b){return-1!==a(this,b+"")};l.add=function(){var b=arguments,f=0,l=b.length,h,k=!1;do h=b[f]+"",-1===a(this,
h)&&(this.push(h),k=!0);while(++f<l);k&&this._updateClassName()};l.remove=function(){var b=arguments,f=0,l=b.length,h,k=!1,p;do for(h=b[f]+"",p=a(this,h);-1!==p;)this.splice(p,1),k=!0,p=a(this,h);while(++f<l);k&&this._updateClassName()};l.toggle=function(a,b){a+="";var f=this.contains(a),h=f?!0!==b&&"remove":!1!==b&&"add";if(h)this[h](a);return!0===b||!1===b?b:!f};l.toString=function(){return this.join(" ")};if(f.defineProperty){l={get:C,enumerable:!0,configurable:!0};try{f.defineProperty(y,"classList",
l)}catch(m){-2146823252===m.number&&(l.enumerable=!1,f.defineProperty(y,"classList",l))}}else f.prototype.__defineGetter__&&y.__defineGetter__("classList",C)}}(self));define("classList",function(){});
define("config",[],function(){return{FONT_FAMILY:"'Lato', sans-serif",TEXT_SIZE_SMALL:12,SPILLOVER_TOP:.07,SPILLOVER_RIGHT:0,SPILLOVER_BOTTOM:.05,SPILLOVER_LEFT:0,MAX_LABEL_DENSITY:1.5,TOP_PADDING:40,BOTTOM_PADDING:30,LEFT_PADDING:10,RIGHT_PADDING:10,BAR_TOOLTIP_X_PADDING:10,TARGET_MARKER_COUNT:6,TICK_MARK_VERTICAL_PADDING:10,TICK_MARK_HORIZONTAL_PADDING:10,LABEL_AXIS_PADDING:10,NEGATIVE_PROPORTION_STICKY_LABELS_LIMIT:1/3,SHARED_TINT_MINIMUM_RATIO:.95,GROUP_WIDTH_TO_PADDING_RATIO:4,GROUP_PADDING_TO_BAR_PADDING_RATIO:4,
BAR_MINIMUM_THICKNESS:12,BAR_GROUP_TARGET_THICKNESS:24,BAR_SPACING:5,BAR_GROUP_WIDTH_TO_PADDING_RATIO:4,TARGET_KEY_COLUMN_WIDTH:200,KEY_MARGIN_TOP:45,KEY_PADDING_TOP:20,KEY_PADDING_BOTTOM:20,KEY_PADDING_LEFT:30,KEY_PADDING_RIGHT:30,KEY_TEXT_SPACING:5,KEY_COLUMN_PADDING_RATIO:.1,KEY_ROWSPACING:8,KEY_SQUARE_LENGTH:13,KEY_DIVIDOR_HEIGHT:19,KEY_MIN_PULLOUT_TITLE_LENGTH:4,KEY_MIN_WIDTH_FOR_AXIS_ALIGNMENT:352}});
define("data-processor",[],function(){return{tableToJSON:function(y,f){function q(){this.series=[];this.rows=[];this.range={min:null,max:null};this.labels=[]}q.prototype={constructor:q};var w=[];f.pulloutItems&&(w=f.pulloutItems.split(","));for(var b=/^[0-9]+(,[0-9]{3})*(\.[0-9]+)?$/,a=y.querySelectorAll("thead > tr > th"),p=y.querySelectorAll("tbody > tr"),l=new q,C=1;C<a.length;C++){var m={title:a[C].textContent},u=a[C].getAttribute("data-fm-color");u&&(m.colorOverride=u);l.series.push(m)}for(a=
0;a<p.length;a++)if(p[a].children[0]){C=p[a].children[0].textContent;l.labels.push(C);u=!1;if(-1!==w.indexOf(String(a+1))||-1!==w.indexOf(C))u=!0;var m={key:a,title:C,values:[],total:0,pullout:u};if(u=p[a].getAttribute("data-fm-color"))m.colorOverride=u;l.rows.push(m);for(C=1;C<p[a].children.length;C++){u=null;p[a].children[C].textContent.match(b)&&(u=parseFloat(p[a].children[C].textContent.replace(/,([0-9]{3})/g,"$1")));if(null===l.range.min||l.range.min>u)l.range.min=u;if(null===l.range.max||l.range.max<
u)l.range.max=u;l.rows[a].values.push({value:u});l.rows[a].total+=u}}return l}}});
define("number-utils",[],function(){return{roundToOrder:function(y,f,q){function w(b,a){var f=Math.abs(b);f>=Math.pow(10,q)?(b=w(b/10,a),b*=10):f<Math.pow(10,q-1)?(b*=10,b=w(b,a),b/=10):(f=Math.round(b/a)*a,0===f&&(q++,f=w(b,a)),b=f);return parseFloat(b.toPrecision(q+1))}y=parseFloat(y);if(0==y)return 0;q||(q=2);return 1===f?parseFloat(y.toPrecision(q)):w(y,f)},renderValue:function(y){function f(a){if(0==a)return 0;if(1<=a&&1E3>a)return a;if(1>a)return w-=3,f(1E3*a);if(1E3<=a)return w+=3,f(a/1E3)}
if(0===y)return"0";if(!y)return"";var q=1;0>y&&(q=-1,y*=-1);y=this.roundToOrder(y,1,3);var w=0,b=new String(q*f(y));return 3==w?b+"k":6==w?b+"m":9==w?b+"bn":12==w?b+" trillion":new String(q*y)},getDataTotal:function(y){for(var f=0,q=0;q<y.length;q++)f+=y[q].value;return f},getAngle:function(y,f,q){q="undefined"===typeof q?Circle.whole:q;return q/f*y},getFactor:function(y){for(var f=y-1;1<f;f--){var q=y/f;if(parseInt(q)==q)return f}return y}}});
define("scale-utils",["number-utils"],function(y){return{Scale:function(f,q,w,b){this.start=f;this.middle=f+q/2;this.end=f+q;if(w==b)throw"Min and max values are the same";var a=w>b?!0:!1;this.getPixel=function(p,l){if((p<w||p>b)&&!1===("undefined"===typeof l?!0:!1)&&!(a&&p<=w&&p>=b))throw"Out of range";return f+(p-w)/(b-w)*q}},AreaScale:function(f,q,w,b){this.start=f;this.middle=f+q/2;this.midValue=w+(b-w)*Math.pow(.5,2);this.end=f+q;if(w==b)throw"Min value and max are the same";var a=w>b?!0:!1;
this.getPixel=function(p,l){if((p<w||p>b)&&!1===("undefined"===typeof l?!0:!1)&&!(a&&p<=w&&p>=b))throw"Out of range";return f+q*Math.pow((p-w)/(b-w),.5)}},getTickMarks:function(f,q,w,b){var a=0,p=0,l=0,C=0,l=0,m=[],C=l=0;f==q&&(a=0!==q?q/10:1,f-=a,q+=a);w=(q-f)/(w-1);p=a=0;a=Math.floor(Math.log(w)/Math.LN10);p=w/Math.pow(10,a);p=(1.5>p?1:3>p?2:7>p?5:10)*Math.pow(10,a);l=Math.floor(f/p)*p;C=Math.ceil(q/p)*p;a=Math.max(-Math.floor(Math.log(p)/Math.LN10),1);C+=.5*p;b&&(0!==l&&(l-=p),C+=p);for(;l<C;l+=
p)m.push(parseFloat(l.toFixed(a)));return m}}});
define("color-utils",[],function(){return{colorWheelClasses:"fm-datum-color-wheel-a fm-datum-color-wheel-b fm-datum-color-wheel-c fm-datum-color-wheel-d fm-datum-color-wheel-e fm-datum-color-wheel-f fm-datum-color-wheel-g fm-datum-color-wheel-h fm-datum-color-wheel-i fm-datum-color-wheel-j fm-datum-color-wheel-k fm-datum-color-wheel-l".split(" "),overflowClass:"fm-datum-color-overflow",pad:function(y){return 2>y.length?"0"+y:y},contrasting:function(y){throw"Not yet implemented";},registerTint1Filter:function(){throw"Not yet implemented";
},registerTint2Filter:function(){throw"Not yet implemented";},lowContrast:function(y,f){f="undefined"===typeof f?0:f;if(y+f>this.colorWheelClasses.length){for(var q=[],w=0;w<y;w++)w<this.colorWheelClasses.length?q.push(this.colorWheelClasses[w]):q.push(this.colorWheelClasses[this.colorWheelClasses.length-w]);return q}return this.colorWheelClasses.splice(f,y)},monochromatic:function(y,f,q){throw"Not yet implemented";},harmonious:function(y){for(var f=Math.min(y,this.colorWheelClasses.length),q=[],
w=Math.floor(this.colorWheelClasses.length/2),b=function(){return 0==this.colorWheelClasses.length%4}.bind(this),a=function(a,b){a=(a+this.colorWheelClasses.length)%this.colorWheelClasses.length;var l=Math.floor(q.length/4)+1;q.length<f&&q.splice(1*l-1,0,a);q.length<f&&q.splice(2*l-1,0,(a+b+1)%this.colorWheelClasses.length);q.length<f&&q.splice(3*l-1,0,(a+w)%this.colorWheelClasses.length);q.length<f&&q.splice(4*l-1,0,(a+b+1+w)%this.colorWheelClasses.length)}.bind(this),p=function(a,b){a=(a+this.colorWheelClasses.length)%
this.colorWheelClasses.length;q.splice(b,0,a)}.bind(this),l=1,C=0;l<=w-2;l+=2,C--)a(C,l);a=q.length/4;q.length<f&&p(1,a);q.length<f&&p(1+w,3*a+1);b()&&(q.length<f&&p(1+w/2,2*a+1),q.length<f&&p(1+3*w/2,4*a+3));b=[];for(p=0;p<y;p++)b.push(this.colorWheelClasses[q[p%f]]);return b}}});
define("tick-mark",["snap","config"],function(y,f){return y.plugin(function(q,w,b){b.prototype.tickMark=function(a,b,l,q,m){if("horizontal"===l){a=this.text(a-f.TICK_MARK_HORIZONTAL_PADDING,b,m).attr({"font-family":f.FONT_FAMILY,"font-size":f.TEXT_SIZE_SMALL,"font-weight":f.TICK_MARK_FONT_WEIGHT,"text-anchor":"end","dominant-baseline":"central"});var u=this.g(a).addClass("fm-tick-mark")}else"vertical"===l?(l=this.line(a,b,a,b+q),a=this.text(a,b+f.TICK_MARK_VERTICAL_PADDING+f.TEXT_SIZE_SMALL/2,m).attr({"font-family":f.FONT_FAMILY,
"font-size":f.TEXT_SIZE_SMALL,"font-weight":f.TICK_MARK_FONT_WEIGHT,"text-anchor":"middle"}),u=this.g(a,l).addClass("fm-tick-mark")):console.err("Incorrect orientation specified");return u}})});
define("axis",["snap","tick-mark","number-utils"],function(y,f,q){return y.plugin(function(f,b,a){a.prototype.axis=function(a,b,f,m,u,n,h,k,x){var w=this,e=w.g(),A=this.g();e.startPoints=[];if("horizontal"===n){m.forEach(function(a){"object"!==typeof a&&(a={position:a,label:q.renderValue(a)});var d=f.getPixel(a.position);e.startPoints.push({x:d,y:b});A.append(w.tickMark(d,b,"vertical",u,a.label,10))});if(k)var r=w.line(a,b,f.end,b).addClass("fm-axis");if(h){var d;x&&"last"!==x?"first"===x?d=A.getBBox().y-
17.5:console.error("Invalid axis label position specified."):d=A.getBBox().y+A.getBBox().height+17.5;h=w.text(f.middle,d,h).addClass("fm-x-axis-label");h.attr({"font-family":"'Lato', sans-serif","font-weight":400,"font-size":12,"text-anchor":"middle"});e.append(h)}e.append(r);e.append(A)}else m.forEach(function(b){"object"!==typeof b&&(b={position:b,label:q.renderValue(b)});var d=f.getPixel(b.position);e.startPoints.push({x:a,y:d});b=w.tickMark(a,d,"horizontal",u,b.label);A.append(b)}),e.append(A),
m=e.getBBox(),k&&(r=w.line(a,b,a,f.end).addClass("fm-axis"),e.append(r)),h&&(h=w.text(m.x-6-25,f.middle,h).addClass("fm-y-axis-label"),h.getBBox(),h.attr({"font-family":"'Lato', sans-serif","font-weight":400,"font-size":12,"text-anchor":"middle"}).transform("r -90"),e.append(h));return e}})});
define("grid-lines",["snap"],function(y){return y.plugin(function(f,q,w){w.prototype.gridLines=function(b,a,f,l,q){function m(){f.forEach(function(a,f){var m=n.line(b,a.y,b+l,a.y).addClass("fm-grid-line");h.append(m)})}function u(){f.forEach(function(b,f){var m=n.line(b.x,a,b.x,a+l).addClass("fm-grid-line");h.append(m)})}var n=this,h=this.g();"horizontal"===q?m():"vertical"===q?u():console.err("Invalid orientation specified");return h}})});
define("key",["snap","config","color-utils"],function(y,f,q){y=function(f,b,a,p,l,q,m,u,n,h,k,x){this._paper=f;this.node=f.g();this.x=b;this.y=a;this.width=p;this.columns=l;this.columnWidth=q;this.centerItems=m;this.values=u;this.maxValues=n;this.maxValueLength=h;this.lastItemIsOther=k;this.colorClasses=x};y.prototype={constructor:y,hide:function(){},remove:function(){this.node.parent.remove(this.node);this.node=null},render:function(){var w=this.values.length;if("undefined"===typeof this.maxValues||
this.maxValues>w)this.maxValues=w;"undefined"===typeof this.maxValueLength&&(this.maxValueLength=f.KEY_MAX_TEXT_LENGTH);var b;b=this.colorClasses?this.colorClasses:q.harmonious(w);this.container=this.node.rect(this.x,this.y,this.width,10).addClass("fm-key-container").attr({fill:f.KEY_NEUTRAL_FILL,stroke:f.KEY_NEUTRAL_STROKE});var a=this.node.g().addClass("fm-key-items"),p=0,l=0,C;this.values.every(function(m,n){if(n===this.maxValues)return!1;var h;h=n===this.values.length-1&&this.lastItemIsOther?
"fm-datum-color-overflow":b[n];0!==n&&0===n%this.columns&&(p=0,l+=C.getBBox().height+f.KEY_ROWSPACING);var k=m.length>this.maxValueLength?m.substring(0,this.maxValueLength-1)+"\u2026":m;h=this.node.rect(this.x+p,this.y+f.KEY_PADDING_TOP+l,13,13).addClass(h);C=this.node.text(this.x+f.KEY_TEXT_SPACING+h.getBBox().width+p,this.y+f.KEY_PADDING_TOP+l+parseInt(h.attr("height"),10)-1,k).attr({"font-family":f.FONT_FAMILY,"font-size":f.TEXT_SIZE_SMALL});k=this.node.g(h,C).data("fullText",m[n]);h=this.columnWidth-
f.KEY_TEXT_SPACING;var q=k.getBBox().width;if(!(q<=h))for(var w=k.select("text"),e=w.attr("text"),A=!0,e=e.substr(0,e.length-1)+"\u2026";A;)if(e=e.substr(0,e.length-2)+"\u2026",w.attr("text",e),q=k.getBBox().width,q<=h||5===e.length)A=!1;a.append(k);p+=this.columnWidth;return!0}.bind(this));var w=a.getBBox(),m=this.container.getBBox();this.container.attr({height:w.height+f.KEY_PADDING_TOP+f.KEY_PADDING_BOTTOM});!0===this.centerItems?a.transform("t"+(m.width/2-w.width/2)+" 0"):a.transform("t"+f.KEY_PADDING_LEFT+
" 0");return this.node.g(this.container,a).addClass("fm-key").attr({strokeDasharray:this.width+","+m.height+",0,"+100*this.width+",0"})},show:function(){},setHeight:function(f){this.node.select(".fm-key-container").attr({height:f+"px"})}};return y});
define("multitext",["snap"],function(y){return y.plugin(function(f,q,w,b){w.prototype.multitext=function(a,b,f,q,m){"undefined"===typeof q&&(q="1.8em");"undefined"===typeof m&&(m="start");f=f.split("\n");b=this.text(a,b,f);b.attr({textAnchor:m});b.selectAll("tspan:nth-child(n+2)").attr({dy:q,x:a});return b}})});
define("tooltip",["config","multitext"],function(y,f){function q(b,a,f,l,q){(this.enableBlackBorder=l)&&!document.getElementById("black-border")&&(b.node.querySelector("defs").innerHTML+='<filter id="black-border" x="-5%" y="-5%" width="110%" height="110%"><feMorphology in="SourceAlpha" operator="dilate" radius="1" result="border"></feMorphology><feGaussianBlur stdDeviation="0.2" in="border" result="blurred-border"></feGaussianBlur><feMerge><feMergeNode in="blurred-border"></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter>');this.tooltipClass=
a;this.colorClass=f;this.colorOverride=q;this._paper=b;this._parent=b.node;this._tooltipBG=this._tooltipArrow=null;this._tooltipPlacement="right";this.snapElement=this._tooltipText=null}var w;y.TOOLTIP_MAX_VALUE_LENGTH?w=y.TOOLTIP_MAX_VALUE_LENGTH:20;q.prototype={_positionTooltipArrow:function(b){var a=Snap.matrix(),f=this._tooltipBG.getBBox();switch(b){case "left":a.translate(f.width+4,f.height/2);a.rotate(180);this._tooltipArrow.transform(a.toTransformString());break;case "right":a.translate(-4,
f.height/2);this._tooltipArrow.transform(a.toTransformString());break;case "top":a.translate(f.width/2,f.height+4);a.rotate(-90);this._tooltipArrow.transform(a.toTransformString());break;case "bottom":a.translate(f.width/2,-4),a.rotate(90),this._tooltipArrow.transform(a.toTransformString())}this._tooltipPlacement=b},constructor:q,hide:function(){this.snapElement&&this.snapElement.attr("display","none")},remove:function(){this._tooltipText=this._tooltipBG=this._tooltipArrow=null;this.snapElement.remove();
this.snapElement=null},render:function(b,a){var f=this._paper,l=null;null!==this.snapElement&&this.remove();this.snapElement=f.g();var q,m="[object Array]"===Object.prototype.toString.call(a)?!0:!1;b.length>w&&(b=b.substring(0,w-3)+"...");if(m){q=f.g();q.attr({fill:"#fff"});var u=f.text(10,10,b);u.attr({dy:parseInt("12px",10),"font-family":"'Lato', sans-serif","font-size":"12px"});q.append(u);var n=[],h=[];a.forEach(function(a){var b;b=a.title.length>w?a.title.substring(0,w-3)+"...":a.title;a=a.value.length>
w?a.value.substring(0,w-3)+"...":a.value;n.push(b+":");h.push(a)});var l=f.multitext(10,20+u.getBBox().height+5,n.join("\n"),"1.2em").attr({"font-family":"'Lato', sans-serif","font-size":"12px"}),k=f.multitext(10,20+u.getBBox().height+5,h.join("\n"),"1.2em","end").attr({"font-family":"'Lato', sans-serif","font-size":"12px"});k.transform("t "+(l.getBBox().width+k.getBBox().width+5)+" 0");q.append(l);q.append(k)}else q=f.text(10,10,b+": "+a),q.attr({dy:parseInt("12px",10)});this._tooltipText=q;this.snapElement.append(q);
this.snapElement.addClass("fm-tooltip "+this.tooltipClass);l=q.getBBox();q=f.rect(0,0,l.width+10+10,l.height+10+10,4);q.addClass(this.colorClass);this.colorOverride&&q.attr({fill:this.colorOverride});this._tooltipBG=q;m&&u.transform("t "+(l.width/2-u.getBBox().width/2)+" 0");f=f.polygon([-5,.2,5,-5,5,5]).addClass(this.colorClass);this.colorOverride&&f.attr({fill:this.colorOverride});this._tooltipArrow=f;this._positionTooltipArrow(this._tooltipPlacement);this.snapElement.prepend(q);this.snapElement.append(f);
this.hide();this.enableBlackBorder&&this.snapElement.attr({filter:"url(#black-border)"});return this.snapElement},setPosition:function(b,a,f){if(this.snapElement){void 0===f?f=this._tooltipPlacement:f!==this._tooltipPlacement&&this._positionTooltipArrow(f);var l=this._tooltipArrow.getBBox(),q=this._tooltipBG.getBBox();switch(f){case "left":b=b-l.width-q.width;a-=q.height/2;break;case "right":b+=l.width;a-=q.height/2;break;case "bottom":b-=q.width/2;a+=l.height;break;case "top":b-=q.width/2,a=a-q.height-
l.height}this.snapElement.transform("T"+b+","+a)}},show:function(){this.snapElement&&(this.snapElement.parent().append(this.snapElement),this.snapElement.attr("display","block"))}};return q});
define("multi-tier-tooltip",["tooltip","multitext"],function(y){function f(f,w,b){y.call(this,f,w,b)}f.prototype=Object.create(y.prototype);f.prototype.render=function(f,w,b){var a=this._paper,p=null;null!==this.snapElement&&this.remove();this.snapElement=a.g();var l;l=a.g();f=a.text(10,7,f);f.attr({dy:parseInt("12px",10)});l.append(f);var C=[],m=[];w.forEach(function(a){C.push(a.title+":");m.push(a.value)});w=a.multitext(10,f.getBBox().y+f.getBBox().height,C.join("\n"),"1.4em");w.transform("t0 "+
w.getBBox().height);var p=a.multitext(10,f.getBBox().y+f.getBBox().height,m.join("\n"),"1.4em","end"),u=[],n=[];b.forEach(function(a){u.push(a.title+":");n.push(a.value)});b=a.multitext(10,w.getBBox().y+20+2*parseInt("12px",10),u.join("\n"),"1.4em");var h=a.multitext(10,w.getBBox().y+20+2*parseInt("12px",10),n.join("\n"),"1.4em","end"),k=w.getBBox(),x=b.getBBox(),k=k.width>x.width?k.width:x.width,x=p.getBBox(),B=h.getBBox(),x=x.width>B.width?x.width:B.width;p.transform("t "+(k+x)+" "+p.getBBox().height);
h.transform("t "+(k+x)+" 0");l.append(w);l.append(p);l.append(b);l.append(h);l.attr({fill:"#fff","font-family":"'Lato', sans-serif","font-size":"12px"});this._tooltipText=l;p=l.getBBox();b=a.rect(0,0,p.width+10+10,p.height+7+10,4);b.addClass(this.colorClass);this._tooltipBG=b;k=b.getBBox();this.groupBoundary=w.getBBox().y+10+parseInt("12px",10);w=a.line(0,this.groupBoundary,k.width,this.groupBoundary).attr({stroke:"white"});h=a.rect(k.x,k.y,k.width,k.height,4);k=a.rect(k.x,this.groupBoundary,k.width,
k.height-this.groupBoundary).attr("fill","white");h.attr("mask",k);h.addClass(this.colorClass+" tint-1");f.transform("t "+(p.width/2-f.getBBox().width/2)+" 0");f=a.polygon([-3.5,.2,6.5,-5,6.5,5]);a=a.rect(-6,-6,11,12).attr("fill","#fff");f.attr({mask:a}).addClass(this.colorClass);this._tooltipArrow=f;this._positionTooltipArrow(this._tooltipPlacement);this.snapElement.append(b);this.snapElement.append(h);this.snapElement.append(l);this.snapElement.append(f);this.snapElement.append(w);this.snapElement.addClass("fm-tooltip");
this.hide();return this.snapElement};f.prototype.setPosition=function(f,w,b){if(this.snapElement){void 0===b?b=this._tooltipPlacement:b!==this._tooltipPlacement&&this._positionTooltipArrow(b);var a=this._tooltipArrow.getBBox(),p=this._tooltipBG.getBBox();switch(b){case "left":f=f-a.width-p.width;w=w-this.groupBoundary/2-2;break;case "right":f+=a.width;w=w-this.groupBoundary/2-2;break;case "top":f=f-a.width-p.width;w-=a.height;break;case "bottom":f+=a.width,w+=a.height}this.snapElement.transform("T"+
f+","+w)}};f.prototype._positionTooltipArrow=function(f){var w=Snap.matrix(),b=this._tooltipBG.getBBox();switch(f){case "left":w.translate(b.width+4,this.groupBoundary/2+3);w.rotate(180);this._tooltipArrow.transform(w.toTransformString());break;case "right":w.translate(-4,this.groupBoundary/2+3);this._tooltipArrow.transform(w.toTransformString());break;case "top":w.translate(b.width/2,b.height+4);w.rotate(-90);this._tooltipArrow.transform(w.toTransformString());break;case "bottom":w.translate(b.width/
2,-4);w.rotate(90);this._tooltipArrow.transform(w.toTransformString());break;case "none":this._tooltipArrow.remove()}this._tooltipPlacement=f};return f});
define("utilities",["multi-tier-tooltip","key","config"],function(y,f,q){var w=function(){return-1!==navigator.userAgent.indexOf("MSIE")||0<navigator.appVersion.indexOf("Trident/")?!0:!1};return{calculateTotalLabelsLength:function(b,a){var f=0,l=0;b.forEach(function(b){var m=a.group().addClass("fm-axis"),q=a.text(-1E3,-1E3,b);b=a.text(-1E3,-1E3,b).addClass("fm-squeezed-label");m.append(q);m.append(b);var n=q.getBBox().width;n>f&&(f=n);n=b.getBBox().width;n>l&&(l=n);q.remove();b.remove();m.remove()});
return{target:f*b.length,squeezed:l*b.length}},straddlesZero:function(b){return 0>b.min*b.max},getNegativeProportion:function(b,a){return 0<b*a?0:-b/a},createTooltip:function(b,a,f,l,q,m,u,n,h){u=u.map(function(a,b){return{title:a.title,value:n[b].value}});b=new y(b,"fm-column-bar-tooltip","fm-datum-color-overflow");q=b.render(q,[{title:"Total",value:m}],u).addClass("with-fill");h.append(q);b.setPosition(a,f,l);return b},drawPullout:function(b,a,f,l,q){b=b.rect(a,f,l,q);b.addClass("fm-pullout");return b},
drawKey:function(b,a,p,l,C,m,u,n){var h=m.map(function(a){return a.value}),k=n?!0:!1,x=b.group().addClass("fm-key"),B=m.length;k&&B++;var e=Math.min(B,Math.ceil(l/C));2>e&&k&&(e=2);C=l/(e+q.KEY_COLUMN_PADDING_RATIO);k&&e--;B=b.line(a,p,a+l,p);p=(new f(b,a,p,l,e,C,!k,h,null,100,!1,u)).render();u=p.node.querySelectorAll(".fm-key-items > g");for(h=0;h<u.length;h++)m[h].colorOverride&&(e=u[h].querySelector("rect"),e.setAttribute("fill",m[h].colorOverride),e.className.baseVal="");x.append(p);x.append(B);
if(k){B=p.select(".fm-key-items").getBBox();m=b.group();k=a+l-C;C=B.cy;B=b.line(k,C-q.KEY_DIVIDOR_HEIGHT/2,k,C+q.KEY_DIVIDOR_HEIGHT/2).addClass("fm-key-dividor");m.append(B);k+=q.KEY_SQUARE_LENGTH;B=b.rect(k,C-q.KEY_SQUARE_LENGTH/2,q.KEY_SQUARE_LENGTH,q.KEY_SQUARE_LENGTH).addClass("fm-pullout-key");m.append(B);k+=q.KEY_SQUARE_LENGTH+q.KEY_TEXT_SPACING;b=b.text(k,C,n).addClass("fm-pullout-title");for(w()&&b.attr({dy:"0.5em"});b.getBBox().x2>a+l&&!(n.length<=q.KEY_MIN_PULLOUT_TITLE_LENGTH);)n=n.substring(0,
n.length-1),b.node.textContent=n+"\u2026";m.append(b);x.append(m)}return x},isIE:w}});
define("column","snap config scale-utils number-utils axis utilities tooltip".split(" "),function(y,f,q,w,b,a,p){function l(b,f,l,n,h,k,p,q,e,w){var r=null;f.hover(function(){null===r&&(r=a.createTooltip(b,l,n,h,k,p,q,e,w));r.show()},function(){r.hide()})}return{drawYRangeAxis:function(a,b,l,n,h,k,p,q){h=h.map(function(a){var b=w.renderValue(Math.abs(a));return{position:a,label:(0>a?"-":"")+k+b+p}});q=a.axis(b,n.start,n,h,l,"vertical",q,!1,"first").addClass("fm-axis");q.transform("translate("+q.getBBox().width+
",0)");var e=a.group(),y=q.getBBox().x2+f.LABEL_AXIS_PADDING,r=b+l;h.forEach(function(b){var f=n.getPixel(b.position),f=a.line(y,f,r,f);0===b.position?f.addClass("fm-major-grid-line"):f.addClass("fm-minor-grid-line");e.append(f)});return q},drawXLabelAxis:function(b,l,p,n,h,k,q,w){var e=b.group().addClass("fm-axis"),y=l+f.LABEL_AXIS_PADDING+q+k/2;h.forEach(function(h){var d=b.text(y,h.invertPosition?p-f.TICK_MARK_VERTICAL_PADDING:p+f.TICK_MARK_VERTICAL_PADDING,h.text);w&&d.addClass("fm-squeezed-label");
h.invertPosition?d.addClass("fm-inverted-axis-label"):d.addClass("fm-axis-label");h.pulledOut&&d.addClass("fm-pulled-out-label");a.isIE()&&d.attr({dy:"0.5em"});e.append(d);y+=2*q+k});return e},drawColumns:function(b,m,p,n,h,k,q,y,e,A,r){var d=q.getPixel(0),v=b.group(),E=b.group(),D=b.group(),c=m+f.LABEL_AXIS_PADDING;p.rows.forEach(function(e,f){if(e.pullout){var k=a.drawPullout(b,c,q.end,2*n+h,q.start-q.end);v.append(k)}var m=b.group().addClass("fm-stacked-column");c+=n;var A=0;p.series.forEach(function(a,
f){if(e.values[f]){var k=q.getPixel(e.values[f].value),l=k,k=d-k;0>k&&(k*=-1,l=d);l=b.rect(c,l-A,h,k).addClass("fm-column-bar-datum");m.append(l);1<p.series.length?a.hasOwnProperty("colorOverride")?l.attr({fill:a.colorOverride}):l.addClass(y[f]):e.hasOwnProperty("colorOverride")?l.attr({fill:e.colorOverride}):l.addClass(y[f]);e.tintClass&&l.addClass(e.tintClass);w.renderValue(Math.abs(e.values[f].value));A+=k}});var k=m.getBBox(),V,U;k.cx>r?(U=c,V="left"):(U=c+h,V="right");l(b,m,U,k.y,V,e.title,w.renderValue(e.total),
p.series,e.values.map(function(a){return{value:w.renderValue(a.value)}}),D);E.append(m);c+=n+h});E.append(D);return E}}});
define("bar","snap config scale-utils number-utils axis utilities".split(" "),function(y,f,q,w,b,a){function p(b,f,m,p,n,h,k,q,w,e){f.click(function(){b.tooltipObject&&b.tooltipObject.remove();var y=f.getBBox();b.tooltipObject=a.createTooltip(b,m,p,n,h,k,q,w,e);var r=b.node.getBoundingClientRect(),d=b.tooltipObject.snapElement.getBBox();if(0===d.x2||0===d.width)b.tooltipObject.show(),d=b.tooltipObject.snapElement.getBBox(),b.tooltipObject.hide();if(d.x2>r.width||0>d.x)b.tooltipObject=y.cy>r.height/
2?a.createTooltip(b,m,p,"top",h,k,q,w,e):a.createTooltip(b,m,p,"bottom",h,k,q,w,e);b.tooltipObject.show()})}return{drawXRangeAxis:function(a,b,f,p,n,h,k,q){n=n.map(function(a){var b=w.renderValue(Math.abs(a));return{position:a,label:(0>a?"-":"")+h+b+k}});q=a.axis(p.start,b,p,n,0,"horizontal",q,!1,"last").addClass("fm-axis");var y=a.group(),e=b-f;n.forEach(function(f){var h=p.getPixel(f.position),h=a.line(h,b,h,e);0===f.position?h.addClass("fm-major-grid-line"):h.addClass("fm-minor-grid-line");y.append(h)});
q.append(y);return q},drawYLabelAxis:function(b,p,m,q,n,h,k,w,y){var e=b.group().addClass("fm-axis").addClass("fm-y-axis"),A=m-f.LABEL_AXIS_PADDING-k-h/2;n.forEach(function(f){var d=b.text(p,A,f.text).addClass("fm-axis-label").attr("text-anchor","end");e.append(d);f.pulledOut&&d.addClass("fm-pulled-out-label");a.isIE()&&d.attr({dy:"0.5em"});A-=2*k+h});e.transform("translate("+e.getBBox().width+",0)");return e},drawBars:function(b,q,m,u,n,h,k,x,y,e,A,r){var d=k.getPixel(0),v=b.group(),E=b.group(),
D=b.group(),c=q-f.LABEL_AXIS_PADDING;m.rows.forEach(function(e){c-=u;if(e.pullout){var f=a.drawPullout(b,k.start,c-u,k.end-k.start,2*u+n);v.append(f)}var h=b.group().addClass("fm-stacked-bar"),q=d;m.series.forEach(function(a,f){if(e.values[f]){var p=k.getPixel(e.values[f].value),r=q,p=p-d;0>p&&(p*=-1,r-=p);r=b.rect(r,c,p,n).addClass("fm-column-bar-datum");h.append(r);1<m.series.length?a.hasOwnProperty("colorOverride")?r.attr({fill:a.colorOverride}):r.addClass(x[f]):e.hasOwnProperty("colorOverride")?
r.attr({fill:e.colorOverride}):r.addClass(x[f]);e.tintClass&&r.addClass(e.tintClass);w.renderValue(Math.abs(e.values[f].value));q+=p}});h.getBBox();p(b,h,A,r,"none",e.title,w.renderValue(e.total),m.series,e.values.map(function(a){return{value:w.renderValue(a.value)}}),D);E.append(h);c-=u+n});E.append(D);return E}}});
define("stacked-column-bar","snap config scale-utils color-utils number-utils axis grid-lines key column bar utilities".split(" "),function(y,f,q,w,b,a,p,l,C,m,u){return y.plugin(function(a,h,k){function l(a,b,e,h,k,c,m,p,n,w){var x=n.valuePrefix?n.valuePrefix:"",y=n.valueSuffix?n.valueSuffix:"",A=q.getTickMarks(0,m,f.TARGET_MARKER_COUNT,!1);m=A[0];var B=A[A.length-1];e=new q.Scale(e+k-f.BOTTOM_PADDING,-(e+k-f.TOP_PADDING-f.BOTTOM_PADDING),m,B);b=C.drawYRangeAxis(a,b+f.LEFT_PADDING,h-b-f.LEFT_PADDING-
f.RIGHT_PADDING,e,A,x,y,n.axisLabel);c.labels.map(function(a,c){return{position:c,label:a}});b=b.getBBox().x2+f.LABEL_AXIS_PADDING;h=h-b-f.RIGHT_PADDING;k=f.GROUP_WIDTH_TO_PADDING_RATIO*f.GROUP_PADDING_TO_BAR_PADDING_RATIO+1-c.series.length;var H=(h-2*f.LABEL_AXIS_PADDING)*k/(c.rows.length*c.series.length*f.GROUP_PADDING_TO_BAR_PADDING_RATIO*(f.GROUP_WIDTH_TO_PADDING_RATIO+2));k=H*c.series.length*f.GROUP_PADDING_TO_BAR_PADDING_RATIO/k;var A=k/f.GROUP_PADDING_TO_BAR_PADDING_RATIO,H=c.series.length*
H+(c.series.length-1)*A,L=!1,G=c.labels.map(function(a,b){var d=!1,e=!0;c.rows[b].values.forEach(function(a){0>a.value?d=!0:e=!1});d&&!e&&(L=!0);return{text:a,invertPosition:d,pulledOut:c.rows[b].pullout}});L||u.getNegativeProportion(m,B)<f.NEGATIVE_PROPORTION_STICKY_LABELS_LIMIT?(G.forEach(function(a){a.invertPosition=!1}),m=e.start):m=e.getPixel(0);w=C.drawXLabelAxis(a,b,m,h,G,H,k,w);C.drawColumns(a,b,c,k,H,A,e,p,x,y,w.getBBox().cx);if(1<c.series.length||n.pulloutTitle)x=c.series.map(function(a,
b){var d={value:a.title};c.series[b].hasOwnProperty("colorOverride")&&(d.colorOverride=c.series[b].colorOverride);return d}),y=Math.max(w.getBBox().y2,e.start),p=u.drawKey(a,b,y+f.KEY_MARGIN_TOP,h,f.TARGET_KEY_COLUMN_WIDTH,x,p,n.pulloutTitle).getBBox().y2,n=a.node.getBoundingClientRect(),a.node.setAttribute("viewBox","0 0 "+(n.right-n.left)+" "+p),a.node.style.height=p+"px"}function p(a){a.rows.reverse();a.labels.reverse();a.series.reverse();a.rows.forEach(function(a){a.values.reverse()})}function e(a,
d,e,h,k,c,l,n,w){p(c);k=w.valuePrefix?w.valuePrefix:"";var x=w.valueSuffix?w.valueSuffix:"",y=f.BAR_GROUP_TARGET_THICKNESS,A=f.BAR_SPACING,C=y/f.BAR_GROUP_WIDTH_TO_PADDING_RATIO,I=c.rows.length*(y+2*C)+2*f.LABEL_AXIS_PADDING,H=c.labels.map(function(a,b){return{text:a,pulledOut:c.rows[b].pullout}}),L=m.drawYLabelAxis(a,d+f.LEFT_PADDING,e+f.TOP_PADDING+I,I,H,y,C,k,x),H=q.getTickMarks(0,l,f.TARGET_MARKER_COUNT,!1),L=L.getBBox().x2+f.TICK_MARK_HORIZONTAL_PADDING;l=a.group().append(a.text(0,0,b.renderValue(l))).addClass("fm-tick-mark");
var G=l.getBBox().width;l.remove();l=new q.Scale(L,h-f.RIGHT_PADDING-L-G/2,H[0],H[H.length-1]);H=m.drawXRangeAxis(a,e+f.TOP_PADDING+I,I,l,H,k,x,w.axisLabel);m.drawBars(a,e+f.TOP_PADDING+I-y,c,C,y,A,l,n,k,x,l.start+f.BAR_TOOLTIP_X_PADDING,H.getBBox().y);e=H.getBBox().y2+f.BOTTOM_PADDING;if(1<c.series.length||w.pulloutTitle)k=c.series.map(function(a,b){var d={value:a.title};c.series[b].hasOwnProperty("colorOverride")&&(d.colorOverride=c.series[b].colorOverride);return d}),x=l.start,y=l.end-l.start,
y<f.KEY_MIN_WIDTH_FOR_AXIS_ALIGNMENT&&(y=h,x=d),d=u.drawKey(a,x,e+f.KEY_MARGIN_TOP,y,f.TARGET_KEY_COLUMN_WIDTH,k,n,w.pulloutTitle),e=d.getBBox().y2,a.prepend(d);d=a.node.getBoundingClientRect();a.node.setAttribute("viewBox","0 0 "+(d.right-d.left)+" "+e);a.node.style.height=e+"px"}function y(a){var b=0;a.rows.concat().sort(function(a,b){return b.values[0].value-a.values[0].value}).forEach(function(a,e,h){h=h[e-1];0!==e&&a.values[0].value/h.values[0].value<f.SHARED_TINT_MINIMUM_RATIO&&9>b&&b++;a.tintClass=
"tint-"+b})}k.prototype.chart=function(a,b,h,k,m,c){var n=this;u.straddlesZero(m.range)||(m.range.min<=m.range.max?m.range.min=0:m.range.max=0);var p=w.lowContrast(m.series.length,3<m.series.length||1===m.series.length?5:4);1===m.series.length&&y(m);var q=u.calculateTotalLabelsLength(m.labels,n),C=h/q.squeezed,q=h/q.target>f.MAX_LABEL_DENSITY,C=!q&&C>f.MAX_LABEL_DENSITY,B=Math.max.apply(Math,m.rows.map(function(a){return a.total}));q||C?l(n,a,b,h,k,m,B,p,c,C):e(n,a,b,h,k,m,B,p,c);a=n.rect(a,b,h,k);
a.attr({opacity:"0"});a.click(function(){n.tooltipObject&&(n.tooltipObject.remove(),n.tooltipObject=null)});this.prepend(a)}})});
define("render",["snap","classList","config","data-processor","stacked-column-bar"],function(y,f,q,w,b){function a(a){return a.split("-").map(function(a,b){return 0===b?a:a.charAt(0).toUpperCase()+a.substr(1)}).join("")}function p(a,b){var f=document.createElement("div");f.className="fm-powered-by-factmint";f.innerHTML='Powered by <a style="color: #527a92" href="http://factmint.com/charts">Factmint</a>';f.style.fontSize="8px";f.style.lineHeight="12px";f.style.width=b;f.style.textAlign="center";f.style.fontFamily=
"Lato, sans-serif";a.parentNode.insertBefore(f,a.nextSibling)}var l=/([0-9]+)(px|%|rem|em|ex|ch|vw|vh|vmin|vmax|mm|cm|in|pt|pc)/;return function(b){var f=b.getAttribute("data-fm-config"),u=f&&window[f]?window[f]:{};[].filter.call(b.attributes,function(a){return"data-fm-config"===a.name?!1:/^data-fm-/.test(a.name)}).forEach(function(b){var c=b.name.replace(/^data-fm-/,""),c=a(c);u[c]=b.value});u.width||(u.width="100%");u.height||(u.height="450px");if(null===u.height.match(l)||null===u.width.match(l))throw"A valid CSS length must be used for the chart dimensions (such as 50% or 400px)";
var n,h,k;u.width.replace(l,function(a,b,c){n=parseFloat(b);h=n*(q.SPILLOVER_LEFT+q.SPILLOVER_RIGHT);k=c});var x,B,e;u.height.replace(l,function(a,b,c){x=parseFloat(b);B=x*(q.SPILLOVER_TOP+q.SPILLOVER_BOTTOM);e=c});f=document.createElementNS("http://www.w3.org/2000/svg","svg");f.style.opacity=0;f.style.transition="opacity 0.3s ease-in-out";b.id||(b.id=Math.floor(16777216*Math.random()).toString(16));f.setAttribute("aria-describedby",b.id);u.enableSpillover?(f.style.height=x+B+e,f.style.width=n+h+
k,f.style.margin="-"+q.SPILLOVER_TOP*x+e+" -"+q.SPILLOVER_RIGHT*n+k+" -"+q.SPILLOVER_BOTTOM*x+e+" -"+q.SPILLOVER_LEFT*n+k):(f.style.height=x+e,f.style.width=n+k);b.parentElement.insertBefore(f,b);var A=y(f),r=w.tableToJSON(b,u),d=f.getBoundingClientRect(),v=d.right-d.left,d=d.bottom-d.top,E=v/(1+q.SPILLOVER_LEFT+q.SPILLOVER_RIGHT),D=d/(1+q.SPILLOVER_TOP+q.SPILLOVER_BOTTOM),c=E*q.SPILLOVER_LEFT,z=D*q.SPILLOVER_TOP;f.setAttribute("viewBox","0 0 "+v+" "+d);A.chart(c,z,E,D,r,u);b.classList.add("fm-hidden");
f.style.opacity=1;p(f,n+k)}});
require.config({paths:{text:"../../bower_components/requirejs-text/text",classList:"../../bower_components/classlist/classList",snap:"../../bower_components/Snap.svg/dist/snap.svg",axis:"../../bower_components/axis/dist/axis","grid-lines":"../../bower_components/grid-lines/dist/grid-lines","scale-utils":"../../bower_components/scale-utilities/dist/scale-utils","number-utils":"../../bower_components/number-utils/dist/number-utils","color-utils":"../../bower_components/color-utils/dist/color","tick-mark":"../../bower_components/tick-mark/dist/tick-mark",
key:"../../bower_components/key/dist/key","scatter-key":"../../bower_components/scatter-key/dist/scatter-key","multi-tier-tooltip":"../../bower_components/multi-tier-tooltip/dist/multi-tier-tooltip",multitext:"../../bower_components/multitext/dist/multitext",tooltip:"../../bower_components/Tooltip/dist/Tooltip",moment:"../../bower_components/moment/moment"},shim:{snap:{exports:"Snap"}}});
require(["render"],function(y){var f=document.querySelectorAll("table.fm-stacked-column-bar");if(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect){var q=document.createElementNS("http://www.w3.org/2000/svg","svg");q.style.width="500px";document.body.appendChild(q);var w=q.getBoundingClientRect();q.parentNode.removeChild(q);if(500===w.width)for(q=0;q<f.length;q++){if(window.factmint&&window.factmint.previewVisualizations||!f[q].hasAttribute("data-fm-rendered")){f[q].setAttribute("data-fm-rendered",
"true");try{y(f[q])}catch(b){console.log("ERROR: chart rendering failed"),b instanceof Error?console.log(b.stack):console.log(b)}}}else console.log("Your browser does not correctly support getBoundingClientRect() for SVG elements: visualizations disabled")}else console.log("SVG not supported: visualizations disabled")});define("main",function(){});
