/* Copyright Factmint Ltd, not for distribution without consent; version 1.0.2; includes SnapSVG, https://github.com/adobe-webplatform/Snap.svg/blob/master/LICENSE */
/*
 almond 0.3.0 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/almond for details
*/
'use strict';var requirejs,require,define;
(function(x){function f(c,a){var b,d,r,e,h,f,p,k,t,l=a&&a.split("/"),m=A.map,u=m&&m["*"]||{};if(c&&"."===c.charAt(0))if(a){l=l.slice(0,l.length-1);c=c.split("/");h=c.length-1;A.nodeIdCompat&&n.test(c[h])&&(c[h]=c[h].replace(n,""));c=l.concat(c);for(h=0;h<c.length;h+=1)if(b=c[h],"."===b)c.splice(h,1),--h;else if(".."===b)if(1!==h||".."!==c[2]&&".."!==c[0])0<h&&(c.splice(h-1,2),h-=2);else break;c=c.join("/")}else 0===c.indexOf("./")&&(c=c.substring(2));if((l||u)&&m){b=c.split("/");for(h=b.length;0<
h;--h){d=b.slice(0,h).join("/");if(l)for(t=l.length;0<t;--t)if(r=m[l.slice(0,t).join("/")])if(r=r[d]){e=r;f=h;break}if(e)break;!p&&u&&u[d]&&(p=u[d],k=h)}!e&&p&&(e=p,f=k);e&&(b.splice(0,f,e),c=b.join("/"))}return c}function y(c,a){return function(){var b=t.call(arguments,0);"string"!==typeof b[0]&&1===b.length&&b.push(null);return m.apply(x,b.concat([c,a]))}}function C(c){return function(a){return f(a,c)}}function a(c){return function(a){d[c]=a}}function k(c){if(b.call(h,c)){var a=h[c];delete h[c];
p[c]=!0;z.apply(x,a)}if(!b.call(d,c)&&!b.call(p,c))throw Error("No "+c);return d[c]}function l(c){var a,b=c?c.indexOf("!"):-1;-1<b&&(a=c.substring(0,b),c=c.substring(b+1,c.length));return[a,c]}function w(c){return function(){return A&&A.config&&A.config[c]||{}}}var z,m,u,e,d={},h={},A={},p={},b=Object.prototype.hasOwnProperty,t=[].slice,n=/\.js$/;u=function(c,a){var b,d=l(c),e=d[0];c=d[1];e&&(e=f(e,a),b=k(e));e?c=b&&b.normalize?b.normalize(c,C(a)):f(c,a):(c=f(c,a),d=l(c),e=d[0],c=d[1],e&&(b=k(e)));
return{f:e?e+"!"+c:c,n:c,pr:e,p:b}};e={require:function(c){return y(c)},exports:function(c){var a=d[c];return"undefined"!==typeof a?a:d[c]={}},module:function(c){return{id:c,uri:"",exports:d[c],config:w(c)}}};z=function(c,n,f,t){var r,F,l,A,m=[];F=typeof f;var z;t=t||c;if("undefined"===F||"function"===F){n=!n.length&&f.length?["require","exports","module"]:n;for(A=0;A<n.length;A+=1)if(l=u(n[A],t),F=l.f,"require"===F)m[A]=e.require(c);else if("exports"===F)m[A]=e.exports(c),z=!0;else if("module"===
F)r=m[A]=e.module(c);else if(b.call(d,F)||b.call(h,F)||b.call(p,F))m[A]=k(F);else if(l.p)l.p.load(l.n,y(t,!0),a(F),{}),m[A]=d[F];else throw Error(c+" missing "+F);n=f?f.apply(d[c],m):void 0;c&&(r&&r.exports!==x&&r.exports!==d[c]?d[c]=r.exports:n===x&&z||(d[c]=n))}else c&&(d[c]=f)};requirejs=require=m=function(c,a,b,d,h){if("string"===typeof c)return e[c]?e[c](a):k(u(c,a).f);if(!c.splice){A=c;A.deps&&m(A.deps,A.callback);if(!a)return;a.splice?(c=a,a=b,b=null):c=x}a=a||function(){};"function"===typeof b&&
(b=d,d=h);d?z(x,c,a,b):setTimeout(function(){z(x,c,a,b)},4);return m};m.config=function(c){return m(c)};requirejs._defined=d;define=function(c,a,e){a.splice||(e=a,a=[]);b.call(d,c)||b.call(h,c)||(h[c]=[c,a,e])};define.amd={jQuery:!0}})();define("almond",function(){});
(function(x){var f=/[\.\/]/,y=/\s*,\s*/,C=function(a,e){return a-e},a,k,l={n:{}},w=function(){for(var a=0,e=this.length;a<e;a++)if("undefined"!=typeof this[a])return this[a]},z=function(){for(var a=this.length;--a;)if("undefined"!=typeof this[a])return this[a]},m=function(f,e){f=String(f);var d=k,h=Array.prototype.slice.call(arguments,2),A=m.listeners(f),p=0,b,t=[],n={},c=[],l=a;c.firstDefined=w;c.lastDefined=z;a=f;for(var v=k=0,D=A.length;v<D;v++)"zIndex"in A[v]&&(t.push(A[v].zIndex),0>A[v].zIndex&&
(n[A[v].zIndex]=A[v]));for(t.sort(C);0>t[p];)if(b=n[t[p++]],c.push(b.apply(e,h)),k)return k=d,c;for(v=0;v<D;v++)if(b=A[v],"zIndex"in b)if(b.zIndex==t[p]){c.push(b.apply(e,h));if(k)break;do if(p++,(b=n[t[p]])&&c.push(b.apply(e,h)),k)break;while(b)}else n[b.zIndex]=b;else if(c.push(b.apply(e,h)),k)break;k=d;a=l;return c};m._events=l;m.listeners=function(a){a=a.split(f);var e=l,d,h,k,p,b,t,n,c=[e],E=[];k=0;for(p=a.length;k<p;k++){n=[];b=0;for(t=c.length;b<t;b++)for(e=c[b].n,d=[e[a[k]],e["*"]],h=2;h--;)if(e=
d[h])n.push(e),E=E.concat(e.f||[]);c=n}return E};m.on=function(a,e){a=String(a);if("function"!=typeof e)return function(){};for(var d=a.split(y),h=0,k=d.length;h<k;h++)(function(a){a=a.split(f);for(var b=l,d,h=0,c=a.length;h<c;h++)b=b.n,b=b.hasOwnProperty(a[h])&&b[a[h]]||(b[a[h]]={n:{}});b.f=b.f||[];h=0;for(c=b.f.length;h<c;h++)if(b.f[h]==e){d=!0;break}!d&&b.f.push(e)})(d[h]);return function(a){+a==+a&&(e.zIndex=+a)}};m.f=function(a){var e=[].slice.call(arguments,1);return function(){m.apply(null,
[a,null].concat(e).concat([].slice.call(arguments,0)))}};m.stop=function(){k=1};m.nt=function(f){return f?(new RegExp("(?:\\.|\\/|^)"+f+"(?:\\.|\\/|$)")).test(a):a};m.nts=function(){return a.split(f)};m.off=m.unbind=function(a,e){if(a){var d=a.split(y);if(1<d.length)for(var h=0,k=d.length;h<k;h++)m.off(d[h],e);else{for(var d=a.split(f),p,b,t,n,c=[l],h=0,k=d.length;h<k;h++)for(n=0;n<c.length;n+=t.length-2){t=[n,1];p=c[n].n;if("*"!=d[h])p[d[h]]&&t.push(p[d[h]]);else for(b in p)p.hasOwnProperty(b)&&
t.push(p[b]);c.splice.apply(c,t)}h=0;for(k=c.length;h<k;h++)for(p=c[h];p.n;){if(e){if(p.f){n=0;for(d=p.f.length;n<d;n++)if(p.f[n]==e){p.f.splice(n,1);break}!p.f.length&&delete p.f}for(b in p.n)if(p.n.hasOwnProperty(b)&&p.n[b].f){t=p.n[b].f;n=0;for(d=t.length;n<d;n++)if(t[n]==e){t.splice(n,1);break}!t.length&&delete p.n[b].f}}else for(b in delete p.f,p.n)p.n.hasOwnProperty(b)&&p.n[b].f&&delete p.n[b].f;p=p.n}}}else m._events=l={n:{}}};m.once=function(a,e){var d=function(){m.unbind(a,d);return e.apply(this,
arguments)};return m.on(a,d)};m.version="0.4.2";m.toString=function(){return"You are running Eve 0.4.2"};"undefined"!=typeof module&&module.exports?module.exports=m:"function"===typeof define&&define.amd?define("eve",[],function(){return m}):x.eve=m})(this);
(function(x,f){"function"===typeof define&&define.amd?define("snap",["eve"],function(y){return f(x,y)}):f(x,x.eve)})(this,function(x,f){var y=function(a){var f={},l=x.requestAnimationFrame||x.webkitRequestAnimationFrame||x.mozRequestAnimationFrame||x.oRequestAnimationFrame||x.msRequestAnimationFrame||function(a){setTimeout(a,16)},w=Array.isArray||function(a){return a instanceof Array||"[object Array]"==Object.prototype.toString.call(a)},z=0,m="M"+(+new Date).toString(36),u=function(a){if(null==a)return this.s;
var b=this.s-a;this.b+=this.dur*b;this.B+=this.dur*b;this.s=a},e=function(a){if(null==a)return this.spd;this.spd=a},d=function(a){if(null==a)return this.dur;this.s=this.s*a/this.dur;this.dur=a},h=function(){delete f[this.id];this.update();a("mina.stop."+this.id,this)},A=function(){this.pdif||(delete f[this.id],this.update(),this.pdif=this.get()-this.b)},p=function(){this.pdif&&(this.b=this.get()-this.pdif,delete this.pdif,f[this.id]=this)},b=function(){var a;if(w(this.start)){a=[];for(var b=0,d=this.start.length;b<
d;b++)a[b]=+this.start[b]+(this.end[b]-this.start[b])*this.easing(this.s)}else a=+this.start+(this.end-this.start)*this.easing(this.s);this.set(a)},t=function(){var c=0,b;for(b in f)if(f.hasOwnProperty(b)){var d=f[b],e=d.get();c++;d.s=(e-d.b)/(d.dur/d.spd);1<=d.s&&(delete f[b],d.s=1,c--,function(c){setTimeout(function(){a("mina.finish."+c.id,c)})}(d));d.update()}c&&l(t)},n=function(a,E,v,D,r,F,w){a={id:m+(z++).toString(36),start:a,end:E,b:v,s:0,dur:D-v,spd:1,get:r,set:F,easing:w||n.linear,status:u,
speed:e,duration:d,stop:h,pause:A,resume:p,update:b};f[a.id]=a;E=0;for(var y in f)if(f.hasOwnProperty(y)&&(E++,2==E))break;1==E&&l(t);return a};n.time=Date.now||function(){return+new Date};n.getById=function(a){return f[a]||null};n.linear=function(a){return a};n.easeout=function(a){return Math.pow(a,1.7)};n.easein=function(a){return Math.pow(a,.48)};n.easeinout=function(a){if(1==a)return 1;if(0==a)return 0;var b=.48-a/1.04,d=Math.sqrt(.1734+b*b);a=d-b;a=Math.pow(Math.abs(a),1/3)*(0>a?-1:1);b=-d-b;
b=Math.pow(Math.abs(b),1/3)*(0>b?-1:1);a=a+b+.5;return 3*(1-a)*a*a+a*a*a};n.backin=function(a){return 1==a?1:a*a*(2.70158*a-1.70158)};n.backout=function(a){if(0==a)return 0;--a;return a*a*(2.70158*a+1.70158)+1};n.elastic=function(a){return a==!!a?a:Math.pow(2,-10*a)*Math.sin(2*(a-.075)*Math.PI/.3)+1};n.bounce=function(a){a<1/2.75?a*=7.5625*a:a<2/2.75?(a-=1.5/2.75,a=7.5625*a*a+.75):a<2.5/2.75?(a-=2.25/2.75,a=7.5625*a*a+.9375):(a-=2.625/2.75,a=7.5625*a*a+.984375);return a};return x.mina=n}("undefined"==
typeof f?function(){}:f),C=function(){function a(B,la){if(B){if(B.tagName)return D(B);if(l(B,"array")&&a.set)return a.set.apply(a,B);if(B instanceof n)return B;if(null==la)return B=r.doc.querySelector(B),D(B)}return new v(null==B?"100%":B,null==la?"100%":la)}function k(B,a){if(a){"#text"==B&&(B=r.doc.createTextNode(a.text||""));"string"==typeof B&&(B=k(B));if("string"==typeof a)return"xlink:"==a.substring(0,6)?B.getAttributeNS(q,a.substring(6)):"xml:"==a.substring(0,4)?B.getAttributeNS(ja,a.substring(4)):
B.getAttribute(a);for(var b in a)if(a[F](b)){var d=C(a[b]);d?"xlink:"==b.substring(0,6)?B.setAttributeNS(q,b.substring(6),d):"xml:"==b.substring(0,4)?B.setAttributeNS(ja,b.substring(4),d):B.setAttribute(b,d):B.removeAttribute(b)}}else B=r.doc.createElementNS(ja,B);return B}function l(a,b){b=C.prototype.toLowerCase.call(b);return"finite"==b?isFinite(a):"array"==b&&(a instanceof Array||Array.isArray&&Array.isArray(a))?!0:"null"==b&&null===a||b==typeof a&&null!==a||"object"==b&&a===Object(a)||U.call(a).slice(8,
-1).toLowerCase()==b}function w(a){if("function"==typeof a||Object(a)!==a)return a;var b=new a.constructor,d;for(d in a)a[F](d)&&(b[d]=w(a[d]));return b}function z(a,b,d){function c(){var e=Array.prototype.slice.call(arguments,0),h=e.join("\u2400"),q=c.cache=c.cache||{},r=c.count=c.count||[];if(q[F](h)){a:for(var e=r,r=h,K=0,f=e.length;K<f;K++)if(e[K]===r){e.push(e.splice(K,1)[0]);break a}return d?d(q[h]):q[h]}1E3<=r.length&&delete q[r.shift()];r.push(h);q[h]=a.apply(b,e);return d?d(q[h]):q[h]}return c}
function m(a,b,d,c,e,h){return null==e?(a-=d,b-=c,a||b?(180*L.atan2(-b,-a)/W+540)%360:0):m(a,b,e,h)-m(d,c,e,h)}function u(a){return a%360*W/180}function e(a){var b=[];a=a.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(a,B,d){d=d.split(/\s*,\s*|\s+/);"rotate"==B&&1==d.length&&d.push(0,0);"scale"==B&&(2<d.length?d=d.slice(0,2):2==d.length&&d.push(0,0),1==d.length&&d.push(d[0],0,0));"skewX"==B?b.push(["m",1,0,L.tan(u(d[0])),1,0,0]):"skewY"==B?b.push(["m",1,L.tan(u(d[0])),0,1,0,0]):b.push([B.charAt(0)].concat(d));
return a});return b}function d(B,b){var d=qa(B),c=new a.Matrix;if(d)for(var e=0,h=d.length;e<h;e++){var q=d[e],r=q.length,K=C(q[0]).toLowerCase(),f=q[0]!=K,n=f?c.invert():0,t;"t"==K&&2==r?c.translate(q[1],0):"t"==K&&3==r?f?(r=n.x(0,0),K=n.y(0,0),f=n.x(q[1],q[2]),n=n.y(q[1],q[2]),c.translate(f-r,n-K)):c.translate(q[1],q[2]):"r"==K?2==r?(t=t||b,c.rotate(q[1],t.x+t.width/2,t.y+t.height/2)):4==r&&(f?(f=n.x(q[2],q[3]),n=n.y(q[2],q[3]),c.rotate(q[1],f,n)):c.rotate(q[1],q[2],q[3])):"s"==K?2==r||3==r?(t=
t||b,c.scale(q[1],q[r-1],t.x+t.width/2,t.y+t.height/2)):4==r?f?(f=n.x(q[2],q[3]),n=n.y(q[2],q[3]),c.scale(q[1],q[1],f,n)):c.scale(q[1],q[1],q[2],q[3]):5==r&&(f?(f=n.x(q[3],q[4]),n=n.y(q[3],q[4]),c.scale(q[1],q[2],f,n)):c.scale(q[1],q[2],q[3],q[4])):"m"==K&&7==r&&c.add(q[1],q[2],q[3],q[4],q[5],q[6])}return c}function h(B,b){if(null==b){var c=!0;b="linearGradient"==B.type||"radialGradient"==B.type?B.node.getAttribute("gradientTransform"):"pattern"==B.type?B.node.getAttribute("patternTransform"):B.node.getAttribute("transform");
if(!b)return new a.Matrix;b=e(b)}else b=a._.rgTransform.test(b)?C(b).replace(/\.{3}|\u2026/g,B._.transform||""):e(b),l(b,"array")&&(b=a.path?a.path.toString.call(b):C(b)),B._.transform=b;var q=d(b,B.getBBox(1));if(c)return q;B.matrix=q}function A(B){B=B.node.ownerSVGElement&&D(B.node.ownerSVGElement)||B.node.parentNode&&D(B.node.parentNode)||a.select("svg")||a(0,0);var b=B.select("defs"),b=null==b?!1:b.node;b||(b=E("defs",B.node).node);return b}function p(B){return B.node.ownerSVGElement&&D(B.node.ownerSVGElement)||
a.select("svg")}function b(a,b,d){function c(a){if(null==a)return"";if(a==+a)return a;k(K,{width:a});try{return K.getBBox().width}catch(B){return 0}}function q(a){if(null==a)return"";if(a==+a)return a;k(K,{height:a});try{return K.getBBox().height}catch(B){return 0}}function e(c,q){null==b?r[c]=q(a.attr(c)||0):c==b&&(r=q(null==d?a.attr(c)||0:d))}var h=p(a).node,r={},K=h.querySelector(".svg---mgr");K||(K=k("rect"),k(K,{x:-9E9,y:-9E9,width:10,height:10,"class":"svg---mgr",fill:"none"}),h.appendChild(K));
switch(a.type){case "rect":e("rx",c),e("ry",q);case "image":e("width",c),e("height",q);case "text":e("x",c);e("y",q);break;case "circle":e("cx",c);e("cy",q);e("r",c);break;case "ellipse":e("cx",c);e("cy",q);e("rx",c);e("ry",q);break;case "line":e("x1",c);e("x2",c);e("y1",q);e("y2",q);break;case "marker":e("refX",c);e("markerWidth",c);e("refY",q);e("markerHeight",q);break;case "radialGradient":e("fx",c);e("fy",q);break;case "tspan":e("dx",c);e("dy",q);break;default:e(b,c)}h.removeChild(K);return r}
function t(a){l(a,"array")||(a=Array.prototype.slice.call(arguments,0));for(var b=0,c=0,d=this.node;this[b];)delete this[b++];for(b=0;b<a.length;b++)"set"==a[b].type?a[b].forEach(function(a){d.appendChild(a.node)}):d.appendChild(a[b].node);for(var q=d.childNodes,b=0;b<q.length;b++)this[c++]=D(q[b]);return this}function n(a){if(a.snap in O)return O[a.snap];var b=this.id=R(),c;try{c=a.ownerSVGElement}catch(d){}this.node=a;c&&(this.paper=new v(c));this.type=a.tagName;this.anims={};this._={transform:[]};
a.snap=b;O[b]=this;"g"==this.type&&(this.add=t);if(this.type in{g:1,mask:1,pattern:1})for(var q in v.prototype)v.prototype[F](q)&&(this[q]=v.prototype[q])}function c(a){this.node=a}function E(a,b){var c=k(a);b.appendChild(c);return D(c)}function v(a,b){var c,d,q,e=v.prototype;if(a&&"svg"==a.tagName){if(a.snap in O)return O[a.snap];var h=a.ownerDocument;c=new n(a);d=a.getElementsByTagName("desc")[0];q=a.getElementsByTagName("defs")[0];d||(d=k("desc"),d.appendChild(h.createTextNode("Created with Snap")),
c.node.appendChild(d));q||(q=k("defs"),c.node.appendChild(q));c.defs=q;for(var f in e)e[F](f)&&(c[f]=e[f]);c.paper=c.root=c}else c=E("svg",r.doc.body),k(c.node,{height:b,version:1.1,width:a,xmlns:ja});return c}function D(a){return!a||a instanceof n||a instanceof c?a:a.tagName&&"svg"==a.tagName.toLowerCase()?new v(a):a.tagName&&"object"==a.tagName.toLowerCase()&&"image/svg+xml"==a.type?new v(a.contentDocument.getElementsByTagName("svg")[0]):new n(a)}a.version="0.3.0";a.toString=function(){return"Snap v"+
this.version};a._={};var r={win:x,doc:x.document};a._.glob=r;var F="hasOwnProperty",C=String,I=parseFloat,P=parseInt,L=Math,V=L.max,J=L.min,N=L.abs,W=L.PI,U=Object.prototype.toString,G=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i;a._.separator=
/[,\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]+/;var H=/[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,S={hs:1,rg:1},Q=/([a-z])[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,
Y=/([rstm])[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,T=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/ig,
Z=0,X="S"+(+new Date).toString(36),R=function(){return X+(Z++).toString(36)},q="http://www.w3.org/1999/xlink",ja="http://www.w3.org/2000/svg",O={},ra=a.url=function(a){return"url('#"+a+"')"};a._.$=k;a._.id=R;a.format=function(){var a=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,c=function(a,B,c){var d=c;B.replace(b,function(a,b,B,c,q){b=b||c;d&&(b in d&&(d=d[b]),"function"==typeof d&&q&&(d=d()))});return d=(null==d||d==c?a:d)+""};return function(b,d){return C(b).replace(a,
function(a,b){return c(a,b,d)})}}();a._.clone=w;a._.cacher=z;a.rad=u;a.deg=function(a){return 180*a/W%360};a.angle=m;a.is=l;a.snapTo=function(a,b,c){c=l(c,"finite")?c:10;if(l(a,"array"))for(var d=a.length;d--;){if(N(a[d]-b)<=c)return a[d]}else{a=+a;d=b%a;if(d<c)return b-d;if(d>a-c)return b-d+a}return b};a.getRGB=z(function(b){if(!b||(b=C(b)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ia};if("none"==b)return{r:-1,g:-1,b:-1,hex:"none",toString:ia};!S[F](b.toLowerCase().substring(0,
2))&&"#"!=b.charAt()&&(b=ma(b));if(!b)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ia};var c,d,q,e,h;if(b=b.match(G)){b[2]&&(q=P(b[2].substring(5),16),d=P(b[2].substring(3,5),16),c=P(b[2].substring(1,3),16));b[3]&&(q=P((h=b[3].charAt(3))+h,16),d=P((h=b[3].charAt(2))+h,16),c=P((h=b[3].charAt(1))+h,16));b[4]&&(h=b[4].split(H),c=I(h[0]),"%"==h[0].slice(-1)&&(c*=2.55),d=I(h[1]),"%"==h[1].slice(-1)&&(d*=2.55),q=I(h[2]),"%"==h[2].slice(-1)&&(q*=2.55),"rgba"==b[1].toLowerCase().slice(0,4)&&(e=I(h[3])),
h[3]&&"%"==h[3].slice(-1)&&(e/=100));if(b[5])return h=b[5].split(H),c=I(h[0]),"%"==h[0].slice(-1)&&(c/=100),d=I(h[1]),"%"==h[1].slice(-1)&&(d/=100),q=I(h[2]),"%"==h[2].slice(-1)&&(q/=100),"deg"!=h[0].slice(-3)&&"\u00b0"!=h[0].slice(-1)||(c/=360),"hsba"==b[1].toLowerCase().slice(0,4)&&(e=I(h[3])),h[3]&&"%"==h[3].slice(-1)&&(e/=100),a.hsb2rgb(c,d,q,e);if(b[6])return h=b[6].split(H),c=I(h[0]),"%"==h[0].slice(-1)&&(c/=100),d=I(h[1]),"%"==h[1].slice(-1)&&(d/=100),q=I(h[2]),"%"==h[2].slice(-1)&&(q/=100),
"deg"!=h[0].slice(-3)&&"\u00b0"!=h[0].slice(-1)||(c/=360),"hsla"==b[1].toLowerCase().slice(0,4)&&(e=I(h[3])),h[3]&&"%"==h[3].slice(-1)&&(e/=100),a.hsl2rgb(c,d,q,e);c=J(L.round(c),255);d=J(L.round(d),255);q=J(L.round(q),255);e=J(V(e,0),1);b={r:c,g:d,b:q,toString:ia};b.hex="#"+(16777216|q|d<<8|c<<16).toString(16).slice(1);b.opacity=l(e,"finite")?e:1;return b}return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ia}},a);a.hsb=z(function(b,c,d){return a.hsb2rgb(b,c,d).hex});a.hsl=z(function(b,c,d){return a.hsl2rgb(b,
c,d).hex});a.rgb=z(function(a,b,c,d){if(l(d,"finite")){var q=L.round;return"rgba("+[q(a),q(b),q(c),+d.toFixed(2)]+")"}return"#"+(16777216|c|b<<8|a<<16).toString(16).slice(1)});var ma=function(a){var b=r.doc.getElementsByTagName("head")[0]||r.doc.getElementsByTagName("svg")[0];ma=z(function(a){if("red"==a.toLowerCase())return"rgb(255, 0, 0)";b.style.color="rgb(255, 0, 0)";b.style.color=a;a=r.doc.defaultView.getComputedStyle(b,"").getPropertyValue("color");return"rgb(255, 0, 0)"==a?null:a});return ma(a)},
sa=function(){return"hsb("+[this.h,this.s,this.b]+")"},ta=function(){return"hsl("+[this.h,this.s,this.l]+")"},ia=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},na=function(b,c,d){null==c&&l(b,"object")&&"r"in b&&"g"in b&&"b"in b&&(d=b.b,c=b.g,b=b.r);null==c&&l(b,string)&&(d=a.getRGB(b),b=d.r,c=d.g,d=d.b);if(1<b||1<c||1<d)b/=255,c/=255,d/=255;return[b,c,d]},oa=function(b,c,d,q){b=L.round(255*b);c=L.round(255*c);d=L.round(255*d);b={r:b,
g:c,b:d,opacity:l(q,"finite")?q:1,hex:a.rgb(b,c,d),toString:ia};l(q,"finite")&&(b.opacity=q);return b};a.color=function(b){var c;l(b,"object")&&"h"in b&&"s"in b&&"b"in b?(c=a.hsb2rgb(b),b.r=c.r,b.g=c.g,b.b=c.b,b.opacity=1,b.hex=c.hex):l(b,"object")&&"h"in b&&"s"in b&&"l"in b?(c=a.hsl2rgb(b),b.r=c.r,b.g=c.g,b.b=c.b,b.opacity=1,b.hex=c.hex):(l(b,"string")&&(b=a.getRGB(b)),l(b,"object")&&"r"in b&&"g"in b&&"b"in b&&!("error"in b)?(c=a.rgb2hsl(b),b.h=c.h,b.s=c.s,b.l=c.l,c=a.rgb2hsb(b),b.v=c.b):(b={hex:"none"},
b.r=b.g=b.b=b.h=b.s=b.v=b.l=-1,b.error=1));b.toString=ia;return b};a.hsb2rgb=function(a,b,c,d){l(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(c=a.b,b=a.s,a=a.h,d=a.o);var q,e,h;a=360*a%360/60;h=c*b;b=h*(1-N(a%2-1));c=q=e=c-h;a=~~a;c+=[h,b,0,0,b,h][a];q+=[b,h,h,b,0,0][a];e+=[0,0,b,h,h,b][a];return oa(c,q,e,d)};a.hsl2rgb=function(a,b,c,d){l(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(c=a.l,b=a.s,a=a.h);if(1<a||1<b||1<c)a/=360,b/=100,c/=100;var q,e,h;a=360*a%360/60;h=2*b*(.5>c?c:1-c);b=h*(1-N(a%2-1));c=q=e=
c-h/2;a=~~a;c+=[h,b,0,0,b,h][a];q+=[b,h,h,b,0,0][a];e+=[0,0,b,h,h,b][a];return oa(c,q,e,d)};a.rgb2hsb=function(a,b,c){c=na(a,b,c);a=c[0];b=c[1];c=c[2];var d,q;d=V(a,b,c);q=d-J(a,b,c);a=((0==q?null:d==a?(b-c)/q:d==b?(c-a)/q+2:(a-b)/q+4)+360)%6*60/360;return{h:a,s:0==q?0:q/d,b:d,toString:sa}};a.rgb2hsl=function(a,b,c){c=na(a,b,c);a=c[0];b=c[1];c=c[2];var d,q,e;d=V(a,b,c);q=J(a,b,c);e=d-q;a=((0==e?null:d==a?(b-c)/e:d==b?(c-a)/e+2:(a-b)/e+4)+360)%6*60/360;d=(d+q)/2;return{h:a,s:0==e?0:.5>d?e/(2*d):e/
(2-2*d),l:d,toString:ta}};a.parsePathString=function(b){if(!b)return null;var c=a.path(b);if(c.arr)return a.path.clone(c.arr);var d={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},q=[];l(b,"array")&&l(b[0],"array")&&(q=a.path.clone(b));q.length||C(b).replace(Q,function(a,b,c){var e=[];a=b.toLowerCase();c.replace(T,function(a,b){b&&e.push(+b)});"m"==a&&2<e.length&&(q.push([b].concat(e.splice(0,2))),a="l",b="m"==b?"l":"L");"o"==a&&1==e.length&&q.push([b,e[0]]);if("r"==a)q.push([b].concat(e));
else for(;e.length>=d[a]&&(q.push([b].concat(e.splice(0,d[a]))),d[a]););});q.toString=a.path.toString;c.arr=a.path.clone(q);return q};var qa=a.parseTransformString=function(b){if(!b)return null;var c=[];l(b,"array")&&l(b[0],"array")&&(c=a.path.clone(b));c.length||C(b).replace(Y,function(a,b,d){var q=[];b.toLowerCase();d.replace(T,function(a,b){b&&q.push(+b)});c.push([b].concat(q))});c.toString=a.path.toString;return c};a._.svgTransform2string=e;a._.rgTransform=/^[a-z][\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*-?\.?\d/i;
a._.transform2matrix=d;a._unit2px=b;a._.getSomeDefs=A;a._.getSomeSVG=p;a.select=function(a){return D(r.doc.querySelector(a))};a.selectAll=function(b){b=r.doc.querySelectorAll(b);for(var c=(a.set||Array)(),d=0;d<b.length;d++)c.push(D(b[d]));return c};setInterval(function(){for(var a in O)if(O[F](a)){var b=O[a],c=b.node;("svg"!=b.type&&!c.ownerSVGElement||"svg"==b.type&&(!c.parentNode||"ownerSVGElement"in c.parentNode&&!c.ownerSVGElement))&&delete O[a]}},1E4);(function(c){function d(a){function b(a,
c){var d=k(a.node,c);(d=(d=d&&d.match(h))&&d[2])&&"#"==d.charAt()&&(d=d.substring(1))&&(r[d]=(r[d]||[]).concat(function(b){var d={};d[c]=ra(b);k(a.node,d)}))}function c(a){var b=k(a.node,"xlink:href");b&&"#"==b.charAt()&&(b=b.substring(1))&&(r[b]=(r[b]||[]).concat(function(b){a.attr("xlink:href","#"+b)}))}var q=a.selectAll("*"),e,h=/^\s*url\(("|'|)(.*)\1\)\s*$/;a=[];for(var r={},f=0,n=q.length;f<n;f++){e=q[f];b(e,"fill");b(e,"stroke");b(e,"filter");b(e,"mask");b(e,"clip-path");c(e);var t=k(e.node,
"id");t&&(k(e.node,{id:e.id}),a.push({old:t,id:e.id}))}f=0;for(n=a.length;f<n;f++)if(q=r[a[f].old])for(e=0,t=q.length;e<t;e++)q[e](a[f].id)}function q(a,b,c){return function(d){d=d.slice(a,b);1==d.length&&(d=d[0]);return c?c(d):d}}function e(a){return function(){var b=a?"<"+this.type:"",c=this.node.attributes,d=this.node.childNodes;if(a)for(var q=0,e=c.length;q<e;q++)b+=" "+c[q].name+'="'+c[q].value.replace(/"/g,'\\"')+'"';if(d.length){a&&(b+=">");q=0;for(e=d.length;q<e;q++)3==d[q].nodeType?b+=d[q].nodeValue:
1==d[q].nodeType&&(b+=D(d[q]).toString());a&&(b+="</"+this.type+">")}else a&&(b+="/>");return b}}c.attr=function(a,b){if(!a)return this;if(l(a,"string"))if(1<arguments.length){var c={};c[a]=b;a=c}else return f("snap.util.getattr."+a,this).firstDefined();for(var d in a)a[F](d)&&f("snap.util.attr."+d,this,a[d]);return this};c.getBBox=function(b){if(!a.Matrix||!a.path)return this.node.getBBox();var c=this,d=new a.Matrix;if(c.removed)return a._.box();for(;"use"==c.type;)if(b||(d=d.add(c.transform().localMatrix.translate(c.attr("x")||
0,c.attr("y")||0))),c.original)c=c.original;else var q=c.attr("xlink:href"),c=c.original=c.node.ownerDocument.getElementById(q.substring(q.indexOf("#")+1));var q=c._,e=a.path.get[c.type]||a.path.get.deflt;try{if(b)return q.bboxwt=e?a.path.getBBox(c.realPath=e(c)):a._.box(c.node.getBBox()),a._.box(q.bboxwt);c.realPath=e(c);c.matrix=c.transform().localMatrix;q.bbox=a.path.getBBox(a.path.map(c.realPath,d.add(c.matrix)));return a._.box(q.bbox)}catch(h){return a._.box()}};var r=function(){return this.string};
c.transform=function(b){var c=this._;if(null==b){var d=this;b=new a.Matrix(this.node.getCTM());for(var q=h(this),e=[q],f=new a.Matrix,n=q.toTransformString(),c=C(q)==C(this.matrix)?C(c.transform):n;"svg"!=d.type&&(d=d.parent());)e.push(h(d));for(d=e.length;d--;)f.add(e[d]);return{string:c,globalMatrix:b,totalMatrix:f,localMatrix:q,diffMatrix:b.clone().add(q.invert()),global:b.toTransformString(),total:f.toTransformString(),local:n,toString:r}}b instanceof a.Matrix?this.matrix=b:h(this,b);this.node&&
("linearGradient"==this.type||"radialGradient"==this.type?k(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?k(this.node,{patternTransform:this.matrix}):k(this.node,{transform:this.matrix}));return this};c.parent=function(){return D(this.node.parentNode)};c.append=c.add=function(a){if(a){if("set"==a.type){var b=this;a.forEach(function(a){b.add(a)});return this}a=D(a);this.node.appendChild(a.node);a.paper=this.paper}return this};c.appendTo=function(a){a&&(a=D(a),a.append(this));return this};
c.prepend=function(a){if(a){if("set"==a.type){var b=this,c;a.forEach(function(a){c?c.after(a):b.prepend(a);c=a});return this}a=D(a);var d=a.parent();this.node.insertBefore(a.node,this.node.firstChild);this.add&&this.add();a.paper=this.paper;this.parent()&&this.parent().add();d&&d.add()}return this};c.prependTo=function(a){a=D(a);a.prepend(this);return this};c.before=function(a){if("set"==a.type){var b=this;a.forEach(function(a){var c=a.parent();b.node.parentNode.insertBefore(a.node,b.node);c&&c.add()});
this.parent().add();return this}a=D(a);var c=a.parent();this.node.parentNode.insertBefore(a.node,this.node);this.parent()&&this.parent().add();c&&c.add();a.paper=this.paper;return this};c.after=function(a){a=D(a);var b=a.parent();this.node.nextSibling?this.node.parentNode.insertBefore(a.node,this.node.nextSibling):this.node.parentNode.appendChild(a.node);this.parent()&&this.parent().add();b&&b.add();a.paper=this.paper;return this};c.insertBefore=function(a){a=D(a);var b=this.parent();a.node.parentNode.insertBefore(this.node,
a.node);this.paper=a.paper;b&&b.add();a.parent()&&a.parent().add();return this};c.insertAfter=function(a){a=D(a);var b=this.parent();a.node.parentNode.insertBefore(this.node,a.node.nextSibling);this.paper=a.paper;b&&b.add();a.parent()&&a.parent().add();return this};c.remove=function(){var a=this.parent();this.node.parentNode&&this.node.parentNode.removeChild(this.node);delete this.paper;this.removed=!0;a&&a.add();return this};c.select=function(a){return D(this.node.querySelector(a))};c.selectAll=
function(b){b=this.node.querySelectorAll(b);for(var c=(a.set||Array)(),d=0;d<b.length;d++)c.push(D(b[d]));return c};c.asPX=function(a,c){null==c&&(c=this.attr(a));return+b(this,a,c)};c.use=function(){var a,b=this.node.id;b||(b=this.id,k(this.node,{id:b}));a="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?E(this.type,this.node.parentNode):E("use",this.node.parentNode);k(a.node,{"xlink:href":"#"+b});a.original=this;return a};var n=/\S+/g;c.addClass=function(a){var b=(a||
"").match(n)||[];a=this.node;var c=a.className.baseVal,d=c.match(n)||[],q,e,h;if(b.length){for(q=0;h=b[q++];)e=d.indexOf(h),~e||d.push(h);b=d.join(" ");c!=b&&(a.className.baseVal=b)}return this};c.removeClass=function(a){var b=(a||"").match(n)||[];a=this.node;var c=a.className.baseVal,d=c.match(n)||[],q,e;if(d.length){for(q=0;e=b[q++];)e=d.indexOf(e),~e&&d.splice(e,1);b=d.join(" ");c!=b&&(a.className.baseVal=b)}return this};c.hasClass=function(a){return!!~(this.node.className.baseVal.match(n)||[]).indexOf(a)};
c.toggleClass=function(a,b){if(null!=b)return b?this.addClass(a):this.removeClass(a);var c=(a||"").match(n)||[],d=this.node,q=d.className.baseVal,e=q.match(n)||[],h,r,f;for(h=0;f=c[h++];)r=e.indexOf(f),~r?e.splice(r,1):e.push(f);c=e.join(" ");q!=c&&(d.className.baseVal=c);return this};c.clone=function(){var a=D(this.node.cloneNode(!0));k(a.node,"id")&&k(a.node,{id:a.id});d(a);a.insertAfter(this);return a};c.toDefs=function(){A(this).appendChild(this.node);return this};c.pattern=c.toPattern=function(a,
b,c,d){var q=E("pattern",A(this));null==a&&(a=this.getBBox());l(a,"object")&&"x"in a&&(b=a.y,c=a.width,d=a.height,a=a.x);k(q.node,{x:a,y:b,width:c,height:d,patternUnits:"userSpaceOnUse",id:q.id,viewBox:[a,b,c,d].join(" ")});q.node.appendChild(this.node);return q};c.marker=function(a,b,c,d,q,e){var h=E("marker",A(this));null==a&&(a=this.getBBox());l(a,"object")&&"x"in a&&(b=a.y,c=a.width,d=a.height,q=a.refX||a.cx,e=a.refY||a.cy,a=a.x);k(h.node,{viewBox:[a,b,c,d].join(" "),markerWidth:c,markerHeight:d,
orient:"auto",refX:q||0,refY:e||0,id:h.id});h.node.appendChild(this.node);return h};var t=function(a,b,c,d){"function"!=typeof c||c.length||(d=c,c=y.linear);this.attr=a;this.dur=b;c&&(this.easing=c);d&&(this.callback=d)};a._.Animation=t;a.animation=function(a,b,c,d){return new t(a,b,c,d)};c.inAnim=function(){var a=[],b;for(b in this.anims)this.anims[F](b)&&function(b){a.push({anim:new t(b._attrs,b.dur,b.easing,b._callback),mina:b,curStatus:b.status(),status:function(a){return b.status(a)},stop:function(){b.stop()}})}(this.anims[b]);
return a};a.animate=function(a,b,c,d,q,e){"function"!=typeof q||q.length||(e=q,q=y.linear);var h=y.time();a=y(a,b,h,h+d,y.time,c,q);e&&f.once("mina.finish."+a.id,e);return a};c.stop=function(){for(var a=this.inAnim(),b=0,c=a.length;b<c;b++)a[b].stop();return this};c.animate=function(a,b,c,d){"function"!=typeof c||c.length||(d=c,c=y.linear);a instanceof t&&(d=a.callback,c=a.easing,b=c.dur,a=a.attr);var e=[],h=[],r={},n,p,k,B=this,m;for(m in a)if(a[F](m)){B.equal?(k=B.equal(m,C(a[m])),n=k.from,p=k.to,
k=k.f):(n=+B.attr(m),p=+a[m]);var A=l(n,"array")?n.length:1;r[m]=q(e.length,e.length+A,k);e=e.concat(n);h=h.concat(p)}n=y.time();var O=y(e,h,n,n+b,y.time,function(a){var b={},c;for(c in r)r[F](c)&&(b[c]=r[c](a));B.attr(b)},c);B.anims[O.id]=O;O._attrs=a;O._callback=d;f("snap.animcreated."+B.id,O);f.once("mina.finish."+O.id,function(){delete B.anims[O.id];d&&d.call(B)});f.once("mina.stop."+O.id,function(){delete B.anims[O.id]});return B};var p={};c.data=function(b,c){var d=p[this.id]=p[this.id]||{};
if(0==arguments.length)return f("snap.data.get."+this.id,this,d,null),d;if(1==arguments.length){if(a.is(b,"object")){for(var q in b)b[F](q)&&this.data(q,b[q]);return this}f("snap.data.get."+this.id,this,d[b],b);return d[b]}d[b]=c;f("snap.data.set."+this.id,this,c,b);return this};c.removeData=function(a){null==a?p[this.id]={}:p[this.id]&&delete p[this.id][a];return this};c.outerSVG=c.toString=e(1);c.innerSVG=e()})(n.prototype);a.parse=function(a){var b=r.doc.createDocumentFragment(),d=!0,q=r.doc.createElement("div");
a=C(a);a.match(/^\s*<\s*svg(?:\s|>)/)||(a="<svg>"+a+"</svg>",d=!1);q.innerHTML=a;if(a=q.getElementsByTagName("svg")[0])if(d)b=a;else for(;a.firstChild;)b.appendChild(a.firstChild);q.innerHTML="";return new c(b)};c.prototype.select=n.prototype.select;c.prototype.selectAll=n.prototype.selectAll;a.fragment=function(){for(var b=Array.prototype.slice.call(arguments,0),d=r.doc.createDocumentFragment(),q=0,e=b.length;q<e;q++){var h=b[q];h.node&&h.node.nodeType&&d.appendChild(h.node);h.nodeType&&d.appendChild(h);
"string"==typeof h&&d.appendChild(a.parse(h).node)}return new c(d)};a._.make=E;a._.wrap=D;v.prototype.el=function(a,b){var c=E(a,this.node);b&&c.attr(b);return c};f.on("snap.util.getattr",function(){var a=f.nt(),a=a.substring(a.lastIndexOf(".")+1),b=a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()});return pa[F](b)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(b):k(this.node,a)});var pa={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,
"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,
"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};f.on("snap.util.attr",function(a){var b=f.nt(),c={},b=b.substring(b.lastIndexOf(".")+
1);c[b]=a;var d=b.replace(/-(\w)/gi,function(a,b){return b.toUpperCase()}),b=b.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()});pa[F](b)?this.node.style[d]=null==a?"":a:k(this.node,c)});a.ajax=function(a,b,c,d){var q=new XMLHttpRequest,e=R();if(q){if(l(b,"function"))d=c,c=b,b=null;else if(l(b,"object")){var h=[],r;for(r in b)b.hasOwnProperty(r)&&h.push(encodeURIComponent(r)+"="+encodeURIComponent(b[r]));b=h.join("&")}q.open(b?"POST":"GET",a,!0);b&&(q.setRequestHeader("X-Requested-With","XMLHttpRequest"),
q.setRequestHeader("Content-type","application/x-www-form-urlencoded"));c&&(f.once("snap.ajax."+e+".0",c),f.once("snap.ajax."+e+".200",c),f.once("snap.ajax."+e+".304",c));q.onreadystatechange=function(){4==q.readyState&&f("snap.ajax."+e+"."+q.status,d,q)};if(4==q.readyState)return q;q.send(b);return q}};a.load=function(b,c,d){a.ajax(b,function(b){b=a.parse(b.responseText);d?c.call(d,b):c(b)})};a.getElementByPoint=function(a,b){var c,d,q=r.doc.elementFromPoint(a,b);if(r.win.opera&&"svg"==q.tagName){c=
q;d=c.getBoundingClientRect();c=c.ownerDocument;var e=c.body,h=c.documentElement;c=d.top+(g.win.pageYOffset||h.scrollTop||e.scrollTop)-(h.clientTop||e.clientTop||0);d=d.left+(g.win.pageXOffset||h.scrollLeft||e.scrollLeft)-(h.clientLeft||e.clientLeft||0);e=q.createSVGRect();e.x=a-d;e.y=b-c;e.width=e.height=1;c=q.getIntersectionList(e,null);c.length&&(q=c[c.length-1])}return q?D(q):null};a.plugin=function(b){b(a,n,v,r,c)};return r.win.Snap=a}();C.plugin(function(a,f,l,w,z){function m(a,d,e,b,f,n){null==
d&&"[object SVGMatrix]"==u.call(a)?(this.a=a.a,this.b=a.b,this.c=a.c,this.d=a.d,this.e=a.e,this.f=a.f):null!=a?(this.a=+a,this.b=+d,this.c=+e,this.d=+b,this.e=+f,this.f=+n):(this.a=1,this.c=this.b=0,this.d=1,this.f=this.e=0)}var u=Object.prototype.toString,e=String,d=Math;(function(h){function f(a){return a[0]*a[0]+a[1]*a[1]}function p(a){var e=d.sqrt(f(a));a[0]&&(a[0]/=e);a[1]&&(a[1]/=e)}h.add=function(a,d,e,c,h,f){var p=[[],[],[]],r=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]];d=[[a,
e,h],[d,c,f],[0,0,1]];a&&a instanceof m&&(d=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]);for(a=0;3>a;a++)for(e=0;3>e;e++){for(c=h=0;3>c;c++)h+=r[a][c]*d[c][e];p[a][e]=h}this.a=p[0][0];this.b=p[1][0];this.c=p[0][1];this.d=p[1][1];this.e=p[0][2];this.f=p[1][2];return this};h.invert=function(){var a=this.a*this.d-this.b*this.c;return new m(this.d/a,-this.b/a,-this.c/a,this.a/a,(this.c*this.f-this.d*this.e)/a,(this.b*this.e-this.a*this.f)/a)};h.clone=function(){return new m(this.a,this.b,this.c,this.d,this.e,
this.f)};h.translate=function(a,d){return this.add(1,0,0,1,a,d)};h.scale=function(a,d,e,c){null==d&&(d=a);(e||c)&&this.add(1,0,0,1,e,c);this.add(a,0,0,d,0,0);(e||c)&&this.add(1,0,0,1,-e,-c);return this};h.rotate=function(b,e,h){b=a.rad(b);e=e||0;h=h||0;var c=+d.cos(b).toFixed(9);b=+d.sin(b).toFixed(9);this.add(c,b,-b,c,e,h);return this.add(1,0,0,1,-e,-h)};h.x=function(a,d){return a*this.a+d*this.c+this.e};h.y=function(a,d){return a*this.b+d*this.d+this.f};h.get=function(a){return+this[e.fromCharCode(97+
a)].toFixed(4)};h.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"};h.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};h.determinant=function(){return this.a*this.d-this.b*this.c};h.split=function(){var b={};b.dx=this.e;b.dy=this.f;var e=[[this.a,this.c],[this.b,this.d]];b.scalex=d.sqrt(f(e[0]));p(e[0]);b.shear=e[0][0]*e[1][0]+e[0][1]*e[1][1];e[1]=[e[1][0]-e[0][0]*b.shear,e[1][1]-e[0][1]*b.shear];b.scaley=d.sqrt(f(e[1]));
p(e[1]);b.shear/=b.scaley;0>this.determinant()&&(b.scalex=-b.scalex);var h=-e[0][1],e=e[1][1];0>e?(b.rotate=a.deg(d.acos(e)),0>h&&(b.rotate=360-b.rotate)):b.rotate=a.deg(d.asin(h));b.isSimple=!+b.shear.toFixed(9)&&(b.scalex.toFixed(9)==b.scaley.toFixed(9)||!b.rotate);b.isSuperSimple=!+b.shear.toFixed(9)&&b.scalex.toFixed(9)==b.scaley.toFixed(9)&&!b.rotate;b.noRotation=!+b.shear.toFixed(9)&&!b.rotate;return b};h.toTransformString=function(a){a=a||this.split();if(+a.shear.toFixed(9))return"m"+[this.get(0),
this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)];a.scalex=+a.scalex.toFixed(4);a.scaley=+a.scaley.toFixed(4);a.rotate=+a.rotate.toFixed(4);return(a.dx||a.dy?"t"+[+a.dx.toFixed(4),+a.dy.toFixed(4)]:"")+(1!=a.scalex||1!=a.scaley?"s"+[a.scalex,a.scaley,0,0]:"")+(a.rotate?"r"+[+a.rotate.toFixed(4),0,0]:"")}})(m.prototype);a.Matrix=m;a.matrix=function(a,d,e,b,f,n){return new m(a,d,e,b,f,n)}});C.plugin(function(a,k,l,w,z){function m(d){return function(e){f.stop();e instanceof z&&1==e.node.childNodes.length&&
("radialGradient"==e.node.firstChild.tagName||"linearGradient"==e.node.firstChild.tagName||"pattern"==e.node.firstChild.tagName)&&(e=e.node.firstChild,b(this).appendChild(e),e=A(e));if(e instanceof k)if("radialGradient"==e.type||"linearGradient"==e.type||"pattern"==e.type){e.node.id||n(e.node,{id:e.id});var h=c(e.node.id)}else h=e.attr(d);else h=a.color(e),h.error?(h=a(b(this).ownerSVGElement).gradient(e))?(h.node.id||n(h.node,{id:h.id}),h=c(h.node.id)):h=e:h=E(h);e={};e[d]=h;n(this.node,e);this.node.style[d]=
""}}function u(a){f.stop();a==+a&&(a+="px");this.node.style.fontSize=a}function e(a){var b=[];a=a.childNodes;for(var c=0,d=a.length;c<d;c++){var h=a[c];3==h.nodeType&&b.push(h.nodeValue);"tspan"==h.tagName&&(1==h.childNodes.length&&3==h.firstChild.nodeType?b.push(h.firstChild.nodeValue):b.push(e(h)))}return b}function d(){f.stop();return this.node.style.fontSize}var h=a._.make,A=a._.wrap,p=a.is,b=a._.getSomeDefs,t=/^url\(#?([^)]+)\)$/,n=a._.$,c=a.url,E=String,v=a._.separator;f.on("snap.util.attr.mask",
function(a){if(a instanceof k||a instanceof z){f.stop();a instanceof z&&1==a.node.childNodes.length&&(a=a.node.firstChild,b(this).appendChild(a),a=A(a));if("mask"==a.type)var d=a;else d=h("mask",b(this)),d.node.appendChild(a.node);!d.node.id&&n(d.node,{id:d.id});n(this.node,{mask:c(d.id)})}});(function(a){f.on("snap.util.attr.clip",a);f.on("snap.util.attr.clip-path",a);f.on("snap.util.attr.clipPath",a)})(function(a){if(a instanceof k||a instanceof z){f.stop();if("clipPath"==a.type)var d=a;else d=
h("clipPath",b(this)),d.node.appendChild(a.node),!d.node.id&&n(d.node,{id:d.id});n(this.node,{"clip-path":c(d.id)})}});f.on("snap.util.attr.fill",m("fill"));f.on("snap.util.attr.stroke",m("stroke"));var D=/^([lr])(?:\(([^)]*)\))?(.*)$/i;f.on("snap.util.grad.parse",function(a){a=E(a);var b=a.match(D);if(!b)return null;a=b[1];var c=b[2],b=b[3],c=c.split(/\s*,\s*/).map(function(a){return+a==a?+a:a});1==c.length&&0==c[0]&&(c=[]);b=b.split("-");b=b.map(function(a){a=a.split(":");var b={color:a[0]};a[1]&&
(b.offset=parseFloat(a[1]));return b});return{type:a,params:c,stops:b}});f.on("snap.util.attr.d",function(b){f.stop();p(b,"array")&&p(b[0],"array")&&(b=a.path.toString.call(b));b=E(b);b.match(/[ruo]/i)&&(b=a.path.toAbsolute(b));n(this.node,{d:b})})(-1);f.on("snap.util.attr.#text",function(a){f.stop();a=E(a);for(a=w.doc.createTextNode(a);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(a)})(-1);f.on("snap.util.attr.path",function(a){f.stop();this.attr({d:a})})(-1);
f.on("snap.util.attr.class",function(a){f.stop();this.node.className.baseVal=a})(-1);f.on("snap.util.attr.viewBox",function(a){a=p(a,"object")&&"x"in a?[a.x,a.y,a.width,a.height].join(" "):p(a,"array")?a.join(" "):a;n(this.node,{viewBox:a});f.stop()})(-1);f.on("snap.util.attr.transform",function(a){this.transform(a);f.stop()})(-1);f.on("snap.util.attr.r",function(a){"rect"==this.type&&(f.stop(),n(this.node,{rx:a,ry:a}))})(-1);f.on("snap.util.attr.textpath",function(a){f.stop();if("text"==this.type){var c,
d;if(!a&&this.textPath){for(a=this.textPath;a.node.firstChild;)this.node.appendChild(a.node.firstChild);a.remove();delete this.textPath}else if(p(a,"string")?(c=b(this),a=A(c.parentNode).path(a),c.appendChild(a.node),c=a.id,a.attr({id:c})):(a=A(a),a instanceof k&&(c=a.attr("id"),c||(c=a.id,a.attr({id:c})))),c)if(a=this.textPath,d=this.node,a)a.attr({"xlink:href":"#"+c});else{for(a=n("textPath",{"xlink:href":"#"+c});d.firstChild;)a.appendChild(d.firstChild);d.appendChild(a);this.textPath=A(a)}}})(-1);
f.on("snap.util.attr.text",function(a){if("text"==this.type){for(var b=this.node,c=function(a){var b=n("tspan");if(p(a,"array"))for(var d=0;d<a.length;d++)b.appendChild(c(a[d]));else b.appendChild(w.doc.createTextNode(a));b.normalize&&b.normalize();return b};b.firstChild;)b.removeChild(b.firstChild);for(a=c(a);a.firstChild;)b.appendChild(a.firstChild)}f.stop()})(-1);f.on("snap.util.attr.fontSize",u)(-1);f.on("snap.util.attr.font-size",u)(-1);f.on("snap.util.getattr.transform",function(){f.stop();
return this.transform()})(-1);f.on("snap.util.getattr.textpath",function(){f.stop();return this.textPath})(-1);(function(){function b(c){return function(){f.stop();var b=w.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+c);return"none"==b?b:a(w.doc.getElementById(b.match(t)[1]))}}function d(a){return function(b){f.stop();var d="marker"+a.charAt(0).toUpperCase()+a.substring(1);if(""==b||!b)this.node.style[d]="none";else if("marker"==b.type){var e=b.node.id;e||n(b.node,{id:b.id});
this.node.style[d]=c(e)}}}f.on("snap.util.getattr.marker-end",b("end"))(-1);f.on("snap.util.getattr.markerEnd",b("end"))(-1);f.on("snap.util.getattr.marker-start",b("start"))(-1);f.on("snap.util.getattr.markerStart",b("start"))(-1);f.on("snap.util.getattr.marker-mid",b("mid"))(-1);f.on("snap.util.getattr.markerMid",b("mid"))(-1);f.on("snap.util.attr.marker-end",d("end"))(-1);f.on("snap.util.attr.markerEnd",d("end"))(-1);f.on("snap.util.attr.marker-start",d("start"))(-1);f.on("snap.util.attr.markerStart",
d("start"))(-1);f.on("snap.util.attr.marker-mid",d("mid"))(-1);f.on("snap.util.attr.markerMid",d("mid"))(-1)})();f.on("snap.util.getattr.r",function(){if("rect"==this.type&&n(this.node,"rx")==n(this.node,"ry"))return f.stop(),n(this.node,"rx")})(-1);f.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){f.stop();var a=e(this.node);return 1==a.length?a[0]:a}})(-1);f.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1);f.on("snap.util.getattr.viewBox",
function(){f.stop();var b=n(this.node,"viewBox");if(b)return b=b.split(v),a._.box(+b[0],+b[1],+b[2],+b[3])})(-1);f.on("snap.util.getattr.points",function(){var a=n(this.node,"points");f.stop();if(a)return a.split(v)})(-1);f.on("snap.util.getattr.path",function(){var a=n(this.node,"d");f.stop();return a})(-1);f.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1);f.on("snap.util.getattr.fontSize",d)(-1);f.on("snap.util.getattr.font-size",d)(-1)});C.plugin(function(a,k,l,
w,z){function m(a){return a}function u(a){return function(b){return+b.toFixed(3)+a}}var e={"+":function(a,b){return a+b},"-":function(a,b){return a-b},"/":function(a,b){return a/b},"*":function(a,b){return a*b}},d=String,h=/[a-z]+$/i,A=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;f.on("snap.util.attr",function(a){if(a=d(a).match(A)){var b=f.nt(),b=b.substring(b.lastIndexOf(".")+1),k=this.attr(b),n={};f.stop();var c=a[3]||"",l=k.match(h),m=e[a[1]];l&&l==c?a=m(parseFloat(k),+a[2]):(k=this.asPX(b),
a=m(this.asPX(b),this.asPX(b,a[2]+c)));isNaN(k)||isNaN(a)||(n[b]=a,this.attr(n))}})(-10);f.on("snap.util.equal",function(a,b){var k=d(this.attr(a)||""),n=d(b).match(A);if(n){f.stop();var c=n[3]||"",l=k.match(h),v=e[n[1]];if(l&&l==c)return{from:parseFloat(k),to:v(parseFloat(k),+n[2]),f:u(l)};k=this.asPX(a);return{from:k,to:v(k,this.asPX(a,n[2]+c)),f:m}}})(-10)});C.plugin(function(a,k,l,w,z){var m=l.prototype,u=a.is;m.rect=function(a,e,f,k,b,l){var n;null==l&&(l=b);u(a,"object")&&"[object Object]"==
a?n=a:null!=a&&(n={x:a,y:e,width:f,height:k},null!=b&&(n.rx=b,n.ry=l));return this.el("rect",n)};m.circle=function(a,e,f){var k;u(a,"object")&&"[object Object]"==a?k=a:null!=a&&(k={cx:a,cy:e,r:f});return this.el("circle",k)};var e=function(){function a(){this.parentNode.removeChild(this)}return function(e,f){var k=w.doc.createElement("img"),b=w.doc.body;k.style.cssText="position:absolute;left:-9999em;top:-9999em";k.onload=function(){f.call(k);k.onload=k.onerror=null;b.removeChild(k)};k.onerror=a;
b.appendChild(k);k.src=e}}();m.image=function(d,h,f,k,b){var l=this.el("image");if(u(d,"object")&&"src"in d)l.attr(d);else if(null!=d){var n={"xlink:href":d,preserveAspectRatio:"none"};null!=h&&null!=f&&(n.x=h,n.y=f);null!=k&&null!=b?(n.width=k,n.height=b):e(d,function(){a._.$(l.node,{width:this.offsetWidth,height:this.offsetHeight})});a._.$(l.node,n)}return l};m.ellipse=function(a,e,f,k){var b;u(a,"object")&&"[object Object]"==a?b=a:null!=a&&(b={cx:a,cy:e,rx:f,ry:k});return this.el("ellipse",b)};
m.path=function(a){var e;u(a,"object")&&!u(a,"array")?e=a:a&&(e={d:a});return this.el("path",e)};m.group=m.g=function(a){var e=this.el("g");1==arguments.length&&a&&!a.type?e.attr(a):arguments.length&&e.add(Array.prototype.slice.call(arguments,0));return e};m.svg=function(a,e,f,k,b,l,n,c){var m={};u(a,"object")&&null==e?m=a:(null!=a&&(m.x=a),null!=e&&(m.y=e),null!=f&&(m.width=f),null!=k&&(m.height=k),null!=b&&null!=l&&null!=n&&null!=c&&(m.viewBox=[b,l,n,c]));return this.el("svg",m)};m.mask=function(a){var e=
this.el("mask");1==arguments.length&&a&&!a.type?e.attr(a):arguments.length&&e.add(Array.prototype.slice.call(arguments,0));return e};m.ptrn=function(a,e,f,k,b,l,n,c){if(u(a,"object"))var m=a;else arguments.length?(m={},null!=a&&(m.x=a),null!=e&&(m.y=e),null!=f&&(m.width=f),null!=k&&(m.height=k),null!=b&&null!=l&&null!=n&&null!=c&&(m.viewBox=[b,l,n,c])):m={patternUnits:"userSpaceOnUse"};return this.el("pattern",m)};m.use=function(a){return null!=a?(make("use",this.node),a instanceof k&&(a.attr("id")||
a.attr({id:ID()}),a=a.attr("id")),this.el("use",{"xlink:href":a})):k.prototype.use.call(this)};m.text=function(a,e,f){var k={};u(a,"object")?k=a:null!=a&&(k={x:a,y:e,text:f||""});return this.el("text",k)};m.line=function(a,e,f,k){var b={};u(a,"object")?b=a:null!=a&&(b={x1:a,x2:f,y1:e,y2:k});return this.el("line",b)};m.polyline=function(a){1<arguments.length&&(a=Array.prototype.slice.call(arguments,0));var e={};u(a,"object")&&!u(a,"array")?e=a:null!=a&&(e={points:a});return this.el("polyline",e)};
m.polygon=function(a){1<arguments.length&&(a=Array.prototype.slice.call(arguments,0));var e={};u(a,"object")&&!u(a,"array")?e=a:null!=a&&(e={points:a});return this.el("polygon",e)};(function(){function e(){return this.selectAll("stop")}function h(b,e){var d=n("stop"),h={offset:+e+"%"};b=a.color(b);h["stop-color"]=b.hex;1>b.opacity&&(h["stop-opacity"]=b.opacity);n(d,h);this.node.appendChild(d);return this}function k(){if("linearGradient"==this.type){var b=n(this.node,"x1")||0,e=n(this.node,"x2")||
1,d=n(this.node,"y1")||0,h=n(this.node,"y2")||0;return a._.box(b,d,math.abs(e-b),math.abs(h-d))}b=this.node.r||0;return a._.box((this.node.cx||.5)-b,(this.node.cy||.5)-b,2*b,2*b)}function l(a,e){function d(a,b){for(var c=(b-p)/(a-A),e=A;e<a;e++)m[e].offset=+(+p+c*(e-A)).toFixed(2);A=a;p=b}var h=f("snap.util.grad.parse",null,e).firstDefined(),k;if(!h)return null;h.params.unshift(a);k="l"==h.type.toLowerCase()?b.apply(0,h.params):t.apply(0,h.params);h.type!=h.type.toLowerCase()&&n(k.node,{gradientUnits:"userSpaceOnUse"});
var m=h.stops,h=m.length,p=0,A=0;h--;for(var u=0;u<h;u++)"offset"in m[u]&&d(u,m[u].offset);m[h].offset=m[h].offset||100;d(h,m[h].offset);for(u=0;u<=h;u++){var z=m[u];k.addStop(z.color,z.offset)}return k}function b(b,f,m,l,r){b=a._.make("linearGradient",b);b.stops=e;b.addStop=h;b.getBBox=k;null!=f&&n(b.node,{x1:f,y1:m,x2:l,y2:r});return b}function t(b,f,m,l,r,p){b=a._.make("radialGradient",b);b.stops=e;b.addStop=h;b.getBBox=k;null!=f&&n(b.node,{cx:f,cy:m,r:l});null!=r&&null!=p&&n(b.node,{fx:r,fy:p});
return b}var n=a._.$;m.gradient=function(a){return l(this.defs,a)};m.gradientLinear=function(a,e,d,h){return b(this.defs,a,e,d,h)};m.gradientRadial=function(a,b,e,d,h){return t(this.defs,a,b,e,d,h)};m.toString=function(){var b=this.node.ownerDocument,e=b.createDocumentFragment(),b=b.createElement("div"),d=this.node.cloneNode(!0);e.appendChild(b);b.appendChild(d);a._.$(d,{xmlns:"http://www.w3.org/2000/svg"});b=b.innerHTML;e.removeChild(e.firstChild);return b};m.clear=function(){for(var a=this.node.firstChild,
b;a;)b=a.nextSibling,"defs"!=a.tagName?a.parentNode.removeChild(a):m.clear.call({node:a}),a=b}})()});C.plugin(function(a,f,l,w){function z(a){var b=z.ps=z.ps||{};b[a]?b[a].sleep=100:b[a]={sleep:100};setTimeout(function(){for(var c in b)b.hasOwnProperty(c)&&c!=a&&(b[c].sleep--,!b[c].sleep&&delete b[c])});return b[a]}function m(a,b,c,e){null==a&&(a=b=c=e=0);null==b&&(b=a.y,c=a.width,e=a.height,a=a.x);return{x:a,y:b,width:c,w:c,height:e,h:e,x2:a+c,y2:b+e,cx:a+c/2,cy:b+e/2,r1:G.min(c,e)/2,r2:G.max(c,
e)/2,r0:G.sqrt(c*c+e*e)/2,path:v(a,b,c,e),vb:[a,b,c,e].join(" ")}}function u(){return this.join(",").replace(W,"$1")}function e(a){a=N(a);a.toString=u;return a}function d(a,b,c,e,d,h,f,k,m){if(null==m)return n(a,b,c,e,d,h,f,k);if(0>m||n(a,b,c,e,d,h,f,k)<m)m=void 0;else{var l=.5,p=1-l,r;for(r=n(a,b,c,e,d,h,f,k,p);.01<T(r-m);)l/=2,p+=(r<m?1:-1)*l,r=n(a,b,c,e,d,h,f,k,p);m=p}return A(a,b,c,e,d,h,f,k,m)}function h(b,c){function e(a){return+(+a).toFixed(3)}return a._.cacher(function(a,h,n){a instanceof
f&&(a=a.attr("d"));a=L(a);for(var m,l,p,r,t="",u={},B=0,v=0,z=a.length;v<z;v++){p=a[v];if("M"==p[0])m=+p[1],l=+p[2];else{r=d(m,l,p[1],p[2],p[3],p[4],p[5],p[6]);if(B+r>h){if(c&&!u.start){m=d(m,l,p[1],p[2],p[3],p[4],p[5],p[6],h-B);t+=["C"+e(m.start.x),e(m.start.y),e(m.m.x),e(m.m.y),e(m.x),e(m.y)];if(n)return t;u.start=t;t=["M"+e(m.x),e(m.y)+"C"+e(m.n.x),e(m.n.y),e(m.end.x),e(m.end.y),e(p[5]),e(p[6])].join();B+=r;m=+p[5];l=+p[6];continue}if(!b&&!c)return m=d(m,l,p[1],p[2],p[3],p[4],p[5],p[6],h-B)}B+=
r;m=+p[5];l=+p[6]}t+=p.shift()+p}u.end=t;return m=b?B:c?u:A(m,l,p[0],p[1],p[2],p[3],p[4],p[5],1)},null,a._.clone)}function A(a,b,c,e,d,h,f,n,k){var m=1-k,l=Y(m,3),p=Y(m,2),r=k*k,t=r*k,A=l*a+3*p*k*c+3*m*k*k*d+t*f,l=l*b+3*p*k*e+3*m*k*k*h+t*n,p=a+2*k*(c-a)+r*(d-2*c+a),t=b+2*k*(e-b)+r*(h-2*e+b),u=c+2*k*(d-c)+r*(f-2*d+c),r=e+2*k*(h-e)+r*(n-2*h+e);a=m*a+k*c;b=m*b+k*e;d=m*d+k*f;h=m*h+k*n;n=90-180*G.atan2(p-u,t-r)/H;return{x:A,y:l,m:{x:p,y:t},n:{x:u,y:r},start:{x:a,y:b},end:{x:d,y:h},alpha:n}}function p(b,
c,e,d,h,f,k,n){a.is(b,"array")||(b=[b,c,e,d,h,f,k,n]);b=P.apply(null,b);return m(b.min.x,b.min.y,b.max.x-b.min.x,b.max.y-b.min.y)}function b(a,b,c){return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height}function t(a,c){a=m(a);c=m(c);return b(c,a.x,a.y)||b(c,a.x2,a.y)||b(c,a.x,a.y2)||b(c,a.x2,a.y2)||b(a,c.x,c.y)||b(a,c.x2,c.y)||b(a,c.x,c.y2)||b(a,c.x2,c.y2)||(a.x<c.x2&&a.x>c.x||c.x<a.x2&&c.x>a.x)&&(a.y<c.y2&&a.y>c.y||c.y<a.y2&&c.y>a.y)}function n(a,b,c,e,d,h,f,k,n){null==n&&(n=1);n=(1<n?1:0>n?0:n)/
2;for(var m=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],l=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],p=0,r=0;12>r;r++)var t=n*m[r]+n,A=t*(t*(-3*a+9*c-9*d+3*f)+6*a-12*c+6*d)-3*a+3*c,t=t*(t*(-3*b+9*e-9*h+3*k)+6*b-12*e+6*h)-3*b+3*e,p=p+l[r]*G.sqrt(A*A+t*t);return n*p}function c(a,b,c){a=L(a);b=L(b);for(var e,d,h,f,k,m,l,r,u,B,v=c?0:[],z=0,y=a.length;z<y;z++)if(u=a[z],"M"==u[0])e=k=u[1],d=m=u[2];else{"C"==u[0]?(u=[e,d].concat(u.slice(1)),
e=u[6],d=u[7]):(u=[e,d,e,d,k,m,k,m],e=k,d=m);for(var w=0,C=b.length;w<C;w++)if(B=b[w],"M"==B[0])h=l=B[1],f=r=B[2];else{"C"==B[0]?(B=[h,f].concat(B.slice(1)),h=B[6],f=B[7]):(B=[h,f,h,f,l,r,l,r],h=l,f=r);var D;var x=u,E=B;D=c;var F=p(x),I=p(E);if(t(F,I)){for(var F=n.apply(0,x),I=n.apply(0,E),F=~~(F/8),I=~~(I/8),P=[],ka=[],G={},V=D?0:[],J=0;J<F+1;J++){var H=A.apply(0,x.concat(J/F));P.push({x:H.x,y:H.y,t:J/F})}for(J=0;J<I+1;J++)H=A.apply(0,E.concat(J/I)),ka.push({x:H.x,y:H.y,t:J/I});for(J=0;J<F;J++)for(x=
0;x<I;x++){var N=P[J],R=P[J+1],E=ka[x],H=ka[x+1],U=.001>T(R.x-N.x)?"y":"x",W=.001>T(H.x-E.x)?"y":"x",M;M=N.x;var aa=N.y,ba=R.x,ca=R.y,da=E.x,ea=E.y,fa=H.x,ga=H.y;if(Q(M,ba)<S(da,fa)||S(M,ba)>Q(da,fa)||Q(aa,ca)<S(ea,ga)||S(aa,ca)>Q(ea,ga))M=void 0;else{var X=(M*ca-aa*ba)*(da-fa)-(M-ba)*(da*ga-ea*fa),Y=(M*ca-aa*ba)*(ea-ga)-(aa-ca)*(da*ga-ea*fa),ha=(M-ba)*(ea-ga)-(aa-ca)*(da-fa);if(ha){var X=X/ha,Y=Y/ha,ha=+X.toFixed(2),Z=+Y.toFixed(2);M=ha<+S(M,ba).toFixed(2)||ha>+Q(M,ba).toFixed(2)||ha<+S(da,fa).toFixed(2)||
ha>+Q(da,fa).toFixed(2)||Z<+S(aa,ca).toFixed(2)||Z>+Q(aa,ca).toFixed(2)||Z<+S(ea,ga).toFixed(2)||Z>+Q(ea,ga).toFixed(2)?void 0:{x:X,y:Y}}else M=void 0}M&&G[M.x.toFixed(4)]!=M.y.toFixed(4)&&(G[M.x.toFixed(4)]=M.y.toFixed(4),N=N.t+T((M[U]-N[U])/(R[U]-N[U]))*(R.t-N.t),E=E.t+T((M[W]-E[W])/(H[W]-E[W]))*(H.t-E.t),0<=N&&1>=N&&0<=E&&1>=E&&(D?V++:V.push({x:M.x,y:M.y,t1:N,t2:E})))}D=V}else D=D?0:[];if(c)v+=D;else{F=0;for(I=D.length;F<I;F++)D[F].segment1=z,D[F].segment2=w,D[F].bez1=u,D[F].bez2=B;v=v.concat(D)}}}return v}
function y(a){var b=z(a);if(b.bbox)return N(b.bbox);if(!a)return m();a=L(a);for(var c=0,e=0,d=[],h=[],f,k=0,n=a.length;k<n;k++)f=a[k],"M"==f[0]?(c=f[1],e=f[2],d.push(c),h.push(e)):(c=P(c,e,f[1],f[2],f[3],f[4],f[5],f[6]),d=d.concat(c.min.x,c.max.x),h=h.concat(c.min.y,c.max.y),c=f[5],e=f[6]);a=S.apply(0,d);f=S.apply(0,h);d=Q.apply(0,d);h=Q.apply(0,h);h=m(a,f,d-a,h-f);b.bbox=N(h);return h}function v(a,b,c,e,d){if(d)return[["M",+a+ +d,b],["l",c-2*d,0],["a",d,d,0,0,1,d,d],["l",0,e-2*d],["a",d,d,0,0,1,
-d,d],["l",2*d-c,0],["a",d,d,0,0,1,-d,-d],["l",0,2*d-e],["a",d,d,0,0,1,d,-d],["z"]];a=[["M",a,b],["l",c,0],["l",0,e],["l",-c,0],["z"]];a.toString=u;return a}function D(a,b,c,e,d){null==d&&null==e&&(e=c);a=+a;b=+b;c=+c;e=+e;if(null!=d){var h=Math.PI/180,f=a+c*Math.cos(-e*h);a+=c*Math.cos(-d*h);var k=b+c*Math.sin(-e*h);b+=c*Math.sin(-d*h);c=[["M",f,k],["A",c,c,0,+(180<d-e),0,a,b]]}else c=[["M",a,b],["m",0,-e],["a",c,e,0,1,1,0,2*e],["a",c,e,0,1,1,0,-2*e],["z"]];c.toString=u;return c}function r(b){var c=
z(b);if(c.abs)return e(c.abs);J(b,"array")&&J(b&&b[0],"array")||(b=a.parsePathString(b));if(!b||!b.length)return[["M",0,0]];var d=[],h=0,f=0,k=0,n=0,m=0;"M"==b[0][0]&&(h=+b[0][1],f=+b[0][2],k=h,n=f,m++,d[0]=["M",h,f]);for(var l=3==b.length&&"M"==b[0][0]&&"R"==b[1][0].toUpperCase()&&"Z"==b[2][0].toUpperCase(),p,r,t=m,A=b.length;t<A;t++){d.push(p=[]);r=b[t];m=r[0];if(m!=m.toUpperCase())switch(p[0]=m.toUpperCase(),p[0]){case "A":p[1]=r[1];p[2]=r[2];p[3]=r[3];p[4]=r[4];p[5]=r[5];p[6]=+r[6]+h;p[7]=+r[7]+
f;break;case "V":p[1]=+r[1]+f;break;case "H":p[1]=+r[1]+h;break;case "R":for(var v=[h,f].concat(r.slice(1)),w=2,y=v.length;w<y;w++)v[w]=+v[w]+h,v[++w]=+v[w]+f;d.pop();d=d.concat(V(v,l));break;case "O":d.pop();v=D(h,f,r[1],r[2]);v.push(v[0]);d=d.concat(v);break;case "U":d.pop();d=d.concat(D(h,f,r[1],r[2],r[3]));p=["U"].concat(d[d.length-1].slice(-2));break;case "M":k=+r[1]+h,n=+r[2]+f;default:for(w=1,y=r.length;w<y;w++)p[w]=+r[w]+(w%2?h:f)}else if("R"==m)v=[h,f].concat(r.slice(1)),d.pop(),d=d.concat(V(v,
l)),p=["R"].concat(r.slice(-2));else if("O"==m)d.pop(),v=D(h,f,r[1],r[2]),v.push(v[0]),d=d.concat(v);else if("U"==m)d.pop(),d=d.concat(D(h,f,r[1],r[2],r[3])),p=["U"].concat(d[d.length-1].slice(-2));else for(v=0,w=r.length;v<w;v++)p[v]=r[v];m=m.toUpperCase();if("O"!=m)switch(p[0]){case "Z":h=+k;f=+n;break;case "H":h=p[1];break;case "V":f=p[1];break;case "M":k=p[p.length-2],n=p[p.length-1];default:h=p[p.length-2],f=p[p.length-1]}}d.toString=u;c.abs=e(d);return d}function C(a,b,c,d){return[a,b,c,d,c,
d]}function x(a,b,c,d,e,h){var f=1/3,k=2/3;return[f*a+k*c,f*b+k*d,f*e+k*c,f*h+k*d,e,h]}function I(b,c,d,e,h,f,k,n,m,l){var p=120*H/180,r=H/180*(+h||0),t=[],v,u=a._.cacher(function(a,b,c){var d=a*G.cos(c)-b*G.sin(c);a=a*G.sin(c)+b*G.cos(c);return{x:d,y:a}});if(l)z=l[0],v=l[1],f=l[2],A=l[3];else{v=u(b,c,-r);b=v.x;c=v.y;v=u(n,m,-r);n=v.x;m=v.y;G.cos(H/180*h);G.sin(H/180*h);v=(b-n)/2;z=(c-m)/2;A=v*v/(d*d)+z*z/(e*e);1<A&&(A=G.sqrt(A),d*=A,e*=A);var A=d*d,w=e*e,A=(f==k?-1:1)*G.sqrt(T((A*w-A*z*z-w*v*v)/
(A*z*z+w*v*v)));f=A*d*z/e+(b+n)/2;var A=A*-e*v/d+(c+m)/2,z=G.asin(((c-A)/e).toFixed(9));v=G.asin(((m-A)/e).toFixed(9));z=b<f?H-z:z;v=n<f?H-v:v;0>z&&(z=2*H+z);0>v&&(v=2*H+v);k&&z>v&&(z-=2*H);!k&&v>z&&(v-=2*H)}if(T(v-z)>p){var t=v,w=n,D=m;v=z+p*(k&&v>z?1:-1);n=f+d*G.cos(v);m=A+e*G.sin(v);t=I(n,m,d,e,h,0,k,w,D,[v,t,f,A])}f=v-z;h=G.cos(z);p=G.sin(z);k=G.cos(v);v=G.sin(v);f=G.tan(f/4);d=4/3*d*f;f*=4/3*e;e=[b,c];b=[b+d*p,c-f*h];c=[n+d*v,m-f*k];n=[n,m];b[0]=2*e[0]-b[0];b[1]=2*e[1]-b[1];if(l)return[b,c,n].concat(t);
t=[b,c,n].concat(t).join().split(",");l=[];n=0;for(m=t.length;n<m;n++)l[n]=n%2?u(t[n-1],t[n],r).y:u(t[n],t[n+1],r).x;return l}function P(a,b,c,d,e,h,f,n){for(var k=[],m=[[],[]],l,p,r,v,t=0;2>t;++t)0==t?(p=6*a-12*c+6*e,l=-3*a+9*c-9*e+3*f,r=3*c-3*a):(p=6*b-12*d+6*h,l=-3*b+9*d-9*h+3*n,r=3*d-3*b),1E-12>T(l)?1E-12>T(p)||(l=-r/p,0<l&&1>l&&k.push(l)):(v=p*p-4*r*l,r=G.sqrt(v),0>v||(v=(-p+r)/(2*l),0<v&&1>v&&k.push(v),l=(-p-r)/(2*l),0<l&&1>l&&k.push(l)));for(p=t=k.length;t--;)l=k[t],r=1-l,m[0][t]=r*r*r*a+3*
r*r*l*c+3*r*l*l*e+l*l*l*f,m[1][t]=r*r*r*b+3*r*r*l*d+3*r*l*l*h+l*l*l*n;m[0][p]=a;m[1][p]=b;m[0][p+1]=f;m[1][p+1]=n;m[0].length=m[1].length=p+2;return{min:{x:S.apply(0,m[0]),y:S.apply(0,m[1])},max:{x:Q.apply(0,m[0]),y:Q.apply(0,m[1])}}}function L(a,b){var c=!b&&z(a);if(!b&&c.curve)return e(c.curve);var d=r(a),h=b&&r(b),f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},k={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},n=function(a,b,c){if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];a[0]in{T:1,Q:1}||(b.qx=b.qy=null);
switch(a[0]){case "M":b.X=a[1];b.Y=a[2];break;case "A":a=["C"].concat(I.apply(0,[b.x,b.y].concat(a.slice(1))));break;case "S":"C"==c||"S"==c?(c=2*b.x-b.bx,b=2*b.y-b.by):(c=b.x,b=b.y);a=["C",c,b].concat(a.slice(1));break;case "T":"Q"==c||"T"==c?(b.qx=2*b.x-b.qx,b.qy=2*b.y-b.qy):(b.qx=b.x,b.qy=b.y);a=["C"].concat(x(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case "Q":b.qx=a[1];b.qy=a[2];a=["C"].concat(x(b.x,b.y,a[1],a[2],a[3],a[4]));break;case "L":a=["C"].concat(C(b.x,b.y,a[1],a[2]));break;case "H":a=["C"].concat(C(b.x,
b.y,a[1],b.y));break;case "V":a=["C"].concat(C(b.x,b.y,b.x,a[1]));break;case "Z":a=["C"].concat(C(b.x,b.y,b.X,b.Y))}return a},m=function(a,b){if(7<a[b].length){a[b].shift();for(var c=a[b];c.length;)p[b]="A",h&&(v[b]="A"),a.splice(b++,0,["C"].concat(c.splice(0,6)));a.splice(b,1);w=Q(d.length,h&&h.length||0)}},l=function(a,b,c,e,f){a&&b&&"M"==a[f][0]&&"M"!=b[f][0]&&(b.splice(f,0,["M",e.x,e.y]),c.bx=0,c.by=0,c.x=a[f][1],c.y=a[f][2],w=Q(d.length,h&&h.length||0))},p=[],v=[],t="",A="",u=0,w=Q(d.length,
h&&h.length||0);for(;u<w;u++){d[u]&&(t=d[u][0]);"C"!=t&&(p[u]=t,u&&(A=p[u-1]));d[u]=n(d[u],f,A);"A"!=p[u]&&"C"==t&&(p[u]="C");m(d,u);h&&(h[u]&&(t=h[u][0]),"C"!=t&&(v[u]=t,u&&(A=v[u-1])),h[u]=n(h[u],k,A),"A"!=v[u]&&"C"==t&&(v[u]="C"),m(h,u));l(d,h,f,k,u);l(h,d,k,f,u);var D=d[u],y=h&&h[u],E=D.length,P=h&&y.length;f.x=D[E-2];f.y=D[E-1];f.bx=U(D[E-4])||f.x;f.by=U(D[E-3])||f.y;k.bx=h&&(U(y[P-4])||k.x);k.by=h&&(U(y[P-3])||k.y);k.x=h&&y[P-2];k.y=h&&y[P-1]}h||(c.curve=e(d));return h?[d,h]:d}function V(a,
b){for(var c=[],d=0,e=a.length;e-2*!b>d;d+=2){var h=[{x:+a[d-2],y:+a[d-1]},{x:+a[d],y:+a[d+1]},{x:+a[d+2],y:+a[d+3]},{x:+a[d+4],y:+a[d+5]}];b?d?e-4==d?h[3]={x:+a[0],y:+a[1]}:e-2==d&&(h[2]={x:+a[0],y:+a[1]},h[3]={x:+a[2],y:+a[3]}):h[0]={x:+a[e-2],y:+a[e-1]}:e-4==d?h[3]=h[2]:d||(h[0]={x:+a[d],y:+a[d+1]});c.push(["C",(-h[0].x+6*h[1].x+h[2].x)/6,(-h[0].y+6*h[1].y+h[2].y)/6,(h[1].x+6*h[2].x-h[3].x)/6,(h[1].y+6*h[2].y-h[3].y)/6,h[2].x,h[2].y])}return c}l=f.prototype;var J=a.is,N=a._.clone,W=/,?([a-z]),?/gi,
U=parseFloat,G=Math,H=G.PI,S=G.min,Q=G.max,Y=G.pow,T=G.abs;w=h(1);var Z=h(),X=h(0,1),R=a._unit2px;a.path=z;a.path.getTotalLength=w;a.path.getPointAtLength=Z;a.path.getSubpath=function(a,b,c){if(1E-6>this.getTotalLength(a)-c)return X(a,b).end;a=X(a,c,1);return b?X(a,b).end:a};l.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength()};l.getPointAtLength=function(a){return Z(this.attr("d"),a)};l.getSubpath=function(b,c){return a.path.getSubpath(this.attr("d"),b,c)};a._.box=
m;a.path.findDotsAtSegment=A;a.path.bezierBBox=p;a.path.isPointInsideBBox=b;a.path.isBBoxIntersect=t;a.path.intersection=function(a,b){return c(a,b)};a.path.intersectionNumber=function(a,b){return c(a,b,1)};a.path.isPointInside=function(a,d,e){var h=y(a);return b(h,d,e)&&1==c(a,[["M",d,e],["H",h.x2+10]],1)%2};a.path.getBBox=y;a.path.get={path:function(a){return a.attr("path")},circle:function(a){a=R(a);return D(a.cx,a.cy,a.r)},ellipse:function(a){a=R(a);return D(a.cx||0,a.cy||0,a.rx,a.ry)},rect:function(a){a=
R(a);return v(a.x||0,a.y||0,a.width,a.height,a.rx,a.ry)},image:function(a){a=R(a);return v(a.x||0,a.y||0,a.width,a.height)},line:function(a){return"M"+[a.attr("x1")||0,a.attr("y1")||0,a.attr("x2"),a.attr("y2")]},polyline:function(a){return"M"+a.attr("points")},polygon:function(a){return"M"+a.attr("points")+"z"},deflt:function(a){a=a.node.getBBox();return v(a.x,a.y,a.width,a.height)}};a.path.toRelative=function(b){var c=z(b),d=String.prototype.toLowerCase;if(c.rel)return e(c.rel);a.is(b,"array")&&
a.is(b&&b[0],"array")||(b=a.parsePathString(b));var h=[],f=0,k=0,n=0,m=0,l=0;"M"==b[0][0]&&(f=b[0][1],k=b[0][2],n=f,m=k,l++,h.push(["M",f,k]));for(var p=b.length;l<p;l++){var r=h[l]=[],v=b[l];if(v[0]!=d.call(v[0]))switch(r[0]=d.call(v[0]),r[0]){case "a":r[1]=v[1];r[2]=v[2];r[3]=v[3];r[4]=v[4];r[5]=v[5];r[6]=+(v[6]-f).toFixed(3);r[7]=+(v[7]-k).toFixed(3);break;case "v":r[1]=+(v[1]-k).toFixed(3);break;case "m":n=v[1],m=v[2];default:for(var t=1,A=v.length;t<A;t++)r[t]=+(v[t]-(t%2?f:k)).toFixed(3)}else for(h[l]=
[],"m"==v[0]&&(n=v[1]+f,m=v[2]+k),r=0,t=v.length;r<t;r++)h[l][r]=v[r];v=h[l].length;switch(h[l][0]){case "z":f=n;k=m;break;case "h":f+=+h[l][v-1];break;case "v":k+=+h[l][v-1];break;default:f+=+h[l][v-2],k+=+h[l][v-1]}}h.toString=u;c.rel=e(h);return h};a.path.toAbsolute=r;a.path.toCubic=L;a.path.map=function(a,b){if(!b)return a;var c,d,e,h,f,k,n;a=L(a);e=0;for(f=a.length;e<f;e++)for(n=a[e],h=1,k=n.length;h<k;h+=2)c=b.x(n[h],n[h+1]),d=b.y(n[h],n[h+1]),n[h]=c,n[h+1]=d;return a};a.path.toString=u;a.path.clone=
e});C.plugin(function(a,k,l,w){var z=Math.max,m=Math.min,u=function(a){this.items=[];this.bindings={};this.length=0;this.type="set";if(a)for(var d=0,h=a.length;d<h;d++)a[d]&&(this[this.items.length]=this.items[this.items.length]=a[d],this.length++)};k=u.prototype;k.push=function(){for(var a,d,h=0,f=arguments.length;h<f;h++)if(a=arguments[h])d=this.items.length,this[d]=this.items[d]=a,this.length++;return this};k.pop=function(){this.length&&delete this[this.length--];return this.items.pop()};k.forEach=
function(a,d){for(var h=0,f=this.items.length;h<f&&!1!==a.call(d,this.items[h],h);h++);return this};k.animate=function(e,d,h,k){"function"!=typeof h||h.length||(k=h,h=y.linear);e instanceof a._.Animation&&(k=e.callback,h=e.easing,d=h.dur,e=e.attr);var m=arguments;if(a.is(e,"array")&&a.is(m[m.length-1],"array"))var b=!0;var l,n=function(){l?this.b=l:l=this.b},c=0,u=k&&function(){c++==this.length&&k.call(this)};return this.forEach(function(a,c){f.once("snap.animcreated."+a.id,n);b?m[c]&&a.animate.apply(a,
m[c]):a.animate(e,d,h,u)})};k.remove=function(){for(;this.length;)this.pop().remove();return this};k.bind=function(a,d,h){var f={};if("function"==typeof d)this.bindings[a]=d;else{var k=h||a;this.bindings[a]=function(a){f[k]=a;d.attr(f)}}return this};k.attr=function(a){var d={},h;for(h in a)if(this.bindings[h])this.bindings[h](a[h]);else d[h]=a[h];a=0;for(h=this.items.length;a<h;a++)this.items[a].attr(d);return this};k.clear=function(){for(;this.length;)this.pop()};k.splice=function(a,d,h){a=0>a?z(this.length+
a,0):a;d=z(0,m(this.length-a,d));var f=[],k=[],b=[],l;for(l=2;l<arguments.length;l++)b.push(arguments[l]);for(l=0;l<d;l++)k.push(this[a+l]);for(;l<this.length-a;l++)f.push(this[a+l]);var n=b.length;for(l=0;l<n+f.length;l++)this.items[a+l]=this[a+l]=l<n?b[l]:f[l-n];for(l=this.items.length=this.length-=d-n;this[l];)delete this[l++];return new u(k)};k.exclude=function(a){for(var d=0,h=this.length;d<h;d++)if(this[d]==a)return this.splice(d,1),!0;return!1};k.insertAfter=function(a){for(var d=this.items.length;d--;)this.items[d].insertAfter(a);
return this};k.getBBox=function(){for(var a=[],d=[],h=[],f=[],k=this.items.length;k--;)if(!this.items[k].removed){var b=this.items[k].getBBox();a.push(b.x);d.push(b.y);h.push(b.x+b.width);f.push(b.y+b.height)}a=m.apply(0,a);d=m.apply(0,d);h=z.apply(0,h);f=z.apply(0,f);return{x:a,y:d,x2:h,y2:f,width:h-a,height:f-d,cx:a+(h-a)/2,cy:d+(f-d)/2}};k.clone=function(a){a=new u;for(var d=0,h=this.items.length;d<h;d++)a.push(this.items[d].clone());return a};k.toString=function(){return"Snap\u2018s set"};k.type=
"set";a.set=function(){var a=new u;arguments.length&&a.push.apply(a,Array.prototype.slice.call(arguments,0));return a}});C.plugin(function(a,k,l,w){function z(a){var b=a[0];switch(b.toLowerCase()){case "t":return[b,0,0];case "m":return[b,1,0,0,1,0,0];case "r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case "s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}}function m(b,c,d){c=t(c).replace(/\.{3}|\u2026/g,b);b=a.parseTransformString(b)||[];c=a.parseTransformString(c)||[];for(var e=Math.max(b.length,
c.length),f=[],k=[],l=0,m,p,u,w;l<e;l++){u=b[l]||z(c[l]);w=c[l]||z(u);if(u[0]!=w[0]||"r"==u[0].toLowerCase()&&(u[2]!=w[2]||u[3]!=w[3])||"s"==u[0].toLowerCase()&&(u[3]!=w[3]||u[4]!=w[4])){b=a._.transform2matrix(b,d());c=a._.transform2matrix(c,d());f=[["m",b.a,b.b,b.c,b.d,b.e,b.f]];k=[["m",c.a,c.b,c.c,c.d,c.e,c.f]];break}f[l]=[];k[l]=[];m=0;for(p=Math.max(u.length,w.length);m<p;m++)m in u&&(f[l][m]=u[m]),m in w&&(k[l][m]=w[m])}return{from:A(f),to:A(k),f:h(f)}}function u(a){return a}function e(a){return function(b){return+b.toFixed(3)+
a}}function d(b){return a.rgb(b[0],b[1],b[2])}function h(a){var b=0,d,e,h,f,k,l,m=[];d=0;for(e=a.length;d<e;d++){k="[";l=['"'+a[d][0]+'"'];h=1;for(f=a[d].length;h<f;h++)l[h]="val["+b++ +"]";k+=l+"]";m[d]=k}return Function("val","return Snap.path.toString.call(["+m+"])")}function A(a){for(var b=[],d=0,e=a.length;d<e;d++)for(var h=1,f=a[d].length;h<f;h++)b.push(a[d][h]);return b}var p={},b=/[a-z]+$/i,t=String;p.stroke=p.fill="colour";k.prototype.equal=function(a,b){return f("snap.util.equal",this,a,
b).firstDefined()};f.on("snap.util.equal",function(f,c){var k,l;k=t(this.attr(f)||"");var w=this;if(k==+k&&c==+c)return{from:+k,to:+c,f:u};if("colour"==p[f])return k=a.color(k),l=a.color(c),{from:[k.r,k.g,k.b,k.opacity],to:[l.r,l.g,l.b,l.opacity],f:d};if("transform"==f||"gradientTransform"==f||"patternTransform"==f)return c instanceof a.Matrix&&(c=c.toTransformString()),a._.rgTransform.test(c)||(c=a._.svgTransform2string(c)),m(k,c,function(){return w.getBBox(1)});if("d"==f||"path"==f)return k=a.path.toCubic(k,
c),{from:A(k[0]),to:A(k[1]),f:h(k[0])};if("points"==f)return k=t(k).split(a._.separator),l=t(c).split(a._.separator),{from:k,to:l,f:function(a){return a}};aUnit=k.match(b);l=t(c).match(b);return aUnit&&aUnit==l?{from:parseFloat(k),to:parseFloat(c),f:e(aUnit)}:{from:this.asPX(f),to:this.asPX(f,c),f:u}})});C.plugin(function(a,k,l,w){var z=k.prototype,m="createTouch"in w.doc;k="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel".split(" ");var u={mousedown:"touchstart",
mousemove:"touchmove",mouseup:"touchend"},e=function(a,b){var c="y"==a?"scrollTop":"scrollLeft",d=b&&b.node?b.node.ownerDocument:w.doc;return d[c in d.documentElement?"documentElement":"body"][c]},d=function(){this.returnValue=!1},h=function(){return this.originalEvent.preventDefault()},A=function(){this.cancelBubble=!0},p=function(){return this.originalEvent.stopPropagation()},b=function(){if(w.doc.addEventListener)return function(a,b,c,d){var f=m&&u[b]?u[b]:b,k=function(f){var k=e("y",d),l=e("x",
d);if(m&&u.hasOwnProperty(b))for(var n=0,t=f.targetTouches&&f.targetTouches.length;n<t;n++)if(f.targetTouches[n].target==a||a.contains(f.targetTouches[n].target)){t=f;f=f.targetTouches[n];f.originalEvent=t;f.preventDefault=h;f.stopPropagation=p;break}return c.call(d,f,f.clientX+l,f.clientY+k)};b!==f&&a.addEventListener(b,k,!1);a.addEventListener(f,k,!1);return function(){b!==f&&a.removeEventListener(b,k,!1);a.removeEventListener(f,k,!1);return!0}};if(w.doc.attachEvent)return function(a,b,c,h){var f=
function(a){a=a||h.node.ownerDocument.window.event;var b=e("y",h),f=e("x",h),f=a.clientX+f,b=a.clientY+b;a.preventDefault=a.preventDefault||d;a.stopPropagation=a.stopPropagation||A;return c.call(h,a,f,b)};a.attachEvent("on"+b,f);return function(){a.detachEvent("on"+b,f);return!0}}}(),t=[],n=function(a){for(var b=a.clientX,c=a.clientY,d=e("y"),h=e("x"),k,l=t.length;l--;){k=t[l];if(m)for(var n=a.touches&&a.touches.length,p;n--;){if(p=a.touches[n],p.identifier==k.el._drag.id||k.el.node.contains(p.target)){b=
p.clientX;c=p.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();b+=h;c+=d;f("snap.drag.move."+k.el.id,k.move_scope||k.el,b-k.el._drag.x,c-k.el._drag.y,b,c,a)}},c=function(b){a.unmousemove(n).unmouseup(c);for(var d=t.length,e;d--;)e=t[d],e.el._drag={},f("snap.drag.end."+e.el.id,e.end_scope||e.start_scope||e.move_scope||e.el,b);t=[]};for(l=k.length;l--;)(function(c){a[c]=z[c]=function(d,e){a.is(d,"function")&&(this.events=this.events||[],this.events.push({name:c,
f:d,unbind:b(this.node||document,c,d,e||this)}));return this};a["un"+c]=z["un"+c]=function(a){for(var b=this.events||[],d=b.length;d--;)if(b[d].name==c&&(b[d].f==a||!a)){b[d].unbind();b.splice(d,1);!b.length&&delete this.events;break}return this}})(k[l]);z.hover=function(a,b,c,d){return this.mouseover(a,c).mouseout(b,d||c)};z.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var y=[];z.drag=function(b,d,e,h,k,l){function m(p,u,w){(p.originalEvent||p).preventDefault();this._drag.x=u;
this._drag.y=w;this._drag.id=p.identifier;!t.length&&a.mousemove(n).mouseup(c);t.push({el:this,move_scope:h,start_scope:k,end_scope:l});d&&f.on("snap.drag.start."+this.id,d);b&&f.on("snap.drag.move."+this.id,b);e&&f.on("snap.drag.end."+this.id,e);f("snap.drag.start."+this.id,k||h||this,u,w,p)}if(!arguments.length){var p;return this.drag(function(a,b){this.attr({transform:p+(p?"T":"t")+[a,b]})},function(){p=this.transform().local})}this._drag={};y.push({el:this,start:m});this.mousedown(m);return this};
z.undrag=function(){for(var b=y.length;b--;)y[b].el==this&&(this.unmousedown(y[b].start),y.splice(b,1),f.unbind("snap.drag.*."+this.id));!y.length&&a.unmousemove(n).unmouseup(c);return this}});C.plugin(function(a,k,l,w){l=l.prototype;var z=/^\s*url\((.+)\)/,m=String,u=a._.$;a.filter={};l.filter=function(e){var d=this;"svg"!=d.type&&(d=d.paper);e=a.parse(m(e));var h=a._.id(),f=u("filter");u(f,{id:h,filterUnits:"userSpaceOnUse"});f.appendChild(e.node);d.defs.appendChild(f);return new k(f)};f.on("snap.util.getattr.filter",
function(){f.stop();var e=u(this.node,"filter");if(e)return(e=m(e).match(z))&&a.select(e[1])});f.on("snap.util.attr.filter",function(e){if(e instanceof k&&"filter"==e.type){f.stop();var d=e.node.id;d||(u(e.node,{id:e.id}),d=e.id);u(this.node,{filter:a.url(d)})}e&&"none"!=e||(f.stop(),this.node.removeAttribute("filter"))});a.filter.blur=function(e,d){null==e&&(e=2);return a.format('<feGaussianBlur stdDeviation="{def}"/>',{def:null==d?e:[e,d]})};a.filter.blur.toString=function(){return this()};a.filter.shadow=
function(e,d,h,f,k){"string"==typeof h&&(k=f=h,h=4);"string"!=typeof f&&(k=f,f="#000");null==h&&(h=4);null==k&&(k=1);null==e&&(e=0,d=2);null==d&&(d=e);f=a.color(f||"#000");return a.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',
{color:f,dx:e,dy:d,blur:h,opacity:k})};a.filter.shadow.toString=function(){return this()};a.filter.grayscale=function(e){null==e&&(e=1);return a.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-e),b:.7152-.7152*(1-e),c:.0722-.0722*(1-e),d:.2126-.2126*(1-e),e:.7152+.2848*(1-e),f:.0722-.0722*(1-e),g:.2126-.2126*(1-e),h:.0722+.9278*(1-e)})};a.filter.grayscale.toString=function(){return this()};a.filter.sepia=function(e){null==
e&&(e=1);return a.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-e),b:.769-.769*(1-e),c:.189-.189*(1-e),d:.349-.349*(1-e),e:.686+.314*(1-e),f:.168-.168*(1-e),g:.272-.272*(1-e),h:.534-.534*(1-e),i:.131+.869*(1-e)})};a.filter.sepia.toString=function(){return this()};a.filter.saturate=function(e){null==e&&(e=1);return a.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-e})};a.filter.saturate.toString=function(){return this()};
a.filter.hueRotate=function(e){return a.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:e||0})};a.filter.hueRotate.toString=function(){return this()};a.filter.invert=function(e){null==e&&(e=1);return a.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:e,amount2:1-e})};a.filter.invert.toString=function(){return this()};
a.filter.brightness=function(e){null==e&&(e=1);return a.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:e})};a.filter.brightness.toString=function(){return this()};a.filter.contrast=function(e){null==e&&(e=1);return a.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',
{amount:e,amount2:.5-e/2})};a.filter.contrast.toString=function(){return this()}});return C});
"document"in self&&("classList"in document.createElement("_")?function(){var x=document.createElement("_");x.classList.add("c1","c2");if(!x.classList.contains("c2")){var f=function(f){var a=DOMTokenList.prototype[f];DOMTokenList.prototype[f]=function(f){var l,w=arguments.length;for(l=0;l<w;l++)f=arguments[l],a.call(this,f)}};f("add");f("remove")}x.classList.toggle("c3",!1);if(x.classList.contains("c3")){var y=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(f,a){return 1 in arguments&&
!this.contains(f)===!a?a:y.call(this,f)}}x=null}():function(x){if("Element"in x){x=x.Element.prototype;var f=Object,y=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},C=Array.prototype.indexOf||function(a){for(var e=0,d=this.length;e<d;e++)if(e in this&&this[e]===a)return e;return-1},a=function(a,e){this.name=a;this.code=DOMException[a];this.message=e},k=function(f,e){if(""===e)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new a("INVALID_CHARACTER_ERR",
"String contains an invalid character");return C.call(f,e)},l=function(a){for(var e=y.call(a.getAttribute("class")||""),e=e?e.split(/\s+/):[],d=0,h=e.length;d<h;d++)this.push(e[d]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},w=l.prototype=[],z=function(){return new l(this)};a.prototype=Error.prototype;w.item=function(a){return this[a]||null};w.contains=function(a){return-1!==k(this,a+"")};w.add=function(){var a=arguments,e=0,d=a.length,h,f=!1;do h=a[e]+"",-1===k(this,
h)&&(this.push(h),f=!0);while(++e<d);f&&this._updateClassName()};w.remove=function(){var a=arguments,e=0,d=a.length,h,f=!1,l;do for(h=a[e]+"",l=k(this,h);-1!==l;)this.splice(l,1),f=!0,l=k(this,h);while(++e<d);f&&this._updateClassName()};w.toggle=function(a,e){a+="";var d=this.contains(a),h=d?!0!==e&&"remove":!1!==e&&"add";if(h)this[h](a);return!0===e||!1===e?e:!d};w.toString=function(){return this.join(" ")};if(f.defineProperty){w={get:z,enumerable:!0,configurable:!0};try{f.defineProperty(x,"classList",
w)}catch(m){-2146823252===m.number&&(w.enumerable=!1,f.defineProperty(x,"classList",w))}}else f.prototype.__defineGetter__&&x.__defineGetter__("classList",z)}}(self));define("classList",function(){});
define("config",[],function(){return{FONT_FAMILY:"'Lato', sans-serif",TEXT_SIZE_SMALL:12,TEXT_SIZE_MEDIUM:14.4,KEY_TOP_MARGIN:80,TOP_PADDING:50,BOTTOM_PADDING:50,LEFT_PADDING:10,RIGHT_PADDING:10,SPILLOVER_TOP:0,SPILLOVER_RIGHT:0,SPILLOVER_BOTTOM:0,SPILLOVER_LEFT:0,TICK_MARK_HORIZONTAL_PADDING:10,TICK_MARK_VERTICAL_PADDING:10,TICK_MARK_FONT_WEIGHT:300,TOTAL_WIDTH_TO_X_TICK_RATIO:1,ABBREVIATE_LABELS_THRESHOLD:380,NUMBER_OF_Y_PADDING_POINTS:.25,NUMBER_OF_X_PADDING_POINTS:.5,GLYPH_BLACK_PROPORTION:.7,
GLYPHS_ACROSS:10,KEY_PADDING:20,KEY_GLYPH_BOTTOM_PADDING:15,KEY_GLYPH_LEFT_PADDING:20,KEY_GLYPH_RIGHT_PADDING:10,KEY_GLYPH_FONT_SIZE:32,KEY_LABEL_FONT_SIZE:18,KEY_LABEL_FONT_FAMILY:"Lato, sans-serif"}});
define("color-utils",[],function(){return{colorWheelClasses:"fm-datum-color-wheel-a fm-datum-color-wheel-b fm-datum-color-wheel-c fm-datum-color-wheel-d fm-datum-color-wheel-e fm-datum-color-wheel-f fm-datum-color-wheel-g fm-datum-color-wheel-h fm-datum-color-wheel-i fm-datum-color-wheel-j fm-datum-color-wheel-k fm-datum-color-wheel-l".split(" "),overflowClass:"fm-datum-color-overflow",pad:function(x){return 2>x.length?"0"+x:x},contrasting:function(x){throw"Not yet implemented";},registerTint1Filter:function(){throw"Not yet implemented";
},registerTint2Filter:function(){throw"Not yet implemented";},lowContrast:function(x,f){f="undefined"===typeof f?0:f;if(x+f>this.colorWheelClasses.length){for(var y=[],C=0;C<x;C++)C<this.colorWheelClasses.length?y.push(this.colorWheelClasses[C]):y.push(this.colorWheelClasses[this.colorWheelClasses.length-C]);return y}return this.colorWheelClasses.splice(f,x)},monochromatic:function(x,f,y){throw"Not yet implemented";},harmonious:function(x){for(var f=Math.min(x,this.colorWheelClasses.length),y=[],
C=Math.floor(this.colorWheelClasses.length/2),a=function(){return 0==this.colorWheelClasses.length%4}.bind(this),k=function(a,k){a=(a+this.colorWheelClasses.length)%this.colorWheelClasses.length;var e=Math.floor(y.length/4)+1;y.length<f&&y.splice(1*e-1,0,a);y.length<f&&y.splice(2*e-1,0,(a+k+1)%this.colorWheelClasses.length);y.length<f&&y.splice(3*e-1,0,(a+C)%this.colorWheelClasses.length);y.length<f&&y.splice(4*e-1,0,(a+k+1+C)%this.colorWheelClasses.length)}.bind(this),l=function(a,f){a=(a+this.colorWheelClasses.length)%
this.colorWheelClasses.length;y.splice(f,0,a)}.bind(this),w=1,z=0;w<=C-2;w+=2,z--)k(z,w);k=y.length/4;y.length<f&&l(1,k);y.length<f&&l(1+C,3*k+1);a()&&(y.length<f&&l(1+C/2,2*k+1),y.length<f&&l(1+3*C/2,4*k+3));a=[];for(l=0;l<x;l++)a.push(this.colorWheelClasses[y[l%f]]);return a}}});
define("number-utils",[],function(){return{roundToOrder:function(x,f,y){function C(a,f){var l=Math.abs(a);l>=Math.pow(10,y)?(a=C(a/10,f),a*=10):l<Math.pow(10,y-1)?(a*=10,a=C(a,f),a/=10):(l=Math.round(a/f)*f,0===l&&(y++,l=C(a,f)),a=l);return parseFloat(a.toPrecision(y+1))}x=parseFloat(x);if(0==x)return 0;y||(y=2);return 1===f?parseFloat(x.toPrecision(y)):C(x,f)},renderValue:function(x){function f(a){if(0==a)return 0;if(1<=a&&1E3>a)return a;if(1>a)return C-=3,f(1E3*a);if(1E3<=a)return C+=3,f(a/1E3)}
if(0===x)return"0";if(!x)return"";var y=1;0>x&&(y=-1,x*=-1);x=this.roundToOrder(x,1,3);var C=0,a=new String(y*f(x));return 3==C?a+"k":6==C?a+"m":9==C?a+"bn":12==C?a+" trillion":new String(y*x)},getDataTotal:function(x){for(var f=0,y=0;y<x.length;y++)f+=x[y].value;return f},getAngle:function(x,f,y){y="undefined"===typeof y?Circle.whole:y;return y/f*x},getFactor:function(x){for(var f=x-1;1<f;f--){var y=x/f;if(parseInt(y)==y)return f}return x}}});
define("data-processor",["color-utils","number-utils","config"],function(x,f,y){function C(){this.groups=[];this.series=[];this.data={};this.rows={};this.unitValue=1}var a=/^\-?[0-9]+(,[0-9]{3})*(\.[0-9]+)?$/;return{tableToJSON:function(k,l){k.className+=" fm-hidden";for(var w=k.querySelectorAll("thead > tr > th"),z=k.querySelectorAll("tbody > tr"),m=new C,u=l.valuePrefix?l.valuePrefix:"",e=l.valueSuffix?l.valueSuffix:"",d=x.harmonious(w.length),h=1;h<w.length;h++){var A=w[h].textContent,p=w[h].hasAttribute("data-fm-glyph")?
w[h].getAttribute("data-fm-glyph"):A.substr(0,1).toUpperCase(),b=w[h].hasAttribute("data-fm-glyph-class")?w[h].getAttribute("data-fm-glyph-class"):d[h];m.series.push({name:A,glyph:p,color:b})}for(w=0;w<z.length;w++)if(A=z[w],!(2>A.children.length)){d=A.children[0].textContent;m.groups.push(d);h=[];p=0;for(b=1;b<A.children.length;b++){var t=A.children[b].textContent;t.match(a)?(t=parseFloat(t.replace(/,([0-9]{3})/g,"$1")),h.push({value:t,text:u+f.renderValue(t)+e}),p+=t):h.push(null)}var n=[],c=p/
y.GLYPHS_ACROSS,E=y.GLYPHS_ACROSS;h.forEach(function(a,b){var d=a.value/c;a.numberOfUnits=Math.floor(d);E-=a.numberOfUnits;n.push({index:b,remainder:d%1})});for(n.sort(function(a,b){return b.remainder-a.remainder});0<E;)A=n.shift(),h[A.index].numberOfUnits++,E--;m.data[d]=h;m.rows[d]=h.reduce(function(a,b,c){for(var d=0;d<b.numberOfUnits;d++)a.push(c);return a},[])}return m}}});
define("scale-utils",["number-utils"],function(x){return{Scale:function(f,y,x,a){this.start=f;this.middle=f+y/2;this.end=f+y;if(x==a)throw"Min value and max are the same";var k=x>a?!0:!1;this.getPixel=function(l,w){if((l<x||l>a)&&!1===("undefined"===typeof w?!0:!1)&&!(k&&l<=x&&l>=a))throw"Out of range";return f+(l-x)/(a-x)*y}},AreaScale:function(f,y,x,a){this.start=f;this.middle=f+y/2;this.midValue=x+(a-x)*Math.pow(.5,2);this.end=f+y;if(x==a)throw"Min value and max are the same";var k=x>a?!0:!1;this.getPixel=
function(l,w){if((l<x||l>a)&&!1===("undefined"===typeof w?!0:!1)&&!(k&&l<=x&&l>=a))throw"Out of range";var z=Math.pow((l-x)/(a-x),.5);return f+y*z}},getTickMarks:function(f,y,x,a){var k=0,l=0,w=0,z=0,w=0,m=[],z=w=0;f==y&&(k=0!==y?y/10:1,f-=k,y+=k);x=(y-f)/(x-1);l=k=0;k=Math.floor(Math.log(x)/Math.LN10);l=x/Math.pow(10,k);l=(1.5>l?1:3>l?2:7>l?5:10)*Math.pow(10,k);w=Math.floor(f/l)*l;z=Math.ceil(y/l)*l;k=Math.max(-Math.floor(Math.log(l)/Math.LN10),1);z+=.5*l;a&&(0!==w&&(w-=l),z+=l);for(;w<z;w+=l)m.push(parseFloat(w.toFixed(k)));
return m}}});
define("tick-mark",["snap","config"],function(x,f){return x.plugin(function(y,x,a){a.prototype.tickMark=function(a,l,w,z,m){if("horizontal"===w){a=this.text(a-f.TICK_MARK_HORIZONTAL_PADDING,l,m).attr({"font-family":f.FONT_FAMILY,"font-size":f.TEXT_SIZE_SMALL,"font-weight":f.TICK_MARK_FONT_WEIGHT,"text-anchor":"end","dominant-baseline":"central"});var u=this.g(a).addClass("fm-tick-mark")}else"vertical"===w?(w=this.line(a,l,a,l+z),a=this.text(a,l+f.TICK_MARK_VERTICAL_PADDING+f.TEXT_SIZE_SMALL/2,m).attr({"font-family":f.FONT_FAMILY,
"font-size":f.TEXT_SIZE_SMALL,"font-weight":f.TICK_MARK_FONT_WEIGHT,"text-anchor":"middle"}),u=this.g(a,w).addClass("fm-tick-mark")):console.err("Incorrect orientation specified");return u}})});
define("axis",["snap","tick-mark","number-utils"],function(x,f,y){return x.plugin(function(f,a,k){k.prototype.axis=function(a,f,k,m,u,e,d,h,A){var p=this,b=p.g(),t=this.g();b.startPoints=[];if("horizontal"===e){m.forEach(function(a){"object"!==typeof a&&(a={position:a,label:y.renderValue(a)});var c=k.getPixel(a.position);b.startPoints.push({x:c,y:f});t.append(p.tickMark(c,f,"vertical",u,a.label,10))});if(h)var n=p.line(a,f,k.end,f).addClass("fm-axis");if(d){var c;A&&"last"!==A?"first"===A?c=t.getBBox().y-
17.5:console.error("Invalid axis label position specified."):c=t.getBBox().y+t.getBBox().height+17.5;d=p.text(k.middle,c,d).addClass("fm-x-axis-label");d.attr({"font-family":"'Lato', sans-serif","font-weight":400,"font-size":12,"text-anchor":"middle"});b.append(d)}b.append(n);b.append(t)}else m.forEach(function(c){"object"!==typeof c&&(c={position:c,label:y.renderValue(c)});var d=k.getPixel(c.position);b.startPoints.push({x:a,y:d});c=p.tickMark(a,d,"horizontal",u,c.label);t.append(c)}),b.append(t),
m=b.getBBox(),h&&(n=p.line(a,f,a,k.end).addClass("fm-axis"),b.append(n)),d&&(d=p.text(m.x-6-25,k.middle,d).addClass("fm-y-axis-label"),d.getBBox(),d.attr({"font-family":"'Lato', sans-serif","font-weight":400,"font-size":12,"text-anchor":"middle"}).transform("r -90"),b.append(d));return b}})});
define("pictorial-key",["config","snap"],function(x,f){return f.plugin(function(f,C,a){a.prototype.pictorialKey=function(a,f,w,z){var m=this,u=m.group().addClass("fm-pictorial-key"),e=m.group(),d=x.KEY_PADDING,h=x.KEY_PADDING,A=w-x.KEY_PADDING;z.forEach(function(a){var f=m.group(),k=m.text(0,0,a.glyph).attr("font-size",x.KEY_GLYPH_FONT_SIZE).addClass(a.color);a=m.text(k.getBBox().x2+x.KEY_GLYPH_RIGHT_PADDING,k.getBBox().cy,a.name).attr({"font-size":x.KEY_LABEL_FONT_SIZE,"font-family":x.KEY_LABEL_FONT_FAMILY,
"dominant-baseline":"middle"}).addClass(a.color);f.append(k);f.append(a);k=f.getBBox().width;d+k>A&&(d=x.KEY_PADDING,h+=f.getBBox().height+x.KEY_GLYPH_BOTTOM_PADDING);f.transform("translate("+d+","+h+")");e.append(f);d+=k+x.KEY_GLYPH_LEFT_PADDING});z=m.rect(a,f,w,e.getBBox().height+x.KEY_PADDING);var p=m.line(a,f,a+w,f);a+=(w-e.getBBox().x2)/2;e.transform("translate("+a+","+(f+x.KEY_PADDING)+")");u.append(z);u.append(p);u.append(e);return u}})});
define("multitext",["snap"],function(x){return x.plugin(function(f,y,x,a){x.prototype.multitext=function(a,f,w,z,m){"undefined"===typeof z&&(z="1.8em");"undefined"===typeof m&&(m="start");w=w.split("\n");f=this.text(a,f,w);f.attr({textAnchor:m});f.selectAll("tspan:nth-child(n+2)").attr({dy:z,x:a});return f}})});
define("Tooltip",["config","multitext"],function(x,f){function y(a,f,l){(this.enableBlackBorder=l)&&!document.getElementById("black-border")&&(a.node.querySelector("defs").innerHTML+='<filter id="black-border" x="-5%" y="-5%" width="110%" height="110%"><feMorphology in="SourceAlpha" operator="dilate" radius="1" result="border"></feMorphology><feGaussianBlur stdDeviation="0.2" in="border" result="blurred-border"></feGaussianBlur><feMerge><feMergeNode in="blurred-border"></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter>');this.colorClass=
f;this._paper=a;this._parent=a.node;this._tooltipBG=this._tooltipArrow=null;this._tooltipPlacement="right";this.snapElement=this._tooltipText=null}var C;x.TOOLTIP_MAX_VALUE_LENGTH?C=x.TOOLTIP_MAX_VALUE_LENGTH:20;y.prototype={_positionTooltipArrow:function(a){var f=Snap.matrix(),l=this._tooltipBG.getBBox();switch(a){case "left":f.translate(l.width+4,l.height/2);f.rotate(180);this._tooltipArrow.transform(f.toTransformString());break;case "right":f.translate(-4,l.height/2);this._tooltipArrow.transform(f.toTransformString());
break;case "top":f.translate(l.width/2,l.height+4);f.rotate(-90);this._tooltipArrow.transform(f.toTransformString());break;case "bottom":f.translate(l.width/2,-4),f.rotate(90),this._tooltipArrow.transform(f.toTransformString())}this._tooltipPlacement=a},constructor:y,hide:function(){this.snapElement&&this.snapElement.attr("display","none")},remove:function(){this._tooltipText=this._tooltipBG=this._tooltipArrow=null;this.snapElement.remove();this.snapElement=null},render:function(a,f){var l=this._paper,
w=null;null!==this.snapElement&&this.remove();this.snapElement=l.g();var z,m="[object Array]"===Object.prototype.toString.call(f)?!0:!1;a.length>C&&(a=a.substring(0,C-3)+"...");if(m){z=l.g();z.attr({fill:"#fff"});var u=l.text(10,10,a);u.attr({dy:parseInt("12px",10),"font-family":"'Lato', sans-serif","font-size":"12px"});z.append(u);var e=[],d=[];f.forEach(function(a){var f;f=a.title.length>C?a.title.substring(0,C-3)+"...":a.title;a=a.value.length>C?a.value.substring(0,C-3)+"...":a.value;e.push(f+
":");d.push(a)});var h=l.multitext(10,20+u.getBBox().height+5,e.join("\n"),"1.2em").attr({"font-family":"'Lato', sans-serif","font-size":"12px"}),w=l.multitext(10,20+u.getBBox().height+5,d.join("\n"),"1.2em","end").attr({"font-family":"'Lato', sans-serif","font-size":"12px"});w.transform("t "+(h.getBBox().width+w.getBBox().width+5)+" 0");z.append(h);z.append(w)}else z=l.text(10,10,a+": "+f),z.attr({dy:parseInt("12px",10)});this._tooltipText=z;w=z.getBBox();h=l.rect(0,0,w.width+10+10,w.height+10+10,
4);h.addClass(this.colorClass);this._tooltipBG=h;m&&u.transform("t "+(w.width/2-u.getBBox().width/2)+" 0");this._tooltipArrow=l=l.polygon([-5,.2,5,-5,5,5]).addClass(this.colorClass);this._positionTooltipArrow(this._tooltipPlacement);this.snapElement.append(h);this.snapElement.append(z);this.snapElement.append(l);this.snapElement.addClass("fm-tooltip");this.hide();this.enableBlackBorder&&this.snapElement.attr({filter:"url(#black-border)"});return this.snapElement},setPosition:function(a,f,l){if(this.snapElement){void 0===
l?l=this._tooltipPlacement:l!==this._tooltipPlacement&&this._positionTooltipArrow(l);var w=this._tooltipArrow.getBBox(),z=this._tooltipBG.getBBox();switch(l){case "left":a=a-w.width-z.width;f-=z.height/2;break;case "right":a+=w.width;f-=z.height/2;break;case "bottom":a-=z.width/2;f+=w.height;break;case "top":a-=z.width/2,f=f-z.height-w.height}this.snapElement.transform("T"+a+","+f)}},show:function(){this.snapElement&&(this.snapElement.parent().append(this.snapElement),this.snapElement.attr("display",
"block"))}};return y});
define("pictorial","snap config scale-utils axis pictorial-key Tooltip".split(" "),function(x,f,y,C,a,k){function l(a,f,e,d,h){var l=e.group.getBBox(),p=a.rect(l.x,l.y,l.width,l.height).attr({opacity:0});e.group.append(p);var b=l.x+l.width/2,t=l.y,n,c;for(c in h.data)if(c===f){n=h.data[c][d].value;break}e.group.hover(function(){var c=e.name,d=n,f=new k(a,"fm-datum-color-overflow");f.render(c,d);f.setPosition(b,t,"top");f.show()},function(){a.select(".fm-tooltip").remove()})}function w(a,f,e,d,h){a=
a.axis(f,e,d,h.groups.map(function(a,d){return{position:d,label:a}}),0,"vertical",null,!0).addClass("fm-y-axis");(f-=a.getBBox().x)&&a.transform("t "+f+" 0");a.xOffset=f;return a}function z(a,k,e,d,h){var w=a.group();d.groups.forEach(function(p,b){var t=a.group().addClass("fm-pictorial-bar"),n=[];d.series.forEach(function(b){n.push({name:b.name,group:a.group()})});for(var c=0;c<f.GLYPHS_ACROSS;c++){var z=d.rows[p][c],v=a.text(k.getPixel(c),e.getPixel(b),d.series[z].glyph).addClass("fm-pictorial-glyph").addClass(d.series[z].color).attr({"font-size":h}),
x;n.forEach(function(a){return a.name===d.series[z].name?(a.group.append(v),x=a.group,!1):!0});t.append(x)}n.forEach(function(b,c){l(a,p,b,c,d)});w.append(t)});return w}return x.plugin(function(a,k,e){e.prototype.pictorialBar=function(a,e,k,l,b,m){a=this.group();e=f.GLYPHS_ACROSS+1;m=Math.min((k-f.LEFT_PADDING-f.RIGHT_PADDING)/e,(l-f.TOP_PADDING-f.BOTTOM_PADDING)/b.groups.length);var n=(k+f.LEFT_PADDING-f.RIGHT_PADDING-m*e)/2;l=(l+f.TOP_PADDING-f.BOTTOM_PADDING-m*b.groups.length)/2;var c=m*b.groups.length,
u=new y.Scale(l,c,-f.NUMBER_OF_Y_PADDING_POINTS,b.groups.length-1+f.NUMBER_OF_Y_PADDING_POINTS),v=w(this,n,l,u,b);a.append(v);var x=m*e-v.xOffset,v=new y.Scale(n+v.xOffset,x,-f.NUMBER_OF_X_PADDING_POINTS,f.GLYPHS_ACROSS-f.NUMBER_OF_X_PADDING_POINTS),u=z(this,v,u,b,x*f.GLYPH_BLACK_PROPORTION/f.GLYPHS_ACROSS);a.append(u);b=this.pictorialKey(n,l+c+f.BOTTOM_PADDING,m*e,b.series);a.append(b);b=b.getBBox().y2;this.node.setAttribute("viewBox","0 0 "+k+" "+b);this.node.style.height=b+"px";return a}})});
define("render",["snap","classList","config","data-processor","pictorial"],function(x,f,y,C,a){function k(a){return a.split("-").map(function(a,f){return 0===f?a:a.charAt(0).toUpperCase()+a.substr(1)}).join("")}var l=/([0-9]+)(px|%|rem|em|ex|ch|vw|vh|vmin|vmax|mm|cm|in|pt|pc)/;return function(a){var f=a.getAttribute("data-fm-config"),m=f&&window[f]?window[f]:{};[].filter.call(a.attributes,function(a){return"data-fm-config"===a.name?!1:/^data-fm-/.test(a.name)}).forEach(function(a){var b=a.name.replace(/^data-fm-/,
""),b=k(b);m[b]=a.value});m.width||(m.width="100%");m.height||(m.height="450px");if(null===m.height.match(l)||null===m.width.match(l))throw"A valid CSS length must be used for the chart dimensions (such as 50% or 400px)";var u,e,d;m.width.replace(l,function(a,b,c){u=parseFloat(b);e=u*(y.SPILLOVER_LEFT+y.SPILLOVER_RIGHT);d=c});var h,A,p;m.height.replace(l,function(a,b,c){h=parseFloat(b);A=h*(y.SPILLOVER_TOP+y.SPILLOVER_BOTTOM);p=c});f=document.createElementNS("http://www.w3.org/2000/svg","svg");m.disableSpillover?
(f.style.height=h+p,f.style.width=u+d):(f.style.height=h+A+p,f.style.width=u+e+d,f.style.margin="-"+y.SPILLOVER_TOP*h+p+" -"+y.SPILLOVER_RIGHT*u+d+" -"+y.SPILLOVER_BOTTOM*h+p+" -"+y.SPILLOVER_LEFT*u+d);a.parentElement.insertBefore(f,a);var b=x(f);a=C.tableToJSON(a,m);var t=f.getBoundingClientRect(),n=t.right-t.left,t=t.bottom-t.top,c=n/(1+y.SPILLOVER_LEFT+y.SPILLOVER_RIGHT),E=t/(1+y.SPILLOVER_TOP+y.SPILLOVER_BOTTOM),v=c*y.SPILLOVER_LEFT,D=E*y.SPILLOVER_TOP;f.setAttribute("viewBox","0 0 "+n+" "+t);
b.pictorialBar(v,D,c,E,a,m)}});
require.config({paths:{text:"../../bower_components/requirejs-text/text",snap:"../../bower_components/Snap.svg/dist/snap.svg",axis:"../../bower_components/axis/dist/axis",classList:"../../bower_components/classList.js/classList","grid-lines":"../../bower_components/grid-lines/dist/grid-lines","scale-utils":"../../bower_components/scale-utilities/dist/scale-utils","number-utils":"../../bower_components/number-utils/dist/number-utils","color-utils":"../../bower_components/color-utils/dist/color","tick-mark":"../../bower_components/tick-mark/dist/tick-mark",
multitext:"../../bower_components/multitext/dist/multitext","pictorial-key":"../../bower_components/pictorial-key/dist/pictorial-key",Tooltip:"../../bower_components/Tooltip/dist/Tooltip"},shim:{snap:{exports:"Snap"}}});
require(["render"],function(x){var f=document.querySelectorAll("table.fm-pictorial-bar");if(document.implementation&&(document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Shape","1.0")||document.implementation.hasFeature("SVG","1.0")))for(C=0;C<f.length;C++){if(window.factmint&&window.factmint.previewVisualizations||!f[C].hasAttribute("data-fm-rendered")){f[C].setAttribute("data-fm-rendered","true");try{x(f[C])}catch(y){console.log("ERROR: chart rendering failed"),console.log(y)}}}else{console.log("SVG not supported: visualizations disabled");
for(var C=0;C<f.length;C++)f[C].style.display="table"}});define("main",function(){});
