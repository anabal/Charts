/* Copyright Factmint Ltd, not for distribution without consent; version 1.0.2; includes SnapSVG, https://github.com/adobe-webplatform/Snap.svg/blob/master/LICENSE */
/*
 almond 0.3.0 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/almond for details
*/
'use strict';var requirejs,require,define;
(function(u){function c(d,a){var b,e,f,p,c,h,r,z,n,k=a&&a.split("/"),v=t.map,l=v&&v["*"]||{};if(d&&"."===d.charAt(0))if(a){k=k.slice(0,k.length-1);d=d.split("/");c=d.length-1;t.nodeIdCompat&&m.test(d[c])&&(d[c]=d[c].replace(m,""));d=k.concat(d);for(c=0;c<d.length;c+=1)if(b=d[c],"."===b)d.splice(c,1),--c;else if(".."===b)if(1!==c||".."!==d[2]&&".."!==d[0])0<c&&(d.splice(c-1,2),c-=2);else break;d=d.join("/")}else 0===d.indexOf("./")&&(d=d.substring(2));if((k||l)&&v){b=d.split("/");for(c=b.length;0<
c;--c){e=b.slice(0,c).join("/");if(k)for(n=k.length;0<n;--n)if(f=v[k.slice(0,n).join("/")])if(f=f[e]){p=f;h=c;break}if(p)break;!r&&l&&l[e]&&(r=l[e],z=c)}!p&&r&&(p=r,h=z);p&&(b.splice(0,h,p),d=b.join("/"))}return d}function l(d,a){return function(){var b=z.call(arguments,0);"string"!==typeof b[0]&&1===b.length&&b.push(null);return n.apply(u,b.concat([d,a]))}}function B(d){return function(a){return c(a,d)}}function a(d){return function(a){e[d]=a}}function h(d){if(b.call(p,d)){var a=p[d];delete p[d];
r[d]=!0;x.apply(u,a)}if(!b.call(e,d)&&!b.call(r,d))throw Error("No "+d);return e[d]}function k(d){var a,b=d?d.indexOf("!"):-1;-1<b&&(a=d.substring(0,b),d=d.substring(b+1,d.length));return[a,d]}function A(d){return function(){return t&&t.config&&t.config[d]||{}}}var x,n,v,f,e={},p={},t={},r={},b=Object.prototype.hasOwnProperty,z=[].slice,m=/\.js$/;v=function(d,a){var b,e=k(d),f=e[0];d=e[1];f&&(f=c(f,a),b=h(f));f?d=b&&b.normalize?b.normalize(d,B(a)):c(d,a):(d=c(d,a),e=k(d),f=e[0],d=e[1],f&&(b=h(f)));
return{f:f?f+"!"+d:d,n:d,pr:f,p:b}};f={require:function(d){return l(d)},exports:function(d){var a=e[d];return"undefined"!==typeof a?a:e[d]={}},module:function(d){return{id:d,uri:"",exports:e[d],config:A(d)}}};x=function(d,m,c,z){var w,t,n,k,x=[];t=typeof c;var A;z=z||d;if("undefined"===t||"function"===t){m=!m.length&&c.length?["require","exports","module"]:m;for(k=0;k<m.length;k+=1)if(n=v(m[k],z),t=n.f,"require"===t)x[k]=f.require(d);else if("exports"===t)x[k]=f.exports(d),A=!0;else if("module"===
t)w=x[k]=f.module(d);else if(b.call(e,t)||b.call(p,t)||b.call(r,t))x[k]=h(t);else if(n.p)n.p.load(n.n,l(z,!0),a(t),{}),x[k]=e[t];else throw Error(d+" missing "+t);m=c?c.apply(e[d],x):void 0;d&&(w&&w.exports!==u&&w.exports!==e[d]?e[d]=w.exports:m===u&&A||(e[d]=m))}else d&&(e[d]=c)};requirejs=require=n=function(d,a,b,e,m){if("string"===typeof d)return f[d]?f[d](a):h(v(d,a).f);if(!d.splice){t=d;t.deps&&n(t.deps,t.callback);if(!a)return;a.splice?(d=a,a=b,b=null):d=u}a=a||function(){};"function"===typeof b&&
(b=e,e=m);e?x(u,d,a,b):setTimeout(function(){x(u,d,a,b)},4);return n};n.config=function(d){return n(d)};requirejs._defined=e;define=function(d,a,f){a.splice||(f=a,a=[]);b.call(e,d)||b.call(p,d)||(p[d]=[d,a,f])};define.amd={jQuery:!0}})();define("almond",function(){});
(function(u){var c=/[\.\/]/,l=/\s*,\s*/,B=function(a,f){return a-f},a,h,k={n:{}},A=function(){for(var a=0,f=this.length;a<f;a++)if("undefined"!=typeof this[a])return this[a]},x=function(){for(var a=this.length;--a;)if("undefined"!=typeof this[a])return this[a]},n=function(c,f){c=String(c);var e=h,p=Array.prototype.slice.call(arguments,2),t=n.listeners(c),r=0,b,z=[],m={},d=[],k=a;d.firstDefined=A;d.lastDefined=x;a=c;for(var y=h=0,D=t.length;y<D;y++)"zIndex"in t[y]&&(z.push(t[y].zIndex),0>t[y].zIndex&&
(m[t[y].zIndex]=t[y]));for(z.sort(B);0>z[r];)if(b=m[z[r++]],d.push(b.apply(f,p)),h)return h=e,d;for(y=0;y<D;y++)if(b=t[y],"zIndex"in b)if(b.zIndex==z[r]){d.push(b.apply(f,p));if(h)break;do if(r++,(b=m[z[r]])&&d.push(b.apply(f,p)),h)break;while(b)}else m[b.zIndex]=b;else if(d.push(b.apply(f,p)),h)break;h=e;a=k;return d};n._events=k;n.listeners=function(a){a=a.split(c);var f=k,e,p,h,r,b,z,m,d=[f],n=[];h=0;for(r=a.length;h<r;h++){m=[];b=0;for(z=d.length;b<z;b++)for(f=d[b].n,e=[f[a[h]],f["*"]],p=2;p--;)if(f=
e[p])m.push(f),n=n.concat(f.f||[]);d=m}return n};n.on=function(a,f){a=String(a);if("function"!=typeof f)return function(){};for(var e=a.split(l),p=0,h=e.length;p<h;p++)(function(a){a=a.split(c);for(var b=k,e,m=0,d=a.length;m<d;m++)b=b.n,b=b.hasOwnProperty(a[m])&&b[a[m]]||(b[a[m]]={n:{}});b.f=b.f||[];m=0;for(d=b.f.length;m<d;m++)if(b.f[m]==f){e=!0;break}!e&&b.f.push(f)})(e[p]);return function(a){+a==+a&&(f.zIndex=+a)}};n.f=function(a){var f=[].slice.call(arguments,1);return function(){n.apply(null,
[a,null].concat(f).concat([].slice.call(arguments,0)))}};n.stop=function(){h=1};n.nt=function(c){return c?(new RegExp("(?:\\.|\\/|^)"+c+"(?:\\.|\\/|$)")).test(a):a};n.nts=function(){return a.split(c)};n.off=n.unbind=function(a,f){if(a){var e=a.split(l);if(1<e.length)for(var p=0,h=e.length;p<h;p++)n.off(e[p],f);else{for(var e=a.split(c),r,b,z,m,d=[k],p=0,h=e.length;p<h;p++)for(m=0;m<d.length;m+=z.length-2){z=[m,1];r=d[m].n;if("*"!=e[p])r[e[p]]&&z.push(r[e[p]]);else for(b in r)r.hasOwnProperty(b)&&
z.push(r[b]);d.splice.apply(d,z)}p=0;for(h=d.length;p<h;p++)for(r=d[p];r.n;){if(f){if(r.f){m=0;for(e=r.f.length;m<e;m++)if(r.f[m]==f){r.f.splice(m,1);break}!r.f.length&&delete r.f}for(b in r.n)if(r.n.hasOwnProperty(b)&&r.n[b].f){z=r.n[b].f;m=0;for(e=z.length;m<e;m++)if(z[m]==f){z.splice(m,1);break}!z.length&&delete r.n[b].f}}else for(b in delete r.f,r.n)r.n.hasOwnProperty(b)&&r.n[b].f&&delete r.n[b].f;r=r.n}}}else n._events=k={n:{}}};n.once=function(a,f){var e=function(){n.unbind(a,e);return f.apply(this,
arguments)};return n.on(a,e)};n.version="0.4.2";n.toString=function(){return"You are running Eve 0.4.2"};"undefined"!=typeof module&&module.exports?module.exports=n:"function"===typeof define&&define.amd?define("eve",[],function(){return n}):u.eve=n})(this);
(function(u,c){"function"===typeof define&&define.amd?define("snap",["eve"],function(l){return c(u,l)}):c(u,u.eve)})(this,function(u,c){var l=function(a){var c={},k=u.requestAnimationFrame||u.webkitRequestAnimationFrame||u.mozRequestAnimationFrame||u.oRequestAnimationFrame||u.msRequestAnimationFrame||function(a){setTimeout(a,16)},l=Array.isArray||function(a){return a instanceof Array||"[object Array]"==Object.prototype.toString.call(a)},x=0,n="M"+(+new Date).toString(36),v=function(a){if(null==a)return this.s;
var b=this.s-a;this.b+=this.dur*b;this.B+=this.dur*b;this.s=a},f=function(a){if(null==a)return this.spd;this.spd=a},e=function(a){if(null==a)return this.dur;this.s=this.s*a/this.dur;this.dur=a},p=function(){delete c[this.id];this.update();a("mina.stop."+this.id,this)},t=function(){this.pdif||(delete c[this.id],this.update(),this.pdif=this.get()-this.b)},r=function(){this.pdif&&(this.b=this.get()-this.pdif,delete this.pdif,c[this.id]=this)},b=function(){var a;if(l(this.start)){a=[];for(var b=0,e=this.start.length;b<
e;b++)a[b]=+this.start[b]+(this.end[b]-this.start[b])*this.easing(this.s)}else a=+this.start+(this.end-this.start)*this.easing(this.s);this.set(a)},z=function(){var d=0,b;for(b in c)if(c.hasOwnProperty(b)){var e=c[b],f=e.get();d++;e.s=(f-e.b)/(e.dur/e.spd);1<=e.s&&(delete c[b],e.s=1,d--,function(d){setTimeout(function(){a("mina.finish."+d.id,d)})}(e));e.update()}d&&k(z)},m=function(a,E,y,D,w,H,l){a={id:n+(x++).toString(36),start:a,end:E,b:y,s:0,dur:D-y,spd:1,get:w,set:H,easing:l||m.linear,status:v,
speed:f,duration:e,stop:p,pause:t,resume:r,update:b};c[a.id]=a;E=0;for(var A in c)if(c.hasOwnProperty(A)&&(E++,2==E))break;1==E&&k(z);return a};m.time=Date.now||function(){return+new Date};m.getById=function(a){return c[a]||null};m.linear=function(a){return a};m.easeout=function(a){return Math.pow(a,1.7)};m.easein=function(a){return Math.pow(a,.48)};m.easeinout=function(a){if(1==a)return 1;if(0==a)return 0;var b=.48-a/1.04,e=Math.sqrt(.1734+b*b);a=e-b;a=Math.pow(Math.abs(a),1/3)*(0>a?-1:1);b=-e-b;
b=Math.pow(Math.abs(b),1/3)*(0>b?-1:1);a=a+b+.5;return 3*(1-a)*a*a+a*a*a};m.backin=function(a){return 1==a?1:a*a*(2.70158*a-1.70158)};m.backout=function(a){if(0==a)return 0;--a;return a*a*(2.70158*a+1.70158)+1};m.elastic=function(a){return a==!!a?a:Math.pow(2,-10*a)*Math.sin(2*(a-.075)*Math.PI/.3)+1};m.bounce=function(a){a<1/2.75?a*=7.5625*a:a<2/2.75?(a-=1.5/2.75,a=7.5625*a*a+.75):a<2.5/2.75?(a-=2.25/2.75,a=7.5625*a*a+.9375):(a-=2.625/2.75,a=7.5625*a*a+.984375);return a};return u.mina=m}("undefined"==
typeof c?function(){}:c),B=function(){function a(C,ma){if(C){if(C.tagName)return D(C);if(k(C,"array")&&a.set)return a.set.apply(a,C);if(C instanceof m)return C;if(null==ma)return C=w.doc.querySelector(C),D(C)}return new y(null==C?"100%":C,null==ma?"100%":ma)}function h(C,a){if(a){"#text"==C&&(C=w.doc.createTextNode(a.text||""));"string"==typeof C&&(C=h(C));if("string"==typeof a)return"xlink:"==a.substring(0,6)?C.getAttributeNS(q,a.substring(6)):"xml:"==a.substring(0,4)?C.getAttributeNS(ka,a.substring(4)):
C.getAttribute(a);for(var b in a)if(a[H](b)){var d=J(a[b]);d?"xlink:"==b.substring(0,6)?C.setAttributeNS(q,b.substring(6),d):"xml:"==b.substring(0,4)?C.setAttributeNS(ka,b.substring(4),d):C.setAttribute(b,d):C.removeAttribute(b)}}else C=w.doc.createElementNS(ka,C);return C}function k(a,b){b=J.prototype.toLowerCase.call(b);return"finite"==b?isFinite(a):"array"==b&&(a instanceof Array||Array.isArray&&Array.isArray(a))?!0:"null"==b&&null===a||b==typeof a&&null!==a||"object"==b&&a===Object(a)||W.call(a).slice(8,
-1).toLowerCase()==b}function A(a){if("function"==typeof a||Object(a)!==a)return a;var b=new a.constructor,d;for(d in a)a[H](d)&&(b[d]=A(a[d]));return b}function x(a,b,d){function e(){var f=Array.prototype.slice.call(arguments,0),c=f.join("\u2400"),q=e.cache=e.cache||{},m=e.count=e.count||[];if(q[H](c)){a:for(var f=m,m=c,F=0,p=f.length;F<p;F++)if(f[F]===m){f.push(f.splice(F,1)[0]);break a}return d?d(q[c]):q[c]}1E3<=m.length&&delete q[m.shift()];m.push(c);q[c]=a.apply(b,f);return d?d(q[c]):q[c]}return e}
function n(a,b,d,e,f,c){return null==f?(a-=d,b-=e,a||b?(180*K.atan2(-b,-a)/X+540)%360:0):n(a,b,f,c)-n(d,e,f,c)}function v(a){return a%360*X/180}function f(a){var b=[];a=a.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(a,C,d){d=d.split(/\s*,\s*|\s+/);"rotate"==C&&1==d.length&&d.push(0,0);"scale"==C&&(2<d.length?d=d.slice(0,2):2==d.length&&d.push(0,0),1==d.length&&d.push(d[0],0,0));"skewX"==C?b.push(["m",1,0,K.tan(v(d[0])),1,0,0]):"skewY"==C?b.push(["m",1,K.tan(v(d[0])),0,1,0,0]):b.push([C.charAt(0)].concat(d));
return a});return b}function e(C,b){var d=ra(C),e=new a.Matrix;if(d)for(var f=0,c=d.length;f<c;f++){var q=d[f],m=q.length,F=J(q[0]).toLowerCase(),p=q[0]!=F,w=p?e.invert():0,h;"t"==F&&2==m?e.translate(q[1],0):"t"==F&&3==m?p?(m=w.x(0,0),F=w.y(0,0),p=w.x(q[1],q[2]),w=w.y(q[1],q[2]),e.translate(p-m,w-F)):e.translate(q[1],q[2]):"r"==F?2==m?(h=h||b,e.rotate(q[1],h.x+h.width/2,h.y+h.height/2)):4==m&&(p?(p=w.x(q[2],q[3]),w=w.y(q[2],q[3]),e.rotate(q[1],p,w)):e.rotate(q[1],q[2],q[3])):"s"==F?2==m||3==m?(h=
h||b,e.scale(q[1],q[m-1],h.x+h.width/2,h.y+h.height/2)):4==m?p?(p=w.x(q[2],q[3]),w=w.y(q[2],q[3]),e.scale(q[1],q[1],p,w)):e.scale(q[1],q[1],q[2],q[3]):5==m&&(p?(p=w.x(q[3],q[4]),w=w.y(q[3],q[4]),e.scale(q[1],q[2],p,w)):e.scale(q[1],q[2],q[3],q[4])):"m"==F&&7==m&&e.add(q[1],q[2],q[3],q[4],q[5],q[6])}return e}function p(C,b){if(null==b){var d=!0;b="linearGradient"==C.type||"radialGradient"==C.type?C.node.getAttribute("gradientTransform"):"pattern"==C.type?C.node.getAttribute("patternTransform"):C.node.getAttribute("transform");
if(!b)return new a.Matrix;b=f(b)}else b=a._.rgTransform.test(b)?J(b).replace(/\.{3}|\u2026/g,C._.transform||""):f(b),k(b,"array")&&(b=a.path?a.path.toString.call(b):J(b)),C._.transform=b;var q=e(b,C.getBBox(1));if(d)return q;C.matrix=q}function t(C){C=C.node.ownerSVGElement&&D(C.node.ownerSVGElement)||C.node.parentNode&&D(C.node.parentNode)||a.select("svg")||a(0,0);var b=C.select("defs"),b=null==b?!1:b.node;b||(b=E("defs",C.node).node);return b}function r(C){return C.node.ownerSVGElement&&D(C.node.ownerSVGElement)||
a.select("svg")}function b(a,b,d){function e(a){if(null==a)return"";if(a==+a)return a;h(F,{width:a});try{return F.getBBox().width}catch(C){return 0}}function q(a){if(null==a)return"";if(a==+a)return a;h(F,{height:a});try{return F.getBBox().height}catch(C){return 0}}function f(e,q){null==b?m[e]=q(a.attr(e)||0):e==b&&(m=q(null==d?a.attr(e)||0:d))}var c=r(a).node,m={},F=c.querySelector(".svg---mgr");F||(F=h("rect"),h(F,{x:-9E9,y:-9E9,width:10,height:10,"class":"svg---mgr",fill:"none"}),c.appendChild(F));
switch(a.type){case "rect":f("rx",e),f("ry",q);case "image":f("width",e),f("height",q);case "text":f("x",e);f("y",q);break;case "circle":f("cx",e);f("cy",q);f("r",e);break;case "ellipse":f("cx",e);f("cy",q);f("rx",e);f("ry",q);break;case "line":f("x1",e);f("x2",e);f("y1",q);f("y2",q);break;case "marker":f("refX",e);f("markerWidth",e);f("refY",q);f("markerHeight",q);break;case "radialGradient":f("fx",e);f("fy",q);break;case "tspan":f("dx",e);f("dy",q);break;default:f(b,e)}c.removeChild(F);return m}
function z(a){k(a,"array")||(a=Array.prototype.slice.call(arguments,0));for(var b=0,e=0,d=this.node;this[b];)delete this[b++];for(b=0;b<a.length;b++)"set"==a[b].type?a[b].forEach(function(a){d.appendChild(a.node)}):d.appendChild(a[b].node);for(var q=d.childNodes,b=0;b<q.length;b++)this[e++]=D(q[b]);return this}function m(a){if(a.snap in O)return O[a.snap];var b=this.id=U(),d;try{d=a.ownerSVGElement}catch(e){}this.node=a;d&&(this.paper=new y(d));this.type=a.tagName;this.anims={};this._={transform:[]};
a.snap=b;O[b]=this;"g"==this.type&&(this.add=z);if(this.type in{g:1,mask:1,pattern:1})for(var q in y.prototype)y.prototype[H](q)&&(this[q]=y.prototype[q])}function d(a){this.node=a}function E(a,b){var d=h(a);b.appendChild(d);return D(d)}function y(a,b){var d,e,q,f=y.prototype;if(a&&"svg"==a.tagName){if(a.snap in O)return O[a.snap];var c=a.ownerDocument;d=new m(a);e=a.getElementsByTagName("desc")[0];q=a.getElementsByTagName("defs")[0];e||(e=h("desc"),e.appendChild(c.createTextNode("Created with Snap")),
d.node.appendChild(e));q||(q=h("defs"),d.node.appendChild(q));d.defs=q;for(var p in f)f[H](p)&&(d[p]=f[p]);d.paper=d.root=d}else d=E("svg",w.doc.body),h(d.node,{height:b,version:1.1,width:a,xmlns:ka});return d}function D(a){return!a||a instanceof m||a instanceof d?a:a.tagName&&"svg"==a.tagName.toLowerCase()?new y(a):a.tagName&&"object"==a.tagName.toLowerCase()&&"image/svg+xml"==a.type?new y(a.contentDocument.getElementsByTagName("svg")[0]):new m(a)}a.version="0.3.0";a.toString=function(){return"Snap v"+
this.version};a._={};var w={win:u,doc:u.document};a._.glob=w;var H="hasOwnProperty",J=String,B=parseFloat,S=parseInt,K=Math,L=K.max,M=K.min,T=K.abs,X=K.PI,W=Object.prototype.toString,G=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i;a._.separator=
/[,\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]+/;var I=/[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,R={hs:1,rg:1},P=/([a-z])[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,
Z=/([rstm])[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,V=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/ig,
la=0,Y="S"+(+new Date).toString(36),U=function(){return Y+(la++).toString(36)},q="http://www.w3.org/1999/xlink",ka="http://www.w3.org/2000/svg",O={},sa=a.url=function(a){return"url('#"+a+"')"};a._.$=h;a._.id=U;a.format=function(){var a=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,d=function(a,C,d){var e=d;C.replace(b,function(a,b,C,d,q){b=b||d;e&&(b in e&&(e=e[b]),"function"==typeof e&&q&&(e=e()))});return e=(null==e||e==d?a:e)+""};return function(b,e){return J(b).replace(a,
function(a,b){return d(a,b,e)})}}();a._.clone=A;a._.cacher=x;a.rad=v;a.deg=function(a){return 180*a/X%360};a.angle=n;a.is=k;a.snapTo=function(a,b,d){d=k(d,"finite")?d:10;if(k(a,"array"))for(var e=a.length;e--;){if(T(a[e]-b)<=d)return a[e]}else{a=+a;e=b%a;if(e<d)return b-e;if(e>a-d)return b-e+a}return b};a.getRGB=x(function(b){if(!b||(b=J(b)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ia};if("none"==b)return{r:-1,g:-1,b:-1,hex:"none",toString:ia};!R[H](b.toLowerCase().substring(0,
2))&&"#"!=b.charAt()&&(b=na(b));if(!b)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ia};var d,e,q,f,c;if(b=b.match(G)){b[2]&&(q=S(b[2].substring(5),16),e=S(b[2].substring(3,5),16),d=S(b[2].substring(1,3),16));b[3]&&(q=S((c=b[3].charAt(3))+c,16),e=S((c=b[3].charAt(2))+c,16),d=S((c=b[3].charAt(1))+c,16));b[4]&&(c=b[4].split(I),d=B(c[0]),"%"==c[0].slice(-1)&&(d*=2.55),e=B(c[1]),"%"==c[1].slice(-1)&&(e*=2.55),q=B(c[2]),"%"==c[2].slice(-1)&&(q*=2.55),"rgba"==b[1].toLowerCase().slice(0,4)&&(f=B(c[3])),
c[3]&&"%"==c[3].slice(-1)&&(f/=100));if(b[5])return c=b[5].split(I),d=B(c[0]),"%"==c[0].slice(-1)&&(d/=100),e=B(c[1]),"%"==c[1].slice(-1)&&(e/=100),q=B(c[2]),"%"==c[2].slice(-1)&&(q/=100),"deg"!=c[0].slice(-3)&&"\u00b0"!=c[0].slice(-1)||(d/=360),"hsba"==b[1].toLowerCase().slice(0,4)&&(f=B(c[3])),c[3]&&"%"==c[3].slice(-1)&&(f/=100),a.hsb2rgb(d,e,q,f);if(b[6])return c=b[6].split(I),d=B(c[0]),"%"==c[0].slice(-1)&&(d/=100),e=B(c[1]),"%"==c[1].slice(-1)&&(e/=100),q=B(c[2]),"%"==c[2].slice(-1)&&(q/=100),
"deg"!=c[0].slice(-3)&&"\u00b0"!=c[0].slice(-1)||(d/=360),"hsla"==b[1].toLowerCase().slice(0,4)&&(f=B(c[3])),c[3]&&"%"==c[3].slice(-1)&&(f/=100),a.hsl2rgb(d,e,q,f);d=M(K.round(d),255);e=M(K.round(e),255);q=M(K.round(q),255);f=M(L(f,0),1);b={r:d,g:e,b:q,toString:ia};b.hex="#"+(16777216|q|e<<8|d<<16).toString(16).slice(1);b.opacity=k(f,"finite")?f:1;return b}return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ia}},a);a.hsb=x(function(b,d,e){return a.hsb2rgb(b,d,e).hex});a.hsl=x(function(b,d,e){return a.hsl2rgb(b,
d,e).hex});a.rgb=x(function(a,b,d,e){if(k(e,"finite")){var q=K.round;return"rgba("+[q(a),q(b),q(d),+e.toFixed(2)]+")"}return"#"+(16777216|d|b<<8|a<<16).toString(16).slice(1)});var na=function(a){var b=w.doc.getElementsByTagName("head")[0]||w.doc.getElementsByTagName("svg")[0];na=x(function(a){if("red"==a.toLowerCase())return"rgb(255, 0, 0)";b.style.color="rgb(255, 0, 0)";b.style.color=a;a=w.doc.defaultView.getComputedStyle(b,"").getPropertyValue("color");return"rgb(255, 0, 0)"==a?null:a});return na(a)},
ta=function(){return"hsb("+[this.h,this.s,this.b]+")"},ua=function(){return"hsl("+[this.h,this.s,this.l]+")"},ia=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},oa=function(b,d,e){null==d&&k(b,"object")&&"r"in b&&"g"in b&&"b"in b&&(e=b.b,d=b.g,b=b.r);null==d&&k(b,string)&&(e=a.getRGB(b),b=e.r,d=e.g,e=e.b);if(1<b||1<d||1<e)b/=255,d/=255,e/=255;return[b,d,e]},pa=function(b,d,e,q){b=K.round(255*b);d=K.round(255*d);e=K.round(255*e);b={r:b,
g:d,b:e,opacity:k(q,"finite")?q:1,hex:a.rgb(b,d,e),toString:ia};k(q,"finite")&&(b.opacity=q);return b};a.color=function(b){var d;k(b,"object")&&"h"in b&&"s"in b&&"b"in b?(d=a.hsb2rgb(b),b.r=d.r,b.g=d.g,b.b=d.b,b.opacity=1,b.hex=d.hex):k(b,"object")&&"h"in b&&"s"in b&&"l"in b?(d=a.hsl2rgb(b),b.r=d.r,b.g=d.g,b.b=d.b,b.opacity=1,b.hex=d.hex):(k(b,"string")&&(b=a.getRGB(b)),k(b,"object")&&"r"in b&&"g"in b&&"b"in b&&!("error"in b)?(d=a.rgb2hsl(b),b.h=d.h,b.s=d.s,b.l=d.l,d=a.rgb2hsb(b),b.v=d.b):(b={hex:"none"},
b.r=b.g=b.b=b.h=b.s=b.v=b.l=-1,b.error=1));b.toString=ia;return b};a.hsb2rgb=function(a,b,d,e){k(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(d=a.b,b=a.s,a=a.h,e=a.o);var q,f,c;a=360*a%360/60;c=d*b;b=c*(1-T(a%2-1));d=q=f=d-c;a=~~a;d+=[c,b,0,0,b,c][a];q+=[b,c,c,b,0,0][a];f+=[0,0,b,c,c,b][a];return pa(d,q,f,e)};a.hsl2rgb=function(a,b,d,e){k(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(d=a.l,b=a.s,a=a.h);if(1<a||1<b||1<d)a/=360,b/=100,d/=100;var q,f,c;a=360*a%360/60;c=2*b*(.5>d?d:1-d);b=c*(1-T(a%2-1));d=q=f=
d-c/2;a=~~a;d+=[c,b,0,0,b,c][a];q+=[b,c,c,b,0,0][a];f+=[0,0,b,c,c,b][a];return pa(d,q,f,e)};a.rgb2hsb=function(a,b,d){d=oa(a,b,d);a=d[0];b=d[1];d=d[2];var e,q;e=L(a,b,d);q=e-M(a,b,d);a=((0==q?null:e==a?(b-d)/q:e==b?(d-a)/q+2:(a-b)/q+4)+360)%6*60/360;return{h:a,s:0==q?0:q/e,b:e,toString:ta}};a.rgb2hsl=function(a,b,d){d=oa(a,b,d);a=d[0];b=d[1];d=d[2];var e,q,f;e=L(a,b,d);q=M(a,b,d);f=e-q;a=((0==f?null:e==a?(b-d)/f:e==b?(d-a)/f+2:(a-b)/f+4)+360)%6*60/360;e=(e+q)/2;return{h:a,s:0==f?0:.5>e?f/(2*e):f/
(2-2*e),l:e,toString:ua}};a.parsePathString=function(b){if(!b)return null;var d=a.path(b);if(d.arr)return a.path.clone(d.arr);var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},q=[];k(b,"array")&&k(b[0],"array")&&(q=a.path.clone(b));q.length||J(b).replace(P,function(a,b,d){var f=[];a=b.toLowerCase();d.replace(V,function(a,b){b&&f.push(+b)});"m"==a&&2<f.length&&(q.push([b].concat(f.splice(0,2))),a="l",b="m"==b?"l":"L");"o"==a&&1==f.length&&q.push([b,f[0]]);if("r"==a)q.push([b].concat(f));
else for(;f.length>=e[a]&&(q.push([b].concat(f.splice(0,e[a]))),e[a]););});q.toString=a.path.toString;d.arr=a.path.clone(q);return q};var ra=a.parseTransformString=function(b){if(!b)return null;var d=[];k(b,"array")&&k(b[0],"array")&&(d=a.path.clone(b));d.length||J(b).replace(Z,function(a,b,e){var q=[];b.toLowerCase();e.replace(V,function(a,b){b&&q.push(+b)});d.push([b].concat(q))});d.toString=a.path.toString;return d};a._.svgTransform2string=f;a._.rgTransform=/^[a-z][\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*-?\.?\d/i;
a._.transform2matrix=e;a._unit2px=b;a._.getSomeDefs=t;a._.getSomeSVG=r;a.select=function(a){return D(w.doc.querySelector(a))};a.selectAll=function(b){b=w.doc.querySelectorAll(b);for(var d=(a.set||Array)(),e=0;e<b.length;e++)d.push(D(b[e]));return d};setInterval(function(){for(var a in O)if(O[H](a)){var b=O[a],d=b.node;("svg"!=b.type&&!d.ownerSVGElement||"svg"==b.type&&(!d.parentNode||"ownerSVGElement"in d.parentNode&&!d.ownerSVGElement))&&delete O[a]}},1E4);(function(d){function e(a){function b(a,
d){var e=h(a.node,d);(e=(e=e&&e.match(c))&&e[2])&&"#"==e.charAt()&&(e=e.substring(1))&&(m[e]=(m[e]||[]).concat(function(b){var e={};e[d]=sa(b);h(a.node,e)}))}function d(a){var b=h(a.node,"xlink:href");b&&"#"==b.charAt()&&(b=b.substring(1))&&(m[b]=(m[b]||[]).concat(function(b){a.attr("xlink:href","#"+b)}))}var q=a.selectAll("*"),f,c=/^\s*url\(("|'|)(.*)\1\)\s*$/;a=[];for(var m={},w=0,p=q.length;w<p;w++){f=q[w];b(f,"fill");b(f,"stroke");b(f,"filter");b(f,"mask");b(f,"clip-path");d(f);var r=h(f.node,
"id");r&&(h(f.node,{id:f.id}),a.push({old:r,id:f.id}))}w=0;for(p=a.length;w<p;w++)if(q=m[a[w].old])for(f=0,r=q.length;f<r;f++)q[f](a[w].id)}function q(a,b,d){return function(e){e=e.slice(a,b);1==e.length&&(e=e[0]);return d?d(e):e}}function f(a){return function(){var b=a?"<"+this.type:"",d=this.node.attributes,e=this.node.childNodes;if(a)for(var q=0,f=d.length;q<f;q++)b+=" "+d[q].name+'="'+d[q].value.replace(/"/g,'\\"')+'"';if(e.length){a&&(b+=">");q=0;for(f=e.length;q<f;q++)3==e[q].nodeType?b+=e[q].nodeValue:
1==e[q].nodeType&&(b+=D(e[q]).toString());a&&(b+="</"+this.type+">")}else a&&(b+="/>");return b}}d.attr=function(a,b){if(!a)return this;if(k(a,"string"))if(1<arguments.length){var d={};d[a]=b;a=d}else return c("snap.util.getattr."+a,this).firstDefined();for(var e in a)a[H](e)&&c("snap.util.attr."+e,this,a[e]);return this};d.getBBox=function(b){if(!a.Matrix||!a.path)return this.node.getBBox();var d=this,e=new a.Matrix;if(d.removed)return a._.box();for(;"use"==d.type;)if(b||(e=e.add(d.transform().localMatrix.translate(d.attr("x")||
0,d.attr("y")||0))),d.original)d=d.original;else var q=d.attr("xlink:href"),d=d.original=d.node.ownerDocument.getElementById(q.substring(q.indexOf("#")+1));var q=d._,f=a.path.get[d.type]||a.path.get.deflt;try{if(b)return q.bboxwt=f?a.path.getBBox(d.realPath=f(d)):a._.box(d.node.getBBox()),a._.box(q.bboxwt);d.realPath=f(d);d.matrix=d.transform().localMatrix;q.bbox=a.path.getBBox(a.path.map(d.realPath,e.add(d.matrix)));return a._.box(q.bbox)}catch(c){return a._.box()}};var m=function(){return this.string};
d.transform=function(b){var d=this._;if(null==b){var e=this;b=new a.Matrix(this.node.getCTM());for(var q=p(this),f=[q],c=new a.Matrix,w=q.toTransformString(),d=J(q)==J(this.matrix)?J(d.transform):w;"svg"!=e.type&&(e=e.parent());)f.push(p(e));for(e=f.length;e--;)c.add(f[e]);return{string:d,globalMatrix:b,totalMatrix:c,localMatrix:q,diffMatrix:b.clone().add(q.invert()),global:b.toTransformString(),total:c.toTransformString(),local:w,toString:m}}b instanceof a.Matrix?this.matrix=b:p(this,b);this.node&&
("linearGradient"==this.type||"radialGradient"==this.type?h(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?h(this.node,{patternTransform:this.matrix}):h(this.node,{transform:this.matrix}));return this};d.parent=function(){return D(this.node.parentNode)};d.append=d.add=function(a){if(a){if("set"==a.type){var b=this;a.forEach(function(a){b.add(a)});return this}a=D(a);this.node.appendChild(a.node);a.paper=this.paper}return this};d.appendTo=function(a){a&&(a=D(a),a.append(this));return this};
d.prepend=function(a){if(a){if("set"==a.type){var b=this,d;a.forEach(function(a){d?d.after(a):b.prepend(a);d=a});return this}a=D(a);var e=a.parent();this.node.insertBefore(a.node,this.node.firstChild);this.add&&this.add();a.paper=this.paper;this.parent()&&this.parent().add();e&&e.add()}return this};d.prependTo=function(a){a=D(a);a.prepend(this);return this};d.before=function(a){if("set"==a.type){var b=this;a.forEach(function(a){var d=a.parent();b.node.parentNode.insertBefore(a.node,b.node);d&&d.add()});
this.parent().add();return this}a=D(a);var d=a.parent();this.node.parentNode.insertBefore(a.node,this.node);this.parent()&&this.parent().add();d&&d.add();a.paper=this.paper;return this};d.after=function(a){a=D(a);var b=a.parent();this.node.nextSibling?this.node.parentNode.insertBefore(a.node,this.node.nextSibling):this.node.parentNode.appendChild(a.node);this.parent()&&this.parent().add();b&&b.add();a.paper=this.paper;return this};d.insertBefore=function(a){a=D(a);var b=this.parent();a.node.parentNode.insertBefore(this.node,
a.node);this.paper=a.paper;b&&b.add();a.parent()&&a.parent().add();return this};d.insertAfter=function(a){a=D(a);var b=this.parent();a.node.parentNode.insertBefore(this.node,a.node.nextSibling);this.paper=a.paper;b&&b.add();a.parent()&&a.parent().add();return this};d.remove=function(){var a=this.parent();this.node.parentNode&&this.node.parentNode.removeChild(this.node);delete this.paper;this.removed=!0;a&&a.add();return this};d.select=function(a){return D(this.node.querySelector(a))};d.selectAll=
function(b){b=this.node.querySelectorAll(b);for(var d=(a.set||Array)(),e=0;e<b.length;e++)d.push(D(b[e]));return d};d.asPX=function(a,d){null==d&&(d=this.attr(a));return+b(this,a,d)};d.use=function(){var a,b=this.node.id;b||(b=this.id,h(this.node,{id:b}));a="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?E(this.type,this.node.parentNode):E("use",this.node.parentNode);h(a.node,{"xlink:href":"#"+b});a.original=this;return a};var w=/\S+/g;d.addClass=function(a){var b=(a||
"").match(w)||[];a=this.node;var d=a.className.baseVal,e=d.match(w)||[],q,f,c;if(b.length){for(q=0;c=b[q++];)f=e.indexOf(c),~f||e.push(c);b=e.join(" ");d!=b&&(a.className.baseVal=b)}return this};d.removeClass=function(a){var b=(a||"").match(w)||[];a=this.node;var d=a.className.baseVal,e=d.match(w)||[],q,f;if(e.length){for(q=0;f=b[q++];)f=e.indexOf(f),~f&&e.splice(f,1);b=e.join(" ");d!=b&&(a.className.baseVal=b)}return this};d.hasClass=function(a){return!!~(this.node.className.baseVal.match(w)||[]).indexOf(a)};
d.toggleClass=function(a,b){if(null!=b)return b?this.addClass(a):this.removeClass(a);var d=(a||"").match(w)||[],e=this.node,q=e.className.baseVal,f=q.match(w)||[],c,m,p;for(c=0;p=d[c++];)m=f.indexOf(p),~m?f.splice(m,1):f.push(p);d=f.join(" ");q!=d&&(e.className.baseVal=d);return this};d.clone=function(){var a=D(this.node.cloneNode(!0));h(a.node,"id")&&h(a.node,{id:a.id});e(a);a.insertAfter(this);return a};d.toDefs=function(){t(this).appendChild(this.node);return this};d.pattern=d.toPattern=function(a,
b,d,e){var q=E("pattern",t(this));null==a&&(a=this.getBBox());k(a,"object")&&"x"in a&&(b=a.y,d=a.width,e=a.height,a=a.x);h(q.node,{x:a,y:b,width:d,height:e,patternUnits:"userSpaceOnUse",id:q.id,viewBox:[a,b,d,e].join(" ")});q.node.appendChild(this.node);return q};d.marker=function(a,b,d,e,q,f){var c=E("marker",t(this));null==a&&(a=this.getBBox());k(a,"object")&&"x"in a&&(b=a.y,d=a.width,e=a.height,q=a.refX||a.cx,f=a.refY||a.cy,a=a.x);h(c.node,{viewBox:[a,b,d,e].join(" "),markerWidth:d,markerHeight:e,
orient:"auto",refX:q||0,refY:f||0,id:c.id});c.node.appendChild(this.node);return c};var r=function(a,b,d,e){"function"!=typeof d||d.length||(e=d,d=l.linear);this.attr=a;this.dur=b;d&&(this.easing=d);e&&(this.callback=e)};a._.Animation=r;a.animation=function(a,b,d,e){return new r(a,b,d,e)};d.inAnim=function(){var a=[],b;for(b in this.anims)this.anims[H](b)&&function(b){a.push({anim:new r(b._attrs,b.dur,b.easing,b._callback),mina:b,curStatus:b.status(),status:function(a){return b.status(a)},stop:function(){b.stop()}})}(this.anims[b]);
return a};a.animate=function(a,b,d,e,q,f){"function"!=typeof q||q.length||(f=q,q=l.linear);var m=l.time();a=l(a,b,m,m+e,l.time,d,q);f&&c.once("mina.finish."+a.id,f);return a};d.stop=function(){for(var a=this.inAnim(),b=0,d=a.length;b<d;b++)a[b].stop();return this};d.animate=function(a,b,d,e){"function"!=typeof d||d.length||(e=d,d=l.linear);a instanceof r&&(e=a.callback,d=a.easing,b=d.dur,a=a.attr);var f=[],m=[],w={},p,h,z,n=this,C;for(C in a)if(a[H](C)){n.equal?(z=n.equal(C,J(a[C])),p=z.from,h=z.to,
z=z.f):(p=+n.attr(C),h=+a[C]);var t=k(p,"array")?p.length:1;w[C]=q(f.length,f.length+t,z);f=f.concat(p);m=m.concat(h)}p=l.time();var O=l(f,m,p,p+b,l.time,function(a){var b={},d;for(d in w)w[H](d)&&(b[d]=w[d](a));n.attr(b)},d);n.anims[O.id]=O;O._attrs=a;O._callback=e;c("snap.animcreated."+n.id,O);c.once("mina.finish."+O.id,function(){delete n.anims[O.id];e&&e.call(n)});c.once("mina.stop."+O.id,function(){delete n.anims[O.id]});return n};var z={};d.data=function(b,d){var e=z[this.id]=z[this.id]||{};
if(0==arguments.length)return c("snap.data.get."+this.id,this,e,null),e;if(1==arguments.length){if(a.is(b,"object")){for(var q in b)b[H](q)&&this.data(q,b[q]);return this}c("snap.data.get."+this.id,this,e[b],b);return e[b]}e[b]=d;c("snap.data.set."+this.id,this,d,b);return this};d.removeData=function(a){null==a?z[this.id]={}:z[this.id]&&delete z[this.id][a];return this};d.outerSVG=d.toString=f(1);d.innerSVG=f()})(m.prototype);a.parse=function(a){var b=w.doc.createDocumentFragment(),e=!0,q=w.doc.createElement("div");
a=J(a);a.match(/^\s*<\s*svg(?:\s|>)/)||(a="<svg>"+a+"</svg>",e=!1);q.innerHTML=a;if(a=q.getElementsByTagName("svg")[0])if(e)b=a;else for(;a.firstChild;)b.appendChild(a.firstChild);q.innerHTML="";return new d(b)};d.prototype.select=m.prototype.select;d.prototype.selectAll=m.prototype.selectAll;a.fragment=function(){for(var b=Array.prototype.slice.call(arguments,0),e=w.doc.createDocumentFragment(),q=0,f=b.length;q<f;q++){var c=b[q];c.node&&c.node.nodeType&&e.appendChild(c.node);c.nodeType&&e.appendChild(c);
"string"==typeof c&&e.appendChild(a.parse(c).node)}return new d(e)};a._.make=E;a._.wrap=D;y.prototype.el=function(a,b){var d=E(a,this.node);b&&d.attr(b);return d};c.on("snap.util.getattr",function(){var a=c.nt(),a=a.substring(a.lastIndexOf(".")+1),b=a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()});return qa[H](b)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(b):h(this.node,a)});var qa={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,
"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,
"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};c.on("snap.util.attr",function(a){var b=c.nt(),d={},b=b.substring(b.lastIndexOf(".")+
1);d[b]=a;var e=b.replace(/-(\w)/gi,function(a,b){return b.toUpperCase()}),b=b.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()});qa[H](b)?this.node.style[e]=null==a?"":a:h(this.node,d)});a.ajax=function(a,b,d,e){var q=new XMLHttpRequest,f=U();if(q){if(k(b,"function"))e=d,d=b,b=null;else if(k(b,"object")){var m=[],w;for(w in b)b.hasOwnProperty(w)&&m.push(encodeURIComponent(w)+"="+encodeURIComponent(b[w]));b=m.join("&")}q.open(b?"POST":"GET",a,!0);b&&(q.setRequestHeader("X-Requested-With","XMLHttpRequest"),
q.setRequestHeader("Content-type","application/x-www-form-urlencoded"));d&&(c.once("snap.ajax."+f+".0",d),c.once("snap.ajax."+f+".200",d),c.once("snap.ajax."+f+".304",d));q.onreadystatechange=function(){4==q.readyState&&c("snap.ajax."+f+"."+q.status,e,q)};if(4==q.readyState)return q;q.send(b);return q}};a.load=function(b,d,e){a.ajax(b,function(b){b=a.parse(b.responseText);e?d.call(e,b):d(b)})};a.getElementByPoint=function(a,b){var d,e,q=w.doc.elementFromPoint(a,b);if(w.win.opera&&"svg"==q.tagName){d=
q;e=d.getBoundingClientRect();d=d.ownerDocument;var f=d.body,c=d.documentElement;d=e.top+(g.win.pageYOffset||c.scrollTop||f.scrollTop)-(c.clientTop||f.clientTop||0);e=e.left+(g.win.pageXOffset||c.scrollLeft||f.scrollLeft)-(c.clientLeft||f.clientLeft||0);f=q.createSVGRect();f.x=a-e;f.y=b-d;f.width=f.height=1;d=q.getIntersectionList(f,null);d.length&&(q=d[d.length-1])}return q?D(q):null};a.plugin=function(b){b(a,m,y,w,d)};return w.win.Snap=a}();B.plugin(function(a,c,k,l,x){function n(a,e,f,b,c,m){null==
e&&"[object SVGMatrix]"==v.call(a)?(this.a=a.a,this.b=a.b,this.c=a.c,this.d=a.d,this.e=a.e,this.f=a.f):null!=a?(this.a=+a,this.b=+e,this.c=+f,this.d=+b,this.e=+c,this.f=+m):(this.a=1,this.c=this.b=0,this.d=1,this.f=this.e=0)}var v=Object.prototype.toString,f=String,e=Math;(function(c){function h(a){return a[0]*a[0]+a[1]*a[1]}function r(a){var f=e.sqrt(h(a));a[0]&&(a[0]/=f);a[1]&&(a[1]/=f)}c.add=function(a,e,f,d,c,p){var h=[[],[],[]],w=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]];e=[[a,
f,c],[e,d,p],[0,0,1]];a&&a instanceof n&&(e=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]);for(a=0;3>a;a++)for(f=0;3>f;f++){for(d=c=0;3>d;d++)c+=w[a][d]*e[d][f];h[a][f]=c}this.a=h[0][0];this.b=h[1][0];this.c=h[0][1];this.d=h[1][1];this.e=h[0][2];this.f=h[1][2];return this};c.invert=function(){var a=this.a*this.d-this.b*this.c;return new n(this.d/a,-this.b/a,-this.c/a,this.a/a,(this.c*this.f-this.d*this.e)/a,(this.b*this.e-this.a*this.f)/a)};c.clone=function(){return new n(this.a,this.b,this.c,this.d,this.e,
this.f)};c.translate=function(a,e){return this.add(1,0,0,1,a,e)};c.scale=function(a,e,f,d){null==e&&(e=a);(f||d)&&this.add(1,0,0,1,f,d);this.add(a,0,0,e,0,0);(f||d)&&this.add(1,0,0,1,-f,-d);return this};c.rotate=function(b,f,c){b=a.rad(b);f=f||0;c=c||0;var d=+e.cos(b).toFixed(9);b=+e.sin(b).toFixed(9);this.add(d,b,-b,d,f,c);return this.add(1,0,0,1,-f,-c)};c.x=function(a,e){return a*this.a+e*this.c+this.e};c.y=function(a,e){return a*this.b+e*this.d+this.f};c.get=function(a){return+this[f.fromCharCode(97+
a)].toFixed(4)};c.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"};c.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};c.determinant=function(){return this.a*this.d-this.b*this.c};c.split=function(){var b={};b.dx=this.e;b.dy=this.f;var f=[[this.a,this.c],[this.b,this.d]];b.scalex=e.sqrt(h(f[0]));r(f[0]);b.shear=f[0][0]*f[1][0]+f[0][1]*f[1][1];f[1]=[f[1][0]-f[0][0]*b.shear,f[1][1]-f[0][1]*b.shear];b.scaley=e.sqrt(h(f[1]));
r(f[1]);b.shear/=b.scaley;0>this.determinant()&&(b.scalex=-b.scalex);var c=-f[0][1],f=f[1][1];0>f?(b.rotate=a.deg(e.acos(f)),0>c&&(b.rotate=360-b.rotate)):b.rotate=a.deg(e.asin(c));b.isSimple=!+b.shear.toFixed(9)&&(b.scalex.toFixed(9)==b.scaley.toFixed(9)||!b.rotate);b.isSuperSimple=!+b.shear.toFixed(9)&&b.scalex.toFixed(9)==b.scaley.toFixed(9)&&!b.rotate;b.noRotation=!+b.shear.toFixed(9)&&!b.rotate;return b};c.toTransformString=function(a){a=a||this.split();if(+a.shear.toFixed(9))return"m"+[this.get(0),
this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)];a.scalex=+a.scalex.toFixed(4);a.scaley=+a.scaley.toFixed(4);a.rotate=+a.rotate.toFixed(4);return(a.dx||a.dy?"t"+[+a.dx.toFixed(4),+a.dy.toFixed(4)]:"")+(1!=a.scalex||1!=a.scaley?"s"+[a.scalex,a.scaley,0,0]:"")+(a.rotate?"r"+[+a.rotate.toFixed(4),0,0]:"")}})(n.prototype);a.Matrix=n;a.matrix=function(a,e,f,b,c,m){return new n(a,e,f,b,c,m)}});B.plugin(function(a,h,k,l,x){function n(e){return function(f){c.stop();f instanceof x&&1==f.node.childNodes.length&&
("radialGradient"==f.node.firstChild.tagName||"linearGradient"==f.node.firstChild.tagName||"pattern"==f.node.firstChild.tagName)&&(f=f.node.firstChild,b(this).appendChild(f),f=t(f));if(f instanceof h)if("radialGradient"==f.type||"linearGradient"==f.type||"pattern"==f.type){f.node.id||m(f.node,{id:f.id});var p=d(f.node.id)}else p=f.attr(e);else p=a.color(f),p.error?(p=a(b(this).ownerSVGElement).gradient(f))?(p.node.id||m(p.node,{id:p.id}),p=d(p.node.id)):p=f:p=E(p);f={};f[e]=p;m(this.node,f);this.node.style[e]=
""}}function v(a){c.stop();a==+a&&(a+="px");this.node.style.fontSize=a}function f(a){var b=[];a=a.childNodes;for(var d=0,e=a.length;d<e;d++){var c=a[d];3==c.nodeType&&b.push(c.nodeValue);"tspan"==c.tagName&&(1==c.childNodes.length&&3==c.firstChild.nodeType?b.push(c.firstChild.nodeValue):b.push(f(c)))}return b}function e(){c.stop();return this.node.style.fontSize}var p=a._.make,t=a._.wrap,r=a.is,b=a._.getSomeDefs,z=/^url\(#?([^)]+)\)$/,m=a._.$,d=a.url,E=String,y=a._.separator;c.on("snap.util.attr.mask",
function(a){if(a instanceof h||a instanceof x){c.stop();a instanceof x&&1==a.node.childNodes.length&&(a=a.node.firstChild,b(this).appendChild(a),a=t(a));if("mask"==a.type)var e=a;else e=p("mask",b(this)),e.node.appendChild(a.node);!e.node.id&&m(e.node,{id:e.id});m(this.node,{mask:d(e.id)})}});(function(a){c.on("snap.util.attr.clip",a);c.on("snap.util.attr.clip-path",a);c.on("snap.util.attr.clipPath",a)})(function(a){if(a instanceof h||a instanceof x){c.stop();if("clipPath"==a.type)var e=a;else e=
p("clipPath",b(this)),e.node.appendChild(a.node),!e.node.id&&m(e.node,{id:e.id});m(this.node,{"clip-path":d(e.id)})}});c.on("snap.util.attr.fill",n("fill"));c.on("snap.util.attr.stroke",n("stroke"));var D=/^([lr])(?:\(([^)]*)\))?(.*)$/i;c.on("snap.util.grad.parse",function(a){a=E(a);var b=a.match(D);if(!b)return null;a=b[1];var d=b[2],b=b[3],d=d.split(/\s*,\s*/).map(function(a){return+a==a?+a:a});1==d.length&&0==d[0]&&(d=[]);b=b.split("-");b=b.map(function(a){a=a.split(":");var b={color:a[0]};a[1]&&
(b.offset=parseFloat(a[1]));return b});return{type:a,params:d,stops:b}});c.on("snap.util.attr.d",function(b){c.stop();r(b,"array")&&r(b[0],"array")&&(b=a.path.toString.call(b));b=E(b);b.match(/[ruo]/i)&&(b=a.path.toAbsolute(b));m(this.node,{d:b})})(-1);c.on("snap.util.attr.#text",function(a){c.stop();a=E(a);for(a=l.doc.createTextNode(a);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(a)})(-1);c.on("snap.util.attr.path",function(a){c.stop();this.attr({d:a})})(-1);
c.on("snap.util.attr.class",function(a){c.stop();this.node.className.baseVal=a})(-1);c.on("snap.util.attr.viewBox",function(a){a=r(a,"object")&&"x"in a?[a.x,a.y,a.width,a.height].join(" "):r(a,"array")?a.join(" "):a;m(this.node,{viewBox:a});c.stop()})(-1);c.on("snap.util.attr.transform",function(a){this.transform(a);c.stop()})(-1);c.on("snap.util.attr.r",function(a){"rect"==this.type&&(c.stop(),m(this.node,{rx:a,ry:a}))})(-1);c.on("snap.util.attr.textpath",function(a){c.stop();if("text"==this.type){var d,
e;if(!a&&this.textPath){for(a=this.textPath;a.node.firstChild;)this.node.appendChild(a.node.firstChild);a.remove();delete this.textPath}else if(r(a,"string")?(d=b(this),a=t(d.parentNode).path(a),d.appendChild(a.node),d=a.id,a.attr({id:d})):(a=t(a),a instanceof h&&(d=a.attr("id"),d||(d=a.id,a.attr({id:d})))),d)if(a=this.textPath,e=this.node,a)a.attr({"xlink:href":"#"+d});else{for(a=m("textPath",{"xlink:href":"#"+d});e.firstChild;)a.appendChild(e.firstChild);e.appendChild(a);this.textPath=t(a)}}})(-1);
c.on("snap.util.attr.text",function(a){if("text"==this.type){for(var b=this.node,d=function(a){var b=m("tspan");if(r(a,"array"))for(var e=0;e<a.length;e++)b.appendChild(d(a[e]));else b.appendChild(l.doc.createTextNode(a));b.normalize&&b.normalize();return b};b.firstChild;)b.removeChild(b.firstChild);for(a=d(a);a.firstChild;)b.appendChild(a.firstChild)}c.stop()})(-1);c.on("snap.util.attr.fontSize",v)(-1);c.on("snap.util.attr.font-size",v)(-1);c.on("snap.util.getattr.transform",function(){c.stop();
return this.transform()})(-1);c.on("snap.util.getattr.textpath",function(){c.stop();return this.textPath})(-1);(function(){function b(d){return function(){c.stop();var b=l.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+d);return"none"==b?b:a(l.doc.getElementById(b.match(z)[1]))}}function e(a){return function(b){c.stop();var e="marker"+a.charAt(0).toUpperCase()+a.substring(1);if(""==b||!b)this.node.style[e]="none";else if("marker"==b.type){var f=b.node.id;f||m(b.node,{id:b.id});
this.node.style[e]=d(f)}}}c.on("snap.util.getattr.marker-end",b("end"))(-1);c.on("snap.util.getattr.markerEnd",b("end"))(-1);c.on("snap.util.getattr.marker-start",b("start"))(-1);c.on("snap.util.getattr.markerStart",b("start"))(-1);c.on("snap.util.getattr.marker-mid",b("mid"))(-1);c.on("snap.util.getattr.markerMid",b("mid"))(-1);c.on("snap.util.attr.marker-end",e("end"))(-1);c.on("snap.util.attr.markerEnd",e("end"))(-1);c.on("snap.util.attr.marker-start",e("start"))(-1);c.on("snap.util.attr.markerStart",
e("start"))(-1);c.on("snap.util.attr.marker-mid",e("mid"))(-1);c.on("snap.util.attr.markerMid",e("mid"))(-1)})();c.on("snap.util.getattr.r",function(){if("rect"==this.type&&m(this.node,"rx")==m(this.node,"ry"))return c.stop(),m(this.node,"rx")})(-1);c.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){c.stop();var a=f(this.node);return 1==a.length?a[0]:a}})(-1);c.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1);c.on("snap.util.getattr.viewBox",
function(){c.stop();var b=m(this.node,"viewBox");if(b)return b=b.split(y),a._.box(+b[0],+b[1],+b[2],+b[3])})(-1);c.on("snap.util.getattr.points",function(){var a=m(this.node,"points");c.stop();if(a)return a.split(y)})(-1);c.on("snap.util.getattr.path",function(){var a=m(this.node,"d");c.stop();return a})(-1);c.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1);c.on("snap.util.getattr.fontSize",e)(-1);c.on("snap.util.getattr.font-size",e)(-1)});B.plugin(function(a,h,k,
l,x){function n(a){return a}function v(a){return function(b){return+b.toFixed(3)+a}}var f={"+":function(a,b){return a+b},"-":function(a,b){return a-b},"/":function(a,b){return a/b},"*":function(a,b){return a*b}},e=String,p=/[a-z]+$/i,t=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;c.on("snap.util.attr",function(a){if(a=e(a).match(t)){var b=c.nt(),b=b.substring(b.lastIndexOf(".")+1),h=this.attr(b),m={};c.stop();var d=a[3]||"",n=h.match(p),k=f[a[1]];n&&n==d?a=k(parseFloat(h),+a[2]):(h=this.asPX(b),
a=k(this.asPX(b),this.asPX(b,a[2]+d)));isNaN(h)||isNaN(a)||(m[b]=a,this.attr(m))}})(-10);c.on("snap.util.equal",function(a,b){var h=e(this.attr(a)||""),m=e(b).match(t);if(m){c.stop();var d=m[3]||"",k=h.match(p),y=f[m[1]];if(k&&k==d)return{from:parseFloat(h),to:y(parseFloat(h),+m[2]),f:v(k)};h=this.asPX(a);return{from:h,to:y(h,this.asPX(a,m[2]+d)),f:n}}})(-10)});B.plugin(function(a,h,k,l,x){var n=k.prototype,v=a.is;n.rect=function(a,f,c,h,b,n){var m;null==n&&(n=b);v(a,"object")&&"[object Object]"==
a?m=a:null!=a&&(m={x:a,y:f,width:c,height:h},null!=b&&(m.rx=b,m.ry=n));return this.el("rect",m)};n.circle=function(a,f,c){var h;v(a,"object")&&"[object Object]"==a?h=a:null!=a&&(h={cx:a,cy:f,r:c});return this.el("circle",h)};var f=function(){function a(){this.parentNode.removeChild(this)}return function(f,c){var h=l.doc.createElement("img"),b=l.doc.body;h.style.cssText="position:absolute;left:-9999em;top:-9999em";h.onload=function(){c.call(h);h.onload=h.onerror=null;b.removeChild(h)};h.onerror=a;
b.appendChild(h);h.src=f}}();n.image=function(e,c,h,n,b){var k=this.el("image");if(v(e,"object")&&"src"in e)k.attr(e);else if(null!=e){var m={"xlink:href":e,preserveAspectRatio:"none"};null!=c&&null!=h&&(m.x=c,m.y=h);null!=n&&null!=b?(m.width=n,m.height=b):f(e,function(){a._.$(k.node,{width:this.offsetWidth,height:this.offsetHeight})});a._.$(k.node,m)}return k};n.ellipse=function(a,f,c,h){var b;v(a,"object")&&"[object Object]"==a?b=a:null!=a&&(b={cx:a,cy:f,rx:c,ry:h});return this.el("ellipse",b)};
n.path=function(a){var f;v(a,"object")&&!v(a,"array")?f=a:a&&(f={d:a});return this.el("path",f)};n.group=n.g=function(a){var f=this.el("g");1==arguments.length&&a&&!a.type?f.attr(a):arguments.length&&f.add(Array.prototype.slice.call(arguments,0));return f};n.svg=function(a,f,c,h,b,n,m,d){var k={};v(a,"object")&&null==f?k=a:(null!=a&&(k.x=a),null!=f&&(k.y=f),null!=c&&(k.width=c),null!=h&&(k.height=h),null!=b&&null!=n&&null!=m&&null!=d&&(k.viewBox=[b,n,m,d]));return this.el("svg",k)};n.mask=function(a){var f=
this.el("mask");1==arguments.length&&a&&!a.type?f.attr(a):arguments.length&&f.add(Array.prototype.slice.call(arguments,0));return f};n.ptrn=function(a,f,c,h,b,n,m,d){if(v(a,"object"))var k=a;else arguments.length?(k={},null!=a&&(k.x=a),null!=f&&(k.y=f),null!=c&&(k.width=c),null!=h&&(k.height=h),null!=b&&null!=n&&null!=m&&null!=d&&(k.viewBox=[b,n,m,d])):k={patternUnits:"userSpaceOnUse"};return this.el("pattern",k)};n.use=function(a){return null!=a?(make("use",this.node),a instanceof h&&(a.attr("id")||
a.attr({id:ID()}),a=a.attr("id")),this.el("use",{"xlink:href":a})):h.prototype.use.call(this)};n.text=function(a,f,c){var h={};v(a,"object")?h=a:null!=a&&(h={x:a,y:f,text:c||""});return this.el("text",h)};n.line=function(a,f,c,h){var b={};v(a,"object")?b=a:null!=a&&(b={x1:a,x2:c,y1:f,y2:h});return this.el("line",b)};n.polyline=function(a){1<arguments.length&&(a=Array.prototype.slice.call(arguments,0));var f={};v(a,"object")&&!v(a,"array")?f=a:null!=a&&(f={points:a});return this.el("polyline",f)};
n.polygon=function(a){1<arguments.length&&(a=Array.prototype.slice.call(arguments,0));var f={};v(a,"object")&&!v(a,"array")?f=a:null!=a&&(f={points:a});return this.el("polygon",f)};(function(){function f(){return this.selectAll("stop")}function h(b,f){var e=m("stop"),c={offset:+f+"%"};b=a.color(b);c["stop-color"]=b.hex;1>b.opacity&&(c["stop-opacity"]=b.opacity);m(e,c);this.node.appendChild(e);return this}function k(){if("linearGradient"==this.type){var b=m(this.node,"x1")||0,f=m(this.node,"x2")||
1,e=m(this.node,"y1")||0,c=m(this.node,"y2")||0;return a._.box(b,e,math.abs(f-b),math.abs(c-e))}b=this.node.r||0;return a._.box((this.node.cx||.5)-b,(this.node.cy||.5)-b,2*b,2*b)}function l(a,f){function e(a,b){for(var d=(b-n)/(a-t),f=t;f<a;f++)p[f].offset=+(+n+d*(f-t)).toFixed(2);t=a;n=b}var h=c("snap.util.grad.parse",null,f).firstDefined(),k;if(!h)return null;h.params.unshift(a);k="l"==h.type.toLowerCase()?b.apply(0,h.params):v.apply(0,h.params);h.type!=h.type.toLowerCase()&&m(k.node,{gradientUnits:"userSpaceOnUse"});
var p=h.stops,h=p.length,n=0,t=0;h--;for(var r=0;r<h;r++)"offset"in p[r]&&e(r,p[r].offset);p[h].offset=p[h].offset||100;e(h,p[h].offset);for(r=0;r<=h;r++){var x=p[r];k.addStop(x.color,x.offset)}return k}function b(b,c,n,r,w){b=a._.make("linearGradient",b);b.stops=f;b.addStop=h;b.getBBox=k;null!=c&&m(b.node,{x1:c,y1:n,x2:r,y2:w});return b}function v(b,c,n,r,w,l){b=a._.make("radialGradient",b);b.stops=f;b.addStop=h;b.getBBox=k;null!=c&&m(b.node,{cx:c,cy:n,r:r});null!=w&&null!=l&&m(b.node,{fx:w,fy:l});
return b}var m=a._.$;n.gradient=function(a){return l(this.defs,a)};n.gradientLinear=function(a,f,e,c){return b(this.defs,a,f,e,c)};n.gradientRadial=function(a,b,f,e,c){return v(this.defs,a,b,f,e,c)};n.toString=function(){var b=this.node.ownerDocument,f=b.createDocumentFragment(),b=b.createElement("div"),e=this.node.cloneNode(!0);f.appendChild(b);b.appendChild(e);a._.$(e,{xmlns:"http://www.w3.org/2000/svg"});b=b.innerHTML;f.removeChild(f.firstChild);return b};n.clear=function(){for(var a=this.node.firstChild,
b;a;)b=a.nextSibling,"defs"!=a.tagName?a.parentNode.removeChild(a):n.clear.call({node:a}),a=b}})()});B.plugin(function(a,c,k,l){function x(a){var b=x.ps=x.ps||{};b[a]?b[a].sleep=100:b[a]={sleep:100};setTimeout(function(){for(var d in b)b.hasOwnProperty(d)&&d!=a&&(b[d].sleep--,!b[d].sleep&&delete b[d])});return b[a]}function n(a,b,d,f){null==a&&(a=b=d=f=0);null==b&&(b=a.y,d=a.width,f=a.height,a=a.x);return{x:a,y:b,width:d,w:d,height:f,h:f,x2:a+d,y2:b+f,cx:a+d/2,cy:b+f/2,r1:G.min(d,f)/2,r2:G.max(d,
f)/2,r0:G.sqrt(d*d+f*f)/2,path:y(a,b,d,f),vb:[a,b,d,f].join(" ")}}function v(){return this.join(",").replace(X,"$1")}function f(a){a=T(a);a.toString=v;return a}function e(a,b,d,f,e,c,h,p,k){if(null==k)return m(a,b,d,f,e,c,h,p);if(0>k||m(a,b,d,f,e,c,h,p)<k)k=void 0;else{var n=.5,l=1-n,r;for(r=m(a,b,d,f,e,c,h,p,l);.01<V(r-k);)n/=2,l+=(r<k?1:-1)*n,r=m(a,b,d,f,e,c,h,p,l);k=l}return t(a,b,d,f,e,c,h,p,k)}function p(b,d){function f(a){return+(+a).toFixed(3)}return a._.cacher(function(a,m,p){a instanceof
c&&(a=a.attr("d"));a=K(a);for(var k,n,l,r,w="",v={},C=0,y=0,z=a.length;y<z;y++){l=a[y];if("M"==l[0])k=+l[1],n=+l[2];else{r=e(k,n,l[1],l[2],l[3],l[4],l[5],l[6]);if(C+r>m){if(d&&!v.start){k=e(k,n,l[1],l[2],l[3],l[4],l[5],l[6],m-C);w+=["C"+f(k.start.x),f(k.start.y),f(k.m.x),f(k.m.y),f(k.x),f(k.y)];if(p)return w;v.start=w;w=["M"+f(k.x),f(k.y)+"C"+f(k.n.x),f(k.n.y),f(k.end.x),f(k.end.y),f(l[5]),f(l[6])].join();C+=r;k=+l[5];n=+l[6];continue}if(!b&&!d)return k=e(k,n,l[1],l[2],l[3],l[4],l[5],l[6],m-C)}C+=
r;k=+l[5];n=+l[6]}w+=l.shift()+l}v.end=w;return k=b?C:d?v:t(k,n,l[0],l[1],l[2],l[3],l[4],l[5],1)},null,a._.clone)}function t(a,b,d,f,e,c,h,m,k){var p=1-k,n=Z(p,3),l=Z(p,2),r=k*k,t=r*k,w=n*a+3*l*k*d+3*p*k*k*e+t*h,n=n*b+3*l*k*f+3*p*k*k*c+t*m,l=a+2*k*(d-a)+r*(e-2*d+a),t=b+2*k*(f-b)+r*(c-2*f+b),v=d+2*k*(e-d)+r*(h-2*e+d),r=f+2*k*(c-f)+r*(m-2*c+f);a=p*a+k*d;b=p*b+k*f;e=p*e+k*h;c=p*c+k*m;m=90-180*G.atan2(l-v,t-r)/I;return{x:w,y:n,m:{x:l,y:t},n:{x:v,y:r},start:{x:a,y:b},end:{x:e,y:c},alpha:m}}function r(b,
d,f,e,c,h,m,k){a.is(b,"array")||(b=[b,d,f,e,c,h,m,k]);b=S.apply(null,b);return n(b.min.x,b.min.y,b.max.x-b.min.x,b.max.y-b.min.y)}function b(a,b,d){return b>=a.x&&b<=a.x+a.width&&d>=a.y&&d<=a.y+a.height}function z(a,d){a=n(a);d=n(d);return b(d,a.x,a.y)||b(d,a.x2,a.y)||b(d,a.x,a.y2)||b(d,a.x2,a.y2)||b(a,d.x,d.y)||b(a,d.x2,d.y)||b(a,d.x,d.y2)||b(a,d.x2,d.y2)||(a.x<d.x2&&a.x>d.x||d.x<a.x2&&d.x>a.x)&&(a.y<d.y2&&a.y>d.y||d.y<a.y2&&d.y>a.y)}function m(a,b,d,f,e,c,h,m,k){null==k&&(k=1);k=(1<k?1:0>k?0:k)/
2;for(var p=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],n=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],l=0,r=0;12>r;r++)var t=k*p[r]+k,w=t*(t*(-3*a+9*d-9*e+3*h)+6*a-12*d+6*e)-3*a+3*d,t=t*(t*(-3*b+9*f-9*c+3*m)+6*b-12*f+6*c)-3*b+3*f,l=l+n[r]*G.sqrt(w*w+t*t);return k*l}function d(a,b,d){a=K(a);b=K(b);for(var f,e,c,h,k,p,n,l,w,v,y=d?0:[],x=0,D=a.length;x<D;x++)if(w=a[x],"M"==w[0])f=k=w[1],e=p=w[2];else{"C"==w[0]?(w=[f,e].concat(w.slice(1)),
f=w[6],e=w[7]):(w=[f,e,f,e,k,p,k,p],f=k,e=p);for(var B=0,u=b.length;B<u;B++)if(v=b[B],"M"==v[0])c=n=v[1],h=l=v[2];else{"C"==v[0]?(v=[c,h].concat(v.slice(1)),c=v[6],h=v[7]):(v=[c,h,c,h,n,l,n,l],c=n,h=l);var A;var E=w,F=v;A=d;var Q=r(E),H=r(F);if(z(Q,H)){for(var Q=m.apply(0,E),H=m.apply(0,F),Q=~~(Q/8),H=~~(H/8),J=[],S=[],ja={},G=A?0:[],L=0;L<Q+1;L++){var M=t.apply(0,E.concat(L/Q));J.push({x:M.x,y:M.y,t:L/Q})}for(L=0;L<H+1;L++)M=t.apply(0,F.concat(L/H)),S.push({x:M.x,y:M.y,t:L/H});for(L=0;L<Q;L++)for(E=
0;E<H;E++){var I=J[L],T=J[L+1],F=S[E],M=S[E+1],U=.001>V(T.x-I.x)?"y":"x",W=.001>V(M.x-F.x)?"y":"x",N;N=I.x;var aa=I.y,ba=T.x,ca=T.y,da=F.x,ea=F.y,fa=M.x,ga=M.y;if(P(N,ba)<R(da,fa)||R(N,ba)>P(da,fa)||P(aa,ca)<R(ea,ga)||R(aa,ca)>P(ea,ga))N=void 0;else{var X=(N*ca-aa*ba)*(da-fa)-(N-ba)*(da*ga-ea*fa),Y=(N*ca-aa*ba)*(ea-ga)-(aa-ca)*(da*ga-ea*fa),ha=(N-ba)*(ea-ga)-(aa-ca)*(da-fa);if(ha){var X=X/ha,Y=Y/ha,ha=+X.toFixed(2),Z=+Y.toFixed(2);N=ha<+R(N,ba).toFixed(2)||ha>+P(N,ba).toFixed(2)||ha<+R(da,fa).toFixed(2)||
ha>+P(da,fa).toFixed(2)||Z<+R(aa,ca).toFixed(2)||Z>+P(aa,ca).toFixed(2)||Z<+R(ea,ga).toFixed(2)||Z>+P(ea,ga).toFixed(2)?void 0:{x:X,y:Y}}else N=void 0}N&&ja[N.x.toFixed(4)]!=N.y.toFixed(4)&&(ja[N.x.toFixed(4)]=N.y.toFixed(4),I=I.t+V((N[U]-I[U])/(T[U]-I[U]))*(T.t-I.t),F=F.t+V((N[W]-F[W])/(M[W]-F[W]))*(M.t-F.t),0<=I&&1>=I&&0<=F&&1>=F&&(A?G++:G.push({x:N.x,y:N.y,t1:I,t2:F})))}A=G}else A=A?0:[];if(d)y+=A;else{Q=0;for(H=A.length;Q<H;Q++)A[Q].segment1=x,A[Q].segment2=B,A[Q].bez1=w,A[Q].bez2=v;y=y.concat(A)}}}return y}
function u(a){var b=x(a);if(b.bbox)return T(b.bbox);if(!a)return n();a=K(a);for(var d=0,f=0,e=[],c=[],h,k=0,m=a.length;k<m;k++)h=a[k],"M"==h[0]?(d=h[1],f=h[2],e.push(d),c.push(f)):(d=S(d,f,h[1],h[2],h[3],h[4],h[5],h[6]),e=e.concat(d.min.x,d.max.x),c=c.concat(d.min.y,d.max.y),d=h[5],f=h[6]);a=R.apply(0,e);h=R.apply(0,c);e=P.apply(0,e);c=P.apply(0,c);c=n(a,h,e-a,c-h);b.bbox=T(c);return c}function y(a,b,d,f,e){if(e)return[["M",+a+ +e,b],["l",d-2*e,0],["a",e,e,0,0,1,e,e],["l",0,f-2*e],["a",e,e,0,0,1,
-e,e],["l",2*e-d,0],["a",e,e,0,0,1,-e,-e],["l",0,2*e-f],["a",e,e,0,0,1,e,-e],["z"]];a=[["M",a,b],["l",d,0],["l",0,f],["l",-d,0],["z"]];a.toString=v;return a}function D(a,b,d,f,e){null==e&&null==f&&(f=d);a=+a;b=+b;d=+d;f=+f;if(null!=e){var c=Math.PI/180,h=a+d*Math.cos(-f*c);a+=d*Math.cos(-e*c);var k=b+d*Math.sin(-f*c);b+=d*Math.sin(-e*c);d=[["M",h,k],["A",d,d,0,+(180<e-f),0,a,b]]}else d=[["M",a,b],["m",0,-f],["a",d,f,0,1,1,0,2*f],["a",d,f,0,1,1,0,-2*f],["z"]];d.toString=v;return d}function w(b){var d=
x(b);if(d.abs)return f(d.abs);M(b,"array")&&M(b&&b[0],"array")||(b=a.parsePathString(b));if(!b||!b.length)return[["M",0,0]];var e=[],c=0,h=0,k=0,m=0,p=0;"M"==b[0][0]&&(c=+b[0][1],h=+b[0][2],k=c,m=h,p++,e[0]=["M",c,h]);for(var n=3==b.length&&"M"==b[0][0]&&"R"==b[1][0].toUpperCase()&&"Z"==b[2][0].toUpperCase(),l,r,w=p,t=b.length;w<t;w++){e.push(l=[]);r=b[w];p=r[0];if(p!=p.toUpperCase())switch(l[0]=p.toUpperCase(),l[0]){case "A":l[1]=r[1];l[2]=r[2];l[3]=r[3];l[4]=r[4];l[5]=r[5];l[6]=+r[6]+c;l[7]=+r[7]+
h;break;case "V":l[1]=+r[1]+h;break;case "H":l[1]=+r[1]+c;break;case "R":for(var y=[c,h].concat(r.slice(1)),z=2,A=y.length;z<A;z++)y[z]=+y[z]+c,y[++z]=+y[z]+h;e.pop();e=e.concat(L(y,n));break;case "O":e.pop();y=D(c,h,r[1],r[2]);y.push(y[0]);e=e.concat(y);break;case "U":e.pop();e=e.concat(D(c,h,r[1],r[2],r[3]));l=["U"].concat(e[e.length-1].slice(-2));break;case "M":k=+r[1]+c,m=+r[2]+h;default:for(z=1,A=r.length;z<A;z++)l[z]=+r[z]+(z%2?c:h)}else if("R"==p)y=[c,h].concat(r.slice(1)),e.pop(),e=e.concat(L(y,
n)),l=["R"].concat(r.slice(-2));else if("O"==p)e.pop(),y=D(c,h,r[1],r[2]),y.push(y[0]),e=e.concat(y);else if("U"==p)e.pop(),e=e.concat(D(c,h,r[1],r[2],r[3])),l=["U"].concat(e[e.length-1].slice(-2));else for(y=0,z=r.length;y<z;y++)l[y]=r[y];p=p.toUpperCase();if("O"!=p)switch(l[0]){case "Z":c=+k;h=+m;break;case "H":c=l[1];break;case "V":h=l[1];break;case "M":k=l[l.length-2],m=l[l.length-1];default:c=l[l.length-2],h=l[l.length-1]}}e.toString=v;d.abs=f(e);return e}function B(a,b,d,f){return[a,b,d,f,d,
f]}function J(a,b,d,f,e,c){var h=1/3,k=2/3;return[h*a+k*d,h*b+k*f,h*e+k*d,h*c+k*f,e,c]}function ja(b,d,f,e,c,h,k,m,p,n){var l=120*I/180,r=I/180*(+c||0),w=[],t,y=a._.cacher(function(a,b,d){var f=a*G.cos(d)-b*G.sin(d);a=a*G.sin(d)+b*G.cos(d);return{x:f,y:a}});if(n)x=n[0],t=n[1],h=n[2],v=n[3];else{t=y(b,d,-r);b=t.x;d=t.y;t=y(m,p,-r);m=t.x;p=t.y;G.cos(I/180*c);G.sin(I/180*c);t=(b-m)/2;x=(d-p)/2;v=t*t/(f*f)+x*x/(e*e);1<v&&(v=G.sqrt(v),f*=v,e*=v);var v=f*f,z=e*e,v=(h==k?-1:1)*G.sqrt(V((v*z-v*x*x-z*t*t)/
(v*x*x+z*t*t)));h=v*f*x/e+(b+m)/2;var v=v*-e*t/f+(d+p)/2,x=G.asin(((d-v)/e).toFixed(9));t=G.asin(((p-v)/e).toFixed(9));x=b<h?I-x:x;t=m<h?I-t:t;0>x&&(x=2*I+x);0>t&&(t=2*I+t);k&&x>t&&(x-=2*I);!k&&t>x&&(t-=2*I)}if(V(t-x)>l){var w=t,z=m,A=p;t=x+l*(k&&t>x?1:-1);m=h+f*G.cos(t);p=v+e*G.sin(t);w=ja(m,p,f,e,c,0,k,z,A,[t,w,h,v])}h=t-x;c=G.cos(x);l=G.sin(x);k=G.cos(t);t=G.sin(t);h=G.tan(h/4);f=4/3*f*h;h*=4/3*e;e=[b,d];b=[b+f*l,d-h*c];d=[m+f*t,p-h*k];m=[m,p];b[0]=2*e[0]-b[0];b[1]=2*e[1]-b[1];if(n)return[b,d,
m].concat(w);w=[b,d,m].concat(w).join().split(",");n=[];m=0;for(p=w.length;m<p;m++)n[m]=m%2?y(w[m-1],w[m],r).y:y(w[m],w[m+1],r).x;return n}function S(a,b,d,f,e,c,h,m){for(var k=[],p=[[],[]],n,l,t,r,w=0;2>w;++w)0==w?(l=6*a-12*d+6*e,n=-3*a+9*d-9*e+3*h,t=3*d-3*a):(l=6*b-12*f+6*c,n=-3*b+9*f-9*c+3*m,t=3*f-3*b),1E-12>V(n)?1E-12>V(l)||(n=-t/l,0<n&&1>n&&k.push(n)):(r=l*l-4*t*n,t=G.sqrt(r),0>r||(r=(-l+t)/(2*n),0<r&&1>r&&k.push(r),n=(-l-t)/(2*n),0<n&&1>n&&k.push(n)));for(l=w=k.length;w--;)n=k[w],t=1-n,p[0][w]=
t*t*t*a+3*t*t*n*d+3*t*n*n*e+n*n*n*h,p[1][w]=t*t*t*b+3*t*t*n*f+3*t*n*n*c+n*n*n*m;p[0][l]=a;p[1][l]=b;p[0][l+1]=h;p[1][l+1]=m;p[0].length=p[1].length=l+2;return{min:{x:R.apply(0,p[0]),y:R.apply(0,p[1])},max:{x:P.apply(0,p[0]),y:P.apply(0,p[1])}}}function K(a,b){var d=!b&&x(a);if(!b&&d.curve)return f(d.curve);var e=w(a),c=b&&w(b),h={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},m={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},k=function(a,b,d){if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];a[0]in{T:1,Q:1}||(b.qx=
b.qy=null);switch(a[0]){case "M":b.X=a[1];b.Y=a[2];break;case "A":a=["C"].concat(ja.apply(0,[b.x,b.y].concat(a.slice(1))));break;case "S":"C"==d||"S"==d?(d=2*b.x-b.bx,b=2*b.y-b.by):(d=b.x,b=b.y);a=["C",d,b].concat(a.slice(1));break;case "T":"Q"==d||"T"==d?(b.qx=2*b.x-b.qx,b.qy=2*b.y-b.qy):(b.qx=b.x,b.qy=b.y);a=["C"].concat(J(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case "Q":b.qx=a[1];b.qy=a[2];a=["C"].concat(J(b.x,b.y,a[1],a[2],a[3],a[4]));break;case "L":a=["C"].concat(B(b.x,b.y,a[1],a[2]));break;case "H":a=
["C"].concat(B(b.x,b.y,a[1],b.y));break;case "V":a=["C"].concat(B(b.x,b.y,b.x,a[1]));break;case "Z":a=["C"].concat(B(b.x,b.y,b.X,b.Y))}return a},p=function(a,b){if(7<a[b].length){a[b].shift();for(var d=a[b];d.length;)l[b]="A",c&&(t[b]="A"),a.splice(b++,0,["C"].concat(d.splice(0,6)));a.splice(b,1);z=P(e.length,c&&c.length||0)}},n=function(a,b,d,f,h){a&&b&&"M"==a[h][0]&&"M"!=b[h][0]&&(b.splice(h,0,["M",f.x,f.y]),d.bx=0,d.by=0,d.x=a[h][1],d.y=a[h][2],z=P(e.length,c&&c.length||0))},l=[],t=[],r="",v="",
y=0,z=P(e.length,c&&c.length||0);for(;y<z;y++){e[y]&&(r=e[y][0]);"C"!=r&&(l[y]=r,y&&(v=l[y-1]));e[y]=k(e[y],h,v);"A"!=l[y]&&"C"==r&&(l[y]="C");p(e,y);c&&(c[y]&&(r=c[y][0]),"C"!=r&&(t[y]=r,y&&(v=t[y-1])),c[y]=k(c[y],m,v),"A"!=t[y]&&"C"==r&&(t[y]="C"),p(c,y));n(e,c,h,m,y);n(c,e,m,h,y);var A=e[y],D=c&&c[y],u=A.length,E=c&&D.length;h.x=A[u-2];h.y=A[u-1];h.bx=W(A[u-4])||h.x;h.by=W(A[u-3])||h.y;m.bx=c&&(W(D[E-4])||m.x);m.by=c&&(W(D[E-3])||m.y);m.x=c&&D[E-2];m.y=c&&D[E-1]}c||(d.curve=f(e));return c?[e,c]:
e}function L(a,b){for(var d=[],e=0,f=a.length;f-2*!b>e;e+=2){var c=[{x:+a[e-2],y:+a[e-1]},{x:+a[e],y:+a[e+1]},{x:+a[e+2],y:+a[e+3]},{x:+a[e+4],y:+a[e+5]}];b?e?f-4==e?c[3]={x:+a[0],y:+a[1]}:f-2==e&&(c[2]={x:+a[0],y:+a[1]},c[3]={x:+a[2],y:+a[3]}):c[0]={x:+a[f-2],y:+a[f-1]}:f-4==e?c[3]=c[2]:e||(c[0]={x:+a[e],y:+a[e+1]});d.push(["C",(-c[0].x+6*c[1].x+c[2].x)/6,(-c[0].y+6*c[1].y+c[2].y)/6,(c[1].x+6*c[2].x-c[3].x)/6,(c[1].y+6*c[2].y-c[3].y)/6,c[2].x,c[2].y])}return d}k=c.prototype;var M=a.is,T=a._.clone,
X=/,?([a-z]),?/gi,W=parseFloat,G=Math,I=G.PI,R=G.min,P=G.max,Z=G.pow,V=G.abs;l=p(1);var la=p(),Y=p(0,1),U=a._unit2px;a.path=x;a.path.getTotalLength=l;a.path.getPointAtLength=la;a.path.getSubpath=function(a,b,d){if(1E-6>this.getTotalLength(a)-d)return Y(a,b).end;a=Y(a,d,1);return b?Y(a,b).end:a};k.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength()};k.getPointAtLength=function(a){return la(this.attr("d"),a)};k.getSubpath=function(b,d){return a.path.getSubpath(this.attr("d"),
b,d)};a._.box=n;a.path.findDotsAtSegment=t;a.path.bezierBBox=r;a.path.isPointInsideBBox=b;a.path.isBBoxIntersect=z;a.path.intersection=function(a,b){return d(a,b)};a.path.intersectionNumber=function(a,b){return d(a,b,1)};a.path.isPointInside=function(a,e,f){var c=u(a);return b(c,e,f)&&1==d(a,[["M",e,f],["H",c.x2+10]],1)%2};a.path.getBBox=u;a.path.get={path:function(a){return a.attr("path")},circle:function(a){a=U(a);return D(a.cx,a.cy,a.r)},ellipse:function(a){a=U(a);return D(a.cx||0,a.cy||0,a.rx,
a.ry)},rect:function(a){a=U(a);return y(a.x||0,a.y||0,a.width,a.height,a.rx,a.ry)},image:function(a){a=U(a);return y(a.x||0,a.y||0,a.width,a.height)},line:function(a){return"M"+[a.attr("x1")||0,a.attr("y1")||0,a.attr("x2"),a.attr("y2")]},polyline:function(a){return"M"+a.attr("points")},polygon:function(a){return"M"+a.attr("points")+"z"},deflt:function(a){a=a.node.getBBox();return y(a.x,a.y,a.width,a.height)}};a.path.toRelative=function(b){var d=x(b),e=String.prototype.toLowerCase;if(d.rel)return f(d.rel);
a.is(b,"array")&&a.is(b&&b[0],"array")||(b=a.parsePathString(b));var c=[],h=0,m=0,k=0,p=0,n=0;"M"==b[0][0]&&(h=b[0][1],m=b[0][2],k=h,p=m,n++,c.push(["M",h,m]));for(var l=b.length;n<l;n++){var t=c[n]=[],r=b[n];if(r[0]!=e.call(r[0]))switch(t[0]=e.call(r[0]),t[0]){case "a":t[1]=r[1];t[2]=r[2];t[3]=r[3];t[4]=r[4];t[5]=r[5];t[6]=+(r[6]-h).toFixed(3);t[7]=+(r[7]-m).toFixed(3);break;case "v":t[1]=+(r[1]-m).toFixed(3);break;case "m":k=r[1],p=r[2];default:for(var w=1,y=r.length;w<y;w++)t[w]=+(r[w]-(w%2?h:
m)).toFixed(3)}else for(c[n]=[],"m"==r[0]&&(k=r[1]+h,p=r[2]+m),t=0,w=r.length;t<w;t++)c[n][t]=r[t];r=c[n].length;switch(c[n][0]){case "z":h=k;m=p;break;case "h":h+=+c[n][r-1];break;case "v":m+=+c[n][r-1];break;default:h+=+c[n][r-2],m+=+c[n][r-1]}}c.toString=v;d.rel=f(c);return c};a.path.toAbsolute=w;a.path.toCubic=K;a.path.map=function(a,b){if(!b)return a;var d,e,f,c,h,m,k;a=K(a);f=0;for(h=a.length;f<h;f++)for(k=a[f],c=1,m=k.length;c<m;c+=2)d=b.x(k[c],k[c+1]),e=b.y(k[c],k[c+1]),k[c]=d,k[c+1]=e;return a};
a.path.toString=v;a.path.clone=f});B.plugin(function(a,h,k,A){var x=Math.max,n=Math.min,v=function(a){this.items=[];this.bindings={};this.length=0;this.type="set";if(a)for(var e=0,c=a.length;e<c;e++)a[e]&&(this[this.items.length]=this.items[this.items.length]=a[e],this.length++)};h=v.prototype;h.push=function(){for(var a,e,c=0,h=arguments.length;c<h;c++)if(a=arguments[c])e=this.items.length,this[e]=this.items[e]=a,this.length++;return this};h.pop=function(){this.length&&delete this[this.length--];
return this.items.pop()};h.forEach=function(a,e){for(var c=0,h=this.items.length;c<h&&!1!==a.call(e,this.items[c],c);c++);return this};h.animate=function(f,e,h,k){"function"!=typeof h||h.length||(k=h,h=l.linear);f instanceof a._.Animation&&(k=f.callback,h=f.easing,e=h.dur,f=f.attr);var n=arguments;if(a.is(f,"array")&&a.is(n[n.length-1],"array"))var b=!0;var v,m=function(){v?this.b=v:v=this.b},d=0,x=k&&function(){d++==this.length&&k.call(this)};return this.forEach(function(a,d){c.once("snap.animcreated."+
a.id,m);b?n[d]&&a.animate.apply(a,n[d]):a.animate(f,e,h,x)})};h.remove=function(){for(;this.length;)this.pop().remove();return this};h.bind=function(a,e,c){var h={};if("function"==typeof e)this.bindings[a]=e;else{var k=c||a;this.bindings[a]=function(a){h[k]=a;e.attr(h)}}return this};h.attr=function(a){var e={},c;for(c in a)if(this.bindings[c])this.bindings[c](a[c]);else e[c]=a[c];a=0;for(c=this.items.length;a<c;a++)this.items[a].attr(e);return this};h.clear=function(){for(;this.length;)this.pop()};
h.splice=function(a,e,c){a=0>a?x(this.length+a,0):a;e=x(0,n(this.length-a,e));var h=[],k=[],b=[],l;for(l=2;l<arguments.length;l++)b.push(arguments[l]);for(l=0;l<e;l++)k.push(this[a+l]);for(;l<this.length-a;l++)h.push(this[a+l]);var m=b.length;for(l=0;l<m+h.length;l++)this.items[a+l]=this[a+l]=l<m?b[l]:h[l-m];for(l=this.items.length=this.length-=e-m;this[l];)delete this[l++];return new v(k)};h.exclude=function(a){for(var e=0,c=this.length;e<c;e++)if(this[e]==a)return this.splice(e,1),!0;return!1};
h.insertAfter=function(a){for(var e=this.items.length;e--;)this.items[e].insertAfter(a);return this};h.getBBox=function(){for(var a=[],e=[],c=[],h=[],k=this.items.length;k--;)if(!this.items[k].removed){var b=this.items[k].getBBox();a.push(b.x);e.push(b.y);c.push(b.x+b.width);h.push(b.y+b.height)}a=n.apply(0,a);e=n.apply(0,e);c=x.apply(0,c);h=x.apply(0,h);return{x:a,y:e,x2:c,y2:h,width:c-a,height:h-e,cx:a+(c-a)/2,cy:e+(h-e)/2}};h.clone=function(a){a=new v;for(var e=0,c=this.items.length;e<c;e++)a.push(this.items[e].clone());
return a};h.toString=function(){return"Snap\u2018s set"};h.type="set";a.set=function(){var a=new v;arguments.length&&a.push.apply(a,Array.prototype.slice.call(arguments,0));return a}});B.plugin(function(a,h,k,l){function x(a){var b=a[0];switch(b.toLowerCase()){case "t":return[b,0,0];case "m":return[b,1,0,0,1,0,0];case "r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case "s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}}function n(b,d,e){d=z(d).replace(/\.{3}|\u2026/g,b);b=a.parseTransformString(b)||
[];d=a.parseTransformString(d)||[];for(var f=Math.max(b.length,d.length),c=[],h=[],k=0,n,l,r,v;k<f;k++){r=b[k]||x(d[k]);v=d[k]||x(r);if(r[0]!=v[0]||"r"==r[0].toLowerCase()&&(r[2]!=v[2]||r[3]!=v[3])||"s"==r[0].toLowerCase()&&(r[3]!=v[3]||r[4]!=v[4])){b=a._.transform2matrix(b,e());d=a._.transform2matrix(d,e());c=[["m",b.a,b.b,b.c,b.d,b.e,b.f]];h=[["m",d.a,d.b,d.c,d.d,d.e,d.f]];break}c[k]=[];h[k]=[];n=0;for(l=Math.max(r.length,v.length);n<l;n++)n in r&&(c[k][n]=r[n]),n in v&&(h[k][n]=v[n])}return{from:t(c),
to:t(h),f:p(c)}}function v(a){return a}function f(a){return function(b){return+b.toFixed(3)+a}}function e(b){return a.rgb(b[0],b[1],b[2])}function p(a){var b=0,e,f,c,h,k,n,l=[];e=0;for(f=a.length;e<f;e++){k="[";n=['"'+a[e][0]+'"'];c=1;for(h=a[e].length;c<h;c++)n[c]="val["+b++ +"]";k+=n+"]";l[e]=k}return Function("val","return Snap.path.toString.call(["+l+"])")}function t(a){for(var b=[],e=0,f=a.length;e<f;e++)for(var c=1,h=a[e].length;c<h;c++)b.push(a[e][c]);return b}var r={},b=/[a-z]+$/i,z=String;
r.stroke=r.fill="colour";h.prototype.equal=function(a,b){return c("snap.util.equal",this,a,b).firstDefined()};c.on("snap.util.equal",function(c,d){var h,k;h=z(this.attr(c)||"");var l=this;if(h==+h&&d==+d)return{from:+h,to:+d,f:v};if("colour"==r[c])return h=a.color(h),k=a.color(d),{from:[h.r,h.g,h.b,h.opacity],to:[k.r,k.g,k.b,k.opacity],f:e};if("transform"==c||"gradientTransform"==c||"patternTransform"==c)return d instanceof a.Matrix&&(d=d.toTransformString()),a._.rgTransform.test(d)||(d=a._.svgTransform2string(d)),
n(h,d,function(){return l.getBBox(1)});if("d"==c||"path"==c)return h=a.path.toCubic(h,d),{from:t(h[0]),to:t(h[1]),f:p(h[0])};if("points"==c)return h=z(h).split(a._.separator),k=z(d).split(a._.separator),{from:h,to:k,f:function(a){return a}};aUnit=h.match(b);k=z(d).match(b);return aUnit&&aUnit==k?{from:parseFloat(h),to:parseFloat(d),f:f(aUnit)}:{from:this.asPX(c),to:this.asPX(c,d),f:v}})});B.plugin(function(a,h,k,l){var x=h.prototype,n="createTouch"in l.doc;h="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel".split(" ");
var v={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},f=function(a,b){var d="y"==a?"scrollTop":"scrollLeft",e=b&&b.node?b.node.ownerDocument:l.doc;return e[d in e.documentElement?"documentElement":"body"][d]},e=function(){this.returnValue=!1},p=function(){return this.originalEvent.preventDefault()},t=function(){this.cancelBubble=!0},r=function(){return this.originalEvent.stopPropagation()},b=function(){if(l.doc.addEventListener)return function(a,b,d,e){var c=n&&v[b]?v[b]:b,h=function(c){var h=
f("y",e),k=f("x",e);if(n&&v.hasOwnProperty(b))for(var l=0,m=c.targetTouches&&c.targetTouches.length;l<m;l++)if(c.targetTouches[l].target==a||a.contains(c.targetTouches[l].target)){m=c;c=c.targetTouches[l];c.originalEvent=m;c.preventDefault=p;c.stopPropagation=r;break}return d.call(e,c,c.clientX+k,c.clientY+h)};b!==c&&a.addEventListener(b,h,!1);a.addEventListener(c,h,!1);return function(){b!==c&&a.removeEventListener(b,h,!1);a.removeEventListener(c,h,!1);return!0}};if(l.doc.attachEvent)return function(a,
b,d,c){var h=function(a){a=a||c.node.ownerDocument.window.event;var b=f("y",c),h=f("x",c),h=a.clientX+h,b=a.clientY+b;a.preventDefault=a.preventDefault||e;a.stopPropagation=a.stopPropagation||t;return d.call(c,a,h,b)};a.attachEvent("on"+b,h);return function(){a.detachEvent("on"+b,h);return!0}}}(),z=[],m=function(a){for(var b=a.clientX,d=a.clientY,e=f("y"),h=f("x"),k,l=z.length;l--;){k=z[l];if(n)for(var m=a.touches&&a.touches.length,p;m--;){if(p=a.touches[m],p.identifier==k.el._drag.id||k.el.node.contains(p.target)){b=
p.clientX;d=p.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();b+=h;d+=e;c("snap.drag.move."+k.el.id,k.move_scope||k.el,b-k.el._drag.x,d-k.el._drag.y,b,d,a)}},d=function(b){a.unmousemove(m).unmouseup(d);for(var e=z.length,f;e--;)f=z[e],f.el._drag={},c("snap.drag.end."+f.el.id,f.end_scope||f.start_scope||f.move_scope||f.el,b);z=[]};for(k=h.length;k--;)(function(d){a[d]=x[d]=function(e,c){a.is(e,"function")&&(this.events=this.events||[],this.events.push({name:d,
f:e,unbind:b(this.node||document,d,e,c||this)}));return this};a["un"+d]=x["un"+d]=function(a){for(var b=this.events||[],e=b.length;e--;)if(b[e].name==d&&(b[e].f==a||!a)){b[e].unbind();b.splice(e,1);!b.length&&delete this.events;break}return this}})(h[k]);x.hover=function(a,b,d,e){return this.mouseover(a,d).mouseout(b,e||d)};x.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var u=[];x.drag=function(b,e,f,h,k,n){function l(p,r,t){(p.originalEvent||p).preventDefault();this._drag.x=r;
this._drag.y=t;this._drag.id=p.identifier;!z.length&&a.mousemove(m).mouseup(d);z.push({el:this,move_scope:h,start_scope:k,end_scope:n});e&&c.on("snap.drag.start."+this.id,e);b&&c.on("snap.drag.move."+this.id,b);f&&c.on("snap.drag.end."+this.id,f);c("snap.drag.start."+this.id,k||h||this,r,t,p)}if(!arguments.length){var p;return this.drag(function(a,b){this.attr({transform:p+(p?"T":"t")+[a,b]})},function(){p=this.transform().local})}this._drag={};u.push({el:this,start:l});this.mousedown(l);return this};
x.undrag=function(){for(var b=u.length;b--;)u[b].el==this&&(this.unmousedown(u[b].start),u.splice(b,1),c.unbind("snap.drag.*."+this.id));!u.length&&a.unmousemove(m).unmouseup(d);return this}});B.plugin(function(a,h,k,l){k=k.prototype;var x=/^\s*url\((.+)\)/,n=String,v=a._.$;a.filter={};k.filter=function(c){var e=this;"svg"!=e.type&&(e=e.paper);c=a.parse(n(c));var k=a._.id(),l=v("filter");v(l,{id:k,filterUnits:"userSpaceOnUse"});l.appendChild(c.node);e.defs.appendChild(l);return new h(l)};c.on("snap.util.getattr.filter",
function(){c.stop();var f=v(this.node,"filter");if(f)return(f=n(f).match(x))&&a.select(f[1])});c.on("snap.util.attr.filter",function(f){if(f instanceof h&&"filter"==f.type){c.stop();var e=f.node.id;e||(v(f.node,{id:f.id}),e=f.id);v(this.node,{filter:a.url(e)})}f&&"none"!=f||(c.stop(),this.node.removeAttribute("filter"))});a.filter.blur=function(c,e){null==c&&(c=2);return a.format('<feGaussianBlur stdDeviation="{def}"/>',{def:null==e?c:[c,e]})};a.filter.blur.toString=function(){return this()};a.filter.shadow=
function(c,e,h,k,n){"string"==typeof h&&(n=k=h,h=4);"string"!=typeof k&&(n=k,k="#000");null==h&&(h=4);null==n&&(n=1);null==c&&(c=0,e=2);null==e&&(e=c);k=a.color(k||"#000");return a.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',
{color:k,dx:c,dy:e,blur:h,opacity:n})};a.filter.shadow.toString=function(){return this()};a.filter.grayscale=function(c){null==c&&(c=1);return a.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-c),b:.7152-.7152*(1-c),c:.0722-.0722*(1-c),d:.2126-.2126*(1-c),e:.7152+.2848*(1-c),f:.0722-.0722*(1-c),g:.2126-.2126*(1-c),h:.0722+.9278*(1-c)})};a.filter.grayscale.toString=function(){return this()};a.filter.sepia=function(c){null==
c&&(c=1);return a.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-c),b:.769-.769*(1-c),c:.189-.189*(1-c),d:.349-.349*(1-c),e:.686+.314*(1-c),f:.168-.168*(1-c),g:.272-.272*(1-c),h:.534-.534*(1-c),i:.131+.869*(1-c)})};a.filter.sepia.toString=function(){return this()};a.filter.saturate=function(c){null==c&&(c=1);return a.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-c})};a.filter.saturate.toString=function(){return this()};
a.filter.hueRotate=function(c){return a.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:c||0})};a.filter.hueRotate.toString=function(){return this()};a.filter.invert=function(c){null==c&&(c=1);return a.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:c,amount2:1-c})};a.filter.invert.toString=function(){return this()};
a.filter.brightness=function(c){null==c&&(c=1);return a.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:c})};a.filter.brightness.toString=function(){return this()};a.filter.contrast=function(c){null==c&&(c=1);return a.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',
{amount:c,amount2:.5-c/2})};a.filter.contrast.toString=function(){return this()}});return B});
"document"in self&&("classList"in document.createElement("_")?function(){var u=document.createElement("_");u.classList.add("c1","c2");if(!u.classList.contains("c2")){var c=function(c){var a=DOMTokenList.prototype[c];DOMTokenList.prototype[c]=function(c){var k,l=arguments.length;for(k=0;k<l;k++)c=arguments[k],a.call(this,c)}};c("add");c("remove")}u.classList.toggle("c3",!1);if(u.classList.contains("c3")){var l=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(c,a){return 1 in arguments&&
!this.contains(c)===!a?a:l.call(this,c)}}u=null}():function(u){if("Element"in u){u=u.Element.prototype;var c=Object,l=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},B=Array.prototype.indexOf||function(a){for(var c=0,e=this.length;c<e;c++)if(c in this&&this[c]===a)return c;return-1},a=function(a,c){this.name=a;this.code=DOMException[a];this.message=c},h=function(c,f){if(""===f)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(f))throw new a("INVALID_CHARACTER_ERR",
"String contains an invalid character");return B.call(c,f)},k=function(a){for(var c=l.call(a.getAttribute("class")||""),c=c?c.split(/\s+/):[],e=0,h=c.length;e<h;e++)this.push(c[e]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},A=k.prototype=[],x=function(){return new k(this)};a.prototype=Error.prototype;A.item=function(a){return this[a]||null};A.contains=function(a){return-1!==h(this,a+"")};A.add=function(){var a=arguments,c=0,e=a.length,k,n=!1;do k=a[c]+"",-1===h(this,
k)&&(this.push(k),n=!0);while(++c<e);n&&this._updateClassName()};A.remove=function(){var a=arguments,c=0,e=a.length,k,n=!1,l;do for(k=a[c]+"",l=h(this,k);-1!==l;)this.splice(l,1),n=!0,l=h(this,k);while(++c<e);n&&this._updateClassName()};A.toggle=function(a,c){a+="";var e=this.contains(a),h=e?!0!==c&&"remove":!1!==c&&"add";if(h)this[h](a);return!0===c||!1===c?c:!e};A.toString=function(){return this.join(" ")};if(c.defineProperty){A={get:x,enumerable:!0,configurable:!0};try{c.defineProperty(u,"classList",
A)}catch(n){-2146823252===n.number&&(A.enumerable=!1,c.defineProperty(u,"classList",A))}}else c.prototype.__defineGetter__&&u.__defineGetter__("classList",x)}}(self));define("classList",function(){});
define("config",[],function(){return{FONT_FAMILY:"'Lato', sans-serif",TEXT_SIZE_SMALL:12,TEXT_SIZE_MEDIUM:14.4,KEY_TOP_MARGIN:80,TOP_PADDING:50,BOTTOM_PADDING:50,LEFT_PADDING:10,RIGHT_PADDING:10,SPILLOVER_TOP:0,SPILLOVER_RIGHT:0,SPILLOVER_BOTTOM:0,SPILLOVER_LEFT:0,TICK_MARK_HORIZONTAL_PADDING:10,TICK_MARK_VERTICAL_PADDING:10,TICK_MARK_FONT_WEIGHT:300,TOTAL_WIDTH_TO_X_TICK_RATIO:1,ABBREVIATE_LABELS_THRESHOLD:380,NUMBER_OF_Y_PADDING_POINTS:.25,NUMBER_OF_X_PADDING_POINTS:.5,GLYPH_BLACK_PROPORTION:.7,
GLYPHS_ACROSS:10,KEY_PADDING:20,KEY_GLYPH_BOTTOM_PADDING:15,KEY_GLYPH_LEFT_PADDING:20,KEY_GLYPH_RIGHT_PADDING:10,KEY_GLYPH_FONT_SIZE:32,KEY_LABEL_FONT_SIZE:18,KEY_LABEL_FONT_FAMILY:"Lato, sans-serif"}});
define("color-utils",[],function(){return{colorWheelClasses:"fm-datum-color-wheel-a fm-datum-color-wheel-b fm-datum-color-wheel-c fm-datum-color-wheel-d fm-datum-color-wheel-e fm-datum-color-wheel-f fm-datum-color-wheel-g fm-datum-color-wheel-h fm-datum-color-wheel-i fm-datum-color-wheel-j fm-datum-color-wheel-k fm-datum-color-wheel-l".split(" "),overflowClass:"fm-datum-color-overflow",pad:function(u){return 2>u.length?"0"+u:u},contrasting:function(u){throw"Not yet implemented";},registerTint1Filter:function(){throw"Not yet implemented";
},registerTint2Filter:function(){throw"Not yet implemented";},lowContrast:function(u,c){c="undefined"===typeof c?0:c;if(u+c>this.colorWheelClasses.length){for(var l=[],B=0;B<u;B++)B<this.colorWheelClasses.length?l.push(this.colorWheelClasses[B]):l.push(this.colorWheelClasses[this.colorWheelClasses.length-B]);return l}return this.colorWheelClasses.splice(c,u)},monochromatic:function(u,c,l){throw"Not yet implemented";},harmonious:function(u){for(var c=Math.min(u,this.colorWheelClasses.length),l=[],
B=Math.floor(this.colorWheelClasses.length/2),a=function(){return 0==this.colorWheelClasses.length%4}.bind(this),h=function(a,h){a=(a+this.colorWheelClasses.length)%this.colorWheelClasses.length;var f=Math.floor(l.length/4)+1;l.length<c&&l.splice(1*f-1,0,a);l.length<c&&l.splice(2*f-1,0,(a+h+1)%this.colorWheelClasses.length);l.length<c&&l.splice(3*f-1,0,(a+B)%this.colorWheelClasses.length);l.length<c&&l.splice(4*f-1,0,(a+h+1+B)%this.colorWheelClasses.length)}.bind(this),k=function(a,c){a=(a+this.colorWheelClasses.length)%
this.colorWheelClasses.length;l.splice(c,0,a)}.bind(this),A=1,x=0;A<=B-2;A+=2,x--)h(x,A);h=l.length/4;l.length<c&&k(1,h);l.length<c&&k(1+B,3*h+1);a()&&(l.length<c&&k(1+B/2,2*h+1),l.length<c&&k(1+3*B/2,4*h+3));a=[];for(k=0;k<u;k++)a.push(this.colorWheelClasses[l[k%c]]);return a}}});
define("number-utils",[],function(){return{roundToOrder:function(u,c,l){function B(a,c){var k=Math.abs(a);k>=Math.pow(10,l)?(a=B(a/10,c),a*=10):k<Math.pow(10,l-1)?(a*=10,a=B(a,c),a/=10):(k=Math.round(a/c)*c,0===k&&(l++,k=B(a,c)),a=k);return parseFloat(a.toPrecision(l+1))}u=parseFloat(u);if(0==u)return 0;l||(l=2);return 1===c?parseFloat(u.toPrecision(l)):B(u,c)},renderValue:function(u){function c(a){if(0==a)return 0;if(1<=a&&1E3>a)return a;if(1>a)return B-=3,c(1E3*a);if(1E3<=a)return B+=3,c(a/1E3)}
if(0===u)return"0";if(!u)return"";var l=1;0>u&&(l=-1,u*=-1);u=this.roundToOrder(u,1,3);var B=0,a=new String(l*c(u));return 3==B?a+"k":6==B?a+"m":9==B?a+"bn":12==B?a+" trillion":new String(l*u)},getDataTotal:function(u){for(var c=0,l=0;l<u.length;l++)c+=u[l].value;return c},getAngle:function(u,c,l){l="undefined"===typeof l?Circle.whole:l;return l/c*u},getFactor:function(u){for(var c=u-1;1<c;c--){var l=u/c;if(parseInt(l)==l)return c}return u}}});
define("data-processor",["color-utils","number-utils","config"],function(u,c,l){function B(){this.groups=[];this.series=[];this.data={};this.rows={};this.unitValue=1}var a=/^\-?[0-9]+(,[0-9]{3})*(\.[0-9]+)?$/;return{tableToJSON:function(h,k){h.className+=" fm-hidden";for(var A=h.querySelectorAll("thead > tr > th"),x=h.querySelectorAll("tbody > tr"),n=new B,v=k.valuePrefix?k.valuePrefix:"",f=k.valueSuffix?k.valueSuffix:"",e=u.harmonious(A.length),p=1;p<A.length;p++){var t=A[p].textContent,r=A[p].hasAttribute("data-fm-glyph")?
A[p].getAttribute("data-fm-glyph"):t.substr(0,1).toUpperCase(),b=A[p].hasAttribute("data-fm-glyph-class")?A[p].getAttribute("data-fm-glyph-class"):e[p];n.series.push({name:t,glyph:r,color:b})}for(A=0;A<x.length;A++)if(t=x[A],!(2>t.children.length)){e=t.children[0].textContent;n.groups.push(e);p=[];r=0;for(b=1;b<t.children.length;b++){var z=t.children[b].textContent;z.match(a)?(z=parseFloat(z.replace(/,([0-9]{3})/g,"$1")),p.push({value:z,text:v+c.renderValue(z)+f}),r+=z):p.push(null)}var m=[],d=r/
l.GLYPHS_ACROSS,E=l.GLYPHS_ACROSS;p.forEach(function(a,b){var c=a.value/d;a.numberOfUnits=Math.floor(c);E-=a.numberOfUnits;m.push({index:b,remainder:c%1})});for(m.sort(function(a,b){return b.remainder-a.remainder});0<E;)t=m.shift(),p[t.index].numberOfUnits++,E--;n.data[e]=p;n.rows[e]=p.reduce(function(a,b,d){for(var c=0;c<b.numberOfUnits;c++)a.push(d);return a},[])}return n}}});
define("scale-utils",["number-utils"],function(u){return{Scale:function(c,l,u,a){this.start=c;this.middle=c+l/2;this.end=c+l;if(u==a)throw"Min value and max are the same";var h=u>a?!0:!1;this.getPixel=function(k,A){if((k<u||k>a)&&!1===("undefined"===typeof A?!0:!1)&&!(h&&k<=u&&k>=a))throw"Out of range";return c+(k-u)/(a-u)*l}},AreaScale:function(c,l,u,a){this.start=c;this.middle=c+l/2;this.midValue=u+(a-u)*Math.pow(.5,2);this.end=c+l;if(u==a)throw"Min value and max are the same";var h=u>a?!0:!1;this.getPixel=
function(k,A){if((k<u||k>a)&&!1===("undefined"===typeof A?!0:!1)&&!(h&&k<=u&&k>=a))throw"Out of range";var x=Math.pow((k-u)/(a-u),.5);return c+l*x}},getTickMarks:function(c,l,u,a){var h=0,k=0,A=0,x=0,A=0,n=[],x=A=0;c==l&&(h=0!==l?l/10:1,c-=h,l+=h);u=(l-c)/(u-1);k=h=0;h=Math.floor(Math.log(u)/Math.LN10);k=u/Math.pow(10,h);k=(1.5>k?1:3>k?2:7>k?5:10)*Math.pow(10,h);A=Math.floor(c/k)*k;x=Math.ceil(l/k)*k;h=Math.max(-Math.floor(Math.log(k)/Math.LN10),1);x+=.5*k;a&&(0!==A&&(A-=k),x+=k);for(;A<x;A+=k)n.push(parseFloat(A.toFixed(h)));
return n}}});
define("tick-mark",["snap","config"],function(u,c){return u.plugin(function(l,u,a){a.prototype.tickMark=function(a,k,l,x,n){if("horizontal"===l){a=this.text(a-c.TICK_MARK_HORIZONTAL_PADDING,k,n).attr({"font-family":c.FONT_FAMILY,"font-size":c.TEXT_SIZE_SMALL,"font-weight":c.TICK_MARK_FONT_WEIGHT,"text-anchor":"end","dominant-baseline":"central"});var v=this.g(a).addClass("fm-tick-mark")}else"vertical"===l?(l=this.line(a,k,a,k+x),a=this.text(a,k+c.TICK_MARK_VERTICAL_PADDING+c.TEXT_SIZE_SMALL/2,n).attr({"font-family":c.FONT_FAMILY,
"font-size":c.TEXT_SIZE_SMALL,"font-weight":c.TICK_MARK_FONT_WEIGHT,"text-anchor":"middle"}),v=this.g(a,l).addClass("fm-tick-mark")):console.err("Incorrect orientation specified");return v}})});
define("axis",["snap","tick-mark","number-utils"],function(u,c,l){return u.plugin(function(c,a,h){h.prototype.axis=function(a,c,h,n,v,f,e,p,t){var r=this,b=r.g(),u=this.g();b.startPoints=[];if("horizontal"===f){n.forEach(function(a){"object"!==typeof a&&(a={position:a,label:l.renderValue(a)});var d=h.getPixel(a.position);b.startPoints.push({x:d,y:c});u.append(r.tickMark(d,c,"vertical",v,a.label,10))});if(p)var m=r.line(a,c,h.end,c).addClass("fm-axis");if(e){var d;t&&"last"!==t?"first"===t?d=u.getBBox().y-
17.5:console.error("Invalid axis label position specified."):d=u.getBBox().y+u.getBBox().height+17.5;e=r.text(h.middle,d,e).addClass("fm-x-axis-label");e.attr({"font-family":"'Lato', sans-serif","font-weight":400,"font-size":12,"text-anchor":"middle"});b.append(e)}b.append(m);b.append(u)}else n.forEach(function(d){"object"!==typeof d&&(d={position:d,label:l.renderValue(d)});var c=h.getPixel(d.position);b.startPoints.push({x:a,y:c});d=r.tickMark(a,c,"horizontal",v,d.label);u.append(d)}),b.append(u),
n=b.getBBox(),p&&(m=r.line(a,c,a,h.end).addClass("fm-axis"),b.append(m)),e&&(e=r.text(n.x-6-25,h.middle,e).addClass("fm-y-axis-label"),e.getBBox(),e.attr({"font-family":"'Lato', sans-serif","font-weight":400,"font-size":12,"text-anchor":"middle"}).transform("r -90"),b.append(e));return b}})});
define("pictorial-key",["config","snap"],function(u,c){return c.plugin(function(c,B,a){a.prototype.pictorialKey=function(a,c,l,x){var n=this,v=n.group().addClass("fm-pictorial-key"),f=n.group(),e=u.KEY_PADDING,p=u.KEY_PADDING,t=l-u.KEY_PADDING;x.forEach(function(a){var c=n.group(),h=n.text(0,0,a.glyph).attr("font-size",u.KEY_GLYPH_FONT_SIZE).addClass(a.color);a=n.text(h.getBBox().x2+u.KEY_GLYPH_RIGHT_PADDING,h.getBBox().cy,a.name).attr({"font-size":u.KEY_LABEL_FONT_SIZE,"font-family":u.KEY_LABEL_FONT_FAMILY,
"dominant-baseline":"middle"}).addClass(a.color);c.append(h);c.append(a);h=c.getBBox().width;e+h>t&&(e=u.KEY_PADDING,p+=c.getBBox().height+u.KEY_GLYPH_BOTTOM_PADDING);c.transform("translate("+e+","+p+")");f.append(c);e+=h+u.KEY_GLYPH_LEFT_PADDING});x=n.rect(a,c,l,f.getBBox().height+u.KEY_PADDING);var r=n.line(a,c,a+l,c);a+=(l-f.getBBox().x2)/2;f.transform("translate("+a+","+(c+u.KEY_PADDING)+")");v.append(x);v.append(r);v.append(f);return v}})});
define("multitext",["snap"],function(u){return u.plugin(function(c,l,u,a){u.prototype.multitext=function(a,c,l,u,n){"undefined"===typeof u&&(u="1.8em");"undefined"===typeof n&&(n="start");l=l.split("\n");c=this.text(a,c,l);c.attr({textAnchor:n});c.selectAll("tspan:nth-child(n+2)").attr({dy:u,x:a});return c}})});
define("Tooltip",["config","multitext"],function(u,c){function l(a,c,k){(this.enableBlackBorder=k)&&!document.getElementById("black-border")&&(a.node.querySelector("defs").innerHTML+='<filter id="black-border" x="-5%" y="-5%" width="110%" height="110%"><feMorphology in="SourceAlpha" operator="dilate" radius="1" result="border"></feMorphology><feGaussianBlur stdDeviation="0.2" in="border" result="blurred-border"></feGaussianBlur><feMerge><feMergeNode in="blurred-border"></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter>');this.colorClass=
c;this._paper=a;this._parent=a.node;this._tooltipBG=this._tooltipArrow=null;this._tooltipPlacement="right";this.snapElement=this._tooltipText=null}var B;u.TOOLTIP_MAX_VALUE_LENGTH?B=u.TOOLTIP_MAX_VALUE_LENGTH:20;l.prototype={_positionTooltipArrow:function(a){var c=Snap.matrix(),k=this._tooltipBG.getBBox();switch(a){case "left":c.translate(k.width+4,k.height/2);c.rotate(180);this._tooltipArrow.transform(c.toTransformString());break;case "right":c.translate(-4,k.height/2);this._tooltipArrow.transform(c.toTransformString());
break;case "top":c.translate(k.width/2,k.height+4);c.rotate(-90);this._tooltipArrow.transform(c.toTransformString());break;case "bottom":c.translate(k.width/2,-4),c.rotate(90),this._tooltipArrow.transform(c.toTransformString())}this._tooltipPlacement=a},constructor:l,hide:function(){this.snapElement&&this.snapElement.attr("display","none")},remove:function(){this._tooltipText=this._tooltipBG=this._tooltipArrow=null;this.snapElement.remove();this.snapElement=null},render:function(a,c){var k=this._paper,
l=null;null!==this.snapElement&&this.remove();this.snapElement=k.g();var u,n="[object Array]"===Object.prototype.toString.call(c)?!0:!1;a.length>B&&(a=a.substring(0,B-3)+"...");if(n){u=k.g();u.attr({fill:"#fff"});var v=k.text(10,10,a);v.attr({dy:parseInt("12px",10),"font-family":"'Lato', sans-serif","font-size":"12px"});u.append(v);var f=[],e=[];c.forEach(function(a){var c;c=a.title.length>B?a.title.substring(0,B-3)+"...":a.title;a=a.value.length>B?a.value.substring(0,B-3)+"...":a.value;f.push(c+
":");e.push(a)});var p=k.multitext(10,20+v.getBBox().height+5,f.join("\n"),"1.2em").attr({"font-family":"'Lato', sans-serif","font-size":"12px"}),l=k.multitext(10,20+v.getBBox().height+5,e.join("\n"),"1.2em","end").attr({"font-family":"'Lato', sans-serif","font-size":"12px"});l.transform("t "+(p.getBBox().width+l.getBBox().width+5)+" 0");u.append(p);u.append(l)}else u=k.text(10,10,a+": "+c),u.attr({dy:parseInt("12px",10)});this._tooltipText=u;l=u.getBBox();p=k.rect(0,0,l.width+10+10,l.height+10+10,
4);p.addClass(this.colorClass);this._tooltipBG=p;n&&v.transform("t "+(l.width/2-v.getBBox().width/2)+" 0");this._tooltipArrow=k=k.polygon([-5,.2,5,-5,5,5]).addClass(this.colorClass);this._positionTooltipArrow(this._tooltipPlacement);this.snapElement.append(p);this.snapElement.append(u);this.snapElement.append(k);this.snapElement.addClass("fm-tooltip");this.hide();this.enableBlackBorder&&this.snapElement.attr({filter:"url(#black-border)"});return this.snapElement},setPosition:function(a,c,k){if(this.snapElement){void 0===
k?k=this._tooltipPlacement:k!==this._tooltipPlacement&&this._positionTooltipArrow(k);var l=this._tooltipArrow.getBBox(),u=this._tooltipBG.getBBox();switch(k){case "left":a=a-l.width-u.width;c-=u.height/2;break;case "right":a+=l.width;c-=u.height/2;break;case "bottom":a-=u.width/2;c+=l.height;break;case "top":a-=u.width/2,c=c-u.height-l.height}this.snapElement.transform("T"+a+","+c)}},show:function(){this.snapElement&&(this.snapElement.parent().append(this.snapElement),this.snapElement.attr("display",
"block"))}};return l});
define("pictorial","snap config scale-utils axis pictorial-key Tooltip".split(" "),function(u,c,l,B,a,h){function k(a,c,f,e,k){var l=f.group.getBBox(),r=a.rect(l.x,l.y,l.width,l.height).attr({opacity:0});f.group.append(r);var b=l.x+l.width/2,u=l.y,m,d;for(d in k.data)if(d===c){m=k.data[d][e].value;break}f.group.hover(function(){var c=f.name,d=m,e=new h(a,"fm-datum-color-overflow");e.render(c,d);e.setPosition(b,u,"top");e.show()},function(){a.select(".fm-tooltip").remove()})}function A(a,c,f,e,h){a=
a.axis(c,f,e,h.groups.map(function(a,c){return{position:c,label:a}}),0,"vertical",null,!0).addClass("fm-y-axis");(c-=a.getBBox().x)&&a.transform("t "+c+" 0");a.xOffset=c;return a}function x(a,h,f,e,l){var t=a.group();e.groups.forEach(function(r,b){var u=a.group().addClass("fm-pictorial-bar"),m=[];e.series.forEach(function(b){m.push({name:b.name,group:a.group()})});for(var d=0;d<c.GLYPHS_ACROSS;d++){var x=e.rows[r][d],y=a.text(h.getPixel(d),f.getPixel(b),e.series[x].glyph).addClass("fm-pictorial-glyph").addClass(e.series[x].color).attr({"font-size":l}),
A;m.forEach(function(a){return a.name===e.series[x].name?(a.group.append(y),A=a.group,!1):!0});u.append(A)}m.forEach(function(b,c){k(a,r,b,c,e)});t.append(u)});return t}return u.plugin(function(a,h,f){f.prototype.pictorialBar=function(a,f,h,k,b,n){a=this.group();f=c.GLYPHS_ACROSS+1;n=Math.min((h-c.LEFT_PADDING-c.RIGHT_PADDING)/f,(k-c.TOP_PADDING-c.BOTTOM_PADDING)/b.groups.length);var m=(h+c.LEFT_PADDING-c.RIGHT_PADDING-n*f)/2;k=(k+c.TOP_PADDING-c.BOTTOM_PADDING-n*b.groups.length)/2;var d=n*b.groups.length,
u=new l.Scale(k,d,-c.NUMBER_OF_Y_PADDING_POINTS,b.groups.length-1+c.NUMBER_OF_Y_PADDING_POINTS),v=A(this,m,k,u,b);a.append(v);var B=n*f-v.xOffset,v=new l.Scale(m+v.xOffset,B,-c.NUMBER_OF_X_PADDING_POINTS,c.GLYPHS_ACROSS-c.NUMBER_OF_X_PADDING_POINTS),u=x(this,v,u,b,B*c.GLYPH_BLACK_PROPORTION/c.GLYPHS_ACROSS);a.append(u);b=this.pictorialKey(m,k+d+c.BOTTOM_PADDING,n*f,b.series);a.append(b);b=b.getBBox().y2;this.node.setAttribute("viewBox","0 0 "+h+" "+b);this.node.style.height=b+"px";return a}})});
define("render",["snap","classList","config","data-processor","pictorial"],function(u,c,l,B,a){function h(a){return a.split("-").map(function(a,c){return 0===c?a:a.charAt(0).toUpperCase()+a.substr(1)}).join("")}function k(a){var c=document.createElement("div");c.innerHTML='Powered by <a style="color: #527a92" href="http://factmint.com/charts">Factmint</a>';c.style.fontSize="8px";c.style.lineHeight="12px";c.style.width="100%";c.style.textAlign="right";c.style.fontFamily="Lato, sans-serif";a.parentElement.insertBefore(c,
a.nextSibling)}var A=/([0-9]+)(px|%|rem|em|ex|ch|vw|vh|vmin|vmax|mm|cm|in|pt|pc)/;return function(a){var c=a.getAttribute("data-fm-config"),v=c&&window[c]?window[c]:{};[].filter.call(a.attributes,function(a){return"data-fm-config"===a.name?!1:/^data-fm-/.test(a.name)}).forEach(function(a){var b=a.name.replace(/^data-fm-/,""),b=h(b);v[b]=a.value});v.width||(v.width="100%");v.height||(v.height="450px");if(null===v.height.match(A)||null===v.width.match(A))throw"A valid CSS length must be used for the chart dimensions (such as 50% or 400px)";
var f,e,p;v.width.replace(A,function(a,b,c){f=parseFloat(b);e=f*(l.SPILLOVER_LEFT+l.SPILLOVER_RIGHT);p=c});var t,r,b;v.height.replace(A,function(a,c,d){t=parseFloat(c);r=t*(l.SPILLOVER_TOP+l.SPILLOVER_BOTTOM);b=d});c=document.createElementNS("http://www.w3.org/2000/svg","svg");v.disableSpillover?(c.style.height=t+b,c.style.width=f+p):(c.style.height=t+r+b,c.style.width=f+e+p,c.style.margin="-"+l.SPILLOVER_TOP*t+b+" -"+l.SPILLOVER_RIGHT*f+p+" -"+l.SPILLOVER_BOTTOM*t+b+" -"+l.SPILLOVER_LEFT*f+p);a.parentElement.insertBefore(c,
a);var z=u(c);a=B.tableToJSON(a,v);var m=c.getBoundingClientRect(),d=m.right-m.left,m=m.bottom-m.top,E=d/(1+l.SPILLOVER_LEFT+l.SPILLOVER_RIGHT),y=m/(1+l.SPILLOVER_TOP+l.SPILLOVER_BOTTOM),D=E*l.SPILLOVER_LEFT,w=y*l.SPILLOVER_TOP;c.setAttribute("viewBox","0 0 "+d+" "+m);z.pictorialBar(D,w,E,y,a,v);k(c)}});
require.config({paths:{text:"../../bower_components/requirejs-text/text",snap:"../../bower_components/Snap.svg/dist/snap.svg",axis:"../../bower_components/axis/dist/axis",classList:"../../bower_components/classList.js/classList","grid-lines":"../../bower_components/grid-lines/dist/grid-lines","scale-utils":"../../bower_components/scale-utilities/dist/scale-utils","number-utils":"../../bower_components/number-utils/dist/number-utils","color-utils":"../../bower_components/color-utils/dist/color","tick-mark":"../../bower_components/tick-mark/dist/tick-mark",
multitext:"../../bower_components/multitext/dist/multitext","pictorial-key":"../../bower_components/pictorial-key/dist/pictorial-key",Tooltip:"../../bower_components/Tooltip/dist/Tooltip"},shim:{snap:{exports:"Snap"}}});
require(["render"],function(u){var c=document.querySelectorAll("table.fm-pictorial-bar");if(document.implementation&&(document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Shape","1.0")||document.implementation.hasFeature("SVG","1.0"))){for(var l=!1,B=document.querySelectorAll("script"),a=0;a<B.length;a++){var h=B[a].getAttribute("src");if(h){var k="s"==h[4]?1:0;if("f"==h[7+k]&&"i"==h[16+k]&&"c"==h[9+k]&&"."==h[15+k]){l=!0;break}}}if(!l)throw"Licence error";for(l=0;l<c.length;l++)if(window.factmint&&
window.factmint.previewVisualizations||!c[l].hasAttribute("data-fm-rendered")){c[l].setAttribute("data-fm-rendered","true");try{u(c[l])}catch(A){console.log("ERROR: chart rendering failed"),console.log(A)}}}else for(console.log("SVG not supported: visualizations disabled"),l=0;l<c.length;l++)c[l].style.display="table"});define("main",function(){});
