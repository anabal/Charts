/* Copyright Factmint Ltd, not for distribution without consent; version 3.0.3*/
/*
 almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/almond for details
*/
'use strict';var requirejs,require,define;
(function(m){function h(b,c){var a,k,t,d,f,e,q,n,g,h=c&&c.split("/"),r=z.map,p=r&&r["*"]||{};if(b&&"."===b.charAt(0))if(c){b=b.split("/");f=b.length-1;z.nodeIdCompat&&y.test(b[f])&&(b[f]=b[f].replace(y,""));b=h.slice(0,h.length-1).concat(b);for(f=0;f<b.length;f+=1)if(a=b[f],"."===a)b.splice(f,1),--f;else if(".."===a)if(1!==f||".."!==b[2]&&".."!==b[0])0<f&&(b.splice(f-1,2),f-=2);else break;b=b.join("/")}else 0===b.indexOf("./")&&(b=b.substring(2));if((h||p)&&r){a=b.split("/");for(f=a.length;0<f;--f){k=
a.slice(0,f).join("/");if(h)for(g=h.length;0<g;--g)if(t=r[h.slice(0,g).join("/")])if(t=t[k]){d=t;e=f;break}if(d)break;!q&&p&&p[k]&&(q=p[k],n=f)}!d&&q&&(d=q,e=n);d&&(a.splice(0,e,d),b=a.join("/"))}return b}function f(l,c){return function(){var a=b.call(arguments,0);"string"!==typeof a[0]&&1===a.length&&a.push(null);return x.apply(m,a.concat([l,c]))}}function d(b){return function(c){return h(c,b)}}function c(b){return function(c){v[b]=c}}function g(b){if(A.call(w,b)){var c=w[b];delete w[b];n[b]=!0;
p.apply(m,c)}if(!A.call(v,b)&&!A.call(n,b))throw Error("No "+b);return v[b]}function u(b){var c,a=b?b.indexOf("!"):-1;-1<a&&(c=b.substring(0,a),b=b.substring(a+1,b.length));return[c,b]}function e(b){return function(){return z&&z.config&&z.config[b]||{}}}var p,x,q,r,v={},w={},z={},n={},A=Object.prototype.hasOwnProperty,b=[].slice,y=/\.js$/;q=function(b,c){var a,k=u(b),t=k[0];b=k[1];t&&(t=h(t,c),a=g(t));t?b=a&&a.normalize?a.normalize(b,d(c)):h(b,c):(b=h(b,c),k=u(b),t=k[0],b=k[1],t&&(a=g(t)));return{f:t?
t+"!"+b:b,n:b,pr:t,p:a}};r={require:function(b){return f(b)},exports:function(b){var c=v[b];return"undefined"!==typeof c?c:v[b]={}},module:function(b){return{id:b,uri:"",exports:v[b],config:e(b)}}};p=function(b,d,a,k){var t,B,e,h,p=[];B=typeof a;var u;k=k||b;if("undefined"===B||"function"===B){d=!d.length&&a.length?["require","exports","module"]:d;for(h=0;h<d.length;h+=1)if(e=q(d[h],k),B=e.f,"require"===B)p[h]=r.require(b);else if("exports"===B)p[h]=r.exports(b),u=!0;else if("module"===B)t=p[h]=r.module(b);
else if(A.call(v,B)||A.call(w,B)||A.call(n,B))p[h]=g(B);else if(e.p)e.p.load(e.n,f(k,!0),c(B),{}),p[h]=v[B];else throw Error(b+" missing "+B);d=a?a.apply(v[b],p):void 0;b&&(t&&t.exports!==m&&t.exports!==v[b]?v[b]=t.exports:d===m&&u||(v[b]=d))}else b&&(v[b]=a)};requirejs=require=x=function(b,c,a,k,t){if("string"===typeof b)return r[b]?r[b](c):g(q(b,c).f);if(!b.splice){z=b;z.deps&&x(z.deps,z.callback);if(!c)return;c.splice?(b=c,c=a,a=null):b=m}c=c||function(){};"function"===typeof a&&(a=k,k=t);k?p(m,
b,c,a):setTimeout(function(){p(m,b,c,a)},4);return x};x.config=function(b){return x(b)};requirejs._defined=v;define=function(b,c,a){if("string"!==typeof b)throw Error("See almond README: incorrect module build, no module name");c.splice||(a=c,c=[]);A.call(v,b)||A.call(w,b)||(w[b]=[b,c,a])};define.amd={jQuery:!0}})();define("almond",function(){});
(function(m,h){"function"===typeof define&&define.amd?define("svg-js",h):"object"===typeof exports?module.exports=h(require,exports,module):m.SVG=h()})(this,function(m,h,f){function d(a){return a.toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function c(a){return a.charAt(0).toUpperCase()+a.slice(1)}function g(a){return 4==a.length?["#",a.substring(1,2),a.substring(1,2),a.substring(2,3),a.substring(2,3),a.substring(3,4),a.substring(3,4)].join(""):a}function u(a){a=a.toString(16);
return 1==a.length?"0"+a:a}function e(a,b,t){null==t?t=a.height/a.width*b:null==b&&(b=a.width/a.height*t);return{width:b,height:t}}function p(a){return{a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5]}}function x(a){a instanceof b.Matrix||(a=new b.Matrix(a));return a}function q(a,b){a.cx=null==a.cx?b.bbox().cx:a.cx;a.cy=null==a.cy?b.bbox().cy:a.cy}function r(a){a=a.replace(b.regex.whitespace,"").replace(b.regex.matrix,"").split(",");return p(b.utils.map(a,function(a){return parseFloat(a)}))}function v(a,
k){return"number"==typeof a.from?a.from+(a.to-a.from)*k:a instanceof b.Color||a instanceof b.Number||a instanceof b.Matrix?a.at(k):1>k?a.from:a.to}function w(a){for(var b=0,t=a.length,c="";b<t;b++)c+=a[b][0],null!=a[b][1]&&(c+=a[b][1],null!=a[b][2]&&(c+=" ",c+=a[b][2],null!=a[b][3]&&(c+=" ",c+=a[b][3],c+=" ",c+=a[b][4],null!=a[b][5]&&(c+=" ",c+=a[b][5],c+=" ",c+=a[b][6],null!=a[b][7]&&(c+=" ",c+=a[b][7])))));return c+" "}function z(a){for(var k=a.childNodes.length-1;0<=k;k--)a.childNodes[k]instanceof
SVGElement&&z(a.childNodes[k]);return b.adopt(a).id(b.eid(a.nodeName))}function n(a){null==a.x&&(a.x=0,a.y=0,a.width=0,a.height=0);a.w=a.width;a.h=a.height;a.x2=a.x+a.width;a.y2=a.y+a.height;a.cx=a.x+a.width/2;a.cy=a.y+a.height/2;return a}function A(a){if(a=a.toString().match(b.regex.reference))return a[1]}var b=this.SVG=function(a){if(b.supported)return a=new b.Doc(a),b.parser||b.prepare(a),a};b.ns="http://www.w3.org/2000/svg";b.xmlns="http://www.w3.org/2000/xmlns/";b.xlink="http://www.w3.org/1999/xlink";
b.supported=!!document.createElementNS&&!!document.createElementNS(b.ns,"svg").createSVGRect;if(!b.supported)return!1;b.did=1E3;b.eid=function(a){return"Svgjs"+c(a)+b.did++};b.create=function(a){var b=document.createElementNS(this.ns,a);b.setAttribute("id",this.eid(a));return b};b.extend=function(){var a,k,t,c;a=[].slice.call(arguments);k=a.pop();for(c=a.length-1;0<=c;c--)if(a[c])for(t in k)a[c].prototype[t]=k[t];b.Set&&b.Set.inherit&&b.Set.inherit()};b.invent=function(a){var k="function"==typeof a.create?
a.create:function(){this.constructor.call(this,b.create(a.create))};a.inherit&&(k.prototype=new a.inherit);a.extend&&b.extend(k,a.extend);a.construct&&b.extend(a.parent||b.Container,a.construct);return k};b.adopt=function(a){if(a.instance)return a.instance;var k;k="svg"==a.nodeName?a.parentNode instanceof SVGElement?new b.Nested:new b.Doc:"lineairGradient"==a.nodeName?new b.Gradient("lineair"):"radialGradient"==a.nodeName?new b.Gradient("radial"):b[c(a.nodeName)]?new (b[c(a.nodeName)]):new b.Element(a);
k.type=a.nodeName;k.node=a;a.instance=k;k instanceof b.Doc&&k.namespace().defs();return k};b.prepare=function(a){var k=document.getElementsByTagName("body")[0],t=(k?new b.Doc(k):a.nested()).size(2,0),c=b.create("path");t.node.appendChild(c);b.parser={body:k||a.parent(),draw:t.style("opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),poly:t.polyline().node,path:c}};b.regex={unit:/^(-?[\d\.]+)([a-z%]{0,2})$/,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,
matrix:/matrix\(|\)/g,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^-?[\d\.]+$/,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i};b.utils={map:function(a,b){var t,c=a.length,d=[];for(t=0;t<c;t++)d.push(b(a[t]));return d},radians:function(a){return a%360*Math.PI/180},degrees:function(a){return 180*a/Math.PI%360},filterSVGElements:function(a){return[].filter.call(a,function(a){return a instanceof SVGElement})}};
b.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}};b.Color=function(a){this.b=this.g=this.r=0;"string"===typeof a?b.regex.isRgb.test(a)?(a=b.regex.rgb.exec(a.replace(/\s/g,"")),this.r=parseInt(a[1]),this.g=
parseInt(a[2]),this.b=parseInt(a[3])):b.regex.isHex.test(a)&&(a=b.regex.hex.exec(g(a)),this.r=parseInt(a[1],16),this.g=parseInt(a[2],16),this.b=parseInt(a[3],16)):"object"===typeof a&&(this.r=a.r,this.g=a.g,this.b=a.b)};b.extend(b.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+u(this.r)+u(this.g)+u(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(a){this.destination=
new b.Color(a);return this},at:function(a){if(!this.destination)return this;a=0>a?0:1<a?1:a;return new b.Color({r:~~(this.r+(this.destination.r-this.r)*a),g:~~(this.g+(this.destination.g-this.g)*a),b:~~(this.b+(this.destination.b-this.b)*a)})}});b.Color.test=function(a){a+="";return b.regex.isHex.test(a)||b.regex.isRgb.test(a)};b.Color.isRgb=function(a){return a&&"number"==typeof a.r&&"number"==typeof a.g&&"number"==typeof a.b};b.Color.isColor=function(a){return b.Color.isRgb(a)||b.Color.test(a)};
b.Array=function(a,b){a=(a||[]).valueOf();0==a.length&&b&&(a=b.valueOf());this.value=this.parse(a)};b.extend(b.Array,{morph:function(a){this.destination=this.parse(a);if(this.value.length!=this.destination.length){a=this.value[this.value.length-1];for(var b=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(b);for(;this.value.length<this.destination.length;)this.value.push(a)}return this},settle:function(){for(var a=0,b=this.value.length,t=
[];a<b;a++)-1==t.indexOf(this.value[a])&&t.push(this.value[a]);return this.value=t},at:function(a){if(!this.destination)return this;for(var k=0,t=this.value.length,c=[];k<t;k++)c.push(this.value[k]+(this.destination[k]-this.value[k])*a);return new b.Array(c)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(a){a=a.valueOf();return Array.isArray(a)?a:this.split(a)},split:function(a){return a.trim().split(/\s+/)},reverse:function(){this.value.reverse();
return this}});b.PointArray=function(a,b){this.constructor.call(this,a,b||[[0,0]])};b.PointArray.prototype=new b.Array;b.extend(b.PointArray,{toString:function(){for(var a=0,b=this.value.length,t=[];a<b;a++)t.push(this.value[a].join(","));return t.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(a){if(!this.destination)return this;for(var k=0,t=this.value.length,c=[];k<t;k++)c.push([this.value[k][0]+(this.destination[k][0]-
this.value[k][0])*a,this.value[k][1]+(this.destination[k][1]-this.value[k][1])*a]);return new b.PointArray(c)},parse:function(a){a=a.valueOf();if(Array.isArray(a))return a;a=this.split(a);for(var b=0,t=a.length,c,d=[];b<t;b++)c=a[b].split(","),d.push([parseFloat(c[0]),parseFloat(c[1])]);return d},move:function(a,b){var t=this.bbox();a-=t.x;b-=t.y;if(!isNaN(a)&&!isNaN(b))for(t=this.value.length-1;0<=t;t--)this.value[t]=[this.value[t][0]+a,this.value[t][1]+b];return this},size:function(a,b){var t,c=
this.bbox();for(t=this.value.length-1;0<=t;t--)this.value[t][0]=(this.value[t][0]-c.x)*a/c.width+c.x,this.value[t][1]=(this.value[t][1]-c.y)*b/c.height+c.y;return this},bbox:function(){b.parser.poly.setAttribute("points",this.toString());return b.parser.poly.getBBox()}});b.PathArray=function(a,b){this.constructor.call(this,a,b||[["M",0,0]])};b.PathArray.prototype=new b.Array;b.extend(b.PathArray,{toString:function(){return w(this.value)},move:function(a,b){var t=this.bbox();a-=t.x;b-=t.y;if(!isNaN(a)&&
!isNaN(b))for(var c=this.value.length-1;0<=c;c--)t=this.value[c][0],"M"==t||"L"==t||"T"==t?(this.value[c][1]+=a,this.value[c][2]+=b):"H"==t?this.value[c][1]+=a:"V"==t?this.value[c][1]+=b:"C"==t||"S"==t||"Q"==t?(this.value[c][1]+=a,this.value[c][2]+=b,this.value[c][3]+=a,this.value[c][4]+=b,"C"==t&&(this.value[c][5]+=a,this.value[c][6]+=b)):"A"==t&&(this.value[c][6]+=a,this.value[c][7]+=b);return this},size:function(a,b){var c,d,l=this.bbox();for(c=this.value.length-1;0<=c;c--)d=this.value[c][0],"M"==
d||"L"==d||"T"==d?(this.value[c][1]=(this.value[c][1]-l.x)*a/l.width+l.x,this.value[c][2]=(this.value[c][2]-l.y)*b/l.height+l.y):"H"==d?this.value[c][1]=(this.value[c][1]-l.x)*a/l.width+l.x:"V"==d?this.value[c][1]=(this.value[c][1]-l.y)*b/l.height+l.y:"C"==d||"S"==d||"Q"==d?(this.value[c][1]=(this.value[c][1]-l.x)*a/l.width+l.x,this.value[c][2]=(this.value[c][2]-l.y)*b/l.height+l.y,this.value[c][3]=(this.value[c][3]-l.x)*a/l.width+l.x,this.value[c][4]=(this.value[c][4]-l.y)*b/l.height+l.y,"C"==d&&
(this.value[c][5]=(this.value[c][5]-l.x)*a/l.width+l.x,this.value[c][6]=(this.value[c][6]-l.y)*b/l.height+l.y)):"A"==d&&(this.value[c][1]=this.value[c][1]*a/l.width,this.value[c][2]=this.value[c][2]*b/l.height,this.value[c][6]=(this.value[c][6]-l.x)*a/l.width+l.x,this.value[c][7]=(this.value[c][7]-l.y)*b/l.height+l.y);return this},parse:function(a){if(a instanceof b.PathArray)return a.valueOf();var k,c,l,d,f,e,q,h,n,g,r,p=0,u=0;b.parser.path.setAttribute("d","string"===typeof a?a:w(a));r=b.parser.path.pathSegList;
k=0;for(c=r.numberOfItems;k<c;++k){g=r.getItem(k);n=g.pathSegTypeAsLetter;if("M"==n||"L"==n||"H"==n||"V"==n||"C"==n||"S"==n||"Q"==n||"T"==n||"A"==n)"x"in g&&(p=g.x),"y"in g&&(u=g.y);else if("x1"in g&&(f=p+g.x1),"x2"in g&&(q=p+g.x2),"y1"in g&&(e=u+g.y1),"y2"in g&&(h=u+g.y2),"x"in g&&(p+=g.x),"y"in g&&(u+=g.y),"m"==n)r.replaceItem(b.parser.path.createSVGPathSegMovetoAbs(p,u),k);else if("l"==n)r.replaceItem(b.parser.path.createSVGPathSegLinetoAbs(p,u),k);else if("h"==n)r.replaceItem(b.parser.path.createSVGPathSegLinetoHorizontalAbs(p),
k);else if("v"==n)r.replaceItem(b.parser.path.createSVGPathSegLinetoVerticalAbs(u),k);else if("c"==n)r.replaceItem(b.parser.path.createSVGPathSegCurvetoCubicAbs(p,u,f,e,q,h),k);else if("s"==n)r.replaceItem(b.parser.path.createSVGPathSegCurvetoCubicSmoothAbs(p,u,q,h),k);else if("q"==n)r.replaceItem(b.parser.path.createSVGPathSegCurvetoQuadraticAbs(p,u,f,e),k);else if("t"==n)r.replaceItem(b.parser.path.createSVGPathSegCurvetoQuadraticSmoothAbs(p,u),k);else if("a"==n)r.replaceItem(b.parser.path.createSVGPathSegArcAbs(p,
u,g.r1,g.r2,g.angle,g.largeArcFlag,g.sweepFlag),k);else if("z"==n||"Z"==n)p=l,u=d;if("M"==n||"m"==n)l=p,d=u}a=[];r=b.parser.path.pathSegList;k=0;for(c=r.numberOfItems;k<c;++k)g=r.getItem(k),n=g.pathSegTypeAsLetter,p=[n],"M"==n||"L"==n||"T"==n?p.push(g.x,g.y):"H"==n?p.push(g.x):"V"==n?p.push(g.y):"C"==n?p.push(g.x1,g.y1,g.x2,g.y2,g.x,g.y):"S"==n?p.push(g.x2,g.y2,g.x,g.y):"Q"==n?p.push(g.x1,g.y1,g.x,g.y):"A"==n&&p.push(g.r1,g.r2,g.angle,g.largeArcFlag|0,g.sweepFlag|0,g.x,g.y),a.push(p);return a},bbox:function(){b.parser.path.setAttribute("d",
this.toString());return b.parser.path.getBBox()}});b.Number=b.invent({create:function(a,k){this.value=0;this.unit=k||"";if("number"===typeof a)this.value=isNaN(a)?0:isFinite(a)?a:0>a?-3.4E38:3.4E38;else if("string"===typeof a){if(k=a.match(b.regex.unit))this.value=parseFloat(k[1]),"%"==k[2]?this.value/=100:"s"==k[2]&&(this.value*=1E3),this.unit=k[2]}else a instanceof b.Number&&(this.value=a.valueOf(),this.unit=a.unit)},extend:{toString:function(){return("%"==this.unit?~~(1E8*this.value)/1E6:"s"==
this.unit?this.value/1E3:this.value)+this.unit},valueOf:function(){return this.value},plus:function(a){return new b.Number(this+new b.Number(a),this.unit)},minus:function(a){return this.plus(-new b.Number(a))},times:function(a){return new b.Number(this*new b.Number(a),this.unit)},divide:function(a){return new b.Number(this/new b.Number(a),this.unit)},to:function(a){var k=new b.Number(this);"string"===typeof a&&(k.unit=a);return k},morph:function(a){this.destination=new b.Number(a);return this},at:function(a){return this.destination?
(new b.Number(this.destination)).minus(this).times(a).plus(this):this}}});b.ViewBox=function(a){var k,c,l;c=k=1;var d=a.bbox(),f=(a.attr("viewBox")||"").match(/-?[\d\.]+/g),g=a,e=a;l=new b.Number(a.width());for(a=new b.Number(a.height());"%"==l.unit;)k*=l.value,l=new b.Number(g instanceof b.Doc?g.parent().offsetWidth:g.parent().width()),g=g.parent();for(;"%"==a.unit;)c*=a.value,a=new b.Number(e instanceof b.Doc?e.parent().offsetHeight:e.parent().height()),e=e.parent();this.x=d.x;this.y=d.y;this.width=
l*k;this.height=a*c;this.zoom=1;f&&(k=parseFloat(f[0]),c=parseFloat(f[1]),l=parseFloat(f[2]),a=parseFloat(f[3]),this.zoom=this.width/this.height>l/a?this.height/a:this.width/l,this.x=k,this.y=c,this.width=l,this.height=a)};b.extend(b.ViewBox,{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height}});b.Element=b.invent({create:function(a){this._stroke=b.defaults.attrs.stroke;if(this.node=a)this.type=a.nodeName,this.node.instance=this,this._stroke=a.getAttribute("stroke")||this._stroke},
extend:{x:function(a){null!=a&&(a=new b.Number(a),a.value/=this.transform("scaleX"));return this.attr("x",a)},y:function(a){null!=a&&(a=new b.Number(a),a.value/=this.transform("scaleY"));return this.attr("y",a)},cx:function(a){return null==a?this.x()+this.width()/2:this.x(a-this.width()/2)},cy:function(a){return null==a?this.y()+this.height()/2:this.y(a-this.height()/2)},move:function(a,b){return this.x(a).y(b)},center:function(a,b){return this.cx(a).cy(b)},width:function(a){return this.attr("width",
a)},height:function(a){return this.attr("height",a)},size:function(a,k){var c=e(this.bbox(),a,k);return this.width(new b.Number(c.width)).height(new b.Number(c.height))},clone:function(){var a=z(this.node.cloneNode(!0));this.after(a);return a},remove:function(){this.parent()&&this.parent().removeElement(this);return this},replace:function(a){this.after(a).remove();return a},addTo:function(a){return a.put(this)},putIn:function(a){return a.add(this)},id:function(a){return this.attr("id",a)},inside:function(a,
b){var c=this.bbox();return a>c.x&&b>c.y&&a<c.x+c.width&&b<c.y+c.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var a=this.attr("class");return null==a?[]:a.trim().split(/\s+/)},hasClass:function(a){return-1!=this.classes().indexOf(a)},addClass:function(a){if(!this.hasClass(a)){var b=this.classes();b.push(a);this.attr("class",
b.join(" "))}return this},removeClass:function(a){this.hasClass(a)&&this.attr("class",this.classes().filter(function(b){return b!=a}).join(" "));return this},toggleClass:function(a){return this.hasClass(a)?this.removeClass(a):this.addClass(a)},reference:function(a){return b.get(this.attr(a))},parent:function(a){if(this.node.parentNode){var k=b.adopt(this.node.parentNode);if(a)for(;!(k instanceof a)&&k.node.parentNode instanceof SVGElement;)k=b.adopt(k.node.parentNode);return k}},doc:function(a){return this instanceof
b.Doc?this:this.parent(b.Doc)},native:function(){return this.node},svg:function(a){var k=document.createElement("svg");if(a&&this instanceof b.Parent){k.innerHTML="<svg>"+a.replace(/\n/,"").replace(/<(\w+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";a=0;for(var c=k.firstChild.childNodes.length;a<c;a++)this.node.appendChild(k.firstChild.childNodes[a])}else return k.appendChild(a=document.createElement("svg")),a.appendChild(this.node.cloneNode(!0)),k.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");return this}}});
b.FX=b.invent({create:function(a){this.target=a},extend:{animate:function(a,k,c){var l,d,f,g=this.target,e=this;"object"==typeof a&&(c=a.delay,k=a.ease,a=a.duration);a="="==a?a:null==a?1E3:(new b.Number(a)).valueOf();k=k||"<>";e.at=function(a){var b;a=0>a?0:1<a?1:a;if(null==l){l=[];for(f in e.attrs)l.push(f);if(g.morphArray&&(e.destination.plot||-1<l.indexOf("points"))){var c=new g.morphArray(e.destination.plot||e.attrs.points||g.array());e.destination.size&&c.size(e.destination.size.width.to,e.destination.size.height.to);
b=c.bbox();e.destination.x?c.move(e.destination.x.to,b.y):e.destination.cx&&c.move(e.destination.cx.to-b.width/2,b.y);b=c.bbox();e.destination.y?c.move(b.x,e.destination.y.to):e.destination.cy&&c.move(b.x,e.destination.cy.to-b.height/2);e.destination={plot:g.array().morph(c)}}}if(null==d)for(f in d=[],e.styles)d.push(f);a="<>"==k?-Math.cos(a*Math.PI)/2+.5:">"==k?Math.sin(a*Math.PI/2):"<"==k?-Math.cos(a*Math.PI/2)+1:"-"==k?a:"function"==typeof k?k(a):a;e.destination.plot?g.plot(e.destination.plot.at(a)):
(e.destination.x?g.x(e.destination.x.at(a)):e.destination.cx&&g.cx(e.destination.cx.at(a)),e.destination.y?g.y(e.destination.y.at(a)):e.destination.cy&&g.cy(e.destination.cy.at(a)),e.destination.size&&g.size(e.destination.size.width.at(a),e.destination.size.height.at(a)));e.destination.viewbox&&g.viewbox(e.destination.viewbox.x.at(a),e.destination.viewbox.y.at(a),e.destination.viewbox.width.at(a),e.destination.viewbox.height.at(a));e.destination.leading&&g.leading(e.destination.leading.at(a));for(b=
l.length-1;0<=b;b--)g.attr(l[b],v(e.attrs[l[b]],a));for(b=d.length-1;0<=b;b--)g.style(d[b],v(e.styles[d[b]],a));e.situation.during&&e.situation.during.call(g,a,function(b,k){return v({from:b,to:k},a)})};"number"===typeof a&&(this.timeout=setTimeout(function(){var l=(new Date).getTime();e.situation.start=l;e.situation.play=!0;e.situation.finish=l+a;e.situation.duration=a;e.situation.ease=k;e.render=function(){if(!0===e.situation.play){var l=(new Date).getTime(),d=l>e.situation.finish?1:(l-e.situation.start)/
a;e.situation.reversing&&(d=-d+1);e.at(d);l>e.situation.finish?(e.destination.plot&&g.plot((new b.PointArray(e.destination.plot.destination)).settle()),!0===e.situation.loop||"number"==typeof e.situation.loop&&0<e.situation.loop?(e.situation.reverse&&(e.situation.reversing=!e.situation.reversing),"number"==typeof e.situation.loop&&(e.situation.reverse&&!e.situation.reversing||--e.situation.loop,e.situation.reverse||1!=e.situation.loop||--e.situation.loop),e.animate(a,k,c)):e.situation.after?e.situation.after.apply(g,
[e]):e.stop()):e.animationFrame=requestAnimationFrame(e.render)}else e.animationFrame=requestAnimationFrame(e.render)};e.render()},(new b.Number(c)).valueOf()));return this},bbox:function(){return this.target.bbox()},attr:function(a,k){if("object"==typeof a)for(var c in a)this.attr(c,a[c]);else c=this.target.attr(a),"transform"==a?(this.attrs[a]&&(k=this.attrs[a].destination.multiply(k)),this.attrs[a]=this.target.ctm().morph(k),this.param&&(k=this.target.transform("rotation"),this.attrs[a].param=
{from:this.target.param||{rotation:k,cx:this.param.cx,cy:this.param.cy},to:this.param})):this.attrs[a]=b.Color.isColor(k)?(new b.Color(c)).morph(k):b.regex.unit.test(k)?(new b.Number(c)).morph(k):{from:c,to:k};return this},style:function(a,b){if("object"==typeof a)for(var c in a)this.style(c,a[c]);else this.styles[a]={from:this.target.style(a),to:b};return this},x:function(a){this.destination.x=(new b.Number(this.target.x())).morph(a);return this},y:function(a){this.destination.y=(new b.Number(this.target.y())).morph(a);
return this},cx:function(a){this.destination.cx=(new b.Number(this.target.cx())).morph(a);return this},cy:function(a){this.destination.cy=(new b.Number(this.target.cy())).morph(a);return this},move:function(a,b){return this.x(a).y(b)},center:function(a,b){return this.cx(a).cy(b)},size:function(a,k){if(this.target instanceof b.Text)this.attr("font-size",a);else{var c=this.target.bbox();this.destination.size={width:(new b.Number(c.width)).morph(a),height:(new b.Number(c.height)).morph(k)}}return this},
plot:function(a){this.destination.plot=a;return this},leading:function(a){this.target.destination.leading&&(this.destination.leading=(new b.Number(this.target.destination.leading)).morph(a));return this},viewbox:function(a,k,c,l){if(this.target instanceof b.Container){var d=this.target.viewbox();this.destination.viewbox={x:(new b.Number(d.x)).morph(a),y:(new b.Number(d.y)).morph(k),width:(new b.Number(d.width)).morph(c),height:(new b.Number(d.height)).morph(l)}}return this},update:function(a){this.target instanceof
b.Stop&&(null!=a.opacity&&this.attr("stop-opacity",a.opacity),null!=a.color&&this.attr("stop-color",a.color),null!=a.offset&&this.attr("offset",new b.Number(a.offset)));return this},during:function(a){this.situation.during=a;return this},after:function(a){this.situation.after=a;return this},loop:function(a,b){this.situation.loop=this.situation.loops=a||!0;this.situation.reverse=!!b;return this},stop:function(a){!0===a?(this.animate(0),this.situation.after&&this.situation.after.apply(this.target,[this])):
(clearTimeout(this.timeout),cancelAnimationFrame(this.animationFrame),this.attrs={},this.styles={},this.situation={},this.destination={});return this},pause:function(){!0===this.situation.play&&(this.situation.play=!1,this.situation.pause=(new Date).getTime());return this},play:function(){if(!1===this.situation.play){var a=(new Date).getTime()-this.situation.pause;this.situation.finish+=a;this.situation.start+=a;this.situation.play=!0}return this}},parent:b.Element,construct:{animate:function(a,k,
c){return(this.fx||(this.fx=new b.FX(this))).stop().animate(a,k,c)},stop:function(a){this.fx&&this.fx.stop(a);return this},pause:function(){this.fx&&this.fx.pause();return this},play:function(){this.fx&&this.fx.play();return this}}});b.BBox=b.invent({create:function(a){if(a){var b;try{b=a.node.getBBox()}catch(c){b={x:a.node.clientLeft,y:a.node.clientTop,width:a.node.clientWidth,height:a.node.clientHeight}}this.x=b.x;this.y=b.y;this.width=b.width;this.height=b.height}n(this)},parent:b.Element,construct:{bbox:function(){return new b.BBox(this)}}});
b.TBox=b.invent({create:function(a){if(a){var b=a.ctm().extract();a=a.bbox();this.width=a.width*b.scaleX;this.height=a.height*b.scaleY;this.x=a.x+b.x;this.y=a.y+b.y}n(this)},parent:b.Element,construct:{tbox:function(){return new b.TBox(this)}}});b.RBox=b.invent({create:function(a){if(a){var b=a.doc().parent(),c=a.node.getBoundingClientRect(),l=1;this.x=c.left;this.y=c.top;this.x-=b.offsetLeft;for(this.y-=b.offsetTop;b=b.offsetParent;)this.x-=b.offsetLeft,this.y-=b.offsetTop;for(b=a;b.parent&&(b=b.parent());)b.viewbox&&
(l*=b.viewbox().zoom,this.x-=b.x()||0,this.y-=b.y()||0);this.width=c.width/=l;this.height=c.height/=l}n(this);this.x+=window.scrollX;this.y+=window.scrollY},parent:b.Element,construct:{rbox:function(){return new b.RBox(this)}}});[b.BBox,b.TBox,b.RBox].forEach(function(a){b.extend(a,{merge:function(b){var c=new a;c.x=Math.min(this.x,b.x);c.y=Math.min(this.y,b.y);c.width=Math.max(this.x+this.width,b.x+b.width)-c.x;c.height=Math.max(this.y+this.height,b.y+b.height)-c.y;return n(c)}})});b.Matrix=b.invent({create:function(a){var b,
c=p([1,0,0,1,0,0]);a=a&&a.node&&a.node.getCTM?a.node.getCTM():"string"===typeof a?r(a):6==arguments.length?p([].slice.call(arguments)):"object"===typeof a?a:c;for(b=l.length-1;0<=b;b--)this[l[b]]=a&&"number"===typeof a[l[b]]?a[l[b]]:c[l[b]]},extend:{extract:function(){var a=1*this.a+0*this.c+0,b=1*this.b+0*this.d+0,c=180/Math.PI*Math.atan2(0*this.b+1*this.d+0,0*this.a+1*this.c+0)-90;return{x:this.e,y:this.f,skewX:-c,skewY:180/Math.PI*Math.atan2(b,a),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*
this.c+this.d*this.d),rotation:c}},clone:function(){return new b.Matrix(this)},morph:function(a){this.destination=new b.Matrix(a);return this},at:function(a){if(!this.destination)return this;var k=new b.Matrix({a:this.a+(this.destination.a-this.a)*a,b:this.b+(this.destination.b-this.b)*a,c:this.c+(this.destination.c-this.c)*a,d:this.d+(this.destination.d-this.d)*a,e:this.e+(this.destination.e-this.e)*a,f:this.f+(this.destination.f-this.f)*a});if(this.param&&this.param.to){var c={rotation:this.param.from.rotation+
(this.param.to.rotation-this.param.from.rotation)*a,cx:this.param.from.cx,cy:this.param.from.cy},k=k.rotate((this.param.to.rotation-2*this.param.from.rotation)*a,c.cx,c.cy);k.param=c}return k},multiply:function(a){return new b.Matrix(this.native().multiply(x(a).native()))},inverse:function(){return new b.Matrix(this.native().inverse())},translate:function(a,k){return new b.Matrix(this.native().translate(a||0,k||0))},scale:function(a,k,c,l){if(1==arguments.length||3==arguments.length)k=a;3==arguments.length&&
(l=c,c=k);return this.around(c,l,new b.Matrix(a,0,0,k,0,0))},rotate:function(a,k,c){a=b.utils.radians(a);return this.around(k,c,new b.Matrix(Math.cos(a),Math.sin(a),-Math.sin(a),Math.cos(a),0,0))},flip:function(a,b){return"x"==a?this.scale(-1,1,b,0):this.scale(1,-1,0,b)},skew:function(a,b,c,l){return this.around(c,l,this.native().skewX(a||0).skewY(b||0))},around:function(a,k,c){return this.multiply(new b.Matrix(1,0,0,1,a||0,k||0)).multiply(c).multiply(new b.Matrix(1,0,0,1,-a||0,-k||0))},native:function(){for(var a=
b.parser.draw.node.createSVGMatrix(),k=l.length-1;0<=k;k--)a[l[k]]=this[l[k]];return a},toString:function(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}},parent:b.Element,construct:{ctm:function(){return new b.Matrix(this)}}});b.extend(b.Element,{attr:function(a,k,c){if(null==a){a={};k=this.node.attributes;for(c=k.length-1;0<=c;c--)a[k[c].nodeName]=b.regex.isNumber.test(k[c].nodeValue)?parseFloat(k[c].nodeValue):k[c].nodeValue;return a}if("object"==typeof a)for(k in a)this.attr(k,
a[k]);else if(null===k)this.node.removeAttribute(a);else{if(null==k)return k=this.node.getAttribute(a),null==k?b.defaults.attrs[a]:b.regex.isNumber.test(k)?parseFloat(k):k;"stroke-width"==a?this.attr("stroke",0<parseFloat(k)?this._stroke:null):"stroke"==a&&(this._stroke=k);if("fill"==a||"stroke"==a)b.regex.isImage.test(k)&&(k=this.doc().defs().image(k,0,0)),k instanceof b.Image&&(k=this.doc().defs().pattern(0,0,function(){this.add(k)}));"number"===typeof k?k=new b.Number(k):b.Color.isColor(k)?k=new b.Color(k):
Array.isArray(k)?k=new b.Array(k):k instanceof b.Matrix&&k.param&&(this.param=k.param);"leading"==a?this.leading&&this.leading(k):"string"===typeof c?this.node.setAttributeNS(c,a,k.toString()):this.node.setAttribute(a,k.toString());!this.rebuild||"font-size"!=a&&"x"!=a||this.rebuild(a,k)}return this}});b.extend(b.Element,b.FX,{transform:function(a,c){var l=this.target||this,d;if("object"!==typeof a)return d=l.ctm().extract(),"object"===typeof this.param&&(d.rotation=this.param.rotation,d.cx=this.param.cx,
d.cy=this.param.cy),"string"===typeof a?d[a]:d;d=this instanceof b.FX&&this.attrs.transform?this.attrs.transform:new b.Matrix(l);c=!!c||!!a.relative;if(null!=a.a)d=c?d.multiply(new b.Matrix(a)):new b.Matrix(a);else if(null!=a.rotation)q(a,l),c&&(a.rotation+=this.param&&null!=this.param.rotation?this.param.rotation:d.extract().rotation),this.param=a,this instanceof b.Element&&(d=c?l.attr("transform",d+" rotate("+[a.rotation,a.cx,a.cy].join()+")").ctm():d.rotate(a.rotation-d.extract().rotation,a.cx,
a.cy));else if(null!=a.scale||null!=a.scaleX||null!=a.scaleY)q(a,l),a.scaleX=null!=a.scale?a.scale:null!=a.scaleX?a.scaleX:1,a.scaleY=null!=a.scale?a.scale:null!=a.scaleY?a.scaleY:1,c||(l=d.extract(),a.scaleX=1*a.scaleX/l.scaleX,a.scaleY=1*a.scaleY/l.scaleY),d=d.scale(a.scaleX,a.scaleY,a.cx,a.cy);else if(null!=a.skewX||null!=a.skewY)q(a,l),a.skewX=null!=a.skewX?a.skewX:0,a.skewY=null!=a.skewY?a.skewY:0,c||(l=d.extract(),d=d.multiply((new b.Matrix).skew(l.skewX,l.skewY,a.cx,a.cy).inverse())),d=d.skew(a.skewX,
a.skewY,a.cx,a.cy);else if(a.flip)d=d.flip(a.flip,null==a.offset?l.bbox()["c"+a.flip]:a.offset);else if(null!=a.x||null!=a.y)c?d=d.translate(a.x,a.y):(null!=a.x&&(d.e=a.x),null!=a.y&&(d.f=a.y));return this.attr("transform",d)}});b.extend(b.Element,{untransform:function(){return this.attr("transform",null)}});b.extend(b.Element,{style:function(a,c){if(0==arguments.length)return this.node.style.cssText||"";if(2>arguments.length)if("object"==typeof a)for(c in a)this.style(c,a[c]);else if(b.regex.isCss.test(a)){a=
a.split(";");for(var l=0;l<a.length;l++)c=a[l].split(":"),this.style(c[0].replace(/\s+/g,""),c[1])}else return this.node.style[d(a)];else this.node.style[d(a)]=null===c||b.regex.isBlank.test(c)?"":c;return this}});b.Parent=b.invent({create:function(a){this.constructor.call(this,a)},inherit:b.Element,extend:{children:function(){return b.utils.map(b.utils.filterSVGElements(this.node.childNodes),function(a){return b.adopt(a)})},add:function(a,b){this.has(a)||(b=null==b?this.children().length:b,this.node.insertBefore(a.node,
this.node.childNodes[b]||null));return this},put:function(a,b){this.add(a,b);return a},has:function(a){return 0<=this.index(a)},index:function(a){return this.children().indexOf(a)},get:function(a){return this.children()[a]},first:function(){return this.children()[0]},last:function(){return this.children()[this.children().length-1]},each:function(a,c){var l,d,e=this.children();l=0;for(d=e.length;l<d;l++)e[l]instanceof b.Element&&a.apply(e[l],[l,e]),c&&e[l]instanceof b.Container&&e[l].each(a,c);return this},
removeElement:function(a){this.node.removeChild(a.node);return this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);delete this._defs;return this},defs:function(){return this.doc().defs()}}});b.Container=b.invent({create:function(a){this.constructor.call(this,a)},inherit:b.Parent,extend:{viewbox:function(a){if(0==arguments.length)return new b.ViewBox(this);a=1==arguments.length?[a.x,a.y,a.width,a.height]:[].slice.call(arguments);return this.attr("viewBox",
a)}}});"click dblclick mousedown mouseup mouseover mouseout mousemove touchstart touchmove touchleave touchend touchcancel".split(" ").forEach(function(a){b.Element.prototype[a]=function(b){var c=this;this.node["on"+a]="function"==typeof b?function(){return b.apply(c,arguments)}:null;return this}});b.listeners=[];b.handlerMap=[];b.on=function(a,c,l){var d=l.bind(a.instance||a),e=(b.handlerMap.indexOf(a)+1||b.handlerMap.push(a))-1,g=c.split(".")[0];c=c.split(".")[1]||"*";b.listeners[e]=b.listeners[e]||
{};b.listeners[e][g]=b.listeners[e][g]||{};b.listeners[e][g][c]=b.listeners[e][g][c]||{};b.listeners[e][g][c][l]=d;a.addEventListener(g,d,!1)};b.off=function(a,c,l){var d=b.handlerMap.indexOf(a),e=c&&c.split(".")[0],g=c&&c.split(".")[1];if(-1!=d)if(l)b.listeners[d][e]&&b.listeners[d][e][g||"*"]&&(a.removeEventListener(e,b.listeners[d][e][g||"*"][l],!1),delete b.listeners[d][e][g||"*"][l]);else if(g&&e){if(b.listeners[d][e]&&b.listeners[d][e][g]){for(l in b.listeners[d][e][g])b.off(a,[e,g].join("."),
l);delete b.listeners[d][e][g]}}else if(g)for(c in b.listeners[d])for(namespace in b.listeners[d][c])g===namespace&&b.off(a,[c,g].join("."));else if(e){if(b.listeners[d][e]){for(namespace in b.listeners[d][e])b.off(a,[e,namespace].join("."));delete b.listeners[d][e]}}else{for(c in b.listeners[d])b.off(a,c);delete b.listeners[d]}};b.extend(b.Element,{on:function(a,c){b.on(this.node,a,c);return this},off:function(a,c){b.off(this.node,a,c);return this},fire:function(a,b){a instanceof Event?this.node.dispatchEvent(a):
this.node.dispatchEvent(new C(a,{detail:b}));return this}});b.Defs=b.invent({create:"defs",inherit:b.Container});b.G=b.invent({create:"g",inherit:b.Container,extend:{x:function(a){return null==a?this.transform("x"):this.transform({x:-this.x()+a},!0)},y:function(a){return null==a?this.transform("y"):this.transform({y:-this.y()+a},!0)},cx:function(a){return null==a?this.tbox().cx:this.x(a-this.tbox().width/2)},cy:function(a){return null==a?this.tbox().cy:this.y(a-this.tbox().height/2)}},construct:{group:function(){return this.put(new b.G)}}});
b.extend(b.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var a=this.position()+1,c=this.parent();c.removeElement(this).add(this,a);c instanceof b.Doc&&c.node.appendChild(c.defs().node);return this},backward:function(){var a=this.position();0<a&&this.parent().removeElement(this).add(this,a-
1);return this},front:function(){var a=this.parent();a.node.appendChild(this.node);a instanceof b.Doc&&a.node.appendChild(a.defs().node);return this},back:function(){0<this.position()&&this.parent().removeElement(this).add(this,0);return this},before:function(a){a.remove();var b=this.position();this.parent().add(a,b);return this},after:function(a){a.remove();var b=this.position();this.parent().add(a,b+1);return this}});b.Mask=b.invent({create:function(){this.constructor.call(this,b.create("mask"));
this.targets=[]},inherit:b.Container,extend:{remove:function(){for(var a=this.targets.length-1;0<=a;a--)this.targets[a]&&this.targets[a].unmask();delete this.targets;this.parent().removeElement(this);return this}},construct:{mask:function(){return this.defs().put(new b.Mask)}}});b.extend(b.Element,{maskWith:function(a){this.masker=a instanceof b.Mask?a:this.parent().mask().add(a);this.masker.targets.push(this);return this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){delete this.masker;
return this.attr("mask",null)}});b.ClipPath=b.invent({create:function(){this.constructor.call(this,b.create("clipPath"));this.targets=[]},inherit:b.Container,extend:{remove:function(){for(var a=this.targets.length-1;0<=a;a--)this.targets[a]&&this.targets[a].unclip();delete this.targets;this.parent().removeElement(this);return this}},construct:{clip:function(){return this.defs().put(new b.ClipPath)}}});b.extend(b.Element,{clipWith:function(a){this.clipper=a instanceof b.ClipPath?a:this.parent().clip().add(a);
this.clipper.targets.push(this);return this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){delete this.clipper;return this.attr("clip-path",null)}});b.Gradient=b.invent({create:function(a){this.constructor.call(this,b.create(a+"Gradient"));this.type=a},inherit:b.Container,extend:{at:function(a,c,l){return this.put(new b.Stop).update(a,c,l)},update:function(a){this.clear();"function"==typeof a&&a.call(this,this);return this},fill:function(){return"url(#"+this.id()+")"},
toString:function(){return this.fill()}},construct:{gradient:function(a,b){return this.defs().gradient(a,b)}}});b.extend(b.Gradient,b.FX,{from:function(a,c){return"radial"==(this.target||this).type?this.attr({fx:new b.Number(a),fy:new b.Number(c)}):this.attr({x1:new b.Number(a),y1:new b.Number(c)})},to:function(a,c){return"radial"==(this.target||this).type?this.attr({cx:new b.Number(a),cy:new b.Number(c)}):this.attr({x2:new b.Number(a),y2:new b.Number(c)})}});b.extend(b.Defs,{gradient:function(a,
c){return this.put(new b.Gradient(a)).update(c)}});b.Stop=b.invent({create:"stop",inherit:b.Element,extend:{update:function(a,c,l){if("number"==typeof a||a instanceof b.Number)a={offset:a,color:c,opacity:l};null!=a.opacity&&this.attr("stop-opacity",a.opacity);null!=a.color&&this.attr("stop-color",a.color);null!=a.offset&&this.attr("offset",new b.Number(a.offset));return this}}});b.Pattern=b.invent({create:"pattern",inherit:b.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(a){this.clear();
"function"==typeof a&&a.call(this,this);return this},toString:function(){return this.fill()}},construct:{pattern:function(a,b,c){return this.defs().pattern(a,b,c)}}});b.extend(b.Defs,{pattern:function(a,c,l){return this.put(new b.Pattern).update(l).attr({x:0,y:0,width:a,height:c,patternUnits:"userSpaceOnUse"})}});b.Doc=b.invent({create:function(a){a&&(a="string"==typeof a?document.getElementById(a):a,"svg"==a.nodeName?this.constructor.call(this,a):(this.constructor.call(this,b.create("svg")),a.appendChild(this.node)),
this.namespace().size("100%","100%").defs())},inherit:b.Container,extend:{namespace:function(){return this.attr({xmlns:b.ns,version:"1.1"}).attr("xmlns:xlink",b.xlink,b.xmlns)},defs:function(){if(!this._defs){var a;(a=this.node.getElementsByTagName("defs")[0])?this._defs=b.adopt(a):this._defs=new b.Defs;this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return"#document"==this.node.parentNode.nodeName?null:this.node.parentNode},spof:function(a){(a=this.node.getScreenCTM())&&
this.style("left",-a.e%1+"px").style("top",-a.f%1+"px");return this},remove:function(){this.parent()&&this.parent().removeChild(this.node);return this}}});b.Shape=b.invent({create:function(a){this.constructor.call(this,a)},inherit:b.Element});b.Bare=b.invent({create:function(a,c){this.constructor.call(this,b.create(a));if(c)for(var l in c.prototype)"function"===typeof c.prototype[l]&&(this[l]=c.prototype[l])},inherit:b.Element,extend:{words:function(a){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);
this.node.appendChild(document.createTextNode(a));return this}}});b.extend(b.Parent,{element:function(a,c){return this.put(new b.Bare(a,c))},symbol:function(){return this.defs().element("symbol",b.Container)}});b.Use=b.invent({create:"use",inherit:b.Shape,extend:{element:function(a,c){return this.attr("href",(c||"")+"#"+a,b.xlink)}},construct:{use:function(a,c){return this.put(new b.Use).element(a,c)}}});b.Rect=b.invent({create:"rect",inherit:b.Shape,construct:{rect:function(a,c){return this.put((new b.Rect).size(a,
c))}}});b.Circle=b.invent({create:"circle",inherit:b.Shape,construct:{circle:function(a){return this.put(new b.Circle).rx((new b.Number(a)).divide(2)).move(0,0)}}});b.extend(b.Circle,b.FX,{rx:function(a){return this.attr("r",a)},ry:function(a){return this.rx(a)}});b.Ellipse=b.invent({create:"ellipse",inherit:b.Shape,construct:{ellipse:function(a,c){return this.put(new b.Ellipse).size(a,c).move(0,0)}}});b.extend(b.Ellipse,b.Rect,b.FX,{rx:function(a){return this.attr("rx",a)},ry:function(a){return this.attr("ry",
a)}});b.extend(b.Circle,b.Ellipse,{x:function(a){return null==a?this.cx()-this.rx():this.cx(a+this.rx())},y:function(a){return null==a?this.cy()-this.ry():this.cy(a+this.ry())},cx:function(a){return null==a?this.attr("cx"):this.attr("cx",a)},cy:function(a){return null==a?this.attr("cy"):this.attr("cy",a)},width:function(a){return null==a?2*this.rx():this.rx((new b.Number(a)).divide(2))},height:function(a){return null==a?2*this.ry():this.ry((new b.Number(a)).divide(2))},size:function(a,c){var l=e(this.bbox(),
a,c);return this.rx((new b.Number(l.width)).divide(2)).ry((new b.Number(l.height)).divide(2))}});b.Line=b.invent({create:"line",inherit:b.Shape,extend:{array:function(){return new b.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(a,c,l,d){a=4==arguments.length?{x1:a,y1:c,x2:l,y2:d}:(new b.PointArray(a)).toLine();return this.attr(a)},move:function(a,b){return this.attr(this.array().move(a,b).toLine())},size:function(a,b){var c=e(this.bbox(),a,b);return this.attr(this.array().size(c.width,
c.height).toLine())}},construct:{line:function(a,c,l,d){return this.put(new b.Line).plot(a,c,l,d)}}});b.Polyline=b.invent({create:"polyline",inherit:b.Shape,construct:{polyline:function(a){return this.put(new b.Polyline).plot(a)}}});b.Polygon=b.invent({create:"polygon",inherit:b.Shape,construct:{polygon:function(a){return this.put(new b.Polygon).plot(a)}}});b.extend(b.Polyline,b.Polygon,{array:function(){return this._array||(this._array=new b.PointArray(this.attr("points")))},plot:function(a){return this.attr("points",
this._array=new b.PointArray(a))},move:function(a,b){return this.attr("points",this.array().move(a,b))},size:function(a,b){var c=e(this.bbox(),a,b);return this.attr("points",this.array().size(c.width,c.height))}});b.extend(b.Line,b.Polyline,b.Polygon,{morphArray:b.PointArray,x:function(a){return null==a?this.bbox().x:this.move(a,this.bbox().y)},y:function(a){return null==a?this.bbox().y:this.move(this.bbox().x,a)},width:function(a){var b=this.bbox();return null==a?b.width:this.size(a,b.height)},height:function(a){var b=
this.bbox();return null==a?b.height:this.size(b.width,a)}});b.Path=b.invent({create:"path",inherit:b.Shape,extend:{morphArray:b.PathArray,array:function(){return this._array||(this._array=new b.PathArray(this.attr("d")))},plot:function(a){return this.attr("d",this._array=new b.PathArray(a))},move:function(a,b){return this.attr("d",this.array().move(a,b))},x:function(a){return null==a?this.bbox().x:this.move(a,this.bbox().y)},y:function(a){return null==a?this.bbox().y:this.move(this.bbox().x,a)},size:function(a,
b){var c=e(this.bbox(),a,b);return this.attr("d",this.array().size(c.width,c.height))},width:function(a){return null==a?this.bbox().width:this.size(a,this.bbox().height)},height:function(a){return null==a?this.bbox().height:this.size(this.bbox().width,a)}},construct:{path:function(a){return this.put(new b.Path).plot(a)}}});b.Image=b.invent({create:"image",inherit:b.Shape,extend:{load:function(a){if(!a)return this;var c=this,l=document.createElement("img");l.onload=function(){var d=c.parent(b.Pattern);
0==c.width()&&0==c.height()&&c.size(l.width,l.height);d&&0==d.width()&&0==d.height()&&d.size(c.width(),c.height());"function"===typeof c._loaded&&c._loaded.call(c,{width:l.width,height:l.height,ratio:l.width/l.height,url:a})};return this.attr("href",l.src=this.src=a,b.xlink)},loaded:function(a){this._loaded=a;return this}},construct:{image:function(a,c,l){return this.put(new b.Image).load(a).size(c||0,l||c||0)}}});b.Text=b.invent({create:function(){this.constructor.call(this,b.create("text"));this._leading=
new b.Number(1.3);this._rebuild=!0;this._build=!1;this.attr("font-family",b.defaults.attrs["font-family"])},inherit:b.Shape,extend:{x:function(a){if(null==a)return this.attr("x");this.textPath||this.lines().each(function(){this.newLined&&this.x(a)});return this.attr("x",a)},y:function(a){var b=this.attr("y"),c="number"===typeof b?b-this.bbox().y:0;return null==a?"number"===typeof b?b-c:b:this.attr("y","number"===typeof a?a+c:a)},cx:function(a){return null==a?this.bbox().cx:this.x(a-this.bbox().width/
2)},cy:function(a){return null==a?this.bbox().cy:this.y(a-this.bbox().height/2)},text:function(a){if("undefined"===typeof a)return this.content;this.clear().build(!0);if("function"===typeof a)a.call(this,this);else{a=(this.content=a).split("\n");for(var b=0,c=a.length;b<c;b++)this.tspan(a[b]).newLine()}return this.build(!1).rebuild()},size:function(a){return this.attr("font-size",a).rebuild()},leading:function(a){if(null==a)return this._leading;this._leading=new b.Number(a);return this.rebuild()},
lines:function(){var a=b.utils.map(b.utils.filterSVGElements(this.node.childNodes),function(a){return b.adopt(a)});return new b.Set(a)},rebuild:function(a){"boolean"==typeof a&&(this._rebuild=a);if(this._rebuild){var c=this;this.lines().each(function(){this.newLined&&(this.textPath||this.attr("x",c.attr("x")),this.attr("dy",c._leading*new b.Number(c.attr("font-size"))))});this.fire("rebuild")}return this},build:function(a){this._build=!!a;return this}},construct:{text:function(a){return this.put(new b.Text).text(a)},
plain:function(a){return this.put(new b.Text).plain(a)}}});b.Tspan=b.invent({create:"tspan",inherit:b.Shape,extend:{text:function(a){"function"===typeof a?a.call(this,this):this.plain(a);return this},dx:function(a){return this.attr("dx",a)},dy:function(a){return this.attr("dy",a)},newLine:function(){var a=this.parent(b.Text);this.newLined=!0;return this.dy(a._leading*a.attr("font-size")).attr("x",a.x())}}});b.extend(b.Text,b.Tspan,{plain:function(a){!1===this._build&&this.clear();this.node.appendChild(document.createTextNode(this.content=
a));return this},tspan:function(a){var c=(this.textPath()||this).node,l=new b.Tspan;!1===this._build&&this.clear();c.appendChild(l.node);return l.text(a)},clear:function(){for(var a=(this.textPath()||this).node;a.hasChildNodes();)a.removeChild(a.lastChild);this instanceof b.Text&&(this.content="");return this},length:function(){return this.node.getComputedTextLength()}});b.TextPath=b.invent({create:"textPath",inherit:b.Element,parent:b.Text,construct:{path:function(a){var c=new b.TextPath;for(a=this.doc().defs().path(a);this.node.hasChildNodes();)c.node.appendChild(this.node.firstChild);
this.node.appendChild(c.node);c.attr("href","#"+a,b.xlink);return this},plot:function(a){var b=this.track();b&&b.plot(a);return this},track:function(){var a=this.textPath();if(a)return a.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return b.adopt(this.node.firstChild)}}});b.Nested=b.invent({create:function(){this.constructor.call(this,b.create("svg"));this.style("overflow","visible")},inherit:b.Container,construct:{nested:function(){return this.put(new b.Nested)}}});
b.A=b.invent({create:"a",inherit:b.Container,extend:{to:function(a){return this.attr("href",a,b.xlink)},show:function(a){return this.attr("show",a,b.xlink)},target:function(a){return this.attr("target",a)}},construct:{link:function(a){return this.put(new b.A).to(a)}}});b.extend(b.Element,{linkTo:function(a){var c=new b.A;"function"==typeof a?a.call(c,c):c.to(a);return this.parent().put(c).put(this)}});b.Marker=b.invent({create:"marker",inherit:b.Container,extend:{width:function(a){return this.attr("markerWidth",
a)},height:function(a){return this.attr("markerHeight",a)},ref:function(a,b){return this.attr("refX",a).attr("refY",b)},update:function(a){this.clear();"function"==typeof a&&a.call(this,this);return this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(a,b,c){return this.defs().marker(a,b,c)}}});b.extend(b.Defs,{marker:function(a,c,l){return this.put(new b.Marker).size(a,c).ref(a/2,c/2).viewbox(0,0,a,c).attr("orient","auto").update(l)}});b.extend(b.Line,b.Polyline,b.Polygon,
b.Path,{marker:function(a,c,l,d){var e=["marker"];"all"!=a&&e.push(a);e=e.join("-");a=c instanceof b.Marker?c:this.doc().marker(c,l,d);return this.attr(e,a)}});var y={stroke:"color width opacity linecap linejoin miterlimit dasharray dashoffset".split(" "),fill:["color","opacity","rule"],prefix:function(a,b){return"color"==b?a:a+"-"+b}};["fill","stroke"].forEach(function(a){var c,l={};l[a]=function(l){if("string"==typeof l||b.Color.isRgb(l)||l&&"function"===typeof l.fill)this.attr(a,l);else for(c=
y[a].length-1;0<=c;c--)null!=l[y[a][c]]&&this.attr(y.prefix(a,y[a][c]),l[y[a][c]]);return this};b.extend(b.Element,b.FX,l)});b.extend(b.Element,b.FX,{rotate:function(a,b,c){return this.transform({rotation:a,cx:b,cy:c})},skew:function(a,b,c,l){return this.transform({skewX:a,skewY:b,cx:c,cy:l})},scale:function(a,b,c,l){return 1==arguments.length||3==arguments.length?this.transform({scale:a,cx:b,cy:c}):this.transform({scaleX:a,scaleY:b,cx:c,cy:l})},translate:function(a,b){return this.transform({x:a,
y:b})},flip:function(a,b){return this.transform({flip:a,offset:b})},matrix:function(a){return this.attr("transform",new b.Matrix(a))},opacity:function(a){return this.attr("opacity",a)},dx:function(a){return this.x((this.target||this).x()+a)},dy:function(a){return this.y((this.target||this).y()+a)},dmove:function(a,b){return this.dx(a).dy(b)}});b.extend(b.Rect,b.Ellipse,b.Circle,b.Gradient,b.FX,{radius:function(a,c){return"radial"==(this.target||this).type?this.attr({r:new b.Number(a)}):this.rx(a).ry(null==
c?a:c)}});b.extend(b.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(a){return this.node.getPointAtLength(a)}});b.extend(b.Parent,b.Text,b.FX,{font:function(a){for(var b in a)"leading"==b?this.leading(a[b]):"anchor"==b?this.attr("text-anchor",a[b]):"size"==b||"family"==b||"weight"==b||"stretch"==b||"variant"==b||"style"==b?this.attr("font-"+b,a[b]):this.attr(b,a[b]);return this}});b.Set=b.invent({create:function(a){Array.isArray(a)?this.members=a:this.clear()},extend:{add:function(){var a,
b,c=[].slice.call(arguments);a=0;for(b=c.length;a<b;a++)this.members.push(c[a]);return this},remove:function(a){a=this.index(a);-1<a&&this.members.splice(a,1);return this},each:function(a){for(var b=0,c=this.members.length;b<c;b++)a.apply(this.members[b],[b,this.members]);return this},clear:function(){this.members=[];return this},length:function(){return this.members.length},has:function(a){return 0<=this.index(a)},index:function(a){return this.members.indexOf(a)},get:function(a){return this.members[a]},
first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){var a=new b.BBox;if(0==this.members.length)return a;var c=this.members[0].rbox();a.x=c.x;a.y=c.y;a.width=c.width;a.height=c.height;this.each(function(){a=a.merge(this.rbox())});return a}},construct:{set:function(a){return new b.Set(a)}}});b.FX.Set=b.invent({create:function(a){this.set=a}});b.Set.inherit=function(){var a,c=[];for(a in b.Shape.prototype)"function"==
typeof b.Shape.prototype[a]&&"function"!=typeof b.Set.prototype[a]&&c.push(a);c.forEach(function(a){b.Set.prototype[a]=function(){for(var c=0,l=this.members.length;c<l;c++)this.members[c]&&"function"==typeof this.members[c][a]&&this.members[c][a].apply(this.members[c],arguments);return"animate"==a?this.fx||(this.fx=new b.FX.Set(this)):this}});c=[];for(a in b.FX.prototype)"function"==typeof b.FX.prototype[a]&&"function"!=typeof b.FX.Set.prototype[a]&&c.push(a);c.forEach(function(a){b.FX.Set.prototype[a]=
function(){for(var b=0,c=this.set.members.length;b<c;b++)this.set.members[b].fx[a].apply(this.set.members[b].fx,arguments);return this}})};b.extend(b.Element,{data:function(a,b,c){if("object"==typeof a)for(b in a)this.data(b,a[b]);else if(2>arguments.length)try{return JSON.parse(this.attr("data-"+a))}catch(l){return this.attr("data-"+a)}else this.attr("data-"+a,null===b?null:!0===c||"string"===typeof b||"number"===typeof b?b:JSON.stringify(b));return this}});b.extend(b.Element,{remember:function(a,
b){if("object"==typeof arguments[0])for(b in a)this.remember(b,a[b]);else{if(1==arguments.length)return this.memory()[a];this.memory()[a]=b}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var a=arguments.length-1;0<=a;a--)delete this.memory()[arguments[a]];return this},memory:function(){return this._memory||(this._memory={})}});b.get=function(a){if(a=document.getElementById(A(a)||a))return b.adopt(a)};b.select=function(a,c){return new b.Set(b.utils.map((c||document).querySelectorAll(a),
function(a){return b.adopt(a)}))};b.extend(b.Parent,{select:function(a){return b.select(a,this.node)}});var l="abcdef".split("");if("function"!==typeof C){var C=function(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail);return c};C.prototype=window.Event.prototype;window.CustomEvent=C}(function(a){for(var b=0,c=["moz","webkit"],l=0;l<c.length&&!window.requestAnimationFrame;++l)a.requestAnimationFrame=a[c[l]+
"RequestAnimationFrame"],a.cancelAnimationFrame=a[c[l]+"CancelAnimationFrame"]||a[c[l]+"CancelRequestAnimationFrame"];a.requestAnimationFrame=a.requestAnimationFrame||function(c){var l=(new Date).getTime(),d=Math.max(0,16-(l-b)),e=a.setTimeout(function(){c(l+d)},d);b=l+d;return e};a.cancelAnimationFrame=a.cancelAnimationFrame||a.clearTimeout})(window);return b});
(function(){define("path",[],function(){var m;m=function(h){var f,d,c,g,u,e,p,x;d=h||[];e=function(c,d){var e;e=c.slice(0,c.length);e.push(d);return e};f=function(c,d){return c[0]===d[0]&&c[1]===d[1]};x=function(c,d){var e;for(e=c.length;"0"===c.charAt(e-1);)--e;"."===c.charAt(e-1)&&--e;return c.substr(0,e)};p=function(c,d){var e;e=c.toFixed(d);return x(e)};u=function(c){var d,e;d=c.command;e=c.params;var g,f,n;n=[];g=0;for(f=e.length;g<f;g++)c=e[g],n.push(p(c,6));return d+" "+n.join(" ")};g=function(c,
d){var e,g,f,n;e=c.command;g=c.params;f=d[0];n=d[1];switch(e){case "M":return[g[0],g[1]];case "L":return[g[0],g[1]];case "H":return[g[0],n];case "V":return[f,g[0]];case "Z":return null;case "C":return[g[4],g[5]];case "S":return[g[2],g[3]];case "Q":return[g[2],g[3]];case "T":return[g[0],g[1]];case "A":return[g[5],g[6]]}};h=function(c,d){return function(e){var g;g="object"===typeof e?c.map(function(c){return e[c]}):arguments;return d.apply(null,g)}};c=function(c){return m(e(d,c))};return{moveto:h(["x",
"y"],function(d,e){return c({command:"M",params:[d,e]})}),lineto:h(["x","y"],function(d,e){return c({command:"L",params:[d,e]})}),hlineto:h(["x"],function(d){return c({command:"H",params:[d]})}),vlineto:h(["y"],function(d){return c({command:"V",params:[d]})}),closepath:function(){return c({command:"Z",params:[]})},curveto:h("x1 y1 x2 y2 x y".split(" "),function(d,e,g,f,h,n){return c({command:"C",params:[d,e,g,f,h,n]})}),smoothcurveto:h(["x2","y2","x","y"],function(d,e,g,f){return c({command:"S",params:[d,
e,g,f]})}),qcurveto:h(["x1","y1","x","y"],function(d,e,g,f){return c({command:"Q",params:[d,e,g,f]})}),smoothqcurveto:h(["x","y"],function(d,e){return c({command:"T",params:[d,e]})}),arc:h("rx ry xrot large_arc_flag sweep_flag x y".split(" "),function(d,e,g,f,h,n,p){return c({command:"A",params:[d,e,g,f,h,n,p]})}),print:function(){return d.map(u).join(" ")},points:function(){var c,e,f,h,p,n;n=[];p=[0,0];c=function(){var c;if(p=c=g(f,p))return n.push(c)};e=0;for(h=d.length;e<h;e++)f=d[e],c();return n},
instructions:function(){return d.slice(0,d.length)},connect:function(c){var d,e;e=this.points().slice(-1)[0];d=c.points()[0];c=c.instructions().slice(1);f(e,d)||c.unshift({command:"L",params:d});return m(this.instructions().concat(c))}}};return function(){return m()}})}).call(this);
define("geometry",[],function(){return{circle:{tenth:.2*Math.PI,eighth:.25*Math.PI,quarter:.5*Math.PI,half:Math.PI,whole:2*Math.PI,getPointOnCircumference:function(m,h,f,d){return{x:m+f*Math.sin(d),y:h+-f*Math.cos(d)}},getAngle:function(m,h,f){f="undefined"===typeof f?this.whole:f;return f/h*m}}}});
define("circle-segment",["svg-js","path","geometry"],function(m,h,f){m.CircleSegment=m.invent({create:"path",inherit:m.Path,construct:{circleSegment:function(d,c,g,u,e){var p=f.circle.getPointOnCircumference(d,c,g,u),x=f.circle.getPointOnCircumference(d,c,g,e);u=e-u>Math.PI?1:0;d=h().moveto(d,c).lineto(p.x,p.y).arc(g,g,0,u,1,x.x,x.y).closepath().print();return this.put(new m.CircleSegment).attr({d:d})}}});return{}});
define("configuration-builder",[],function(){return function(m){var h={};m.forEach(function(f){for(var d in f)f.hasOwnProperty(d)&&(h[d]=f[d])});return h}});
define("float",[],function(){return{left:function(){var m=0,h=0,f=0,d=this.xPadding,c=this.yPadding,g=this.flowWidth;this.children().forEach(function(u,e){var p=u.bbox();p.height+h>f&&(f=p.height+h);m+p.width>g&&(m=0,h=f+c);u.move(m,h);m+=p.width+d})},right:function(){var m=this.flowWidth,h=0,f=0,d=this.xPadding,c=this.yPadding,g=this.flowWidth;this.children().forEach(function(u,e){var p=u.bbox();p.height+h>f&&(f=p.height+h);0>m-p.width&&(m=g,h=f+c);m-=p.width;u.move(m,h);m-=d})}}});
define("grid",[],function(){function m(h){var f={height:0,width:0};h.forEach(function(d){d=d.bbox();d.width>f.width&&(f.width=d.width);d.height>f.height&&(f.height=d.height)});return f}return{left:function(){var h=m(this.children()),f=Math.floor((this.flowWidth+this.xPadding)/(h.width+this.xPadding));1>f&&(f=1);var d=this.xPadding,c=this.yPadding;this.children().forEach(function(g,u){g.move(u%f*(h.width+d),Math.floor(u/f)*(h.height+c))})},right:function(){var h=m(this.children()),f=Math.floor((this.flowWidth+
this.xPadding)/(h.width+this.xPadding));1>f&&(f=1);var d=this.xPadding,c=this.yPadding,g=this.flowWidth;this.children().forEach(function(u,e){var p=Math.floor(e/f),m=g-e%f*(d+h.width)-u.bbox().width;u.move(m,p*(h.height+c))})}}});
define("center",[],function(){function m(h){var f=[];h.forEach(function(d){f.push(d.bbox().width)});return f.reduce(function(d,c){return d+c})}return function(){var h=m(this.children())+this.xPadding*(this.children().length-1),f=this.flowWidth/2-h/2,d=this.xPadding;this.children().forEach(function(c){c.move(f,0);f+=c.bbox().width+d})}});
define("flow",["svg-js","float","grid","center"],function(m,h,f,d){m.Flow=m.invent({create:"g",inherit:m.G,extend:{setWidth:function(c){this.flowWidth=c;return this},setPadding:function(c,d){this.xPadding=c;this.yPadding=d;return this},floatLeft:h.left,floatRight:h.right,gridLeft:f.left,gridRight:f.right,center:d},construct:{flow:function(c,d,f){return this.put(new m.Flow).setWidth(c).setPadding(d,f)}}})});
define("key",["flow","float","grid","svg-js"],function(m,h,f,d){return function(c,d,f,e,h,m){var q={INDICATOR_SIZE:13,TITLE_PADDING_LEFT:7,KEY_ITEM_PADDING_LEFT:10,PADDING_TOP:20,PADDING_RIGHT:20,PADDING_BOTTOM:20,PADDING_LEFT:20},r=c.group().addClass("fm-key");r.configuration=q;var v=c.line(0,0,d,0).addClass("fm-key-top-border"),w,z=!1;r.backgroundColorClass="fm-datum-color-neutral";r.setValues=function(f,h){r.keyItems&&(z=!0,r.keyItems.clear(),r.keyItems=c.flow(d-q.PADDING_RIGHT-q.PADDING_LEFT,
q.KEY_ITEM_PADDING_LEFT,q.PADDING_BOTTOM).addClass("fm-key-items"));r.keyItems=c.flow(d-q.PADDING_RIGHT-q.PADDING_LEFT,q.KEY_ITEM_PADDING_LEFT,q.PADDING_BOTTOM).addClass("fm-key-items");f.forEach(function(b,l){var d=c.group(),a=c.text(b).move(q.INDICATOR_SIZE+q.TITLE_PADDING_LEFT,0).addClass("fm-key-value-title"),g=c.rect(q.INDICATOR_SIZE,q.INDICATOR_SIZE).addClass("fm-key-value-indicator");m&&l==f.length-1?g.addClass("fm-datum-color-overflow"):h&&h[l]?g.attr({fill:h[l]}):g.addClass(e[l]);d.add(a);
d.add(g);r.keyItems.add(d)});r.keyItems.gridLeft();var b=r.keyItems.bbox().height+q.PADDING_TOP+q.PADDING_BOTTOM;z?r.background.attr("height",b):r.background=c.rect(d,b).addClass("fm-key-background "+r.backgroundColorClass);w=c.flow(d,100,100);w.add(r.keyItems);w.center();w.move(0,q.PADDING_TOP);r.add(r.background);r.add(v);r.add(w)};r.clearItems=function(){r.keyItems.clear()};r.setValues(f,h);return r}});
define("configuration",["circle-segment","configuration-builder","key"],function(m,h,f){return h([m,{ASPECT_RATIO:2/3,ASPECT_RATIO_BREAKPOINT:4/3,MAX_HEIGHT:600,MIN_RADIUS:100,DEBOUNCE_TIMEOUT:200,MIN_RADIANS:Math.PI/20,SPILLOVER_TOP:50,SPILLOVER_RIGHT:15,SPILLOVER_BOTTOM:50,SPILLOVER_LEFT:.15,PADDING_FOR_LABELS:70,OVERFLOW_SPREAD:6,OVERFLOW_INNER_RADIUS:1.2,OVERFLOW_OUTER_RADIUS:1.36,BRACKET_INNER_RADIUS_ADJUST:.03,BRACKET_MIDDLE_RADIUS_ADJUST:.1,BRACKET_OUTER_RADIUS_ADJUST:.15,TOOLTIP_DISTANCE_FROM_CIRCUMFERENCE:3,
KEY_TOP_MARGIN:30,KEY_LEFT_MARGIN:20}])});
define("dashed-bracket",["svg-js","path","geometry"],function(m,h,f){m.DashedBracket=m.invent({create:"path",inherit:m.Path,extend:{},construct:{dashedBracket:function(d,c,g,u,e,p,x){f.circle.getPointOnCircumference(d,c,g,p);f.circle.getPointOnCircumference(d,c,g,x);var q=f.circle.getPointOnCircumference(d,c,u,p),r=f.circle.getPointOnCircumference(d,c,u,x),v=f.circle.getPointOnCircumference(d,c,e,p);e=f.circle.getPointOnCircumference(d,c,e,x);var w=f.circle.getPointOnCircumference(d,c,u,x-(x-p)/2);
d=f.circle.getPointOnCircumference(d,c,g,x-(x-p)/2);u=h().moveto(v.x,v.y).lineto(q.x,q.y).arc(u,u,0,x-p>Math.PI?1:0,1,r.x,r.y).lineto(e.x,e.y).moveto(w.x,w.y).lineto(d.x,d.y).print();return this.put(new m.DashedBracket).attr({d:u}).addClass("fm-dashed-bracket")}}})});
define("doughnut-segment",["svg-js","path","geometry"],function(m,h,f){m.DoughnutSegment=m.invent({create:"path",inherit:m.Path,construct:{doughnutSegment:function(d,c,g,u,e,p){var x=f.circle.getPointOnCircumference(d,c,g,e),q=f.circle.getPointOnCircumference(d,c,g,p),r=f.circle.getPointOnCircumference(d,c,u,p);d=f.circle.getPointOnCircumference(d,c,u,e);e=p-e>Math.PI?1:0;g=h().moveto(x.x,x.y).arc(g,g,0,e,1,q.x,q.y).lineto(r.x,r.y).arc(u,u,0,e,0,d.x,d.y).closepath().print();return this.put(new m.DoughnutSegment).attr({d:g})}}});
return{}});
define("number",[],function(){return{roundToOrder:function(m,h,f){function d(c,g){var h=Math.abs(c);h>=Math.pow(10,f)?(c=d(c/10,g),c*=10):h<Math.pow(10,f-1)?(c*=10,c=d(c,g),c/=10):(h=Math.round(c/g)*g,0===h&&(f++,h=d(c,g)),c=h);return parseFloat(c.toPrecision(f+1))}m=parseFloat(m);if(0==m)return 0;f||(f=2);return 1===h?parseFloat(m.toPrecision(f)):d(m,h)},renderValue:function(m){function h(c){if(0==c)return 0;if(1<=c&&1E3>c)return c;if(1>c)return d-=3,h(1E3*c);if(1E3<=c)return d+=3,h(c/1E3)}if(0===
m)return"0";if(!m)return"";var f=1;0>m&&(f=-1,m*=-1);m=this.roundToOrder(m,1,3);var d=0,c=new String(f*h(m));return 3==d?c+"k":6==d?c+"m":9==d?c+"bn":12==d?c+" trillion":new String(f*m)},getDataTotal:function(m){for(var h=0,f=0;f<m.length;f++)h+=m[f].value;return h},getAngle:function(m,h,f){f="undefined"===typeof f?Circle.whole:f;return f/h*m},getFactor:function(m){for(var h=m-1;1<h;h--){var f=m/h;if(parseInt(f)==f)return h}return m}}});
define("scale",[],function(){function m(d,c,g){var f=0>c*d,e;e=(c-d)/(g-1);var h=Math.floor(Math.log(e)/Math.LN10),h=Math.pow(10,h);e=Math.ceil(e/h)*h;if(f){g=[];for(f=0;f<c;f+=e)g.push(f);g.push(f);for(f=-e;f>d;f-=e)g.unshift(f);g.unshift(f);c=g}else for(f=e*g,f>c&&(d=0<=d&&d<e?0:d-(f-(c-d))/2),c=[];c.length<g+1;)c.push(d),d+=e;return c}var h=function(){this.range=this.domain=null};h.prototype.map=function(d){d=this.domain.getProportion(d);return this.range.getValue(d)};var f=0;return function(){return{withIncrements:function(d){f=
d;return this},project:function(d){var c=new h;c.domain=d;return{onto:function(d){c.range=d;return c}}},domains:{RealNumbers:function(d,c){0<f?(this.increments=m(d,c,f,!1),this.min=this.increments[0],this.max=this.increments[this.increments.length-1]):(this.min=d,this.max=c);this.getProportion=function(c){return(c-this.min)/(this.max-this.min)};return this}},ranges:{Angle:function(d,c){void 0===d&&(d=0);void 0===c&&(c=2*Math.PI);this.getValue=function(g){g=d+(c-d)*g;if(g>2*Math.PI)g=g%2*Math.PI;else if(0>
g)for(;0>g;)g+=2*Math.PI;return g};return this},Chromatic:{},Linear:function(d,c){if(void 0===d||void 0===c)throw"Both start and end points must be defined for linear scales.";this.getValue=function(g){return d+(c-d)*g};return this},Logarithmic:{},PointOnPath:{}}}}});
define("tooltip-background",["svg-js","path"],function(m,h){m.TooltipBackground=m.invent({create:"path",inherit:m.Path,extend:{setConfiguration:function(f){this.configuration=f;return this}},construct:{tooltipBackground:function(f,d,c){function g(){var b=[],e=d-2*n.BORDER_RADIUS;b.push({x:-n.ARROW_THICKNESS/2,y:n.ARROW_LENGTH});b.push({x:-e/2,y:n.ARROW_LENGTH});b.push({x:-d/2,y:n.ARROW_LENGTH});b.push({x:-d/2,y:n.ARROW_LENGTH+n.BORDER_RADIUS});b.push({x:-d/2,y:n.ARROW_LENGTH+n.BORDER_RADIUS+A});b.push({x:-d/
2,y:n.ARROW_LENGTH+c});b.push({x:-d/2+n.BORDER_RADIUS,y:n.ARROW_LENGTH+c});b.push({x:e/2,y:n.ARROW_LENGTH+c});b.push({x:d/2,y:n.ARROW_LENGTH+c});b.push({x:d/2,y:n.ARROW_LENGTH+n.BORDER_RADIUS+A});b.push({x:d/2,y:n.ARROW_LENGTH+n.BORDER_RADIUS});b.push({x:d/2,y:n.ARROW_LENGTH});b.push({x:e/2,y:n.ARROW_LENGTH});b.push({x:n.ARROW_THICKNESS/2,y:n.ARROW_LENGTH});return b}function u(){var b=[];b.push({x:n.ARROW_LENGTH,y:-.5*n.ARROW_THICKNESS});b.push({x:n.ARROW_LENGTH,y:-.5*A});b.push({x:n.ARROW_LENGTH,
y:-.5*c});b.push({x:n.ARROW_LENGTH+n.BORDER_RADIUS,y:-.5*c});b.push({x:n.ARROW_LENGTH+d-n.BORDER_RADIUS,y:-.5*c});b.push({x:n.ARROW_LENGTH+d,y:-.5*c});b.push({x:n.ARROW_LENGTH+d,y:-.5*A});b.push({x:n.ARROW_LENGTH+d,y:.5*A});b.push({x:n.ARROW_LENGTH+d,y:.5*c});b.push({x:n.ARROW_LENGTH+d-n.BORDER_RADIUS,y:.5*c});b.push({x:n.ARROW_LENGTH+n.BORDER_RADIUS,y:.5*c});b.push({x:n.ARROW_LENGTH,y:.5*c});b.push({x:n.ARROW_LENGTH,y:.5*A});b.push({x:n.ARROW_LENGTH,y:.5*n.ARROW_THICKNESS});return b}function e(){var b=
[],e=d-2*n.BORDER_RADIUS;b.push({x:-n.ARROW_THICKNESS/2,y:n.ARROW_LENGTH});b.push({x:-e/2,y:n.ARROW_LENGTH});b.push({x:-d/2,y:n.ARROW_LENGTH});b.push({x:-d/2,y:n.ARROW_LENGTH+n.BORDER_RADIUS});b.push({x:-d/2,y:n.ARROW_LENGTH+n.BORDER_RADIUS+A});b.push({x:-d/2,y:n.ARROW_LENGTH+c});b.push({x:-d/2+n.BORDER_RADIUS,y:n.ARROW_LENGTH+c});b.push({x:d/2,y:n.ARROW_LENGTH+c});b.push({x:d/2,y:n.ARROW_LENGTH});b.push({x:n.ARROW_THICKNESS/2,y:n.ARROW_LENGTH});return b}function p(){var b=[];b.push({x:n.ARROW_LENGTH,
y:-.5*n.ARROW_THICKNESS});b.push({x:n.ARROW_LENGTH,y:-.5*A});b.push({x:n.ARROW_LENGTH,y:-.5*c});b.push({x:n.ARROW_LENGTH+n.BORDER_RADIUS,y:-.5*c});b.push({x:n.ARROW_LENGTH+d,y:-.5*c});b.push({x:n.ARROW_LENGTH+d,y:.5*c});b.push({x:n.ARROW_LENGTH+n.BORDER_RADIUS,y:.5*c});b.push({x:n.ARROW_LENGTH,y:.5*c});b.push({x:n.ARROW_LENGTH,y:.5*A});b.push({x:n.ARROW_LENGTH,y:.5*n.ARROW_THICKNESS});return b}function x(){var b=[];b.push({x:-d+n.BORDER_RADIUS,y:0});b.push({x:-d,y:0});b.push({x:-d,y:n.BORDER_RADIUS});
b.push({x:-d,y:c-n.BORDER_RADIUS});b.push({x:-d,y:c});b.push({x:-d+n.BORDER_RADIUS,y:c});b.push({x:0,y:c});return b}function q(b){return h().moveto(0,0).lineto(b[0].x,b[0].y).lineto(b[1].x,b[1].y).smoothcurveto(b[2].x,b[2].y,b[3].x,b[3].y).lineto(b[4].x,b[4].y).smoothcurveto(b[5].x,b[5].y,b[6].x,b[6].y).lineto(b[7].x,b[7].y).smoothcurveto(b[8].x,b[8].y,b[9].x,b[9].y).lineto(b[10].x,b[10].y).smoothcurveto(b[11].x,b[11].y,b[12].x,b[12].y).lineto(b[13].x,b[13].y).closepath().print()}function r(b){return h().moveto(0,
0).lineto(b[0].x,b[0].y).lineto(b[1].x,b[1].y).smoothcurveto(b[2].x,b[2].y,b[3].x,b[3].y).lineto(b[4].x,b[4].y).smoothcurveto(b[5].x,b[5].y,b[6].x,b[6].y).lineto(b[7],b[7]).smoothcurveto(b[8].x,b[8].y,b[9].x,b[9].y).lineto(b[10].x,b[10].y).smoothcurveto(b[11].x,b[11].y,b[12].x,b[12].y).lineto(b[13].x,b[13].y).closepath().print()}function v(b){return h().moveto(0,0).lineto(b[0].x,b[0].y).smoothcurveto(b[1].x,b[1].y,b[2].x,b[2].y).lineto(b[3].x,b[3].y).smoothcurveto(b[4].x,b[4].y,b[5].x,b[5].y).lineto(b[6].x,
b[6].y).closepath().print()}function w(b){return h().moveto(0,0).lineto(b[0].x,b[0].y).lineto(b[1].x,b[1].y).smoothcurveto(b[2].x,b[2].y,b[3].x,b[3].y).lineto(b[4].x,b[4].y).smoothcurveto(b[5].x,b[5].y,b[6].x,b[6].y).lineto(b[7].x,b[7].y).lineto(b[8].x,b[8].y).lineto(b[9].x,b[9].y).lineto(0,0).print()}function z(b){return h().moveto(0,0).lineto(b[0].x,b[0].y).lineto(b[1].x,b[1].y).smoothcurveto(b[2].x,b[2].y,b[3].x,b[3].y).lineto(b[4].x,b[4].y).lineto(b[5].x,b[5].y).lineto(b[6].x,b[6].y).smoothcurveto(b[7].x,
b[7].y,b[8].x,b[8].y).lineto(b[9].x,b[9].y).closepath().print()}var n={ARROW_LENGTH:7,ARROW_THICKNESS:10,BORDER_RADIUS:5},A=c-2*n.BORDER_RADIUS,b,y=new m.TooltipBackground;if("singleTop"==f||"singleBottom"==f)b=g(),b=q(b);else if("singleLeft"==f||"singleRight"==f)b=u(),b=r(b);else if("leftSection"==f||"rightSection"==f)b=x(),b=v(b);else if("leftSectionWithTopArrow"==f||"rightSectionWithBottomArrow"==f||"rightSectionWithTopArrow"==f||"leftSectionWithBottomArrow"==f)b=e(),b=w(b);else if("leftSectionWithLeftArrow"==
f||"rightSectionWithRightArrow"==f)b=p(),b=z(b);y.attr({d:b}).addClass("fm-tooltip-background").setConfiguration(n);"singleRight"==f||"rightSection"==f||"rightSectionWithRightArrow"==f||"rightSectionWithTopArrow"==f?y.scale(-1,1):"singleBottom"==f||"leftSectionWithBottomArrow"==f?y.scale(1,-1):"rightSectionWithBottomArrow"==f&&y.scale(-1,-1);return y}}})});define("G.unshift",["svg-js"],function(m){m.extend(m.G,{unshift:function(h){this.node.insertBefore(h.node,this.children()[0].node)}})});
define("tooltip",["svg-js","tooltip-background","G.unshift"],function(m,h,f){return function(d,c,g,f){var e={PADDING:7,ICON_SPACING:9},h=d.group().addClass("fm-tooltip");h.configuration=e;h.mainTextObject=d.text(""+c);h.add(h.mainTextObject);c=h.mainTextObject.bbox();var m=c.width+2*e.PADDING,q=c.height+2*e.PADDING,r=0,v=0;f&&(q=f.bbox(),r=q.width,v=q.height,m=c.width+r+2*e.ICON_SPACING+e.PADDING,q=Math.max(v,c.height)+2*e.PADDING,h.add(f));var w;switch(g){case "left":w="singleLeft";break;case "right":w=
"singleRight";break;case "top":w="singleTop";break;case "bottom":w="singleBottom";break;default:w="singleLeft"}h.background=d.tooltipBackground(w,m,q);h.unshift(h.background);"left"==g?(d=h.background.configuration.ARROW_LENGTH,f?(d+=e.ICON_SPACING,f.move(d,-v/2),d+=r+e.ICON_SPACING):d+=e.PADDING,h.mainTextObject.move(d,-c.height/2)):"right"==g?(d=-h.background.configuration.ARROW_LENGTH,f?(d-=e.ICON_SPACING,f.move(d-r,-v/2),d-=r+e.ICON_SPACING):d-=e.PADDING,h.mainTextObject.attr({"text-anchor":"end"}),
h.mainTextObject.move(d,-c.height/2)):"top"==g?(d=-e.PADDING,f?(d+=e.ICON_SPACING,f.move(d,-v/2),d+=r+e.ICON_SPACING):d+=e.PADDING,h.mainTextObject.attr({"text-anchor":"middle"}),h.mainTextObject.move(d,h.background.configuration.ARROW_LENGTH+c.height/2)):"bottom"==g&&(d=-e.PADDING,f?(d+=e.ICON_SPACING,f.move(d,-v/2),d+=r+e.ICON_SPACING):d+=e.PADDING,h.mainTextObject.attr({"text-anchor":"middle"}),h.mainTextObject.move(d,-h.background.configuration.ARROW_LENGTH-c.height/2-q/2));return h}});
define("two-section-tooltip",["svg-js","tooltip-background","G.unshift"],function(m,h,f){return function(d,c,f,h){var e=d.group().addClass("fm-tooltip");f=f?f:"";e.mainTextObject=d.text(""+c);e.secondaryTextObject=d.text(""+f);e.background=d.group();e.add(e.mainTextObject);e.add(e.secondaryTextObject);e.unshift(e.background);c=e.mainTextObject.bbox();f=e.secondaryTextObject.bbox();var p=Math.max(c.height,f.height)+14,m=c.width+14,q=f.width+14,r=0;"left"==h?(e.background.leftSection=d.tooltipBackground("leftSectionWithLeftArrow",
m,p),e.background.rightSection=d.tooltipBackground("rightSection",q,p).move(-(q+m+e.background.leftSection.configuration.ARROW_LENGTH+1),-p/2),e.background.add(e.background.leftSection),e.background.add(e.background.rightSection),r=r+e.background.leftSection.configuration.ARROW_LENGTH+7,e.mainTextObject.move(r,-c.height/2),r=r+14+1+c.width,e.secondaryTextObject.move(r,-c.height/2)):"right"==h?(e.background.leftSection=d.tooltipBackground("leftSection",m,p),e.background.rightSection=d.tooltipBackground("rightSectionWithRightArrow",
q,p),e.background.leftSection.move(-e.background.leftSection.configuration.ARROW_LENGTH-q-m-1,-p/2),e.background.add(e.background.leftSection),e.background.add(e.background.rightSection),r=r-e.background.rightSection.configuration.ARROW_LENGTH-7,e.secondaryTextObject.attr({"text-anchor":"end"}),e.secondaryTextObject.move(r,-f.height/2),r=r-14-1-f.width,e.mainTextObject.attr({"text-anchor":"end"}),e.mainTextObject.move(r,-c.height/2)):"topLeft"==h?(e.background.leftSection=d.tooltipBackground("leftSectionWithTopArrow",
m,p),e.background.rightSection=d.tooltipBackground("rightSection",q,p).move(-(m/2+1+q),e.background.leftSection.configuration.ARROW_LENGTH),e.background.add(e.background.leftSection),e.background.add(e.background.rightSection),d=-Math.max(c.height,f.height)/2+e.background.leftSection.configuration.ARROW_LENGTH+p/2,e.mainTextObject.attr({"text-anchor":"middle"}),e.mainTextObject.move(r,d),e.secondaryTextObject.move(r+m/2+1+7,d)):"bottomLeft"==h?(e.background.leftSection=d.tooltipBackground("leftSectionWithBottomArrow",
m,p),e.background.rightSection=d.tooltipBackground("rightSection",q,p).move(-(m/2+1+q),-p-e.background.leftSection.configuration.ARROW_LENGTH),e.background.add(e.background.leftSection),e.background.add(e.background.rightSection),d=-Math.max(c.height,f.height)/2-e.background.leftSection.configuration.ARROW_LENGTH-p/2,e.mainTextObject.attr({"text-anchor":"middle"}),e.mainTextObject.move(r,d),r=r+m/2+f.width+7+1,e.secondaryTextObject.attr({"text-anchor":"end"}),e.secondaryTextObject.move(r,d)):"bottomRight"==
h?(e.background.leftSection=d.tooltipBackground("leftSection",m,p).move(-q/2-1-m,0),e.background.leftSection.translate(0,-e.background.leftSection.configuration.ARROW_LENGTH-p),e.background.rightSection=d.tooltipBackground("rightSectionWithBottomArrow",q,p),e.background.add(e.background.leftSection),e.background.add(e.background.rightSection),d=-Math.max(c.height,f.height)/2-e.background.leftSection.configuration.ARROW_LENGTH-p/2,e.secondaryTextObject.attr({"text-anchor":"middle"}),e.secondaryTextObject.move(r,
d),r=r-q/2-1-c.width-7,e.mainTextObject.move(r,d)):"topRight"==h&&(e.background.leftSection=d.tooltipBackground("leftSection",m,p).move(-q/2-1-m,0),e.background.leftSection.translate(0,e.background.leftSection.configuration.ARROW_LENGTH),e.background.rightSection=d.tooltipBackground("rightSectionWithTopArrow",q,p),e.background.add(e.background.leftSection),e.background.add(e.background.rightSection),d=-Math.max(c.height,f.height)/2+e.background.leftSection.configuration.ARROW_LENGTH+p/2,e.secondaryTextObject.attr({"text-anchor":"middle"}),
e.secondaryTextObject.move(r,d),r=r-q/2-1-c.width-7,e.mainTextObject.move(r,d));e.unshift(e.background);return e}});
define("utilities",["configuration","geometry","number","two-section-tooltip"],function(m,h,f,d){return{checkBBoxFitsInSegment:function(c,d,f,e,h,m){c=c.bbox();var q=!1;[{x:c.x,y:c.y},{x:c.x2,y:c.y},{x:c.x,y:c.y2},{x:c.x2,y:c.y2}].forEach(function(c){if(!q){var v=c.x-f;c=c.y-e;var w=Math.atan2(v,-c);0>w&&(w+=2*Math.PI);w>m||w<h?q=!0:Math.sqrt(Math.pow(v,2)+Math.pow(c,2))>d.radius&&(q=!0)}});return q},createSegmentLabel:function(c,d,f,e,h,m,q){d+=3*c.radius/5*Math.sin(e);f-=3*c.radius/5*Math.cos(e);
q.bbox();h=c.chart.text(h).move(d,f).addClass("fm-segment-label");q=h.bbox();h.move(d,f-q.height);m=c.chart.text(m).move(d,f).addClass("fm-segment-label");m.attr({y:q.y2-q.height});c=c.chart.group().attr({"pointer-events":"none"});c.add(h);c.add(m);return c},drawBackground:function(c,d,f,e,h){c=c.rect(d,f);c.move(e,h);c.attr({opacity:"0"});return c},drawTestRegions:function(c,d){c.rect(d.drawRegions.pieArea.width,d.drawRegions.pieArea.height).move(d.drawRegions.pieArea.x,d.drawRegions.pieArea.y);
c.rect(d.drawRegions.keyArea.width,d.drawRegions.keyArea.height).move(d.drawRegions.keyArea.x,d.drawRegions.keyArea.y).attr({fill:"blue"})},getApproximateKeyColumnWidth:function(c,d){var f=0;d.forEach(function(d){d=c.text(""+d.title).addClass("fm-key-value-title");var g=d.bbox().width;d.remove();g>f&&(f=g)});f+=70},getMaxTooltipDimensions:function(c,f){var h=c.group();f.forEach(function(e,f){h.add(d(c,0,0,e.title,e.renderedValue,"left"))});var e=h.bbox();h.remove();return{height:e.height,width:e.width}},
getOverflowItemCount:function(c,d){var f=0;c.forEach(function(c){h.circle.getAngle(c.value,d)<=m.MIN_RADIANS&&f++});return f},processOverflowData:function(c,d,u){var e=[],p=[];c.forEach(function(c,f){2>u||h.circle.getAngle(c.value,d)>m.MIN_RADIANS?e.push(c):p.push(c)});e.sort(function(c,d){return d.value-c.value});p.sort(function(c,d){return d.value-c.value});0<p.length&&(c=f.getDataTotal(p),e.push({title:"Other",value:c,overflow:p}));return e},setDefaultOptions:function(c){c.valuePrefix=c.valuePrefix?
c.valuePrefix:"";c.valueSuffix=c.valueSuffix?c.valueSuffix:"";c.showInnerLabels="true"===c.showInnerLabels?!0:!1;c.useOuterLabels="true"===c.useOuterLabels?!0:!1;c.hideKey="true"===c.hideKey?!0:!1;return c}}});define("G.move",["svg-js"],function(m){m.extend(m.G,{move:function(h,f){this.node.setAttribute("transform","translate("+h+" "+f+")")}})});
define("chart","circle-segment configuration dashed-bracket doughnut-segment geometry key number path scale svg-js tooltip two-section-tooltip utilities G.move".split(" "),function(m,h,f,d,c,g,u,e,p,x,q,r,v){function w(c,d,b){var e=d.chart.text(c.overflow?c.title:c.title+": "+c.value).addClass("fm-external-details");c.colorOverride?e.attr({fill:c.colorOverride.morph("#000").at(.45).toHex()}):e.addClass(c.colorClass);c=e.bbox();b=b.bbox();e.move(d.layout.drawRegions.pieArea.width/2-c.width/2,b.y2);
d.chart.externalDetails=e}function z(d,e){var b=e.layout.drawRegions.pieArea.x+e.layout.drawRegions.pieArea.width/2,f=e.layout.drawRegions.pieArea.y+e.layout.drawRegions.pieArea.height/2,l=(d.startAngle+d.endAngle)/2;d.endAngle<d.startAngle&&(l+=Math.PI);var b=c.circle.getPointOnCircumference(b,f,d.isOuterSegment?e.radius*h.OVERFLOW_OUTER_RADIUS+h.TOOLTIP_DISTANCE_FROM_CIRCUMFERENCE:e.radius+h.TOOLTIP_DISTANCE_FROM_CIRCUMFERENCE,l),g;d.overflow?g="bottom":l<c.circle.eighth||l>=7*c.circle.eighth?g=
l<=1*Math.PI/4?"bottomLeft":"bottomRight":l>=c.circle.eighth&&l<3*c.circle.eighth?g="left":l>=3*c.circle.eighth&&l<5*c.circle.eighth?g=l<=c.circle.half?"topLeft":"topRight":l>=5*c.circle.eighth&&l<7*c.circle.eighth&&(g="right");l="top"==g||"bottom"==g?q(e.chart,d.title,g):r(e.chart,d.title,d.value,g,d.colorOverride?d.colorOverride:null);d.overflow?l.background.addClass(d.colorClass):d.colorOverride?(l.background.leftSection.attr({fill:d.colorOverride}),l.background.rightSection.attr({fill:d.colorOverride.morph("#fff").at(.4).toHex()})):
(l.background.leftSection.addClass(d.colorClass),l.background.rightSection.addClass(d.colorClass+" tint-5"));l.move(b.x,b.y);e.chart.tooltip=l}return{applyMouseEventHandlers:function(c,d,b,e,f,g,a){function k(){f.each(function(){this.isCurrentlyActive=!1})}e.click(function(){b.transition("Neutral")});var h=function(){if(this.isCurrentlyActive||b.isInState("ShowOverflowAndDataInKey"))b.transition("Neutral");else{k();this.isCurrentlyActive=!0;var a={title:this.title,body:this.details,colorClass:this.colorClass,
colorOverride:this.colorOverride};this.isOuterSegment?b.transition("ShowingOverflowAndDataInKey",a):b.transition("ShowingDataInKey",a)}};e=function(){b.isInState("ShowingOverflow")?b.transition("Neutral"):b.transition("ShowingOverflow")};f.each(function(){!this.details&&!this.overflow||d.options.hideKey&&!this.overflow?this.addClass("click-disabled"):this.click(h);this.on("mouseover",function(){d.options.useOuterLabels?w(this,d,f):z(this,d,b)});this.on("mouseout",function(){d.options.useOuterLabels?
d.chart.externalDetails.remove():d.chart.tooltip.remove()})});c[c.length-1].hasOwnProperty("overflow")&&f.get(c.length-1).click(e);g.each(function(){!this.details&&!this.overflow||d.options.hideKey?this.addClass("click-disabled"):this.click(h);this.on("mouseover",function(){d.options.useOuterLabels?w(this,d,f):z(this,d,b)});this.on("mouseout",function(){d.options.useOuterLabels?d.chart.externalDetails.remove():d.chart.tooltip.remove()})})},drawDashedBracket:function(c){return c.chart.dashedBracket(c.layout.drawRegions.pieArea.x+
c.layout.drawRegions.pieArea.width/2,c.layout.drawRegions.pieArea.y+c.layout.drawRegions.pieArea.height/2,c.radius+c.radius*h.BRACKET_INNER_RADIUS_ADJUST,c.radius+c.radius*h.BRACKET_MIDDLE_RADIUS_ADJUST,c.radius+c.radius*h.BRACKET_OUTER_RADIUS_ADJUST,c.overflowValueScaleStart,c.overflowValueScaleEnd).addClass("fm-hidden")},drawInnerSegments:function(c,d){var b=d.chart.group(),e,f=0,g=d.layout.drawRegions.pieArea.x+d.layout.drawRegions.pieArea.width/2,a=d.layout.drawRegions.pieArea.y+d.layout.drawRegions.pieArea.height/
2,h=!0;c.forEach(function(c,m){e=f;f+=c.value;var n=d.valueScale.map(e),p=d.valueScale.map(f),q=d.chart.circleSegment(g,a,d.radius,n,p).addClass("fm-segment fm-inner-segment");q.title=c.title;q.value=c.renderedValue;q.details=c.details;q.startAngle=n;q.endAngle=p;var r=(n+p)/2,u;c.hasOwnProperty("overflow")?(u="fm-datum-color-overflow",q.overflow=!0):u=d.colorClasses[m];c.hasOwnProperty("colorOverride")?(q.colorOverride=new x.Color(c.colorOverride),q.attr("fill",c.colorOverride)):(q.addClass(u),q.colorClass=
u);d.options.showInnerLabels&&h&&(r=v.createSegmentLabel(d,g,a,r,c.title,c.renderedValue,q),v.checkBBoxFitsInSegment(r,d,g,a,n,p)?(r.remove(),h=!1):q.after(r));b.add(q)});return b},drawKey:function(c,d){var b=[],e=[];c.forEach(function(a,c){b.push(a.title);a.colorOverride&&(e[c]=a.colorOverride)});var f=g(d.chart,d.layout.drawRegions.keyArea.width,b,d.colorClasses,e,c[c.length-1].hasOwnProperty("overflow")),h=d.layout.drawRegions.keyArea.y;"landscape"==d.orientation&&(h+=d.layout.drawRegions.keyArea.height/
2-f.background.bbox().height/2);f.move(d.layout.drawRegions.keyArea.x,h);return f},drawOuterSegments:function(c,d){var b=c[c.length-1].overflow;u.getDataTotal(b);var e=d.chart.group(),f=0;b.forEach(function(b,a){var c=f;f+=b.value;var g=d.layout.drawRegions.pieArea.x+d.layout.drawRegions.pieArea.width/2,m=d.layout.drawRegions.pieArea.y+d.layout.drawRegions.pieArea.height/2,c=d.overflowValueScale.map(c),n=d.overflowValueScale.map(f),g=d.chart.doughnutSegment(g,m,d.radius*h.OVERFLOW_OUTER_RADIUS,d.radius*
h.OVERFLOW_INNER_RADIUS,c,n).addClass("fm-segment fm-outer-segment "+d.colorClasses[a]);g.title=b.title;g.value=b.renderedValue;g.details=b.details;g.startAngle=c;g.endAngle=n;g.colorClass=d.colorClasses[a];g.isOuterSegment=!0;e.add(g)});return e}}});
define("color",[],function(){return{colorWheelClasses:"fm-datum-color-wheel-a fm-datum-color-wheel-b fm-datum-color-wheel-c fm-datum-color-wheel-d fm-datum-color-wheel-e fm-datum-color-wheel-f fm-datum-color-wheel-g fm-datum-color-wheel-h fm-datum-color-wheel-i fm-datum-color-wheel-j fm-datum-color-wheel-k fm-datum-color-wheel-l".split(" "),overflowClass:"fm-datum-color-overflow",pad:function(m){return 2>m.length?"0"+m:m},contrasting:function(m){throw"Not yet implemented";},registerTint1Filter:function(){throw"Not yet implemented";
},registerTint2Filter:function(){throw"Not yet implemented";},lowContrast:function(m,h){h="undefined"===typeof h?0:h;if(m+h>this.colorWheelClasses.length){for(var f=[],d=0;d<m;d++)d<this.colorWheelClasses.length?f.push(this.colorWheelClasses[d]):f.push(this.colorWheelClasses[this.colorWheelClasses.length-d]);return f}return this.colorWheelClasses.splice(h,m)},monochromatic:function(m,h,f){throw"Not yet implemented";},harmonious:function(m){for(var h=Math.min(m,this.colorWheelClasses.length),f=[],
d=Math.floor(this.colorWheelClasses.length/2),c=function(){return 0==this.colorWheelClasses.length%4}.bind(this),g=function(c,e){c=(c+this.colorWheelClasses.length)%this.colorWheelClasses.length;var g=Math.floor(f.length/4)+1;f.length<h&&f.splice(1*g-1,0,c);f.length<h&&f.splice(2*g-1,0,(c+e+1)%this.colorWheelClasses.length);f.length<h&&f.splice(3*g-1,0,(c+d)%this.colorWheelClasses.length);f.length<h&&f.splice(4*g-1,0,(c+e+1+d)%this.colorWheelClasses.length)}.bind(this),u=function(c,d){c=(c+this.colorWheelClasses.length)%
this.colorWheelClasses.length;f.splice(d,0,c)}.bind(this),e=1,p=0;e<=d-2;e+=2,p--)g(p,e);g=f.length/4;f.length<h&&u(1,g);f.length<h&&u(1+d,3*g+1);c()&&(f.length<h&&u(1+d/2,2*g+1),f.length<h&&u(1+3*d/2,4*g+3));c=[];for(u=0;u<m;u++)c.push(this.colorWheelClasses[f[u%h]]);return c}}});
define("mapper",[],function(){var m=function(h){this.keys=h.querySelectorAll("thead > tr > th");this.rows=h.querySelectorAll("tbody > tr")};m.prototype.mapRows=function(h){if("function"!=typeof h)throw new TypeError;for(var f=[],d=0;d<this.keys.length;d++)f.push(this.keys[d].textContent);for(var d=[],c=0;c<this.rows.length;c++){for(var g=this.rows[c],m=[],e=g.classList,p=g.attributes,x=0;x<this.rows[c].children.length;x++)m.push(this.rows[c].children[x].textContent);(g=h(m,c,g,f,e,p))&&d.push(g)}return d};
m.prototype.forEachRows=function(h){if("function"!=typeof h)throw new TypeError;for(var f=[],d=0;d<this.keys.length;d++)f.push(this.keys[d].textContent);for(d=0;d<this.rows.length;d++){for(var c=this.rows[d],g=[],m=c.classList,e=c.attributes,p=0;p<this.rows[d].children.length;p++)g.push(this.rows[d].children[p].textContent);h(g,d,c,f,m,e)}};m.prototype.reduceRows=function(h,f){if("function"!=typeof h)throw new TypeError;"undefined"===typeof f&&(f=0);for(var d=[],c=0;c<this.keys.length;c++)d.push(this.keys[c].textContent);
for(c=0;c<this.rows.length;c++){for(var g=this.rows[c],m=[],e=g.classList,p=g.attributes,x=0;x<this.rows[c].children.length;x++)m.push(this.rows[c].children[x].textContent);f=h(f,m,c,g,d,e,p)}return f};return m});
define("state",[],function(){return{State:function(m,h,f){this.name=m;this.enter=h?h:function(){console.log("No enter() method has been defined for the state "+m)};this.leave=f?f:function(){console.log("No leave() method has been defined for the state "+m)}},StateMachine:function(){this.states=Array.prototype.slice.call(arguments);var m=function(h){var f=!1;this.states.some(function(d,c){if(d.name===h)return this.currentState=d,f=!0}.bind(this));if(f)return!0;throw""+h+" does not exist in this state machine.";
};this.start=function(h){h?m.call(this,h):this.currentState=this.states[0];this.currentState.enter()};this.transition=function(h,f){var d=this.currentState.name;this.currentState.leave(h);m.call(this,h);this.currentState.enter(f,d)};this.isInState=function(h){return this.currentState.name===h}}}});
define("text-area",["svg-js"],function(m){return function(h,f,d,c,g){var m=c.split(/\s+/),e=[],p="";m.forEach(function(c,d){var r=0!=d?p+" "+c:c,v=h.text(r).addClass(g),w=v.bbox().width;v.remove();w<f?(p=r,d==m.length-1&&e.push(p)):(e.push(p),d==m.length-1?e.push(c):p=c)});return h.text(function(c){e.forEach(function(e){var f=c.tspan(e).newLine().addClass(g),h=c.bbox().height;f.node.parentNode.removeChild(f.node);h<=d&&c.tspan(e).newLine().addClass(g)})}).addClass("fm-text-area")}});
define("states",["configuration","key","state","svg-js","text-area"],function(m,h,f,d,c){return function(d,h,e,m,x,q){function r(){var b=d.layout.drawRegions.keyArea.y,b="landscape"==d.orientation?b+(d.layout.drawRegions.keyArea.height/2-q.background.bbox().height/2):b+(d.top+d.height-q.bbox().height);q.move(d.layout.drawRegions.keyArea.x,b)}function v(b){var c=[],d=[];b.forEach(function(a,b){c.push(a.title);a.colorOverride&&(d[b]=a.colorOverride)});q.setValues(c,d);q.background.removeClass(q.backgroundColorClass);
q.background.attr({fill:"none"});q.background.removeClass("tint-9");q.background.addClass("fm-datum-color-neutral");q.backgroundColorClass="fm-datum-color-neutral";r()}function w(b){q.clearItems();q.titleText&&q.titleText.remove();q.bodyText&&q.bodyText.remove();if(b.title&&b.body){var e=q.bbox(),f=d.chart.text(b.title).addClass("fm-key-title"),a=f.bbox();f.move(e.width/2-a.width/2,10);q.add(f);q.titleText=f;e=c(d.chart,e.width-q.configuration.PADDING_LEFT-q.configuration.PADDING_RIGHT,d.layout.drawRegions.keyArea.height-
a.height-50,b.body,"fm-key-body");e.move(q.configuration.PADDING_LEFT,a.y2+10);q.background.height(e.bbox().height+a.height+40);r();q.add(e);q.bodyText=e}q.background.removeClass(q.backgroundColorClass);b.colorOverride?(q.background.attr({fill:b.colorOverride.morph("#fff").at(.65).toHex()}),f.attr({fill:b.colorOverride.morph("#000").at(.45).toHex()})):(q.background.addClass(b.colorClass),q.background.hasClass("tint-9")||q.background.addClass("tint-9"),q.backgroundColorClass=b.colorClass,b.title&&
b.body&&f.addClass(b.colorClass))}var z=new f.State("Neutral");z.enter=function(b,c){e.each(function(){this.isCurrentlyActive=!1});m.addClass("fm-hidden");x.addClass("fm-hidden");c&&"Neutral"!=c&&(q.titleText&&q.titleText.remove(),q.bodyText&&q.bodyText.remove(),v(h))};z.leave=function(){};var n=new f.State("ShowingDataInKey");n.enter=function(b,c){w(b)};n.leave=function(){};var A=new f.State("ShowingOverflow");A.enter=function(){e.each(function(){this.isCurrentlyActive=!1});m.removeClass("fm-hidden");
x.removeClass("fm-hidden");q.titleText&&q.titleText.remove();q.bodyText&&q.bodyText.remove();v(h[h.length-1].overflow)};A.leave=function(b){"ShowingOverflowAndDataInKey"!=b&&(m.addClass("fm-hidden"),x.addClass("fm-hidden"))};var b=new f.State("ShowingOverflowAndDataInKey");b.enter=function(b){w(b)};b.leave=function(b){"ShowingOverflowAndDataInKey"!=b&&(m.addClass("fm-hidden"),x.addClass("fm-hidden"))};return new f.StateMachine(z,n,A,b)}});
define("renderer","chart color configuration geometry number mapper scale states utilities".split(" "),function(m,h,f,d,c,g,u,e,p){return function(d,q,r,v,w,z,n){w=p.setDefaultOptions(w);var A=function(b,d,e,f,a,g){d=parseFloat(b[1].replace(/,([0-9]{3})/g,"$1"));b={title:b[0],details:b[2],value:d,renderedValue:w.valuePrefix+c.renderValue(d)+w.valueSuffix};if(g=g.getNamedItem("data-fm-color"))b.colorOverride=g.value;return b};(function(){var b=(new g(z)).mapRows(A),y=c.getDataTotal(b),l=p.getOverflowItemCount(b,
y),b=p.processOverflowData(b,y,l),C=p.getMaxTooltipDimensions(n,b),a=p.drawBackground(n,r,v,d,q).addClass("fm-whitespace"),k={chart:n,colorClasses:h.harmonious(b.length),height:v,layout:{drawRegions:{}},options:w,radius:k,top:q},k,t,B,D;r/v>=f.ASPECT_RATIO_BREAKPOINT?(k.orientation="landscape",t=.3*r,B=r-t,D=v,C.width>.25*r&&(w.basicMode=!0),k.layout.drawRegions.keyArea={x:d+r-t,y:q,width:t,height:v},k.layout.drawRegions.pieArea={x:d,y:q,width:B,height:v},t=m.drawKey(b,k)):(k.orientation="portrait",
B=t=r,k.layout.drawRegions.keyArea={x:d,y:0,width:t},t=m.drawKey(b,k),D=t.bbox().height,t.move(0,q+v-D),D=v-D-C.height,k.layout.drawRegions.pieArea={x:d,y:q,width:B,height:D},k.layout.drawRegions.keyArea.height=v-D);C.width>.2*r&&(w.hideKey=!0,w.useOuterLabels=!0);var E=0<l?f.OVERFLOW_OUTER_RADIUS:1;k.radius<f.MIN_RADIUS&&(w.hideKey=!0,w.useOuterLabels=!0);w.hideKey||(k.radius=Math.min(B/2-C.width,D/(2*E)),k.radius<f.MIN_RADIUS&&(w.hideKey=!0,w.useOuterLabels=!0));w.hideKey&&(t.remove(),C=v/(2*E),
w.useOuterLabels&&(B=n.text("thequickbrownfoxjumpedoverthelazydog").addClass("fm-externalDetails"),D=B.bbox().height,B.remove(),C-=D),k.radius=Math.min(r/2,C),k.layout.drawRegions.pieArea={x:d,y:q,width:r,height:v},0==l&&(k.radius*=.9));k.valueScale=u().project((new u).domains.RealNumbers(0,y)).onto((new u).ranges.Angle());b[b.length-1].hasOwnProperty("overflow")?(y=k.valueScale.map(b[b.length-1].value)/2,k.overflowValueScaleStart=-(Math.PI/f.OVERFLOW_SPREAD)-y,k.overflowValueScaleEnd=1*Math.PI/f.OVERFLOW_SPREAD-
y,y=c.getDataTotal(b[b.length-1].overflow),k.overflowValueScale=u().project((new u).domains.RealNumbers(0,y)).onto((new u).ranges.Angle(k.overflowValueScaleStart,k.overflowValueScaleEnd)),y=m.drawOuterSegments(b,k),C=m.drawDashedBracket(k)):(y=n.group(),C=n.group());l=m.drawInnerSegments(b,k);C=e(k,b,l,y,C,t);C.start("Neutral");m.applyMouseEventHandlers(b,k,C,a,l,y,t);z.classList.add("fm-hidden")})()}});
define("svg-builder",["renderer","svg-js","configuration"],function(m,h,f){function d(c){return c.split("-").map(function(c,d){return 0===d?c:c.charAt(0).toUpperCase()+c.substr(1)}).join("")}function c(c,d){var f=document.createElement("div");f.className="fm-powered-by-factmint";f.innerHTML='Powered by <a style="color: #527a92" href="http://factmint.com/charts">Factmint</a>';f.style.fontSize="8px";f.style.lineHeight="12px";f.style.width=d;f.style.textAlign="center";f.style.fontFamily="Lato, sans-serif";
c.parentNode.insertBefore(f,c.nextSibling)}if(window.addEventListener&&window.document.createEvent){var g=window.document.createEvent("Event");g.initEvent("resizefinished",!1,!1);var u=null;window.addEventListener("resize",function(){clearTimeout(u);return u=setTimeout(function(){window.dispatchEvent(g)},f.DEBOUNCE_TIMEOUT)},!1);return function(e){var g=function(g){var q=(g=e.getAttribute("data-fm-config"))&&window[g]?window[g]:{};[].filter.call(e.attributes,function(b){return"data-fm-config"===b.name?
!1:/^data-fm-/.test(b.name)}).forEach(function(b){var c=b.name.replace(/^data-fm-/,""),c=d(c);q[c]=b.value});var p=document.createElementNS("http://www.w3.org/2000/svg","svg");p.className.baseVal+="fm-unrendered-chart fm-chart";e.parentNode.insertBefore(p,e);var u=/([0-9]+)(px|%|rem|em|ex|ch|vw|vh|vmin|vmax|mm|cm|in|pt|pc)/;g=function(){var b={};q.width?q.width.replace(u,function(c,a,d){b.value=parseFloat(a);b.units=d}):(b.value=100,b.units="%");return b}();p.style.width=g.value+g.units;var n=function(){var b=
{};if(q.height)q.height.replace(u,function(a,c,d){b.value=parseFloat(c);b.units=d});else{var c=p.getBoundingClientRect().width/f.ASPECT_RATIO;b.value=Math.min(f.MAX_HEIGHT,c);b.units="px"}return b}();p.style.height=n.value+n.units;var x=p.getBoundingClientRect(),b=x.width,y=x.height;q.disableSpillover&&"false"!=q.disableSpillover||(x=(f.SPILLOVER_LEFT+f.SPILLOVER_RIGHT+b)/b,p.style.height=(f.SPILLOVER_TOP+f.SPILLOVER_BOTTOM+y)/y*n.value+n.units,p.style.width=g.value*x+g.units,p.style.margin="-"+f.SPILLOVER_TOP+
"px -"+f.SPILLOVER_RIGHT+"px -"+f.SPILLOVER_BOTTOM+"px -"+f.SPILLOVER_LEFT+"px");x=p.getBoundingClientRect();p.setAttribute("viewBox","0 0 "+(x.right-x.left)+" "+(x.bottom-x.top));n=h(p);p.removeAttribute("width");p.removeAttribute("height");m(q.disableSpillover?0:f.SPILLOVER_LEFT,q.disableSpillover?0:f.SPILLOVER_TOP,b,y,q,e,n);p.className.baseVal=p.className.baseVal.replace("fm-unrendered-chart","");c(p,g.value+g.units);return p},u=g(),q=window.innerWidth;window.addEventListener("resizefinished",
function(){var c=window.innerWidth;if(c!=q){u.parentNode.removeChild(u);var d=document.querySelector(".fm-powered-by-factmint");d.parentNode.removeChild(d);u=g();q=c}},!1)}}});
require.config({paths:{classList:"../../node_modules/classList/classList",path:"../../node_modules/paths-js/dist/amd/path","svg-js":"../../node_modules/svg.js/dist/svg.min",center:"../../../factmint-charts/etc/center","circle-segment":"../../../factmint-charts/inventions/circle-segment",color:"../../../factmint-charts/utilities/color","configuration-builder":"../../../factmint-charts/utilities/configuration-builder","dashed-bracket":"../../../factmint-charts/inventions/dashed-bracket","doughnut-segment":"../../../factmint-charts/inventions/doughnut-segment",
flow:"../../../factmint-charts/inventions/flow","float":"../../../factmint-charts/etc/float","G.unshift":"../../../factmint-charts/extensions/G.unshift","G.move":"../../../factmint-charts/extensions/G.move",geometry:"../../../factmint-charts/utilities/geometry",grid:"../../../factmint-charts/etc/grid",key:"../../../factmint-charts/components/key",number:"../../../factmint-charts/utilities/number",mapper:"../../../factmint-charts/utilities/mapper",scale:"../../../factmint-charts/utilities/scale",state:"../../../factmint-charts/utilities/state",
"text-area":"../../../factmint-charts/components/text-area",tooltip:"../../../factmint-charts/components/tooltip","tooltip-background":"../../../factmint-charts/inventions/tooltip-background","two-section-tooltip":"../../../factmint-charts/components/two-section-tooltip","two-section-tooltip-background":"../../../factmint-charts/inventions/two-section-tooltip-background"}});
require(["svg-builder"],function(m){var h=document.querySelectorAll("table.fm-pie");if(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect){var f=document.createElementNS("http://www.w3.org/2000/svg","svg");f.style.width="500px";document.body.appendChild(f);var d=f.getBoundingClientRect();f.parentNode.removeChild(f);if(500===d.width)for(f=0;f<h.length;f++){if(window.factmint&&window.factmint.previewVisualizations||!h[f].hasAttribute("data-fm-rendered")){h[f].setAttribute("data-fm-rendered",
"true");try{m(h[f])}catch(c){console.log("ERROR: chart rendering failed"),c instanceof Error?console.log(c.stack):console.log(c)}}}else console.log("Your browser does not correctly support getBoundingClientRect() for SVG elements: visualizations disabled")}else console.log("SVG not supported: visualizations disabled")});define("main",function(){});
