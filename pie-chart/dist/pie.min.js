/* Copyright Factmint Ltd, not for distribution without consent; version 3.0.3*/
/*
 almond 0.3.1 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/almond for details
*/
'use strict';var requirejs,require,define;
(function(l){function d(b,e){var a,m,t,c,g,f,p,u,h,d=e&&e.split("/"),q=z.map,n=q&&q["*"]||{};if(b&&"."===b.charAt(0))if(e){b=b.split("/");g=b.length-1;z.nodeIdCompat&&y.test(b[g])&&(b[g]=b[g].replace(y,""));b=d.slice(0,d.length-1).concat(b);for(g=0;g<b.length;g+=1)if(a=b[g],"."===a)b.splice(g,1),--g;else if(".."===a)if(1!==g||".."!==b[2]&&".."!==b[0])0<g&&(b.splice(g-1,2),g-=2);else break;b=b.join("/")}else 0===b.indexOf("./")&&(b=b.substring(2));if((d||n)&&q){a=b.split("/");for(g=a.length;0<g;--g){m=
a.slice(0,g).join("/");if(d)for(h=d.length;0<h;--h)if(t=q[d.slice(0,h).join("/")])if(t=t[m]){c=t;f=g;break}if(c)break;!p&&n&&n[m]&&(p=n[m],u=g)}!c&&p&&(c=p,f=u);c&&(a.splice(0,f,c),b=a.join("/"))}return b}function f(k,c){return function(){var a=b.call(arguments,0);"string"!==typeof a[0]&&1===a.length&&a.push(null);return x.apply(l,a.concat([k,c]))}}function c(b){return function(c){return d(c,b)}}function e(b){return function(c){w[b]=c}}function u(b){if(A.call(v,b)){var c=v[b];delete v[b];h[b]=!0;
n.apply(l,c)}if(!A.call(w,b)&&!A.call(h,b))throw Error("No "+b);return w[b]}function r(b){var c,a=b?b.indexOf("!"):-1;-1<a&&(c=b.substring(0,a),b=b.substring(a+1,b.length));return[c,b]}function g(b){return function(){return z&&z.config&&z.config[b]||{}}}var n,x,p,q,w={},v={},z={},h={},A=Object.prototype.hasOwnProperty,b=[].slice,y=/\.js$/;p=function(b,e){var a,m=r(b),t=m[0];b=m[1];t&&(t=d(t,e),a=u(t));t?b=a&&a.normalize?a.normalize(b,c(e)):d(b,e):(b=d(b,e),m=r(b),t=m[0],b=m[1],t&&(a=u(t)));return{f:t?
t+"!"+b:b,n:b,pr:t,p:a}};q={require:function(b){return f(b)},exports:function(b){var c=w[b];return"undefined"!==typeof c?c:w[b]={}},module:function(b){return{id:b,uri:"",exports:w[b],config:g(b)}}};n=function(b,c,a,m){var t,B,g,d,n=[];B=typeof a;var r;m=m||b;if("undefined"===B||"function"===B){c=!c.length&&a.length?["require","exports","module"]:c;for(d=0;d<c.length;d+=1)if(g=p(c[d],m),B=g.f,"require"===B)n[d]=q.require(b);else if("exports"===B)n[d]=q.exports(b),r=!0;else if("module"===B)t=n[d]=q.module(b);
else if(A.call(w,B)||A.call(v,B)||A.call(h,B))n[d]=u(B);else if(g.p)g.p.load(g.n,f(m,!0),e(B),{}),n[d]=w[B];else throw Error(b+" missing "+B);c=a?a.apply(w[b],n):void 0;b&&(t&&t.exports!==l&&t.exports!==w[b]?w[b]=t.exports:c===l&&r||(w[b]=c))}else b&&(w[b]=a)};requirejs=require=x=function(b,c,a,m,t){if("string"===typeof b)return q[b]?q[b](c):u(p(b,c).f);if(!b.splice){z=b;z.deps&&x(z.deps,z.callback);if(!c)return;c.splice?(b=c,c=a,a=null):b=l}c=c||function(){};"function"===typeof a&&(a=m,m=t);m?n(l,
b,c,a):setTimeout(function(){n(l,b,c,a)},4);return x};x.config=function(b){return x(b)};requirejs._defined=w;define=function(b,c,a){if("string"!==typeof b)throw Error("See almond README: incorrect module build, no module name");c.splice||(a=c,c=[]);A.call(w,b)||A.call(v,b)||(v[b]=[b,c,a])};define.amd={jQuery:!0}})();define("almond",function(){});
(function(l,d){"function"===typeof define&&define.amd?define("svg-js",d):"object"===typeof exports?module.exports=d(require,exports,module):l.SVG=d()})(this,function(l,d,f){function c(a){return a.toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function e(a){return a.charAt(0).toUpperCase()+a.slice(1)}function u(a){return 4==a.length?["#",a.substring(1,2),a.substring(1,2),a.substring(2,3),a.substring(2,3),a.substring(3,4),a.substring(3,4)].join(""):a}function r(a){a=a.toString(16);
return 1==a.length?"0"+a:a}function g(a,b,t){null==t?t=a.height/a.width*b:null==b&&(b=a.width/a.height*t);return{width:b,height:t}}function n(a){return{a:a[0],b:a[1],c:a[2],d:a[3],e:a[4],f:a[5]}}function x(a){a instanceof b.Matrix||(a=new b.Matrix(a));return a}function p(a,b){a.cx=null==a.cx?b.bbox().cx:a.cx;a.cy=null==a.cy?b.bbox().cy:a.cy}function q(a){a=a.replace(b.regex.whitespace,"").replace(b.regex.matrix,"").split(",");return n(b.utils.map(a,function(a){return parseFloat(a)}))}function w(a,
m){return"number"==typeof a.from?a.from+(a.to-a.from)*m:a instanceof b.Color||a instanceof b.Number||a instanceof b.Matrix?a.at(m):1>m?a.from:a.to}function v(a){for(var b=0,t=a.length,c="";b<t;b++)c+=a[b][0],null!=a[b][1]&&(c+=a[b][1],null!=a[b][2]&&(c+=" ",c+=a[b][2],null!=a[b][3]&&(c+=" ",c+=a[b][3],c+=" ",c+=a[b][4],null!=a[b][5]&&(c+=" ",c+=a[b][5],c+=" ",c+=a[b][6],null!=a[b][7]&&(c+=" ",c+=a[b][7])))));return c+" "}function z(a){for(var m=a.childNodes.length-1;0<=m;m--)a.childNodes[m]instanceof
SVGElement&&z(a.childNodes[m]);return b.adopt(a).id(b.eid(a.nodeName))}function h(a){null==a.x&&(a.x=0,a.y=0,a.width=0,a.height=0);a.w=a.width;a.h=a.height;a.x2=a.x+a.width;a.y2=a.y+a.height;a.cx=a.x+a.width/2;a.cy=a.y+a.height/2;return a}function A(a){if(a=a.toString().match(b.regex.reference))return a[1]}var b=this.SVG=function(a){if(b.supported)return a=new b.Doc(a),b.parser||b.prepare(a),a};b.ns="http://www.w3.org/2000/svg";b.xmlns="http://www.w3.org/2000/xmlns/";b.xlink="http://www.w3.org/1999/xlink";
b.supported=!!document.createElementNS&&!!document.createElementNS(b.ns,"svg").createSVGRect;if(!b.supported)return!1;b.did=1E3;b.eid=function(a){return"Svgjs"+e(a)+b.did++};b.create=function(a){var b=document.createElementNS(this.ns,a);b.setAttribute("id",this.eid(a));return b};b.extend=function(){var a,m,t,c;a=[].slice.call(arguments);m=a.pop();for(c=a.length-1;0<=c;c--)if(a[c])for(t in m)a[c].prototype[t]=m[t];b.Set&&b.Set.inherit&&b.Set.inherit()};b.invent=function(a){var m="function"==typeof a.create?
a.create:function(){this.constructor.call(this,b.create(a.create))};a.inherit&&(m.prototype=new a.inherit);a.extend&&b.extend(m,a.extend);a.construct&&b.extend(a.parent||b.Container,a.construct);return m};b.adopt=function(a){if(a.instance)return a.instance;var m;m="svg"==a.nodeName?a.parentNode instanceof SVGElement?new b.Nested:new b.Doc:"lineairGradient"==a.nodeName?new b.Gradient("lineair"):"radialGradient"==a.nodeName?new b.Gradient("radial"):b[e(a.nodeName)]?new (b[e(a.nodeName)]):new b.Element(a);
m.type=a.nodeName;m.node=a;a.instance=m;m instanceof b.Doc&&m.namespace().defs();return m};b.prepare=function(a){var m=document.getElementsByTagName("body")[0],t=(m?new b.Doc(m):a.nested()).size(2,0),c=b.create("path");t.node.appendChild(c);b.parser={body:m||a.parent(),draw:t.style("opacity:0;position:fixed;left:100%;top:100%;overflow:hidden"),poly:t.polyline().node,path:c}};b.regex={unit:/^(-?[\d\.]+)([a-z%]{0,2})$/,hex:/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rgb:/rgb\((\d+),(\d+),(\d+)\)/,reference:/#([a-z0-9\-_]+)/i,
matrix:/matrix\(|\)/g,whitespace:/\s/g,isHex:/^#[a-f0-9]{3,6}$/i,isRgb:/^rgb\(/,isCss:/[^:]+:[^;]+;?/,isBlank:/^(\s+)?$/,isNumber:/^-?[\d\.]+$/,isPercent:/^-?[\d\.]+%$/,isImage:/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i};b.utils={map:function(a,b){var t,c=a.length,e=[];for(t=0;t<c;t++)e.push(b(a[t]));return e},radians:function(a){return a%360*Math.PI/180},degrees:function(a){return 180*a/Math.PI%360},filterSVGElements:function(a){return[].filter.call(a,function(a){return a instanceof SVGElement})}};
b.defaults={attrs:{"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","font-size":16,"font-family":"Helvetica, Arial, sans-serif","text-anchor":"start"}};b.Color=function(a){this.b=this.g=this.r=0;"string"===typeof a?b.regex.isRgb.test(a)?(a=b.regex.rgb.exec(a.replace(/\s/g,"")),this.r=parseInt(a[1]),this.g=
parseInt(a[2]),this.b=parseInt(a[3])):b.regex.isHex.test(a)&&(a=b.regex.hex.exec(u(a)),this.r=parseInt(a[1],16),this.g=parseInt(a[2],16),this.b=parseInt(a[3],16)):"object"===typeof a&&(this.r=a.r,this.g=a.g,this.b=a.b)};b.extend(b.Color,{toString:function(){return this.toHex()},toHex:function(){return"#"+r(this.r)+r(this.g)+r(this.b)},toRgb:function(){return"rgb("+[this.r,this.g,this.b].join()+")"},brightness:function(){return this.r/255*.3+this.g/255*.59+this.b/255*.11},morph:function(a){this.destination=
new b.Color(a);return this},at:function(a){if(!this.destination)return this;a=0>a?0:1<a?1:a;return new b.Color({r:~~(this.r+(this.destination.r-this.r)*a),g:~~(this.g+(this.destination.g-this.g)*a),b:~~(this.b+(this.destination.b-this.b)*a)})}});b.Color.test=function(a){a+="";return b.regex.isHex.test(a)||b.regex.isRgb.test(a)};b.Color.isRgb=function(a){return a&&"number"==typeof a.r&&"number"==typeof a.g&&"number"==typeof a.b};b.Color.isColor=function(a){return b.Color.isRgb(a)||b.Color.test(a)};
b.Array=function(a,b){a=(a||[]).valueOf();0==a.length&&b&&(a=b.valueOf());this.value=this.parse(a)};b.extend(b.Array,{morph:function(a){this.destination=this.parse(a);if(this.value.length!=this.destination.length){a=this.value[this.value.length-1];for(var b=this.destination[this.destination.length-1];this.value.length>this.destination.length;)this.destination.push(b);for(;this.value.length<this.destination.length;)this.value.push(a)}return this},settle:function(){for(var a=0,b=this.value.length,t=
[];a<b;a++)-1==t.indexOf(this.value[a])&&t.push(this.value[a]);return this.value=t},at:function(a){if(!this.destination)return this;for(var m=0,t=this.value.length,c=[];m<t;m++)c.push(this.value[m]+(this.destination[m]-this.value[m])*a);return new b.Array(c)},toString:function(){return this.value.join(" ")},valueOf:function(){return this.value},parse:function(a){a=a.valueOf();return Array.isArray(a)?a:this.split(a)},split:function(a){return a.trim().split(/\s+/)},reverse:function(){this.value.reverse();
return this}});b.PointArray=function(a,b){this.constructor.call(this,a,b||[[0,0]])};b.PointArray.prototype=new b.Array;b.extend(b.PointArray,{toString:function(){for(var a=0,b=this.value.length,t=[];a<b;a++)t.push(this.value[a].join(","));return t.join(" ")},toLine:function(){return{x1:this.value[0][0],y1:this.value[0][1],x2:this.value[1][0],y2:this.value[1][1]}},at:function(a){if(!this.destination)return this;for(var m=0,t=this.value.length,c=[];m<t;m++)c.push([this.value[m][0]+(this.destination[m][0]-
this.value[m][0])*a,this.value[m][1]+(this.destination[m][1]-this.value[m][1])*a]);return new b.PointArray(c)},parse:function(a){a=a.valueOf();if(Array.isArray(a))return a;a=this.split(a);for(var b=0,t=a.length,c,e=[];b<t;b++)c=a[b].split(","),e.push([parseFloat(c[0]),parseFloat(c[1])]);return e},move:function(a,b){var t=this.bbox();a-=t.x;b-=t.y;if(!isNaN(a)&&!isNaN(b))for(t=this.value.length-1;0<=t;t--)this.value[t]=[this.value[t][0]+a,this.value[t][1]+b];return this},size:function(a,b){var t,c=
this.bbox();for(t=this.value.length-1;0<=t;t--)this.value[t][0]=(this.value[t][0]-c.x)*a/c.width+c.x,this.value[t][1]=(this.value[t][1]-c.y)*b/c.height+c.y;return this},bbox:function(){b.parser.poly.setAttribute("points",this.toString());return b.parser.poly.getBBox()}});b.PathArray=function(a,b){this.constructor.call(this,a,b||[["M",0,0]])};b.PathArray.prototype=new b.Array;b.extend(b.PathArray,{toString:function(){return v(this.value)},move:function(a,b){var t=this.bbox();a-=t.x;b-=t.y;if(!isNaN(a)&&
!isNaN(b))for(var c=this.value.length-1;0<=c;c--)t=this.value[c][0],"M"==t||"L"==t||"T"==t?(this.value[c][1]+=a,this.value[c][2]+=b):"H"==t?this.value[c][1]+=a:"V"==t?this.value[c][1]+=b:"C"==t||"S"==t||"Q"==t?(this.value[c][1]+=a,this.value[c][2]+=b,this.value[c][3]+=a,this.value[c][4]+=b,"C"==t&&(this.value[c][5]+=a,this.value[c][6]+=b)):"A"==t&&(this.value[c][6]+=a,this.value[c][7]+=b);return this},size:function(a,b){var c,e,k=this.bbox();for(c=this.value.length-1;0<=c;c--)e=this.value[c][0],"M"==
e||"L"==e||"T"==e?(this.value[c][1]=(this.value[c][1]-k.x)*a/k.width+k.x,this.value[c][2]=(this.value[c][2]-k.y)*b/k.height+k.y):"H"==e?this.value[c][1]=(this.value[c][1]-k.x)*a/k.width+k.x:"V"==e?this.value[c][1]=(this.value[c][1]-k.y)*b/k.height+k.y:"C"==e||"S"==e||"Q"==e?(this.value[c][1]=(this.value[c][1]-k.x)*a/k.width+k.x,this.value[c][2]=(this.value[c][2]-k.y)*b/k.height+k.y,this.value[c][3]=(this.value[c][3]-k.x)*a/k.width+k.x,this.value[c][4]=(this.value[c][4]-k.y)*b/k.height+k.y,"C"==e&&
(this.value[c][5]=(this.value[c][5]-k.x)*a/k.width+k.x,this.value[c][6]=(this.value[c][6]-k.y)*b/k.height+k.y)):"A"==e&&(this.value[c][1]=this.value[c][1]*a/k.width,this.value[c][2]=this.value[c][2]*b/k.height,this.value[c][6]=(this.value[c][6]-k.x)*a/k.width+k.x,this.value[c][7]=(this.value[c][7]-k.y)*b/k.height+k.y);return this},parse:function(a){if(a instanceof b.PathArray)return a.valueOf();var m,c,k,e,g,f,p,u,h,d,n,q=0,r=0;b.parser.path.setAttribute("d","string"===typeof a?a:v(a));n=b.parser.path.pathSegList;
m=0;for(c=n.numberOfItems;m<c;++m){d=n.getItem(m);h=d.pathSegTypeAsLetter;if("M"==h||"L"==h||"H"==h||"V"==h||"C"==h||"S"==h||"Q"==h||"T"==h||"A"==h)"x"in d&&(q=d.x),"y"in d&&(r=d.y);else if("x1"in d&&(g=q+d.x1),"x2"in d&&(p=q+d.x2),"y1"in d&&(f=r+d.y1),"y2"in d&&(u=r+d.y2),"x"in d&&(q+=d.x),"y"in d&&(r+=d.y),"m"==h)n.replaceItem(b.parser.path.createSVGPathSegMovetoAbs(q,r),m);else if("l"==h)n.replaceItem(b.parser.path.createSVGPathSegLinetoAbs(q,r),m);else if("h"==h)n.replaceItem(b.parser.path.createSVGPathSegLinetoHorizontalAbs(q),
m);else if("v"==h)n.replaceItem(b.parser.path.createSVGPathSegLinetoVerticalAbs(r),m);else if("c"==h)n.replaceItem(b.parser.path.createSVGPathSegCurvetoCubicAbs(q,r,g,f,p,u),m);else if("s"==h)n.replaceItem(b.parser.path.createSVGPathSegCurvetoCubicSmoothAbs(q,r,p,u),m);else if("q"==h)n.replaceItem(b.parser.path.createSVGPathSegCurvetoQuadraticAbs(q,r,g,f),m);else if("t"==h)n.replaceItem(b.parser.path.createSVGPathSegCurvetoQuadraticSmoothAbs(q,r),m);else if("a"==h)n.replaceItem(b.parser.path.createSVGPathSegArcAbs(q,
r,d.r1,d.r2,d.angle,d.largeArcFlag,d.sweepFlag),m);else if("z"==h||"Z"==h)q=k,r=e;if("M"==h||"m"==h)k=q,e=r}a=[];n=b.parser.path.pathSegList;m=0;for(c=n.numberOfItems;m<c;++m)d=n.getItem(m),h=d.pathSegTypeAsLetter,q=[h],"M"==h||"L"==h||"T"==h?q.push(d.x,d.y):"H"==h?q.push(d.x):"V"==h?q.push(d.y):"C"==h?q.push(d.x1,d.y1,d.x2,d.y2,d.x,d.y):"S"==h?q.push(d.x2,d.y2,d.x,d.y):"Q"==h?q.push(d.x1,d.y1,d.x,d.y):"A"==h&&q.push(d.r1,d.r2,d.angle,d.largeArcFlag|0,d.sweepFlag|0,d.x,d.y),a.push(q);return a},bbox:function(){b.parser.path.setAttribute("d",
this.toString());return b.parser.path.getBBox()}});b.Number=b.invent({create:function(a,m){this.value=0;this.unit=m||"";if("number"===typeof a)this.value=isNaN(a)?0:isFinite(a)?a:0>a?-3.4E38:3.4E38;else if("string"===typeof a){if(m=a.match(b.regex.unit))this.value=parseFloat(m[1]),"%"==m[2]?this.value/=100:"s"==m[2]&&(this.value*=1E3),this.unit=m[2]}else a instanceof b.Number&&(this.value=a.valueOf(),this.unit=a.unit)},extend:{toString:function(){return("%"==this.unit?~~(1E8*this.value)/1E6:"s"==
this.unit?this.value/1E3:this.value)+this.unit},valueOf:function(){return this.value},plus:function(a){return new b.Number(this+new b.Number(a),this.unit)},minus:function(a){return this.plus(-new b.Number(a))},times:function(a){return new b.Number(this*new b.Number(a),this.unit)},divide:function(a){return new b.Number(this/new b.Number(a),this.unit)},to:function(a){var m=new b.Number(this);"string"===typeof a&&(m.unit=a);return m},morph:function(a){this.destination=new b.Number(a);return this},at:function(a){return this.destination?
(new b.Number(this.destination)).minus(this).times(a).plus(this):this}}});b.ViewBox=function(a){var m,c,k;c=m=1;var e=a.bbox(),g=(a.attr("viewBox")||"").match(/-?[\d\.]+/g),d=a,h=a;k=new b.Number(a.width());for(a=new b.Number(a.height());"%"==k.unit;)m*=k.value,k=new b.Number(d instanceof b.Doc?d.parent().offsetWidth:d.parent().width()),d=d.parent();for(;"%"==a.unit;)c*=a.value,a=new b.Number(h instanceof b.Doc?h.parent().offsetHeight:h.parent().height()),h=h.parent();this.x=e.x;this.y=e.y;this.width=
k*m;this.height=a*c;this.zoom=1;g&&(m=parseFloat(g[0]),c=parseFloat(g[1]),k=parseFloat(g[2]),a=parseFloat(g[3]),this.zoom=this.width/this.height>k/a?this.height/a:this.width/k,this.x=m,this.y=c,this.width=k,this.height=a)};b.extend(b.ViewBox,{toString:function(){return this.x+" "+this.y+" "+this.width+" "+this.height}});b.Element=b.invent({create:function(a){this._stroke=b.defaults.attrs.stroke;if(this.node=a)this.type=a.nodeName,this.node.instance=this,this._stroke=a.getAttribute("stroke")||this._stroke},
extend:{x:function(a){null!=a&&(a=new b.Number(a),a.value/=this.transform("scaleX"));return this.attr("x",a)},y:function(a){null!=a&&(a=new b.Number(a),a.value/=this.transform("scaleY"));return this.attr("y",a)},cx:function(a){return null==a?this.x()+this.width()/2:this.x(a-this.width()/2)},cy:function(a){return null==a?this.y()+this.height()/2:this.y(a-this.height()/2)},move:function(a,b){return this.x(a).y(b)},center:function(a,b){return this.cx(a).cy(b)},width:function(a){return this.attr("width",
a)},height:function(a){return this.attr("height",a)},size:function(a,m){var c=g(this.bbox(),a,m);return this.width(new b.Number(c.width)).height(new b.Number(c.height))},clone:function(){var a=z(this.node.cloneNode(!0));this.after(a);return a},remove:function(){this.parent()&&this.parent().removeElement(this);return this},replace:function(a){this.after(a).remove();return a},addTo:function(a){return a.put(this)},putIn:function(a){return a.add(this)},id:function(a){return this.attr("id",a)},inside:function(a,
b){var c=this.bbox();return a>c.x&&b>c.y&&a<c.x+c.width&&b<c.y+c.height},show:function(){return this.style("display","")},hide:function(){return this.style("display","none")},visible:function(){return"none"!=this.style("display")},toString:function(){return this.attr("id")},classes:function(){var a=this.attr("class");return null==a?[]:a.trim().split(/\s+/)},hasClass:function(a){return-1!=this.classes().indexOf(a)},addClass:function(a){if(!this.hasClass(a)){var b=this.classes();b.push(a);this.attr("class",
b.join(" "))}return this},removeClass:function(a){this.hasClass(a)&&this.attr("class",this.classes().filter(function(b){return b!=a}).join(" "));return this},toggleClass:function(a){return this.hasClass(a)?this.removeClass(a):this.addClass(a)},reference:function(a){return b.get(this.attr(a))},parent:function(a){if(this.node.parentNode){var m=b.adopt(this.node.parentNode);if(a)for(;!(m instanceof a)&&m.node.parentNode instanceof SVGElement;)m=b.adopt(m.node.parentNode);return m}},doc:function(a){return this instanceof
b.Doc?this:this.parent(b.Doc)},native:function(){return this.node},svg:function(a){var m=document.createElement("svg");if(a&&this instanceof b.Parent){m.innerHTML="<svg>"+a.replace(/\n/,"").replace(/<(\w+)([^<]+?)\/>/g,"<$1$2></$1>")+"</svg>";a=0;for(var c=m.firstChild.childNodes.length;a<c;a++)this.node.appendChild(m.firstChild.childNodes[a])}else return m.appendChild(a=document.createElement("svg")),a.appendChild(this.node.cloneNode(!0)),m.innerHTML.replace(/^<svg>/,"").replace(/<\/svg>$/,"");return this}}});
b.FX=b.invent({create:function(a){this.target=a},extend:{animate:function(a,m,c){var k,e,g,d=this.target,h=this;"object"==typeof a&&(c=a.delay,m=a.ease,a=a.duration);a="="==a?a:null==a?1E3:(new b.Number(a)).valueOf();m=m||"<>";h.at=function(a){var b;a=0>a?0:1<a?1:a;if(null==k){k=[];for(g in h.attrs)k.push(g);if(d.morphArray&&(h.destination.plot||-1<k.indexOf("points"))){var c=new d.morphArray(h.destination.plot||h.attrs.points||d.array());h.destination.size&&c.size(h.destination.size.width.to,h.destination.size.height.to);
b=c.bbox();h.destination.x?c.move(h.destination.x.to,b.y):h.destination.cx&&c.move(h.destination.cx.to-b.width/2,b.y);b=c.bbox();h.destination.y?c.move(b.x,h.destination.y.to):h.destination.cy&&c.move(b.x,h.destination.cy.to-b.height/2);h.destination={plot:d.array().morph(c)}}}if(null==e)for(g in e=[],h.styles)e.push(g);a="<>"==m?-Math.cos(a*Math.PI)/2+.5:">"==m?Math.sin(a*Math.PI/2):"<"==m?-Math.cos(a*Math.PI/2)+1:"-"==m?a:"function"==typeof m?m(a):a;h.destination.plot?d.plot(h.destination.plot.at(a)):
(h.destination.x?d.x(h.destination.x.at(a)):h.destination.cx&&d.cx(h.destination.cx.at(a)),h.destination.y?d.y(h.destination.y.at(a)):h.destination.cy&&d.cy(h.destination.cy.at(a)),h.destination.size&&d.size(h.destination.size.width.at(a),h.destination.size.height.at(a)));h.destination.viewbox&&d.viewbox(h.destination.viewbox.x.at(a),h.destination.viewbox.y.at(a),h.destination.viewbox.width.at(a),h.destination.viewbox.height.at(a));h.destination.leading&&d.leading(h.destination.leading.at(a));for(b=
k.length-1;0<=b;b--)d.attr(k[b],w(h.attrs[k[b]],a));for(b=e.length-1;0<=b;b--)d.style(e[b],w(h.styles[e[b]],a));h.situation.during&&h.situation.during.call(d,a,function(b,m){return w({from:b,to:m},a)})};"number"===typeof a&&(this.timeout=setTimeout(function(){var k=(new Date).getTime();h.situation.start=k;h.situation.play=!0;h.situation.finish=k+a;h.situation.duration=a;h.situation.ease=m;h.render=function(){if(!0===h.situation.play){var k=(new Date).getTime(),e=k>h.situation.finish?1:(k-h.situation.start)/
a;h.situation.reversing&&(e=-e+1);h.at(e);k>h.situation.finish?(h.destination.plot&&d.plot((new b.PointArray(h.destination.plot.destination)).settle()),!0===h.situation.loop||"number"==typeof h.situation.loop&&0<h.situation.loop?(h.situation.reverse&&(h.situation.reversing=!h.situation.reversing),"number"==typeof h.situation.loop&&(h.situation.reverse&&!h.situation.reversing||--h.situation.loop,h.situation.reverse||1!=h.situation.loop||--h.situation.loop),h.animate(a,m,c)):h.situation.after?h.situation.after.apply(d,
[h]):h.stop()):h.animationFrame=requestAnimationFrame(h.render)}else h.animationFrame=requestAnimationFrame(h.render)};h.render()},(new b.Number(c)).valueOf()));return this},bbox:function(){return this.target.bbox()},attr:function(a,m){if("object"==typeof a)for(var c in a)this.attr(c,a[c]);else c=this.target.attr(a),"transform"==a?(this.attrs[a]&&(m=this.attrs[a].destination.multiply(m)),this.attrs[a]=this.target.ctm().morph(m),this.param&&(m=this.target.transform("rotation"),this.attrs[a].param=
{from:this.target.param||{rotation:m,cx:this.param.cx,cy:this.param.cy},to:this.param})):this.attrs[a]=b.Color.isColor(m)?(new b.Color(c)).morph(m):b.regex.unit.test(m)?(new b.Number(c)).morph(m):{from:c,to:m};return this},style:function(a,b){if("object"==typeof a)for(var c in a)this.style(c,a[c]);else this.styles[a]={from:this.target.style(a),to:b};return this},x:function(a){this.destination.x=(new b.Number(this.target.x())).morph(a);return this},y:function(a){this.destination.y=(new b.Number(this.target.y())).morph(a);
return this},cx:function(a){this.destination.cx=(new b.Number(this.target.cx())).morph(a);return this},cy:function(a){this.destination.cy=(new b.Number(this.target.cy())).morph(a);return this},move:function(a,b){return this.x(a).y(b)},center:function(a,b){return this.cx(a).cy(b)},size:function(a,m){if(this.target instanceof b.Text)this.attr("font-size",a);else{var c=this.target.bbox();this.destination.size={width:(new b.Number(c.width)).morph(a),height:(new b.Number(c.height)).morph(m)}}return this},
plot:function(a){this.destination.plot=a;return this},leading:function(a){this.target.destination.leading&&(this.destination.leading=(new b.Number(this.target.destination.leading)).morph(a));return this},viewbox:function(a,m,c,k){if(this.target instanceof b.Container){var e=this.target.viewbox();this.destination.viewbox={x:(new b.Number(e.x)).morph(a),y:(new b.Number(e.y)).morph(m),width:(new b.Number(e.width)).morph(c),height:(new b.Number(e.height)).morph(k)}}return this},update:function(a){this.target instanceof
b.Stop&&(null!=a.opacity&&this.attr("stop-opacity",a.opacity),null!=a.color&&this.attr("stop-color",a.color),null!=a.offset&&this.attr("offset",new b.Number(a.offset)));return this},during:function(a){this.situation.during=a;return this},after:function(a){this.situation.after=a;return this},loop:function(a,b){this.situation.loop=this.situation.loops=a||!0;this.situation.reverse=!!b;return this},stop:function(a){!0===a?(this.animate(0),this.situation.after&&this.situation.after.apply(this.target,[this])):
(clearTimeout(this.timeout),cancelAnimationFrame(this.animationFrame),this.attrs={},this.styles={},this.situation={},this.destination={});return this},pause:function(){!0===this.situation.play&&(this.situation.play=!1,this.situation.pause=(new Date).getTime());return this},play:function(){if(!1===this.situation.play){var a=(new Date).getTime()-this.situation.pause;this.situation.finish+=a;this.situation.start+=a;this.situation.play=!0}return this}},parent:b.Element,construct:{animate:function(a,m,
c){return(this.fx||(this.fx=new b.FX(this))).stop().animate(a,m,c)},stop:function(a){this.fx&&this.fx.stop(a);return this},pause:function(){this.fx&&this.fx.pause();return this},play:function(){this.fx&&this.fx.play();return this}}});b.BBox=b.invent({create:function(a){if(a){var b;try{b=a.node.getBBox()}catch(c){b={x:a.node.clientLeft,y:a.node.clientTop,width:a.node.clientWidth,height:a.node.clientHeight}}this.x=b.x;this.y=b.y;this.width=b.width;this.height=b.height}h(this)},parent:b.Element,construct:{bbox:function(){return new b.BBox(this)}}});
b.TBox=b.invent({create:function(a){if(a){var b=a.ctm().extract();a=a.bbox();this.width=a.width*b.scaleX;this.height=a.height*b.scaleY;this.x=a.x+b.x;this.y=a.y+b.y}h(this)},parent:b.Element,construct:{tbox:function(){return new b.TBox(this)}}});b.RBox=b.invent({create:function(a){if(a){var b=a.doc().parent(),c=a.node.getBoundingClientRect(),k=1;this.x=c.left;this.y=c.top;this.x-=b.offsetLeft;for(this.y-=b.offsetTop;b=b.offsetParent;)this.x-=b.offsetLeft,this.y-=b.offsetTop;for(b=a;b.parent&&(b=b.parent());)b.viewbox&&
(k*=b.viewbox().zoom,this.x-=b.x()||0,this.y-=b.y()||0);this.width=c.width/=k;this.height=c.height/=k}h(this);this.x+=window.scrollX;this.y+=window.scrollY},parent:b.Element,construct:{rbox:function(){return new b.RBox(this)}}});[b.BBox,b.TBox,b.RBox].forEach(function(a){b.extend(a,{merge:function(b){var c=new a;c.x=Math.min(this.x,b.x);c.y=Math.min(this.y,b.y);c.width=Math.max(this.x+this.width,b.x+b.width)-c.x;c.height=Math.max(this.y+this.height,b.y+b.height)-c.y;return h(c)}})});b.Matrix=b.invent({create:function(a){var b,
c=n([1,0,0,1,0,0]);a=a&&a.node&&a.node.getCTM?a.node.getCTM():"string"===typeof a?q(a):6==arguments.length?n([].slice.call(arguments)):"object"===typeof a?a:c;for(b=k.length-1;0<=b;b--)this[k[b]]=a&&"number"===typeof a[k[b]]?a[k[b]]:c[k[b]]},extend:{extract:function(){var a=1*this.a+0*this.c+0,b=1*this.b+0*this.d+0,c=180/Math.PI*Math.atan2(0*this.b+1*this.d+0,0*this.a+1*this.c+0)-90;return{x:this.e,y:this.f,skewX:-c,skewY:180/Math.PI*Math.atan2(b,a),scaleX:Math.sqrt(this.a*this.a+this.b*this.b),scaleY:Math.sqrt(this.c*
this.c+this.d*this.d),rotation:c}},clone:function(){return new b.Matrix(this)},morph:function(a){this.destination=new b.Matrix(a);return this},at:function(a){if(!this.destination)return this;var m=new b.Matrix({a:this.a+(this.destination.a-this.a)*a,b:this.b+(this.destination.b-this.b)*a,c:this.c+(this.destination.c-this.c)*a,d:this.d+(this.destination.d-this.d)*a,e:this.e+(this.destination.e-this.e)*a,f:this.f+(this.destination.f-this.f)*a});if(this.param&&this.param.to){var c={rotation:this.param.from.rotation+
(this.param.to.rotation-this.param.from.rotation)*a,cx:this.param.from.cx,cy:this.param.from.cy},m=m.rotate((this.param.to.rotation-2*this.param.from.rotation)*a,c.cx,c.cy);m.param=c}return m},multiply:function(a){return new b.Matrix(this.native().multiply(x(a).native()))},inverse:function(){return new b.Matrix(this.native().inverse())},translate:function(a,m){return new b.Matrix(this.native().translate(a||0,m||0))},scale:function(a,m,c,k){if(1==arguments.length||3==arguments.length)m=a;3==arguments.length&&
(k=c,c=m);return this.around(c,k,new b.Matrix(a,0,0,m,0,0))},rotate:function(a,m,c){a=b.utils.radians(a);return this.around(m,c,new b.Matrix(Math.cos(a),Math.sin(a),-Math.sin(a),Math.cos(a),0,0))},flip:function(a,b){return"x"==a?this.scale(-1,1,b,0):this.scale(1,-1,0,b)},skew:function(a,b,c,k){return this.around(c,k,this.native().skewX(a||0).skewY(b||0))},around:function(a,m,c){return this.multiply(new b.Matrix(1,0,0,1,a||0,m||0)).multiply(c).multiply(new b.Matrix(1,0,0,1,-a||0,-m||0))},native:function(){for(var a=
b.parser.draw.node.createSVGMatrix(),c=k.length-1;0<=c;c--)a[k[c]]=this[k[c]];return a},toString:function(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}},parent:b.Element,construct:{ctm:function(){return new b.Matrix(this)}}});b.extend(b.Element,{attr:function(a,c,k){if(null==a){a={};c=this.node.attributes;for(k=c.length-1;0<=k;k--)a[c[k].nodeName]=b.regex.isNumber.test(c[k].nodeValue)?parseFloat(c[k].nodeValue):c[k].nodeValue;return a}if("object"==typeof a)for(c in a)this.attr(c,
a[c]);else if(null===c)this.node.removeAttribute(a);else{if(null==c)return c=this.node.getAttribute(a),null==c?b.defaults.attrs[a]:b.regex.isNumber.test(c)?parseFloat(c):c;"stroke-width"==a?this.attr("stroke",0<parseFloat(c)?this._stroke:null):"stroke"==a&&(this._stroke=c);if("fill"==a||"stroke"==a)b.regex.isImage.test(c)&&(c=this.doc().defs().image(c,0,0)),c instanceof b.Image&&(c=this.doc().defs().pattern(0,0,function(){this.add(c)}));"number"===typeof c?c=new b.Number(c):b.Color.isColor(c)?c=new b.Color(c):
Array.isArray(c)?c=new b.Array(c):c instanceof b.Matrix&&c.param&&(this.param=c.param);"leading"==a?this.leading&&this.leading(c):"string"===typeof k?this.node.setAttributeNS(k,a,c.toString()):this.node.setAttribute(a,c.toString());!this.rebuild||"font-size"!=a&&"x"!=a||this.rebuild(a,c)}return this}});b.extend(b.Element,b.FX,{transform:function(a,c){var k=this.target||this,e;if("object"!==typeof a)return e=k.ctm().extract(),"object"===typeof this.param&&(e.rotation=this.param.rotation,e.cx=this.param.cx,
e.cy=this.param.cy),"string"===typeof a?e[a]:e;e=this instanceof b.FX&&this.attrs.transform?this.attrs.transform:new b.Matrix(k);c=!!c||!!a.relative;if(null!=a.a)e=c?e.multiply(new b.Matrix(a)):new b.Matrix(a);else if(null!=a.rotation)p(a,k),c&&(a.rotation+=this.param&&null!=this.param.rotation?this.param.rotation:e.extract().rotation),this.param=a,this instanceof b.Element&&(e=c?k.attr("transform",e+" rotate("+[a.rotation,a.cx,a.cy].join()+")").ctm():e.rotate(a.rotation-e.extract().rotation,a.cx,
a.cy));else if(null!=a.scale||null!=a.scaleX||null!=a.scaleY)p(a,k),a.scaleX=null!=a.scale?a.scale:null!=a.scaleX?a.scaleX:1,a.scaleY=null!=a.scale?a.scale:null!=a.scaleY?a.scaleY:1,c||(k=e.extract(),a.scaleX=1*a.scaleX/k.scaleX,a.scaleY=1*a.scaleY/k.scaleY),e=e.scale(a.scaleX,a.scaleY,a.cx,a.cy);else if(null!=a.skewX||null!=a.skewY)p(a,k),a.skewX=null!=a.skewX?a.skewX:0,a.skewY=null!=a.skewY?a.skewY:0,c||(k=e.extract(),e=e.multiply((new b.Matrix).skew(k.skewX,k.skewY,a.cx,a.cy).inverse())),e=e.skew(a.skewX,
a.skewY,a.cx,a.cy);else if(a.flip)e=e.flip(a.flip,null==a.offset?k.bbox()["c"+a.flip]:a.offset);else if(null!=a.x||null!=a.y)c?e=e.translate(a.x,a.y):(null!=a.x&&(e.e=a.x),null!=a.y&&(e.f=a.y));return this.attr("transform",e)}});b.extend(b.Element,{untransform:function(){return this.attr("transform",null)}});b.extend(b.Element,{style:function(a,m){if(0==arguments.length)return this.node.style.cssText||"";if(2>arguments.length)if("object"==typeof a)for(m in a)this.style(m,a[m]);else if(b.regex.isCss.test(a)){a=
a.split(";");for(var k=0;k<a.length;k++)m=a[k].split(":"),this.style(m[0].replace(/\s+/g,""),m[1])}else return this.node.style[c(a)];else this.node.style[c(a)]=null===m||b.regex.isBlank.test(m)?"":m;return this}});b.Parent=b.invent({create:function(a){this.constructor.call(this,a)},inherit:b.Element,extend:{children:function(){return b.utils.map(b.utils.filterSVGElements(this.node.childNodes),function(a){return b.adopt(a)})},add:function(a,b){this.has(a)||(b=null==b?this.children().length:b,this.node.insertBefore(a.node,
this.node.childNodes[b]||null));return this},put:function(a,b){this.add(a,b);return a},has:function(a){return 0<=this.index(a)},index:function(a){return this.children().indexOf(a)},get:function(a){return this.children()[a]},first:function(){return this.children()[0]},last:function(){return this.children()[this.children().length-1]},each:function(a,c){var k,e,h=this.children();k=0;for(e=h.length;k<e;k++)h[k]instanceof b.Element&&a.apply(h[k],[k,h]),c&&h[k]instanceof b.Container&&h[k].each(a,c);return this},
removeElement:function(a){this.node.removeChild(a.node);return this},clear:function(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);delete this._defs;return this},defs:function(){return this.doc().defs()}}});b.Container=b.invent({create:function(a){this.constructor.call(this,a)},inherit:b.Parent,extend:{viewbox:function(a){if(0==arguments.length)return new b.ViewBox(this);a=1==arguments.length?[a.x,a.y,a.width,a.height]:[].slice.call(arguments);return this.attr("viewBox",
a)}}});"click dblclick mousedown mouseup mouseover mouseout mousemove touchstart touchmove touchleave touchend touchcancel".split(" ").forEach(function(a){b.Element.prototype[a]=function(b){var c=this;this.node["on"+a]="function"==typeof b?function(){return b.apply(c,arguments)}:null;return this}});b.listeners=[];b.handlerMap=[];b.on=function(a,c,k){var e=k.bind(a.instance||a),h=(b.handlerMap.indexOf(a)+1||b.handlerMap.push(a))-1,d=c.split(".")[0];c=c.split(".")[1]||"*";b.listeners[h]=b.listeners[h]||
{};b.listeners[h][d]=b.listeners[h][d]||{};b.listeners[h][d][c]=b.listeners[h][d][c]||{};b.listeners[h][d][c][k]=e;a.addEventListener(d,e,!1)};b.off=function(a,c,k){var e=b.handlerMap.indexOf(a),h=c&&c.split(".")[0],d=c&&c.split(".")[1];if(-1!=e)if(k)b.listeners[e][h]&&b.listeners[e][h][d||"*"]&&(a.removeEventListener(h,b.listeners[e][h][d||"*"][k],!1),delete b.listeners[e][h][d||"*"][k]);else if(d&&h){if(b.listeners[e][h]&&b.listeners[e][h][d]){for(k in b.listeners[e][h][d])b.off(a,[h,d].join("."),
k);delete b.listeners[e][h][d]}}else if(d)for(c in b.listeners[e])for(namespace in b.listeners[e][c])d===namespace&&b.off(a,[c,d].join("."));else if(h){if(b.listeners[e][h]){for(namespace in b.listeners[e][h])b.off(a,[h,namespace].join("."));delete b.listeners[e][h]}}else{for(c in b.listeners[e])b.off(a,c);delete b.listeners[e]}};b.extend(b.Element,{on:function(a,c){b.on(this.node,a,c);return this},off:function(a,c){b.off(this.node,a,c);return this},fire:function(a,b){a instanceof Event?this.node.dispatchEvent(a):
this.node.dispatchEvent(new C(a,{detail:b}));return this}});b.Defs=b.invent({create:"defs",inherit:b.Container});b.G=b.invent({create:"g",inherit:b.Container,extend:{x:function(a){return null==a?this.transform("x"):this.transform({x:-this.x()+a},!0)},y:function(a){return null==a?this.transform("y"):this.transform({y:-this.y()+a},!0)},cx:function(a){return null==a?this.tbox().cx:this.x(a-this.tbox().width/2)},cy:function(a){return null==a?this.tbox().cy:this.y(a-this.tbox().height/2)}},construct:{group:function(){return this.put(new b.G)}}});
b.extend(b.Element,{siblings:function(){return this.parent().children()},position:function(){return this.parent().index(this)},next:function(){return this.siblings()[this.position()+1]},previous:function(){return this.siblings()[this.position()-1]},forward:function(){var a=this.position()+1,c=this.parent();c.removeElement(this).add(this,a);c instanceof b.Doc&&c.node.appendChild(c.defs().node);return this},backward:function(){var a=this.position();0<a&&this.parent().removeElement(this).add(this,a-
1);return this},front:function(){var a=this.parent();a.node.appendChild(this.node);a instanceof b.Doc&&a.node.appendChild(a.defs().node);return this},back:function(){0<this.position()&&this.parent().removeElement(this).add(this,0);return this},before:function(a){a.remove();var b=this.position();this.parent().add(a,b);return this},after:function(a){a.remove();var b=this.position();this.parent().add(a,b+1);return this}});b.Mask=b.invent({create:function(){this.constructor.call(this,b.create("mask"));
this.targets=[]},inherit:b.Container,extend:{remove:function(){for(var a=this.targets.length-1;0<=a;a--)this.targets[a]&&this.targets[a].unmask();delete this.targets;this.parent().removeElement(this);return this}},construct:{mask:function(){return this.defs().put(new b.Mask)}}});b.extend(b.Element,{maskWith:function(a){this.masker=a instanceof b.Mask?a:this.parent().mask().add(a);this.masker.targets.push(this);return this.attr("mask",'url("#'+this.masker.attr("id")+'")')},unmask:function(){delete this.masker;
return this.attr("mask",null)}});b.ClipPath=b.invent({create:function(){this.constructor.call(this,b.create("clipPath"));this.targets=[]},inherit:b.Container,extend:{remove:function(){for(var a=this.targets.length-1;0<=a;a--)this.targets[a]&&this.targets[a].unclip();delete this.targets;this.parent().removeElement(this);return this}},construct:{clip:function(){return this.defs().put(new b.ClipPath)}}});b.extend(b.Element,{clipWith:function(a){this.clipper=a instanceof b.ClipPath?a:this.parent().clip().add(a);
this.clipper.targets.push(this);return this.attr("clip-path",'url("#'+this.clipper.attr("id")+'")')},unclip:function(){delete this.clipper;return this.attr("clip-path",null)}});b.Gradient=b.invent({create:function(a){this.constructor.call(this,b.create(a+"Gradient"));this.type=a},inherit:b.Container,extend:{at:function(a,c,k){return this.put(new b.Stop).update(a,c,k)},update:function(a){this.clear();"function"==typeof a&&a.call(this,this);return this},fill:function(){return"url(#"+this.id()+")"},
toString:function(){return this.fill()}},construct:{gradient:function(a,b){return this.defs().gradient(a,b)}}});b.extend(b.Gradient,b.FX,{from:function(a,c){return"radial"==(this.target||this).type?this.attr({fx:new b.Number(a),fy:new b.Number(c)}):this.attr({x1:new b.Number(a),y1:new b.Number(c)})},to:function(a,c){return"radial"==(this.target||this).type?this.attr({cx:new b.Number(a),cy:new b.Number(c)}):this.attr({x2:new b.Number(a),y2:new b.Number(c)})}});b.extend(b.Defs,{gradient:function(a,
c){return this.put(new b.Gradient(a)).update(c)}});b.Stop=b.invent({create:"stop",inherit:b.Element,extend:{update:function(a,c,k){if("number"==typeof a||a instanceof b.Number)a={offset:a,color:c,opacity:k};null!=a.opacity&&this.attr("stop-opacity",a.opacity);null!=a.color&&this.attr("stop-color",a.color);null!=a.offset&&this.attr("offset",new b.Number(a.offset));return this}}});b.Pattern=b.invent({create:"pattern",inherit:b.Container,extend:{fill:function(){return"url(#"+this.id()+")"},update:function(a){this.clear();
"function"==typeof a&&a.call(this,this);return this},toString:function(){return this.fill()}},construct:{pattern:function(a,b,c){return this.defs().pattern(a,b,c)}}});b.extend(b.Defs,{pattern:function(a,c,k){return this.put(new b.Pattern).update(k).attr({x:0,y:0,width:a,height:c,patternUnits:"userSpaceOnUse"})}});b.Doc=b.invent({create:function(a){a&&(a="string"==typeof a?document.getElementById(a):a,"svg"==a.nodeName?this.constructor.call(this,a):(this.constructor.call(this,b.create("svg")),a.appendChild(this.node)),
this.namespace().size("100%","100%").defs())},inherit:b.Container,extend:{namespace:function(){return this.attr({xmlns:b.ns,version:"1.1"}).attr("xmlns:xlink",b.xlink,b.xmlns)},defs:function(){if(!this._defs){var a;(a=this.node.getElementsByTagName("defs")[0])?this._defs=b.adopt(a):this._defs=new b.Defs;this.node.appendChild(this._defs.node)}return this._defs},parent:function(){return"#document"==this.node.parentNode.nodeName?null:this.node.parentNode},spof:function(a){(a=this.node.getScreenCTM())&&
this.style("left",-a.e%1+"px").style("top",-a.f%1+"px");return this},remove:function(){this.parent()&&this.parent().removeChild(this.node);return this}}});b.Shape=b.invent({create:function(a){this.constructor.call(this,a)},inherit:b.Element});b.Bare=b.invent({create:function(a,c){this.constructor.call(this,b.create(a));if(c)for(var k in c.prototype)"function"===typeof c.prototype[k]&&(this[k]=c.prototype[k])},inherit:b.Element,extend:{words:function(a){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);
this.node.appendChild(document.createTextNode(a));return this}}});b.extend(b.Parent,{element:function(a,c){return this.put(new b.Bare(a,c))},symbol:function(){return this.defs().element("symbol",b.Container)}});b.Use=b.invent({create:"use",inherit:b.Shape,extend:{element:function(a,c){return this.attr("href",(c||"")+"#"+a,b.xlink)}},construct:{use:function(a,c){return this.put(new b.Use).element(a,c)}}});b.Rect=b.invent({create:"rect",inherit:b.Shape,construct:{rect:function(a,c){return this.put((new b.Rect).size(a,
c))}}});b.Circle=b.invent({create:"circle",inherit:b.Shape,construct:{circle:function(a){return this.put(new b.Circle).rx((new b.Number(a)).divide(2)).move(0,0)}}});b.extend(b.Circle,b.FX,{rx:function(a){return this.attr("r",a)},ry:function(a){return this.rx(a)}});b.Ellipse=b.invent({create:"ellipse",inherit:b.Shape,construct:{ellipse:function(a,c){return this.put(new b.Ellipse).size(a,c).move(0,0)}}});b.extend(b.Ellipse,b.Rect,b.FX,{rx:function(a){return this.attr("rx",a)},ry:function(a){return this.attr("ry",
a)}});b.extend(b.Circle,b.Ellipse,{x:function(a){return null==a?this.cx()-this.rx():this.cx(a+this.rx())},y:function(a){return null==a?this.cy()-this.ry():this.cy(a+this.ry())},cx:function(a){return null==a?this.attr("cx"):this.attr("cx",a)},cy:function(a){return null==a?this.attr("cy"):this.attr("cy",a)},width:function(a){return null==a?2*this.rx():this.rx((new b.Number(a)).divide(2))},height:function(a){return null==a?2*this.ry():this.ry((new b.Number(a)).divide(2))},size:function(a,c){var k=g(this.bbox(),
a,c);return this.rx((new b.Number(k.width)).divide(2)).ry((new b.Number(k.height)).divide(2))}});b.Line=b.invent({create:"line",inherit:b.Shape,extend:{array:function(){return new b.PointArray([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])},plot:function(a,c,k,e){a=4==arguments.length?{x1:a,y1:c,x2:k,y2:e}:(new b.PointArray(a)).toLine();return this.attr(a)},move:function(a,b){return this.attr(this.array().move(a,b).toLine())},size:function(a,b){var c=g(this.bbox(),a,b);return this.attr(this.array().size(c.width,
c.height).toLine())}},construct:{line:function(a,c,k,e){return this.put(new b.Line).plot(a,c,k,e)}}});b.Polyline=b.invent({create:"polyline",inherit:b.Shape,construct:{polyline:function(a){return this.put(new b.Polyline).plot(a)}}});b.Polygon=b.invent({create:"polygon",inherit:b.Shape,construct:{polygon:function(a){return this.put(new b.Polygon).plot(a)}}});b.extend(b.Polyline,b.Polygon,{array:function(){return this._array||(this._array=new b.PointArray(this.attr("points")))},plot:function(a){return this.attr("points",
this._array=new b.PointArray(a))},move:function(a,b){return this.attr("points",this.array().move(a,b))},size:function(a,b){var c=g(this.bbox(),a,b);return this.attr("points",this.array().size(c.width,c.height))}});b.extend(b.Line,b.Polyline,b.Polygon,{morphArray:b.PointArray,x:function(a){return null==a?this.bbox().x:this.move(a,this.bbox().y)},y:function(a){return null==a?this.bbox().y:this.move(this.bbox().x,a)},width:function(a){var b=this.bbox();return null==a?b.width:this.size(a,b.height)},height:function(a){var b=
this.bbox();return null==a?b.height:this.size(b.width,a)}});b.Path=b.invent({create:"path",inherit:b.Shape,extend:{morphArray:b.PathArray,array:function(){return this._array||(this._array=new b.PathArray(this.attr("d")))},plot:function(a){return this.attr("d",this._array=new b.PathArray(a))},move:function(a,b){return this.attr("d",this.array().move(a,b))},x:function(a){return null==a?this.bbox().x:this.move(a,this.bbox().y)},y:function(a){return null==a?this.bbox().y:this.move(this.bbox().x,a)},size:function(a,
b){var c=g(this.bbox(),a,b);return this.attr("d",this.array().size(c.width,c.height))},width:function(a){return null==a?this.bbox().width:this.size(a,this.bbox().height)},height:function(a){return null==a?this.bbox().height:this.size(this.bbox().width,a)}},construct:{path:function(a){return this.put(new b.Path).plot(a)}}});b.Image=b.invent({create:"image",inherit:b.Shape,extend:{load:function(a){if(!a)return this;var c=this,k=document.createElement("img");k.onload=function(){var e=c.parent(b.Pattern);
0==c.width()&&0==c.height()&&c.size(k.width,k.height);e&&0==e.width()&&0==e.height()&&e.size(c.width(),c.height());"function"===typeof c._loaded&&c._loaded.call(c,{width:k.width,height:k.height,ratio:k.width/k.height,url:a})};return this.attr("href",k.src=this.src=a,b.xlink)},loaded:function(a){this._loaded=a;return this}},construct:{image:function(a,c,k){return this.put(new b.Image).load(a).size(c||0,k||c||0)}}});b.Text=b.invent({create:function(){this.constructor.call(this,b.create("text"));this._leading=
new b.Number(1.3);this._rebuild=!0;this._build=!1;this.attr("font-family",b.defaults.attrs["font-family"])},inherit:b.Shape,extend:{x:function(a){if(null==a)return this.attr("x");this.textPath||this.lines().each(function(){this.newLined&&this.x(a)});return this.attr("x",a)},y:function(a){var b=this.attr("y"),c="number"===typeof b?b-this.bbox().y:0;return null==a?"number"===typeof b?b-c:b:this.attr("y","number"===typeof a?a+c:a)},cx:function(a){return null==a?this.bbox().cx:this.x(a-this.bbox().width/
2)},cy:function(a){return null==a?this.bbox().cy:this.y(a-this.bbox().height/2)},text:function(a){if("undefined"===typeof a)return this.content;this.clear().build(!0);if("function"===typeof a)a.call(this,this);else{a=(this.content=a).split("\n");for(var b=0,c=a.length;b<c;b++)this.tspan(a[b]).newLine()}return this.build(!1).rebuild()},size:function(a){return this.attr("font-size",a).rebuild()},leading:function(a){if(null==a)return this._leading;this._leading=new b.Number(a);return this.rebuild()},
lines:function(){var a=b.utils.map(b.utils.filterSVGElements(this.node.childNodes),function(a){return b.adopt(a)});return new b.Set(a)},rebuild:function(a){"boolean"==typeof a&&(this._rebuild=a);if(this._rebuild){var c=this;this.lines().each(function(){this.newLined&&(this.textPath||this.attr("x",c.attr("x")),this.attr("dy",c._leading*new b.Number(c.attr("font-size"))))});this.fire("rebuild")}return this},build:function(a){this._build=!!a;return this}},construct:{text:function(a){return this.put(new b.Text).text(a)},
plain:function(a){return this.put(new b.Text).plain(a)}}});b.Tspan=b.invent({create:"tspan",inherit:b.Shape,extend:{text:function(a){"function"===typeof a?a.call(this,this):this.plain(a);return this},dx:function(a){return this.attr("dx",a)},dy:function(a){return this.attr("dy",a)},newLine:function(){var a=this.parent(b.Text);this.newLined=!0;return this.dy(a._leading*a.attr("font-size")).attr("x",a.x())}}});b.extend(b.Text,b.Tspan,{plain:function(a){!1===this._build&&this.clear();this.node.appendChild(document.createTextNode(this.content=
a));return this},tspan:function(a){var c=(this.textPath()||this).node,k=new b.Tspan;!1===this._build&&this.clear();c.appendChild(k.node);return k.text(a)},clear:function(){for(var a=(this.textPath()||this).node;a.hasChildNodes();)a.removeChild(a.lastChild);this instanceof b.Text&&(this.content="");return this},length:function(){return this.node.getComputedTextLength()}});b.TextPath=b.invent({create:"textPath",inherit:b.Element,parent:b.Text,construct:{path:function(a){var c=new b.TextPath;for(a=this.doc().defs().path(a);this.node.hasChildNodes();)c.node.appendChild(this.node.firstChild);
this.node.appendChild(c.node);c.attr("href","#"+a,b.xlink);return this},plot:function(a){var b=this.track();b&&b.plot(a);return this},track:function(){var a=this.textPath();if(a)return a.reference("href")},textPath:function(){if(this.node.firstChild&&"textPath"==this.node.firstChild.nodeName)return b.adopt(this.node.firstChild)}}});b.Nested=b.invent({create:function(){this.constructor.call(this,b.create("svg"));this.style("overflow","visible")},inherit:b.Container,construct:{nested:function(){return this.put(new b.Nested)}}});
b.A=b.invent({create:"a",inherit:b.Container,extend:{to:function(a){return this.attr("href",a,b.xlink)},show:function(a){return this.attr("show",a,b.xlink)},target:function(a){return this.attr("target",a)}},construct:{link:function(a){return this.put(new b.A).to(a)}}});b.extend(b.Element,{linkTo:function(a){var c=new b.A;"function"==typeof a?a.call(c,c):c.to(a);return this.parent().put(c).put(this)}});b.Marker=b.invent({create:"marker",inherit:b.Container,extend:{width:function(a){return this.attr("markerWidth",
a)},height:function(a){return this.attr("markerHeight",a)},ref:function(a,b){return this.attr("refX",a).attr("refY",b)},update:function(a){this.clear();"function"==typeof a&&a.call(this,this);return this},toString:function(){return"url(#"+this.id()+")"}},construct:{marker:function(a,b,c){return this.defs().marker(a,b,c)}}});b.extend(b.Defs,{marker:function(a,c,k){return this.put(new b.Marker).size(a,c).ref(a/2,c/2).viewbox(0,0,a,c).attr("orient","auto").update(k)}});b.extend(b.Line,b.Polyline,b.Polygon,
b.Path,{marker:function(a,c,k,e){var h=["marker"];"all"!=a&&h.push(a);h=h.join("-");a=c instanceof b.Marker?c:this.doc().marker(c,k,e);return this.attr(h,a)}});var y={stroke:"color width opacity linecap linejoin miterlimit dasharray dashoffset".split(" "),fill:["color","opacity","rule"],prefix:function(a,b){return"color"==b?a:a+"-"+b}};["fill","stroke"].forEach(function(a){var c,k={};k[a]=function(k){if("string"==typeof k||b.Color.isRgb(k)||k&&"function"===typeof k.fill)this.attr(a,k);else for(c=
y[a].length-1;0<=c;c--)null!=k[y[a][c]]&&this.attr(y.prefix(a,y[a][c]),k[y[a][c]]);return this};b.extend(b.Element,b.FX,k)});b.extend(b.Element,b.FX,{rotate:function(a,b,c){return this.transform({rotation:a,cx:b,cy:c})},skew:function(a,b,c,k){return this.transform({skewX:a,skewY:b,cx:c,cy:k})},scale:function(a,b,c,k){return 1==arguments.length||3==arguments.length?this.transform({scale:a,cx:b,cy:c}):this.transform({scaleX:a,scaleY:b,cx:c,cy:k})},translate:function(a,b){return this.transform({x:a,
y:b})},flip:function(a,b){return this.transform({flip:a,offset:b})},matrix:function(a){return this.attr("transform",new b.Matrix(a))},opacity:function(a){return this.attr("opacity",a)},dx:function(a){return this.x((this.target||this).x()+a)},dy:function(a){return this.y((this.target||this).y()+a)},dmove:function(a,b){return this.dx(a).dy(b)}});b.extend(b.Rect,b.Ellipse,b.Circle,b.Gradient,b.FX,{radius:function(a,c){return"radial"==(this.target||this).type?this.attr({r:new b.Number(a)}):this.rx(a).ry(null==
c?a:c)}});b.extend(b.Path,{length:function(){return this.node.getTotalLength()},pointAt:function(a){return this.node.getPointAtLength(a)}});b.extend(b.Parent,b.Text,b.FX,{font:function(a){for(var b in a)"leading"==b?this.leading(a[b]):"anchor"==b?this.attr("text-anchor",a[b]):"size"==b||"family"==b||"weight"==b||"stretch"==b||"variant"==b||"style"==b?this.attr("font-"+b,a[b]):this.attr(b,a[b]);return this}});b.Set=b.invent({create:function(a){Array.isArray(a)?this.members=a:this.clear()},extend:{add:function(){var a,
b,c=[].slice.call(arguments);a=0;for(b=c.length;a<b;a++)this.members.push(c[a]);return this},remove:function(a){a=this.index(a);-1<a&&this.members.splice(a,1);return this},each:function(a){for(var b=0,c=this.members.length;b<c;b++)a.apply(this.members[b],[b,this.members]);return this},clear:function(){this.members=[];return this},length:function(){return this.members.length},has:function(a){return 0<=this.index(a)},index:function(a){return this.members.indexOf(a)},get:function(a){return this.members[a]},
first:function(){return this.get(0)},last:function(){return this.get(this.members.length-1)},valueOf:function(){return this.members},bbox:function(){var a=new b.BBox;if(0==this.members.length)return a;var c=this.members[0].rbox();a.x=c.x;a.y=c.y;a.width=c.width;a.height=c.height;this.each(function(){a=a.merge(this.rbox())});return a}},construct:{set:function(a){return new b.Set(a)}}});b.FX.Set=b.invent({create:function(a){this.set=a}});b.Set.inherit=function(){var a,c=[];for(a in b.Shape.prototype)"function"==
typeof b.Shape.prototype[a]&&"function"!=typeof b.Set.prototype[a]&&c.push(a);c.forEach(function(a){b.Set.prototype[a]=function(){for(var c=0,k=this.members.length;c<k;c++)this.members[c]&&"function"==typeof this.members[c][a]&&this.members[c][a].apply(this.members[c],arguments);return"animate"==a?this.fx||(this.fx=new b.FX.Set(this)):this}});c=[];for(a in b.FX.prototype)"function"==typeof b.FX.prototype[a]&&"function"!=typeof b.FX.Set.prototype[a]&&c.push(a);c.forEach(function(a){b.FX.Set.prototype[a]=
function(){for(var b=0,c=this.set.members.length;b<c;b++)this.set.members[b].fx[a].apply(this.set.members[b].fx,arguments);return this}})};b.extend(b.Element,{data:function(a,b,c){if("object"==typeof a)for(b in a)this.data(b,a[b]);else if(2>arguments.length)try{return JSON.parse(this.attr("data-"+a))}catch(k){return this.attr("data-"+a)}else this.attr("data-"+a,null===b?null:!0===c||"string"===typeof b||"number"===typeof b?b:JSON.stringify(b));return this}});b.extend(b.Element,{remember:function(a,
b){if("object"==typeof arguments[0])for(b in a)this.remember(b,a[b]);else{if(1==arguments.length)return this.memory()[a];this.memory()[a]=b}return this},forget:function(){if(0==arguments.length)this._memory={};else for(var a=arguments.length-1;0<=a;a--)delete this.memory()[arguments[a]];return this},memory:function(){return this._memory||(this._memory={})}});b.get=function(a){if(a=document.getElementById(A(a)||a))return b.adopt(a)};b.select=function(a,c){return new b.Set(b.utils.map((c||document).querySelectorAll(a),
function(a){return b.adopt(a)}))};b.extend(b.Parent,{select:function(a){return b.select(a,this.node)}});var k="abcdef".split("");if("function"!==typeof C){var C=function(a,b){b=b||{bubbles:!1,cancelable:!1,detail:void 0};var c=document.createEvent("CustomEvent");c.initCustomEvent(a,b.bubbles,b.cancelable,b.detail);return c};C.prototype=window.Event.prototype;window.CustomEvent=C}(function(a){for(var b=0,c=["moz","webkit"],k=0;k<c.length&&!window.requestAnimationFrame;++k)a.requestAnimationFrame=a[c[k]+
"RequestAnimationFrame"],a.cancelAnimationFrame=a[c[k]+"CancelAnimationFrame"]||a[c[k]+"CancelRequestAnimationFrame"];a.requestAnimationFrame=a.requestAnimationFrame||function(c){var k=(new Date).getTime(),e=Math.max(0,16-(k-b)),h=a.setTimeout(function(){c(k+e)},e);b=k+e;return h};a.cancelAnimationFrame=a.cancelAnimationFrame||a.clearTimeout})(window);return b});
(function(){define("path",[],function(){var l;l=function(d){var f,c,e,u,r,g,n,x;c=d||[];g=function(c,e){var d;d=c.slice(0,c.length);d.push(e);return d};f=function(c,e){return c[0]===e[0]&&c[1]===e[1]};x=function(c,e){var d;for(d=c.length;"0"===c.charAt(d-1);)--d;"."===c.charAt(d-1)&&--d;return c.substr(0,d)};n=function(c,e){var d;d=c.toFixed(e);return x(d)};r=function(c){var e,d;e=c.command;d=c.params;var g,f,h;h=[];g=0;for(f=d.length;g<f;g++)c=d[g],h.push(n(c,6));return e+" "+h.join(" ")};u=function(c,
e){var d,g,f,h;d=c.command;g=c.params;f=e[0];h=e[1];switch(d){case "M":return[g[0],g[1]];case "L":return[g[0],g[1]];case "H":return[g[0],h];case "V":return[f,g[0]];case "Z":return null;case "C":return[g[4],g[5]];case "S":return[g[2],g[3]];case "Q":return[g[2],g[3]];case "T":return[g[0],g[1]];case "A":return[g[5],g[6]]}};d=function(c,e){return function(d){var g;g="object"===typeof d?c.map(function(c){return d[c]}):arguments;return e.apply(null,g)}};e=function(e){return l(g(c,e))};return{moveto:d(["x",
"y"],function(c,d){return e({command:"M",params:[c,d]})}),lineto:d(["x","y"],function(c,d){return e({command:"L",params:[c,d]})}),hlineto:d(["x"],function(c){return e({command:"H",params:[c]})}),vlineto:d(["y"],function(c){return e({command:"V",params:[c]})}),closepath:function(){return e({command:"Z",params:[]})},curveto:d("x1 y1 x2 y2 x y".split(" "),function(c,d,g,f,u,h){return e({command:"C",params:[c,d,g,f,u,h]})}),smoothcurveto:d(["x2","y2","x","y"],function(c,d,g,f){return e({command:"S",params:[c,
d,g,f]})}),qcurveto:d(["x1","y1","x","y"],function(c,d,g,f){return e({command:"Q",params:[c,d,g,f]})}),smoothqcurveto:d(["x","y"],function(c,d){return e({command:"T",params:[c,d]})}),arc:d("rx ry xrot large_arc_flag sweep_flag x y".split(" "),function(c,d,g,f,u,h,n){return e({command:"A",params:[c,d,g,f,u,h,n]})}),print:function(){return c.map(r).join(" ")},points:function(){var e,d,g,f,n,h;h=[];n=[0,0];e=function(){var c;if(n=c=u(g,n))return h.push(c)};d=0;for(f=c.length;d<f;d++)g=c[d],e();return h},
instructions:function(){return c.slice(0,c.length)},connect:function(c){var e,d;d=this.points().slice(-1)[0];e=c.points()[0];c=c.instructions().slice(1);f(d,e)||c.unshift({command:"L",params:e});return l(this.instructions().concat(c))}}};return function(){return l()}})}).call(this);
define("geometry",[],function(){return{circle:{tenth:.2*Math.PI,eighth:.25*Math.PI,quarter:.5*Math.PI,half:Math.PI,whole:2*Math.PI,getPointOnCircumference:function(l,d,f,c){return{x:l+f*Math.sin(c),y:d+-f*Math.cos(c)}},getAngle:function(l,d,f){f="undefined"===typeof f?this.whole:f;return f/d*l}}}});
define("circle-segment",["svg-js","path","geometry"],function(l,d,f){l.CircleSegment=l.invent({create:"path",inherit:l.Path,construct:{circleSegment:function(c,e,u,r,g){var n=f.circle.getPointOnCircumference(c,e,u,r),x=f.circle.getPointOnCircumference(c,e,u,g);r=g-r>Math.PI?1:0;c=d().moveto(c,e).lineto(n.x,n.y).arc(u,u,0,r,1,x.x,x.y).closepath().print();return this.put(new l.CircleSegment).attr({d:c})}}});return{}});
define("configuration-builder",[],function(){return function(l){var d={};l.forEach(function(f){for(var c in f)f.hasOwnProperty(c)&&(d[c]=f[c])});return d}});
define("float",[],function(){return{left:function(){var l=0,d=0,f=0,c=this.xPadding,e=this.yPadding,u=this.flowWidth;this.children().forEach(function(r,g){var n=r.bbox();n.height+d>f&&(f=n.height+d);l+n.width>u&&(l=0,d=f+e);r.move(l,d);l+=n.width+c})},right:function(){var l=this.flowWidth,d=0,f=0,c=this.xPadding,e=this.yPadding,u=this.flowWidth;this.children().forEach(function(r,g){var n=r.bbox();n.height+d>f&&(f=n.height+d);0>l-n.width&&(l=u,d=f+e);l-=n.width;r.move(l,d);l-=c})}}});
define("grid",[],function(){function l(d){var f={height:0,width:0};d.forEach(function(c){c=c.bbox();c.width>f.width&&(f.width=c.width);c.height>f.height&&(f.height=c.height)});return f}return{left:function(){var d=l(this.children()),f=Math.floor((this.flowWidth+this.xPadding)/(d.width+this.xPadding));1>f&&(f=1);var c=this.xPadding,e=this.yPadding;this.children().forEach(function(u,r){u.move(r%f*(d.width+c),Math.floor(r/f)*(d.height+e))})},right:function(){var d=l(this.children()),f=Math.floor((this.flowWidth+
this.xPadding)/(d.width+this.xPadding));1>f&&(f=1);var c=this.xPadding,e=this.yPadding,u=this.flowWidth;this.children().forEach(function(r,g){var n=Math.floor(g/f),l=u-g%f*(c+d.width)-r.bbox().width;r.move(l,n*(d.height+e))})}}});
define("center",[],function(){function l(d){var f=[];d.forEach(function(c){f.push(c.bbox().width)});return f.reduce(function(c,e){return c+e})}return function(){var d=l(this.children())+this.xPadding*(this.children().length-1),f=this.flowWidth/2-d/2,c=this.xPadding;this.children().forEach(function(e){e.move(f,0);f+=e.bbox().width+c})}});
define("flow",["svg-js","float","grid","center"],function(l,d,f,c){l.Flow=l.invent({create:"g",inherit:l.G,extend:{setWidth:function(c){this.flowWidth=c;return this},setPadding:function(c,d){this.xPadding=c;this.yPadding=d;return this},floatLeft:d.left,floatRight:d.right,gridLeft:f.left,gridRight:f.right,center:c},construct:{flow:function(c,d,f){return this.put(new l.Flow).setWidth(c).setPadding(d,f)}}})});
define("key",["flow","float","grid","svg-js"],function(l,d,f,c){return function(c,d,f,g,n,l){var p={INDICATOR_SIZE:13,TITLE_PADDING_LEFT:7,KEY_ITEM_PADDING_LEFT:10,PADDING_TOP:20,PADDING_RIGHT:20,PADDING_BOTTOM:20,PADDING_LEFT:20},q=c.group().addClass("fm-key");q.configuration=p;var w=c.line(0,0,d,0).addClass("fm-key-top-border"),v,z=!1;q.backgroundColorClass="fm-datum-color-neutral";q.setValues=function(h,f){q.keyItems&&(z=!0,q.keyItems.clear(),q.keyItems=c.flow(d-p.PADDING_RIGHT-p.PADDING_LEFT,
p.KEY_ITEM_PADDING_LEFT,p.PADDING_BOTTOM).addClass("fm-key-items"));q.keyItems=c.flow(d-p.PADDING_RIGHT-p.PADDING_LEFT,p.KEY_ITEM_PADDING_LEFT,p.PADDING_BOTTOM).addClass("fm-key-items");h.forEach(function(b,k){var d=c.group(),a=c.text(b).move(p.INDICATOR_SIZE+p.TITLE_PADDING_LEFT,0).addClass("fm-key-value-title"),m=c.rect(p.INDICATOR_SIZE,p.INDICATOR_SIZE).addClass("fm-key-value-indicator");l&&k==h.length-1?m.addClass("fm-datum-color-overflow"):f&&f[k]?m.attr({fill:f[k]}):m.addClass(g[k]);d.add(a);
d.add(m);q.keyItems.add(d)});q.keyItems.gridLeft();var b=q.keyItems.bbox().height+p.PADDING_TOP+p.PADDING_BOTTOM;z?q.background.attr("height",b):q.background=c.rect(d,b).addClass("fm-key-background "+q.backgroundColorClass);v=c.flow(d,100,100);v.add(q.keyItems);v.center();v.move(0,p.PADDING_TOP);q.add(q.background);q.add(w);q.add(v)};q.clearItems=function(){q.keyItems.clear()};q.setValues(f,n);return q}});
define("configuration",["circle-segment","configuration-builder","key"],function(l,d,f){return d([l,{ASPECT_RATIO:2/3,ASPECT_RATIO_BREAKPOINT:4/3,MAX_HEIGHT:600,MIN_RADIUS:100,DEBOUNCE_TIMEOUT:200,MIN_RADIANS:Math.PI/20,SPILLOVER_TOP:50,SPILLOVER_RIGHT:15,SPILLOVER_BOTTOM:50,SPILLOVER_LEFT:.15,PADDING_FOR_LABELS:70,OVERFLOW_SPREAD:6,OVERFLOW_INNER_RADIUS:1.2,OVERFLOW_OUTER_RADIUS:1.36,BRACKET_INNER_RADIUS_ADJUST:.03,BRACKET_MIDDLE_RADIUS_ADJUST:.1,BRACKET_OUTER_RADIUS_ADJUST:.15,TOOLTIP_DISTANCE_FROM_CIRCUMFERENCE:3,
KEY_TOP_MARGIN:30,KEY_LEFT_MARGIN:20}])});
define("dashed-bracket",["svg-js","path","geometry"],function(l,d,f){l.DashedBracket=l.invent({create:"path",inherit:l.Path,extend:{},construct:{dashedBracket:function(c,e,u,r,g,n,x){f.circle.getPointOnCircumference(c,e,u,n);f.circle.getPointOnCircumference(c,e,u,x);var p=f.circle.getPointOnCircumference(c,e,r,n),q=f.circle.getPointOnCircumference(c,e,r,x),w=f.circle.getPointOnCircumference(c,e,g,n);g=f.circle.getPointOnCircumference(c,e,g,x);var v=f.circle.getPointOnCircumference(c,e,r,x-(x-n)/2);
c=f.circle.getPointOnCircumference(c,e,u,x-(x-n)/2);r=d().moveto(w.x,w.y).lineto(p.x,p.y).arc(r,r,0,x-n>Math.PI?1:0,1,q.x,q.y).lineto(g.x,g.y).moveto(v.x,v.y).lineto(c.x,c.y).print();return this.put(new l.DashedBracket).attr({d:r}).addClass("fm-dashed-bracket")}}})});
define("doughnut-segment",["svg-js","path","geometry"],function(l,d,f){l.DoughnutSegment=l.invent({create:"path",inherit:l.Path,construct:{doughnutSegment:function(c,e,u,r,g,n){var x=f.circle.getPointOnCircumference(c,e,u,g),p=f.circle.getPointOnCircumference(c,e,u,n),q=f.circle.getPointOnCircumference(c,e,r,n);c=f.circle.getPointOnCircumference(c,e,r,g);g=n-g>Math.PI?1:0;u=d().moveto(x.x,x.y).arc(u,u,0,g,1,p.x,p.y).lineto(q.x,q.y).arc(r,r,0,g,0,c.x,c.y).closepath().print();return this.put(new l.DoughnutSegment).attr({d:u})}}});
return{}});
define("number",[],function(){return{roundToOrder:function(l,d,f){function c(e,d){var r=Math.abs(e);r>=Math.pow(10,f)?(e=c(e/10,d),e*=10):r<Math.pow(10,f-1)?(e*=10,e=c(e,d),e/=10):(r=Math.round(e/d)*d,0===r&&(f++,r=c(e,d)),e=r);return parseFloat(e.toPrecision(f+1))}l=parseFloat(l);if(0==l)return 0;f||(f=2);return 1===d?parseFloat(l.toPrecision(f)):c(l,d)},renderValue:function(l){function d(e){if(0==e)return 0;if(1<=e&&1E3>e)return e;if(1>e)return c-=3,d(1E3*e);if(1E3<=e)return c+=3,d(e/1E3)}if(0===
l)return"0";if(!l)return"";var f=1;0>l&&(f=-1,l*=-1);l=this.roundToOrder(l,1,3);var c=0,e=new String(f*d(l));return 3==c?e+"k":6==c?e+"m":9==c?e+"bn":12==c?e+" trillion":new String(f*l)},getDataTotal:function(l){for(var d=0,f=0;f<l.length;f++)d+=l[f].value;return d},getAngle:function(l,d,f){f="undefined"===typeof f?Circle.whole:f;return f/d*l},getFactor:function(l){for(var d=l-1;1<d;d--){var f=l/d;if(parseInt(f)==f)return d}return l}}});
define("scale",[],function(){function l(c,e,d){var f=0>e*c,g;g=(e-c)/(d-1);var n=Math.floor(Math.log(g)/Math.LN10),n=Math.pow(10,n);g=Math.ceil(g/n)*n;if(f){d=[];for(f=0;f<e;f+=g)d.push(f);d.push(f);for(f=-g;f>c;f-=g)d.unshift(f);d.unshift(f);e=d}else for(f=g*d,f>e&&(c=0<=c&&c<g?0:c-(f-(e-c))/2),e=[];e.length<d+1;)e.push(c),c+=g;return e}var d=function(){this.range=this.domain=null};d.prototype.map=function(c){c=this.domain.getProportion(c);return this.range.getValue(c)};var f=0;return function(){return{withIncrements:function(c){f=
c;return this},project:function(c){var e=new d;e.domain=c;return{onto:function(c){e.range=c;return e}}},domains:{RealNumbers:function(c,e){0<f?(this.increments=l(c,e,f,!1),this.min=this.increments[0],this.max=this.increments[this.increments.length-1]):(this.min=c,this.max=e);this.getProportion=function(c){return(c-this.min)/(this.max-this.min)};return this}},ranges:{Angle:function(c,e){void 0===c&&(c=0);void 0===e&&(e=2*Math.PI);this.getValue=function(d){d=c+(e-c)*d;if(d>2*Math.PI)d=d%2*Math.PI;else if(0>
d)for(;0>d;)d+=2*Math.PI;return d};return this},Chromatic:{},Linear:function(c,e){if(void 0===c||void 0===e)throw"Both start and end points must be defined for linear scales.";this.getValue=function(d){return c+(e-c)*d};return this},Logarithmic:{},PointOnPath:{}}}}});
define("tooltip-background",["svg-js","path"],function(l,d){l.TooltipBackground=l.invent({create:"path",inherit:l.Path,extend:{setConfiguration:function(d){this.configuration=d;return this}},construct:{tooltipBackground:function(f,c,e){function u(){var b=[],d=c-2*h.BORDER_RADIUS;b.push({x:-h.ARROW_THICKNESS/2,y:h.ARROW_LENGTH});b.push({x:-d/2,y:h.ARROW_LENGTH});b.push({x:-c/2,y:h.ARROW_LENGTH});b.push({x:-c/2,y:h.ARROW_LENGTH+h.BORDER_RADIUS});b.push({x:-c/2,y:h.ARROW_LENGTH+h.BORDER_RADIUS+A});b.push({x:-c/
2,y:h.ARROW_LENGTH+e});b.push({x:-c/2+h.BORDER_RADIUS,y:h.ARROW_LENGTH+e});b.push({x:d/2,y:h.ARROW_LENGTH+e});b.push({x:c/2,y:h.ARROW_LENGTH+e});b.push({x:c/2,y:h.ARROW_LENGTH+h.BORDER_RADIUS+A});b.push({x:c/2,y:h.ARROW_LENGTH+h.BORDER_RADIUS});b.push({x:c/2,y:h.ARROW_LENGTH});b.push({x:d/2,y:h.ARROW_LENGTH});b.push({x:h.ARROW_THICKNESS/2,y:h.ARROW_LENGTH});return b}function r(){var b=[];b.push({x:h.ARROW_LENGTH,y:-.5*h.ARROW_THICKNESS});b.push({x:h.ARROW_LENGTH,y:-.5*A});b.push({x:h.ARROW_LENGTH,
y:-.5*e});b.push({x:h.ARROW_LENGTH+h.BORDER_RADIUS,y:-.5*e});b.push({x:h.ARROW_LENGTH+c-h.BORDER_RADIUS,y:-.5*e});b.push({x:h.ARROW_LENGTH+c,y:-.5*e});b.push({x:h.ARROW_LENGTH+c,y:-.5*A});b.push({x:h.ARROW_LENGTH+c,y:.5*A});b.push({x:h.ARROW_LENGTH+c,y:.5*e});b.push({x:h.ARROW_LENGTH+c-h.BORDER_RADIUS,y:.5*e});b.push({x:h.ARROW_LENGTH+h.BORDER_RADIUS,y:.5*e});b.push({x:h.ARROW_LENGTH,y:.5*e});b.push({x:h.ARROW_LENGTH,y:.5*A});b.push({x:h.ARROW_LENGTH,y:.5*h.ARROW_THICKNESS});return b}function g(){var b=
[],d=c-2*h.BORDER_RADIUS;b.push({x:-h.ARROW_THICKNESS/2,y:h.ARROW_LENGTH});b.push({x:-d/2,y:h.ARROW_LENGTH});b.push({x:-c/2,y:h.ARROW_LENGTH});b.push({x:-c/2,y:h.ARROW_LENGTH+h.BORDER_RADIUS});b.push({x:-c/2,y:h.ARROW_LENGTH+h.BORDER_RADIUS+A});b.push({x:-c/2,y:h.ARROW_LENGTH+e});b.push({x:-c/2+h.BORDER_RADIUS,y:h.ARROW_LENGTH+e});b.push({x:c/2,y:h.ARROW_LENGTH+e});b.push({x:c/2,y:h.ARROW_LENGTH});b.push({x:h.ARROW_THICKNESS/2,y:h.ARROW_LENGTH});return b}function n(){var b=[];b.push({x:h.ARROW_LENGTH,
y:-.5*h.ARROW_THICKNESS});b.push({x:h.ARROW_LENGTH,y:-.5*A});b.push({x:h.ARROW_LENGTH,y:-.5*e});b.push({x:h.ARROW_LENGTH+h.BORDER_RADIUS,y:-.5*e});b.push({x:h.ARROW_LENGTH+c,y:-.5*e});b.push({x:h.ARROW_LENGTH+c,y:.5*e});b.push({x:h.ARROW_LENGTH+h.BORDER_RADIUS,y:.5*e});b.push({x:h.ARROW_LENGTH,y:.5*e});b.push({x:h.ARROW_LENGTH,y:.5*A});b.push({x:h.ARROW_LENGTH,y:.5*h.ARROW_THICKNESS});return b}function x(){var b=[];b.push({x:-c+h.BORDER_RADIUS,y:0});b.push({x:-c,y:0});b.push({x:-c,y:h.BORDER_RADIUS});
b.push({x:-c,y:e-h.BORDER_RADIUS});b.push({x:-c,y:e});b.push({x:-c+h.BORDER_RADIUS,y:e});b.push({x:0,y:e});return b}function p(b){return d().moveto(0,0).lineto(b[0].x,b[0].y).lineto(b[1].x,b[1].y).smoothcurveto(b[2].x,b[2].y,b[3].x,b[3].y).lineto(b[4].x,b[4].y).smoothcurveto(b[5].x,b[5].y,b[6].x,b[6].y).lineto(b[7].x,b[7].y).smoothcurveto(b[8].x,b[8].y,b[9].x,b[9].y).lineto(b[10].x,b[10].y).smoothcurveto(b[11].x,b[11].y,b[12].x,b[12].y).lineto(b[13].x,b[13].y).closepath().print()}function q(b){return d().moveto(0,
0).lineto(b[0].x,b[0].y).lineto(b[1].x,b[1].y).smoothcurveto(b[2].x,b[2].y,b[3].x,b[3].y).lineto(b[4].x,b[4].y).smoothcurveto(b[5].x,b[5].y,b[6].x,b[6].y).lineto(b[7],b[7]).smoothcurveto(b[8].x,b[8].y,b[9].x,b[9].y).lineto(b[10].x,b[10].y).smoothcurveto(b[11].x,b[11].y,b[12].x,b[12].y).lineto(b[13].x,b[13].y).closepath().print()}function w(b){return d().moveto(0,0).lineto(b[0].x,b[0].y).smoothcurveto(b[1].x,b[1].y,b[2].x,b[2].y).lineto(b[3].x,b[3].y).smoothcurveto(b[4].x,b[4].y,b[5].x,b[5].y).lineto(b[6].x,
b[6].y).closepath().print()}function v(b){return d().moveto(0,0).lineto(b[0].x,b[0].y).lineto(b[1].x,b[1].y).smoothcurveto(b[2].x,b[2].y,b[3].x,b[3].y).lineto(b[4].x,b[4].y).smoothcurveto(b[5].x,b[5].y,b[6].x,b[6].y).lineto(b[7].x,b[7].y).lineto(b[8].x,b[8].y).lineto(b[9].x,b[9].y).lineto(0,0).print()}function z(b){return d().moveto(0,0).lineto(b[0].x,b[0].y).lineto(b[1].x,b[1].y).smoothcurveto(b[2].x,b[2].y,b[3].x,b[3].y).lineto(b[4].x,b[4].y).lineto(b[5].x,b[5].y).lineto(b[6].x,b[6].y).smoothcurveto(b[7].x,
b[7].y,b[8].x,b[8].y).lineto(b[9].x,b[9].y).closepath().print()}var h={ARROW_LENGTH:7,ARROW_THICKNESS:10,BORDER_RADIUS:5},A=e-2*h.BORDER_RADIUS,b,y=new l.TooltipBackground;if("singleTop"==f||"singleBottom"==f)b=u(),b=p(b);else if("singleLeft"==f||"singleRight"==f)b=r(),b=q(b);else if("leftSection"==f||"rightSection"==f)b=x(),b=w(b);else if("leftSectionWithTopArrow"==f||"rightSectionWithBottomArrow"==f||"rightSectionWithTopArrow"==f||"leftSectionWithBottomArrow"==f)b=g(),b=v(b);else if("leftSectionWithLeftArrow"==
f||"rightSectionWithRightArrow"==f)b=n(),b=z(b);y.attr({d:b}).addClass("fm-tooltip-background").setConfiguration(h);"singleRight"==f||"rightSection"==f||"rightSectionWithRightArrow"==f||"rightSectionWithTopArrow"==f?y.scale(-1,1):"singleBottom"==f||"leftSectionWithBottomArrow"==f?y.scale(1,-1):"rightSectionWithBottomArrow"==f&&y.scale(-1,-1);return y}}})});define("G.unshift",["svg-js"],function(l){l.extend(l.G,{unshift:function(d){this.node.insertBefore(d.node,this.children()[0].node)}})});
define("tooltip",["svg-js","tooltip-background","G.unshift"],function(l,d,f){return function(c,e,d,f){var g={PADDING:7,ICON_SPACING:9},n=c.group().addClass("fm-tooltip");n.configuration=g;n.mainTextObject=c.text(""+e);n.add(n.mainTextObject);e=n.mainTextObject.bbox();var l=e.width+2*g.PADDING,p=e.height+2*g.PADDING,q=0,w=0;f&&(p=f.bbox(),q=p.width,w=p.height,l=e.width+q+2*g.ICON_SPACING+g.PADDING,p=Math.max(w,e.height)+2*g.PADDING,n.add(f));var v;switch(d){case "left":v="singleLeft";break;case "right":v=
"singleRight";break;case "top":v="singleTop";break;case "bottom":v="singleBottom";break;default:v="singleLeft"}n.background=c.tooltipBackground(v,l,p);n.unshift(n.background);"left"==d?(c=n.background.configuration.ARROW_LENGTH,f?(c+=g.ICON_SPACING,f.move(c,-w/2),c+=q+g.ICON_SPACING):c+=g.PADDING,n.mainTextObject.move(c,-e.height/2)):"right"==d?(c=-n.background.configuration.ARROW_LENGTH,f?(c-=g.ICON_SPACING,f.move(c-q,-w/2),c-=q+g.ICON_SPACING):c-=g.PADDING,n.mainTextObject.attr({"text-anchor":"end"}),
n.mainTextObject.move(c,-e.height/2)):"top"==d?(c=-g.PADDING,f?(c+=g.ICON_SPACING,f.move(c,-w/2),c+=q+g.ICON_SPACING):c+=g.PADDING,n.mainTextObject.attr({"text-anchor":"middle"}),n.mainTextObject.move(c,n.background.configuration.ARROW_LENGTH+e.height/2)):"bottom"==d&&(c=-g.PADDING,f?(c+=g.ICON_SPACING,f.move(c,-w/2),c+=q+g.ICON_SPACING):c+=g.PADDING,n.mainTextObject.attr({"text-anchor":"middle"}),n.mainTextObject.move(c,-n.background.configuration.ARROW_LENGTH-e.height/2-p/2));return n}});
define("two-section-tooltip",["svg-js","tooltip-background","G.unshift"],function(l,d,f){return function(c,e,d,f){var g=c.group().addClass("fm-tooltip");d=d?d:"";g.mainTextObject=c.text(""+e);g.secondaryTextObject=c.text(""+d);g.background=c.group();g.add(g.mainTextObject);g.add(g.secondaryTextObject);g.unshift(g.background);e=g.mainTextObject.bbox();d=g.secondaryTextObject.bbox();var n=Math.max(e.height,d.height)+14,l=e.width+14,p=d.width+14,q=0;"left"==f?(g.background.leftSection=c.tooltipBackground("leftSectionWithLeftArrow",
l,n),g.background.rightSection=c.tooltipBackground("rightSection",p,n).move(-(p+l+g.background.leftSection.configuration.ARROW_LENGTH+1),-n/2),g.background.add(g.background.leftSection),g.background.add(g.background.rightSection),q=q+g.background.leftSection.configuration.ARROW_LENGTH+7,g.mainTextObject.move(q,-e.height/2),q=q+14+1+e.width,g.secondaryTextObject.move(q,-e.height/2)):"right"==f?(g.background.leftSection=c.tooltipBackground("leftSection",l,n),g.background.rightSection=c.tooltipBackground("rightSectionWithRightArrow",
p,n),g.background.leftSection.move(-g.background.leftSection.configuration.ARROW_LENGTH-p-l-1,-n/2),g.background.add(g.background.leftSection),g.background.add(g.background.rightSection),q=q-g.background.rightSection.configuration.ARROW_LENGTH-7,g.secondaryTextObject.attr({"text-anchor":"end"}),g.secondaryTextObject.move(q,-d.height/2),q=q-14-1-d.width,g.mainTextObject.attr({"text-anchor":"end"}),g.mainTextObject.move(q,-e.height/2)):"topLeft"==f?(g.background.leftSection=c.tooltipBackground("leftSectionWithTopArrow",
l,n),g.background.rightSection=c.tooltipBackground("rightSection",p,n).move(-(l/2+1+p),g.background.leftSection.configuration.ARROW_LENGTH),g.background.add(g.background.leftSection),g.background.add(g.background.rightSection),c=-Math.max(e.height,d.height)/2+g.background.leftSection.configuration.ARROW_LENGTH+n/2,g.mainTextObject.attr({"text-anchor":"middle"}),g.mainTextObject.move(q,c),g.secondaryTextObject.move(q+l/2+1+7,c)):"bottomLeft"==f?(g.background.leftSection=c.tooltipBackground("leftSectionWithBottomArrow",
l,n),g.background.rightSection=c.tooltipBackground("rightSection",p,n).move(-(l/2+1+p),-n-g.background.leftSection.configuration.ARROW_LENGTH),g.background.add(g.background.leftSection),g.background.add(g.background.rightSection),c=-Math.max(e.height,d.height)/2-g.background.leftSection.configuration.ARROW_LENGTH-n/2,g.mainTextObject.attr({"text-anchor":"middle"}),g.mainTextObject.move(q,c),q=q+l/2+d.width+7+1,g.secondaryTextObject.attr({"text-anchor":"end"}),g.secondaryTextObject.move(q,c)):"bottomRight"==
f?(g.background.leftSection=c.tooltipBackground("leftSection",l,n).move(-p/2-1-l,0),g.background.leftSection.translate(0,-g.background.leftSection.configuration.ARROW_LENGTH-n),g.background.rightSection=c.tooltipBackground("rightSectionWithBottomArrow",p,n),g.background.add(g.background.leftSection),g.background.add(g.background.rightSection),c=-Math.max(e.height,d.height)/2-g.background.leftSection.configuration.ARROW_LENGTH-n/2,g.secondaryTextObject.attr({"text-anchor":"middle"}),g.secondaryTextObject.move(q,
c),q=q-p/2-1-e.width-7,g.mainTextObject.move(q,c)):"topRight"==f&&(g.background.leftSection=c.tooltipBackground("leftSection",l,n).move(-p/2-1-l,0),g.background.leftSection.translate(0,g.background.leftSection.configuration.ARROW_LENGTH),g.background.rightSection=c.tooltipBackground("rightSectionWithTopArrow",p,n),g.background.add(g.background.leftSection),g.background.add(g.background.rightSection),c=-Math.max(e.height,d.height)/2+g.background.leftSection.configuration.ARROW_LENGTH+n/2,g.secondaryTextObject.attr({"text-anchor":"middle"}),
g.secondaryTextObject.move(q,c),q=q-p/2-1-e.width-7,g.mainTextObject.move(q,c));g.unshift(g.background);return g}});
define("utilities",["configuration","geometry","number","two-section-tooltip"],function(l,d,f,c){return{checkBBoxFitsInSegment:function(c,d,f,g,n,l){c=c.bbox();var p=!1;[{x:c.x,y:c.y},{x:c.x2,y:c.y},{x:c.x,y:c.y2},{x:c.x2,y:c.y2}].forEach(function(c){if(!p){var e=c.x-f;c=c.y-g;var v=Math.atan2(e,-c);0>v&&(v+=2*Math.PI);v>l||v<n?p=!0:Math.sqrt(Math.pow(e,2)+Math.pow(c,2))>d.radius&&(p=!0)}});return p},createSegmentLabel:function(c,d,f,g,n,l,p){d+=3*c.radius/5*Math.sin(g);f-=3*c.radius/5*Math.cos(g);
p.bbox();n=c.chart.text(n).move(d,f).addClass("fm-segment-label");p=n.bbox();n.move(d,f-p.height);l=c.chart.text(l).move(d,f).addClass("fm-segment-label");l.attr({y:p.y2-p.height});c=c.chart.group().attr({"pointer-events":"none"});c.add(n);c.add(l);return c},drawBackground:function(c,d,f,g,n){c=c.rect(d,f);c.move(g,n);c.attr({opacity:"0"});return c},drawTestRegions:function(c,d){c.rect(d.drawRegions.pieArea.width,d.drawRegions.pieArea.height).move(d.drawRegions.pieArea.x,d.drawRegions.pieArea.y);
c.rect(d.drawRegions.keyArea.width,d.drawRegions.keyArea.height).move(d.drawRegions.keyArea.x,d.drawRegions.keyArea.y).attr({fill:"blue"})},getApproximateKeyColumnWidth:function(c,d){var f=0;d.forEach(function(d){d=c.text(""+d.title).addClass("fm-key-value-title");var n=d.bbox().width;d.remove();n>f&&(f=n)});f+=70},getMaxTooltipDimensions:function(d,f){var l=d.group();f.forEach(function(f,g){l.add(c(d,0,0,f.title,f.renderedValue,"left"))});var g=l.bbox();l.remove();return{height:g.height,width:g.width}},
getOverflowItemCount:function(c,f){var r=0;c.forEach(function(c){d.circle.getAngle(c.value,f)<=l.MIN_RADIANS&&r++});return r},processOverflowData:function(c,u,r){var g=[],n=[];c.forEach(function(c,e){2>r||d.circle.getAngle(c.value,u)>l.MIN_RADIANS?g.push(c):n.push(c)});g.sort(function(c,d){return d.value-c.value});n.sort(function(c,d){return d.value-c.value});0<n.length&&(c=f.getDataTotal(n),g.push({title:"Other",value:c,overflow:n}));return g},setDefaultOptions:function(c){c.valuePrefix=c.valuePrefix?
c.valuePrefix:"";c.valueSuffix=c.valueSuffix?c.valueSuffix:"";c.showInnerLabels="true"===c.showInnerLabels?!0:!1;c.useOuterLabels="true"===c.useOuterLabels?!0:!1;c.hideKey="true"===c.hideKey?!0:!1;return c}}});define("G.move",["svg-js"],function(l){l.extend(l.G,{move:function(d,f){this.node.setAttribute("transform","translate("+d+" "+f+")")}})});
define("chart","circle-segment configuration dashed-bracket doughnut-segment geometry key number path scale svg-js tooltip two-section-tooltip utilities G.move".split(" "),function(l,d,f,c,e,u,r,g,n,x,p,q,w){function v(c,d,b){var e=d.chart.text(c.overflow?c.title:c.title+": "+c.value).addClass("fm-external-details");c.colorOverride?e.attr({fill:c.colorOverride.morph("#000").at(.45).toHex()}):e.addClass(c.colorClass);c=e.bbox();b=b.bbox();e.move(d.layout.drawRegions.pieArea.width/2-c.width/2,b.y2);
d.chart.externalDetails=e}function z(c,f){var b=f.layout.drawRegions.pieArea.x+f.layout.drawRegions.pieArea.width/2,g=f.layout.drawRegions.pieArea.y+f.layout.drawRegions.pieArea.height/2,k=(c.startAngle+c.endAngle)/2;c.endAngle<c.startAngle&&(k+=Math.PI);var b=e.circle.getPointOnCircumference(b,g,c.isOuterSegment?f.radius*d.OVERFLOW_OUTER_RADIUS+d.TOOLTIP_DISTANCE_FROM_CIRCUMFERENCE:f.radius+d.TOOLTIP_DISTANCE_FROM_CIRCUMFERENCE,k),n;c.overflow?n="bottom":k<e.circle.eighth||k>=7*e.circle.eighth?n=
k<=1*Math.PI/4?"bottomLeft":"bottomRight":k>=e.circle.eighth&&k<3*e.circle.eighth?n="left":k>=3*e.circle.eighth&&k<5*e.circle.eighth?n=k<=e.circle.half?"topLeft":"topRight":k>=5*e.circle.eighth&&k<7*e.circle.eighth&&(n="right");k="top"==n||"bottom"==n?p(f.chart,c.title,n):q(f.chart,c.title,c.value,n,c.colorOverride?c.colorOverride:null);c.overflow?k.background.addClass(c.colorClass):c.colorOverride?(k.background.leftSection.attr({fill:c.colorOverride}),k.background.rightSection.attr({fill:c.colorOverride.morph("#fff").at(.4).toHex()})):
(k.background.leftSection.addClass(c.colorClass),k.background.rightSection.addClass(c.colorClass+" tint-5"));k.move(b.x,b.y);f.chart.tooltip=k}return{applyMouseEventHandlers:function(c,d,b,e,f,g,a){function m(){f.each(function(){this.isCurrentlyActive=!1})}e.click(function(){b.transition("Neutral")});var n=function(){if(this.isCurrentlyActive||b.isInState("ShowOverflowAndDataInKey"))b.transition("Neutral");else{m();this.isCurrentlyActive=!0;var a={title:this.title,body:this.details,colorClass:this.colorClass,
colorOverride:this.colorOverride};this.isOuterSegment?b.transition("ShowingOverflowAndDataInKey",a):b.transition("ShowingDataInKey",a)}};e=function(){b.isInState("ShowingOverflow")?b.transition("Neutral"):b.transition("ShowingOverflow")};f.each(function(){!this.details&&!this.overflow||d.options.hideKey&&!this.overflow?this.addClass("click-disabled"):this.click(n);this.on("mouseover",function(){d.options.useOuterLabels?v(this,d,f):z(this,d,b)});this.on("mouseout",function(){d.options.useOuterLabels?
d.chart.externalDetails.remove():d.chart.tooltip.remove()})});c[c.length-1].hasOwnProperty("overflow")&&f.get(c.length-1).click(e);g.each(function(){!this.details&&!this.overflow||d.options.hideKey?this.addClass("click-disabled"):this.click(n);this.on("mouseover",function(){d.options.useOuterLabels?v(this,d,f):z(this,d,b)});this.on("mouseout",function(){d.options.useOuterLabels?d.chart.externalDetails.remove():d.chart.tooltip.remove()})})},drawDashedBracket:function(c){return c.chart.dashedBracket(c.layout.drawRegions.pieArea.x+
c.layout.drawRegions.pieArea.width/2,c.layout.drawRegions.pieArea.y+c.layout.drawRegions.pieArea.height/2,c.radius+c.radius*d.BRACKET_INNER_RADIUS_ADJUST,c.radius+c.radius*d.BRACKET_MIDDLE_RADIUS_ADJUST,c.radius+c.radius*d.BRACKET_OUTER_RADIUS_ADJUST,c.overflowValueScaleStart,c.overflowValueScaleEnd).addClass("fm-hidden")},drawInnerSegments:function(c,d){var b=d.chart.group(),e,f=0,g=d.layout.drawRegions.pieArea.x+d.layout.drawRegions.pieArea.width/2,a=d.layout.drawRegions.pieArea.y+d.layout.drawRegions.pieArea.height/
2,m=!0;c.forEach(function(c,h){e=f;f+=c.value;var n=d.valueScale.map(e),l=d.valueScale.map(f),q=d.chart.circleSegment(g,a,d.radius,n,l).addClass("fm-segment fm-inner-segment");q.title=c.title;q.value=c.renderedValue;q.details=c.details;q.startAngle=n;q.endAngle=l;var p=(n+l)/2,r;c.hasOwnProperty("overflow")?(r="fm-datum-color-overflow",q.overflow=!0):r=d.colorClasses[h];c.hasOwnProperty("colorOverride")?(q.colorOverride=new x.Color(c.colorOverride),q.attr("fill",c.colorOverride)):(q.addClass(r),q.colorClass=
r);d.options.showInnerLabels&&m&&(p=w.createSegmentLabel(d,g,a,p,c.title,c.renderedValue,q),w.checkBBoxFitsInSegment(p,d,g,a,n,l)?(p.remove(),m=!1):q.after(p));b.add(q)});return b},drawKey:function(c,d){var b=[],e=[];c.forEach(function(a,c){b.push(a.title);a.colorOverride&&(e[c]=a.colorOverride)});var f=u(d.chart,d.layout.drawRegions.keyArea.width,b,d.colorClasses,e,c[c.length-1].hasOwnProperty("overflow")),g=d.layout.drawRegions.keyArea.y;"landscape"==d.orientation&&(g+=d.layout.drawRegions.keyArea.height/
2-f.background.bbox().height/2);f.move(d.layout.drawRegions.keyArea.x,g);return f},drawOuterSegments:function(c,e){var b=c[c.length-1].overflow;r.getDataTotal(b);var f=e.chart.group(),g=0;b.forEach(function(b,a){var c=g;g+=b.value;var h=e.layout.drawRegions.pieArea.x+e.layout.drawRegions.pieArea.width/2,n=e.layout.drawRegions.pieArea.y+e.layout.drawRegions.pieArea.height/2,c=e.overflowValueScale.map(c),l=e.overflowValueScale.map(g),h=e.chart.doughnutSegment(h,n,e.radius*d.OVERFLOW_OUTER_RADIUS,e.radius*
d.OVERFLOW_INNER_RADIUS,c,l).addClass("fm-segment fm-outer-segment "+e.colorClasses[a]);h.title=b.title;h.value=b.renderedValue;h.details=b.details;h.startAngle=c;h.endAngle=l;h.colorClass=e.colorClasses[a];h.isOuterSegment=!0;f.add(h)});return f}}});
define("color",[],function(){return{colorWheelClasses:"fm-datum-color-wheel-a fm-datum-color-wheel-b fm-datum-color-wheel-c fm-datum-color-wheel-d fm-datum-color-wheel-e fm-datum-color-wheel-f fm-datum-color-wheel-g fm-datum-color-wheel-h fm-datum-color-wheel-i fm-datum-color-wheel-j fm-datum-color-wheel-k fm-datum-color-wheel-l".split(" "),overflowClass:"fm-datum-color-overflow",pad:function(l){return 2>l.length?"0"+l:l},contrasting:function(l){throw"Not yet implemented";},registerTint1Filter:function(){throw"Not yet implemented";
},registerTint2Filter:function(){throw"Not yet implemented";},lowContrast:function(l,d){d="undefined"===typeof d?0:d;if(l+d>this.colorWheelClasses.length){for(var f=[],c=0;c<l;c++)c<this.colorWheelClasses.length?f.push(this.colorWheelClasses[c]):f.push(this.colorWheelClasses[this.colorWheelClasses.length-c]);return f}return this.colorWheelClasses.splice(d,l)},monochromatic:function(l,d,f){throw"Not yet implemented";},harmonious:function(l){for(var d=Math.min(l,this.colorWheelClasses.length),f=[],
c=Math.floor(this.colorWheelClasses.length/2),e=function(){return 0==this.colorWheelClasses.length%4}.bind(this),u=function(e,g){e=(e+this.colorWheelClasses.length)%this.colorWheelClasses.length;var n=Math.floor(f.length/4)+1;f.length<d&&f.splice(1*n-1,0,e);f.length<d&&f.splice(2*n-1,0,(e+g+1)%this.colorWheelClasses.length);f.length<d&&f.splice(3*n-1,0,(e+c)%this.colorWheelClasses.length);f.length<d&&f.splice(4*n-1,0,(e+g+1+c)%this.colorWheelClasses.length)}.bind(this),r=function(c,d){c=(c+this.colorWheelClasses.length)%
this.colorWheelClasses.length;f.splice(d,0,c)}.bind(this),g=1,n=0;g<=c-2;g+=2,n--)u(n,g);u=f.length/4;f.length<d&&r(1,u);f.length<d&&r(1+c,3*u+1);e()&&(f.length<d&&r(1+c/2,2*u+1),f.length<d&&r(1+3*c/2,4*u+3));e=[];for(r=0;r<l;r++)e.push(this.colorWheelClasses[f[r%d]]);return e}}});
define("mapper",[],function(){var l=function(d){this.keys=d.querySelectorAll("thead > tr > th");this.rows=d.querySelectorAll("tbody > tr")};l.prototype.mapRows=function(d){if("function"!=typeof d)throw new TypeError;for(var f=[],c=0;c<this.keys.length;c++)f.push(this.keys[c].textContent);for(var c=[],e=0;e<this.rows.length;e++){for(var l=this.rows[e],r=[],g=l.classList,n=l.attributes,x=0;x<this.rows[e].children.length;x++)r.push(this.rows[e].children[x].textContent);(l=d(r,e,l,f,g,n))&&c.push(l)}return c};
l.prototype.forEachRows=function(d){if("function"!=typeof d)throw new TypeError;for(var f=[],c=0;c<this.keys.length;c++)f.push(this.keys[c].textContent);for(c=0;c<this.rows.length;c++){for(var e=this.rows[c],l=[],r=e.classList,g=e.attributes,n=0;n<this.rows[c].children.length;n++)l.push(this.rows[c].children[n].textContent);d(l,c,e,f,r,g)}};l.prototype.reduceRows=function(d,f){if("function"!=typeof d)throw new TypeError;"undefined"===typeof f&&(f=0);for(var c=[],e=0;e<this.keys.length;e++)c.push(this.keys[e].textContent);
for(e=0;e<this.rows.length;e++){for(var l=this.rows[e],r=[],g=l.classList,n=l.attributes,x=0;x<this.rows[e].children.length;x++)r.push(this.rows[e].children[x].textContent);f=d(f,r,e,l,c,g,n)}return f};return l});
define("state",[],function(){return{State:function(l,d,f){this.name=l;this.enter=d?d:function(){console.log("No enter() method has been defined for the state "+l)};this.leave=f?f:function(){console.log("No leave() method has been defined for the state "+l)}},StateMachine:function(){this.states=Array.prototype.slice.call(arguments);var l=function(d){var f=!1;this.states.some(function(c,e){if(c.name===d)return this.currentState=c,f=!0}.bind(this));if(f)return!0;throw""+d+" does not exist in this state machine.";
};this.start=function(d){d?l.call(this,d):this.currentState=this.states[0];this.currentState.enter()};this.transition=function(d,f){var c=this.currentState.name;this.currentState.leave(d);l.call(this,d);this.currentState.enter(f,c)};this.isInState=function(d){return this.currentState.name===d}}}});
define("text-area",["svg-js"],function(l){return function(d,f,c,e,l){var r=e.split(/\s+/),g=[],n="";r.forEach(function(c,e){var q=0!=e?n+" "+c:c,w=d.text(q).addClass(l),v=w.bbox().width;w.remove();v<f?(n=q,e==r.length-1&&g.push(n)):(g.push(n),e==r.length-1?g.push(c):n=c)});return d.text(function(d){g.forEach(function(e){var f=d.tspan(e).newLine().addClass(l),g=d.bbox().height;f.node.parentNode.removeChild(f.node);g<=c&&d.tspan(e).newLine().addClass(l)})}).addClass("fm-text-area")}});
define("states",["configuration","key","state","svg-js","text-area"],function(l,d,f,c,e){return function(c,d,g,n,l,p){function q(){var b=c.layout.drawRegions.keyArea.y,b="landscape"==c.orientation?b+(c.layout.drawRegions.keyArea.height/2-p.background.bbox().height/2):b+(c.top+c.height-p.bbox().height);p.move(c.layout.drawRegions.keyArea.x,b)}function w(b){var c=[],d=[];b.forEach(function(a,b){c.push(a.title);a.colorOverride&&(d[b]=a.colorOverride)});p.setValues(c,d);p.background.removeClass(p.backgroundColorClass);
p.background.attr({fill:"none"});p.background.removeClass("tint-9");p.background.addClass("fm-datum-color-neutral");p.backgroundColorClass="fm-datum-color-neutral";q()}function v(b){p.clearItems();p.titleText&&p.titleText.remove();p.bodyText&&p.bodyText.remove();if(b.title&&b.body){var d=p.bbox(),f=c.chart.text(b.title).addClass("fm-key-title"),a=f.bbox();f.move(d.width/2-a.width/2,10);p.add(f);p.titleText=f;d=e(c.chart,d.width-p.configuration.PADDING_LEFT-p.configuration.PADDING_RIGHT,c.layout.drawRegions.keyArea.height-
a.height-50,b.body,"fm-key-body");d.move(p.configuration.PADDING_LEFT,a.y2+10);p.background.height(d.bbox().height+a.height+40);q();p.add(d);p.bodyText=d}p.background.removeClass(p.backgroundColorClass);b.colorOverride?(p.background.attr({fill:b.colorOverride.morph("#fff").at(.65).toHex()}),f.attr({fill:b.colorOverride.morph("#000").at(.45).toHex()})):(p.background.addClass(b.colorClass),p.background.hasClass("tint-9")||p.background.addClass("tint-9"),p.backgroundColorClass=b.colorClass,b.title&&
b.body&&f.addClass(b.colorClass))}var z=new f.State("Neutral");z.enter=function(b,c){g.each(function(){this.isCurrentlyActive=!1});n.addClass("fm-hidden");l.addClass("fm-hidden");c&&"Neutral"!=c&&(p.titleText&&p.titleText.remove(),p.bodyText&&p.bodyText.remove(),w(d))};z.leave=function(){};var h=new f.State("ShowingDataInKey");h.enter=function(b,c){v(b)};h.leave=function(){};var A=new f.State("ShowingOverflow");A.enter=function(){g.each(function(){this.isCurrentlyActive=!1});n.removeClass("fm-hidden");
l.removeClass("fm-hidden");p.titleText&&p.titleText.remove();p.bodyText&&p.bodyText.remove();w(d[d.length-1].overflow)};A.leave=function(b){"ShowingOverflowAndDataInKey"!=b&&(n.addClass("fm-hidden"),l.addClass("fm-hidden"))};var b=new f.State("ShowingOverflowAndDataInKey");b.enter=function(b){v(b)};b.leave=function(b){"ShowingOverflowAndDataInKey"!=b&&(n.addClass("fm-hidden"),l.addClass("fm-hidden"))};return new f.StateMachine(z,h,A,b)}});
define("renderer","chart color configuration geometry number mapper scale states utilities".split(" "),function(l,d,f,c,e,u,r,g,n){return function(c,p,q,w,v,z,h){v=n.setDefaultOptions(v);var A=function(b,c,d,f,a,g){c=parseFloat(b[1].replace(/,([0-9]{3})/g,"$1"));b={title:b[0],details:b[2],value:c,renderedValue:v.valuePrefix+e.renderValue(c)+v.valueSuffix};if(g=g.getNamedItem("data-fm-color"))b.colorOverride=g.value;return b};(function(){var b=(new u(z)).mapRows(A),y=e.getDataTotal(b),k=n.getOverflowItemCount(b,
y),b=n.processOverflowData(b,y,k),C=n.getMaxTooltipDimensions(h,b),a=n.drawBackground(h,q,w,c,p).addClass("fm-whitespace"),m={chart:h,colorClasses:d.harmonious(b.length),height:w,layout:{drawRegions:{}},options:v,radius:m,top:p},m,t,B,D;q/w>=f.ASPECT_RATIO_BREAKPOINT?(m.orientation="landscape",t=.3*q,B=q-t,D=w,C.width>.25*q&&(v.basicMode=!0),m.layout.drawRegions.keyArea={x:c+q-t,y:p,width:t,height:w},m.layout.drawRegions.pieArea={x:c,y:p,width:B,height:w},t=l.drawKey(b,m)):(m.orientation="portrait",
B=t=q,m.layout.drawRegions.keyArea={x:c,y:0,width:t},t=l.drawKey(b,m),D=t.bbox().height,t.move(0,p+w-D),D=w-D-C.height,m.layout.drawRegions.pieArea={x:c,y:p,width:B,height:D},m.layout.drawRegions.keyArea.height=w-D);C.width>.2*q&&(v.hideKey=!0,v.useOuterLabels=!0);var E=0<k?f.OVERFLOW_OUTER_RADIUS:1;m.radius<f.MIN_RADIUS&&(v.hideKey=!0,v.useOuterLabels=!0);v.hideKey||(m.radius=Math.min(B/2-C.width,D/(2*E)),m.radius<f.MIN_RADIUS&&(v.hideKey=!0,v.useOuterLabels=!0));v.hideKey&&(t.remove(),C=w/(2*E),
v.useOuterLabels&&(B=h.text("thequickbrownfoxjumpedoverthelazydog").addClass("fm-externalDetails"),D=B.bbox().height,B.remove(),C-=D),m.radius=Math.min(q/2,C),m.layout.drawRegions.pieArea={x:c,y:p,width:q,height:w},0==k&&(m.radius*=.9));m.valueScale=r().project((new r).domains.RealNumbers(0,y)).onto((new r).ranges.Angle());b[b.length-1].hasOwnProperty("overflow")?(y=m.valueScale.map(b[b.length-1].value)/2,m.overflowValueScaleStart=-(Math.PI/f.OVERFLOW_SPREAD)-y,m.overflowValueScaleEnd=1*Math.PI/f.OVERFLOW_SPREAD-
y,y=e.getDataTotal(b[b.length-1].overflow),m.overflowValueScale=r().project((new r).domains.RealNumbers(0,y)).onto((new r).ranges.Angle(m.overflowValueScaleStart,m.overflowValueScaleEnd)),y=l.drawOuterSegments(b,m),C=l.drawDashedBracket(m)):(y=h.group(),C=h.group());k=l.drawInnerSegments(b,m);C=g(m,b,k,y,C,t);C.start("Neutral");l.applyMouseEventHandlers(b,m,C,a,k,y,t);z.classList.add("fm-hidden")})()}});
define("svg-builder",["renderer","svg-js","configuration"],function(l,d,f){function c(c){return c.split("-").map(function(c,d){return 0===d?c:c.charAt(0).toUpperCase()+c.substr(1)}).join("")}function e(c,d){var e=document.createElement("div");e.className="fm-powered-by-factmint";e.innerHTML='Powered by <a style="color: #527a92" href="http://factmint.com/charts">Factmint</a>';e.style.fontSize="8px";e.style.lineHeight="12px";e.style.width=d;e.style.textAlign="center";e.style.fontFamily="Lato, sans-serif";
c.parentNode.insertBefore(e,c.nextSibling)}if(window.addEventListener&&window.document.createEvent){var u=window.document.createEvent("Event");u.initEvent("resizefinished",!1,!1);var r=null;window.addEventListener("resize",function(){clearTimeout(r);return r=setTimeout(function(){window.dispatchEvent(u)},f.DEBOUNCE_TIMEOUT)},!1);return function(g){var n=function(n){var p=(n=g.getAttribute("data-fm-config"))&&window[n]?window[n]:{};[].filter.call(g.attributes,function(b){return"data-fm-config"===b.name?
!1:/^data-fm-/.test(b.name)}).forEach(function(b){var d=b.name.replace(/^data-fm-/,""),d=c(d);p[d]=b.value});var r=document.createElementNS("http://www.w3.org/2000/svg","svg");r.className.baseVal+="fm-unrendered-chart fm-chart";g.parentNode.insertBefore(r,g);var u=/([0-9]+)(px|%|rem|em|ex|ch|vw|vh|vmin|vmax|mm|cm|in|pt|pc)/;n=function(){var b={};p.width?p.width.replace(u,function(c,a,d){b.value=parseFloat(a);b.units=d}):(b.value=100,b.units="%");return b}();r.style.width=n.value+n.units;var h=function(){var b=
{};if(p.height)p.height.replace(u,function(a,c,d){b.value=parseFloat(c);b.units=d});else{var c=r.getBoundingClientRect().width/f.ASPECT_RATIO;b.value=Math.min(f.MAX_HEIGHT,c);b.units="px"}return b}();r.style.height=h.value+h.units;var x=r.getBoundingClientRect(),b=x.width,y=x.height;p.disableSpillover&&"false"!=p.disableSpillover||(x=(f.SPILLOVER_LEFT+f.SPILLOVER_RIGHT+b)/b,r.style.height=(f.SPILLOVER_TOP+f.SPILLOVER_BOTTOM+y)/y*h.value+h.units,r.style.width=n.value*x+n.units,r.style.margin="-"+f.SPILLOVER_TOP+
"px -"+f.SPILLOVER_RIGHT+"px -"+f.SPILLOVER_BOTTOM+"px -"+f.SPILLOVER_LEFT+"px");x=r.getBoundingClientRect();r.setAttribute("viewBox","0 0 "+(x.right-x.left)+" "+(x.bottom-x.top));h=d(r);r.removeAttribute("width");r.removeAttribute("height");l(p.disableSpillover?0:f.SPILLOVER_LEFT,p.disableSpillover?0:f.SPILLOVER_TOP,b,y,p,g,h);r.className.baseVal=r.className.baseVal.replace("fm-unrendered-chart","");e(r,n.value+n.units);return r},r=n(),p=window.innerWidth;window.addEventListener("resizefinished",
function(){var c=window.innerWidth;if(c!=p){r.parentNode.removeChild(r);var d=document.querySelector(".fm-powered-by-factmint");d.parentNode.removeChild(d);r=n();p=c}},!1)}}});
require.config({paths:{classList:"../../node_modules/classList/classList",path:"../../node_modules/paths-js/dist/amd/path","svg-js":"../../node_modules/svg.js/dist/svg.min",center:"../../../factmint-charts/etc/center","circle-segment":"../../../factmint-charts/inventions/circle-segment",color:"../../../factmint-charts/utilities/color","configuration-builder":"../../../factmint-charts/utilities/configuration-builder","dashed-bracket":"../../../factmint-charts/inventions/dashed-bracket","doughnut-segment":"../../../factmint-charts/inventions/doughnut-segment",
flow:"../../../factmint-charts/inventions/flow","float":"../../../factmint-charts/etc/float","G.unshift":"../../../factmint-charts/extensions/G.unshift","G.move":"../../../factmint-charts/extensions/G.move",geometry:"../../../factmint-charts/utilities/geometry",grid:"../../../factmint-charts/etc/grid",key:"../../../factmint-charts/components/key",number:"../../../factmint-charts/utilities/number",mapper:"../../../factmint-charts/utilities/mapper",scale:"../../../factmint-charts/utilities/scale",state:"../../../factmint-charts/utilities/state",
"text-area":"../../../factmint-charts/components/text-area",tooltip:"../../../factmint-charts/components/tooltip","tooltip-background":"../../../factmint-charts/inventions/tooltip-background","two-section-tooltip":"../../../factmint-charts/components/two-section-tooltip","two-section-tooltip-background":"../../../factmint-charts/inventions/two-section-tooltip-background"}});
require(["svg-builder"],function(l){function d(){var c=document.createElementNS("http://www.w3.org/2000/svg","svg");c.style.width="500px";document.body.appendChild(c);var d=c.getBoundingClientRect();c.parentNode.removeChild(c);return 500===d.width?!0:!1}var f=function(){for(var c=!1,d=document.querySelectorAll("script"),e=0;e<d.length;e++){var f=d[e].getAttribute("src");if(f){var l="s"==f[4]?1:0;if("f"==f[7+l]&&"i"==f[16+l]&&"c"==f[9+l]&&"."==f[15+l]){c=!0;break}}}return c},c=document.querySelectorAll("table.fm-pie");
if(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)if(d()){if(!f())throw"Licence error";for(f=0;f<c.length;f++)if(window.factmint&&window.factmint.previewVisualizations||!c[f].hasAttribute("data-fm-rendered")){c[f].setAttribute("data-fm-rendered","true");try{l(c[f])}catch(e){console.log("ERROR: chart rendering failed"),e instanceof Error?console.log(e.stack):console.log(e)}}}else console.log("Your browser does not correctly support getBoundingClientRect() for SVG elements: visualizations disabled");
else console.log("SVG not supported: visualizations disabled")});define("main",function(){});
