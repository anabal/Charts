/* Copyright Factmint Ltd, not for distribution without consent; version 2.0.13; includes SnapSVG, https://github.com/adobe-webplatform/Snap.svg/blob/master/LICENSE */
/*
 almond 0.3.0 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/almond for details
*/
'use strict';var requirejs,require,define;
(function(n){function d(f,a){var c,e,b,d,l,k,x,w,m,t=a&&a.split("/"),q=A.map,v=q&&q["*"]||{};if(f&&"."===f.charAt(0))if(a){t=t.slice(0,t.length-1);f=f.split("/");l=f.length-1;A.nodeIdCompat&&p.test(f[l])&&(f[l]=f[l].replace(p,""));f=t.concat(f);for(l=0;l<f.length;l+=1)if(c=f[l],"."===c)f.splice(l,1),--l;else if(".."===c)if(1!==l||".."!==f[2]&&".."!==f[0])0<l&&(f.splice(l-1,2),l-=2);else break;f=f.join("/")}else 0===f.indexOf("./")&&(f=f.substring(2));if((t||v)&&q){c=f.split("/");for(l=c.length;0<
l;--l){e=c.slice(0,l).join("/");if(t)for(m=t.length;0<m;--m)if(b=q[t.slice(0,m).join("/")])if(b=b[e]){d=b;k=l;break}if(d)break;!x&&v&&v[e]&&(x=v[e],w=l)}!d&&x&&(d=x,k=w);d&&(c.splice(0,k,d),f=c.join("/"))}return f}function h(f,a){return function(){var c=w.call(arguments,0);"string"!==typeof c[0]&&1===c.length&&c.push(null);return q.apply(n,c.concat([f,a]))}}function r(f){return function(a){return d(a,f)}}function a(f){return function(a){e[f]=a}}function k(f){if(c.call(l,f)){var a=l[f];delete l[f];
x[f]=!0;v.apply(n,a)}if(!c.call(e,f)&&!c.call(x,f))throw Error("No "+f);return e[f]}function m(f){var a,c=f?f.indexOf("!"):-1;-1<c&&(a=f.substring(0,c),f=f.substring(c+1,f.length));return[a,f]}function F(f){return function(){return A&&A.config&&A.config[f]||{}}}var v,q,t,b,e={},l={},A={},x={},c=Object.prototype.hasOwnProperty,w=[].slice,p=/\.js$/;t=function(f,a){var c,e=m(f),b=e[0];f=e[1];b&&(b=d(b,a),c=k(b));b?f=c&&c.normalize?c.normalize(f,r(a)):d(f,a):(f=d(f,a),e=m(f),b=e[0],f=e[1],b&&(c=k(b)));
return{f:b?b+"!"+f:f,n:f,pr:b,p:c}};b={require:function(f){return h(f)},exports:function(f){var a=e[f];return"undefined"!==typeof a?a:e[f]={}},module:function(f){return{id:f,uri:"",exports:e[f],config:F(f)}}};v=function(f,d,p,m){var z,E,w,A,q=[];E=typeof p;var v;m=m||f;if("undefined"===E||"function"===E){d=!d.length&&p.length?["require","exports","module"]:d;for(A=0;A<d.length;A+=1)if(w=t(d[A],m),E=w.f,"require"===E)q[A]=b.require(f);else if("exports"===E)q[A]=b.exports(f),v=!0;else if("module"===
E)z=q[A]=b.module(f);else if(c.call(e,E)||c.call(l,E)||c.call(x,E))q[A]=k(E);else if(w.p)w.p.load(w.n,h(m,!0),a(E),{}),q[A]=e[E];else throw Error(f+" missing "+E);d=p?p.apply(e[f],q):void 0;f&&(z&&z.exports!==n&&z.exports!==e[f]?e[f]=z.exports:d===n&&v||(e[f]=d))}else f&&(e[f]=p)};requirejs=require=q=function(f,a,c,e,l){if("string"===typeof f)return b[f]?b[f](a):k(t(f,a).f);if(!f.splice){A=f;A.deps&&q(A.deps,A.callback);if(!a)return;a.splice?(f=a,a=c,c=null):f=n}a=a||function(){};"function"===typeof c&&
(c=e,e=l);e?v(n,f,a,c):setTimeout(function(){v(n,f,a,c)},4);return q};q.config=function(f){return q(f)};requirejs._defined=e;define=function(f,a,b){a.splice||(b=a,a=[]);c.call(e,f)||c.call(l,f)||(l[f]=[f,a,b])};define.amd={jQuery:!0}})();define("almond",function(){});
(function(n){var d=/[\.\/]/,h=/\s*,\s*/,r=function(a,b){return a-b},a,k,m={n:{}},F=function(){for(var a=0,b=this.length;a<b;a++)if("undefined"!=typeof this[a])return this[a]},v=function(){for(var a=this.length;--a;)if("undefined"!=typeof this[a])return this[a]},q=function(d,b){d=String(d);var e=k,l=Array.prototype.slice.call(arguments,2),m=q.listeners(d),x=0,c,w=[],p={},f=[],D=a;f.firstDefined=F;f.lastDefined=v;a=d;for(var G=k=0,C=m.length;G<C;G++)"zIndex"in m[G]&&(w.push(m[G].zIndex),0>m[G].zIndex&&
(p[m[G].zIndex]=m[G]));for(w.sort(r);0>w[x];)if(c=p[w[x++]],f.push(c.apply(b,l)),k)return k=e,f;for(G=0;G<C;G++)if(c=m[G],"zIndex"in c)if(c.zIndex==w[x]){f.push(c.apply(b,l));if(k)break;do if(x++,(c=p[w[x]])&&f.push(c.apply(b,l)),k)break;while(c)}else p[c.zIndex]=c;else if(f.push(c.apply(b,l)),k)break;k=e;a=D;return f};q._events=m;q.listeners=function(a){a=a.split(d);var b=m,e,l,k,x,c,w,p,f=[b],D=[];k=0;for(x=a.length;k<x;k++){p=[];c=0;for(w=f.length;c<w;c++)for(b=f[c].n,e=[b[a[k]],b["*"]],l=2;l--;)if(b=
e[l])p.push(b),D=D.concat(b.f||[]);f=p}return D};q.on=function(a,b){a=String(a);if("function"!=typeof b)return function(){};for(var e=a.split(h),l=0,k=e.length;l<k;l++)(function(a){a=a.split(d);for(var c=m,e,l=0,f=a.length;l<f;l++)c=c.n,c=c.hasOwnProperty(a[l])&&c[a[l]]||(c[a[l]]={n:{}});c.f=c.f||[];l=0;for(f=c.f.length;l<f;l++)if(c.f[l]==b){e=!0;break}!e&&c.f.push(b)})(e[l]);return function(a){+a==+a&&(b.zIndex=+a)}};q.f=function(a){var b=[].slice.call(arguments,1);return function(){q.apply(null,
[a,null].concat(b).concat([].slice.call(arguments,0)))}};q.stop=function(){k=1};q.nt=function(d){return d?(new RegExp("(?:\\.|\\/|^)"+d+"(?:\\.|\\/|$)")).test(a):a};q.nts=function(){return a.split(d)};q.off=q.unbind=function(a,b){if(a){var e=a.split(h);if(1<e.length)for(var l=0,k=e.length;l<k;l++)q.off(e[l],b);else{for(var e=a.split(d),x,c,w,p,f=[m],l=0,k=e.length;l<k;l++)for(p=0;p<f.length;p+=w.length-2){w=[p,1];x=f[p].n;if("*"!=e[l])x[e[l]]&&w.push(x[e[l]]);else for(c in x)x.hasOwnProperty(c)&&
w.push(x[c]);f.splice.apply(f,w)}l=0;for(k=f.length;l<k;l++)for(x=f[l];x.n;){if(b){if(x.f){p=0;for(e=x.f.length;p<e;p++)if(x.f[p]==b){x.f.splice(p,1);break}!x.f.length&&delete x.f}for(c in x.n)if(x.n.hasOwnProperty(c)&&x.n[c].f){w=x.n[c].f;p=0;for(e=w.length;p<e;p++)if(w[p]==b){w.splice(p,1);break}!w.length&&delete x.n[c].f}}else for(c in delete x.f,x.n)x.n.hasOwnProperty(c)&&x.n[c].f&&delete x.n[c].f;x=x.n}}}else q._events=m={n:{}}};q.once=function(a,b){var e=function(){q.unbind(a,e);return b.apply(this,
arguments)};return q.on(a,e)};q.version="0.4.2";q.toString=function(){return"You are running Eve 0.4.2"};"undefined"!=typeof module&&module.exports?module.exports=q:"function"===typeof define&&define.amd?define("eve",[],function(){return q}):n.eve=q})(this);
(function(n,d){"function"===typeof define&&define.amd?define("snap",["eve"],function(h){return d(n,h)}):d(n,n.eve)})(this,function(n,d){var h=function(a){var d={},m=n.requestAnimationFrame||n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||n.oRequestAnimationFrame||n.msRequestAnimationFrame||function(a){setTimeout(a,16)},h=Array.isArray||function(a){return a instanceof Array||"[object Array]"==Object.prototype.toString.call(a)},v=0,q="M"+(+new Date).toString(36),t=function(a){if(null==a)return this.s;
var c=this.s-a;this.b+=this.dur*c;this.B+=this.dur*c;this.s=a},b=function(a){if(null==a)return this.spd;this.spd=a},e=function(a){if(null==a)return this.dur;this.s=this.s*a/this.dur;this.dur=a},l=function(){delete d[this.id];this.update();a("mina.stop."+this.id,this)},A=function(){this.pdif||(delete d[this.id],this.update(),this.pdif=this.get()-this.b)},x=function(){this.pdif&&(this.b=this.get()-this.pdif,delete this.pdif,d[this.id]=this)},c=function(){var a;if(h(this.start)){a=[];for(var c=0,e=this.start.length;c<
e;c++)a[c]=+this.start[c]+(this.end[c]-this.start[c])*this.easing(this.s)}else a=+this.start+(this.end-this.start)*this.easing(this.s);this.set(a)},w=function(){var f=0,c;for(c in d)if(d.hasOwnProperty(c)){var e=d[c],b=e.get();f++;e.s=(b-e.b)/(e.dur/e.spd);1<=e.s&&(delete d[c],e.s=1,f--,function(f){setTimeout(function(){a("mina.finish."+f.id,f)})}(e));e.update()}f&&m(w)},p=function(a,D,G,C,z,E,h){a={id:q+(v++).toString(36),start:a,end:D,b:G,s:0,dur:C-G,spd:1,get:z,set:E,easing:h||p.linear,status:t,
speed:b,duration:e,stop:l,pause:A,resume:x,update:c};d[a.id]=a;D=0;for(var r in d)if(d.hasOwnProperty(r)&&(D++,2==D))break;1==D&&m(w);return a};p.time=Date.now||function(){return+new Date};p.getById=function(a){return d[a]||null};p.linear=function(a){return a};p.easeout=function(a){return Math.pow(a,1.7)};p.easein=function(a){return Math.pow(a,.48)};p.easeinout=function(a){if(1==a)return 1;if(0==a)return 0;var c=.48-a/1.04,e=Math.sqrt(.1734+c*c);a=e-c;a=Math.pow(Math.abs(a),1/3)*(0>a?-1:1);c=-e-c;
c=Math.pow(Math.abs(c),1/3)*(0>c?-1:1);a=a+c+.5;return 3*(1-a)*a*a+a*a*a};p.backin=function(a){return 1==a?1:a*a*(2.70158*a-1.70158)};p.backout=function(a){if(0==a)return 0;--a;return a*a*(2.70158*a+1.70158)+1};p.elastic=function(a){return a==!!a?a:Math.pow(2,-10*a)*Math.sin(2*(a-.075)*Math.PI/.3)+1};p.bounce=function(a){a<1/2.75?a*=7.5625*a:a<2/2.75?(a-=1.5/2.75,a=7.5625*a*a+.75):a<2.5/2.75?(a-=2.25/2.75,a=7.5625*a*a+.9375):(a-=2.625/2.75,a=7.5625*a*a+.984375);return a};return n.mina=p}("undefined"==
typeof d?function(){}:d),r=function(){function a(B,y){if(B){if(B.tagName)return C(B);if(m(B,"array")&&a.set)return a.set.apply(a,B);if(B instanceof p)return B;if(null==y)return B=z.doc.querySelector(B),C(B)}return new G(null==B?"100%":B,null==y?"100%":y)}function k(a,y){if(y){"#text"==a&&(a=z.doc.createTextNode(y.text||""));"string"==typeof a&&(a=k(a));if("string"==typeof y)return"xlink:"==y.substring(0,6)?a.getAttributeNS(u,y.substring(6)):"xml:"==y.substring(0,4)?a.getAttributeNS(na,y.substring(4)):
a.getAttribute(y);for(var c in y)if(y[E](c)){var e=H(y[c]);e?"xlink:"==c.substring(0,6)?a.setAttributeNS(u,c.substring(6),e):"xml:"==c.substring(0,4)?a.setAttributeNS(na,c.substring(4),e):a.setAttribute(c,e):a.removeAttribute(c)}}else a=z.doc.createElementNS(na,a);return a}function m(a,y){y=H.prototype.toLowerCase.call(y);return"finite"==y?isFinite(a):"array"==y&&(a instanceof Array||Array.isArray&&Array.isArray(a))?!0:"null"==y&&null===a||y==typeof a&&null!==a||"object"==y&&a===Object(a)||X.call(a).slice(8,
-1).toLowerCase()==y}function r(a){if("function"==typeof a||Object(a)!==a)return a;var y=new a.constructor,c;for(c in a)a[E](c)&&(y[c]=r(a[c]));return y}function v(a,y,c){function e(){var f=Array.prototype.slice.call(arguments,0),u=f.join("\u2400"),b=e.cache=e.cache||{},d=e.count=e.count||[];if(b[E](u)){a:for(var f=d,d=u,P=0,l=f.length;P<l;P++)if(f[P]===d){f.push(f.splice(P,1)[0]);break a}return c?c(b[u]):b[u]}1E3<=d.length&&delete b[d.shift()];d.push(u);b[u]=a.apply(y,f);return c?c(b[u]):b[u]}return e}
function q(a,y,c,e,f,u){return null==f?(a-=c,y-=e,a||y?(180*M.atan2(-y,-a)/W+540)%360:0):q(a,y,f,u)-q(c,e,f,u)}function t(a){return a%360*W/180}function b(a){var y=[];a=a.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(a,B,c){c=c.split(/\s*,\s*|\s+/);"rotate"==B&&1==c.length&&c.push(0,0);"scale"==B&&(2<c.length?c=c.slice(0,2):2==c.length&&c.push(0,0),1==c.length&&c.push(c[0],0,0));"skewX"==B?y.push(["m",1,0,M.tan(t(c[0])),1,0,0]):"skewY"==B?y.push(["m",1,M.tan(t(c[0])),0,1,0,0]):y.push([B.charAt(0)].concat(c));
return a});return y}function e(B,y){var c=sa(B),e=new a.Matrix;if(c)for(var f=0,u=c.length;f<u;f++){var b=c[f],d=b.length,P=H(b[0]).toLowerCase(),l=b[0]!=P,z=l?e.invert():0,p;"t"==P&&2==d?e.translate(b[1],0):"t"==P&&3==d?l?(d=z.x(0,0),P=z.y(0,0),l=z.x(b[1],b[2]),z=z.y(b[1],b[2]),e.translate(l-d,z-P)):e.translate(b[1],b[2]):"r"==P?2==d?(p=p||y,e.rotate(b[1],p.x+p.width/2,p.y+p.height/2)):4==d&&(l?(l=z.x(b[2],b[3]),z=z.y(b[2],b[3]),e.rotate(b[1],l,z)):e.rotate(b[1],b[2],b[3])):"s"==P?2==d||3==d?(p=
p||y,e.scale(b[1],b[d-1],p.x+p.width/2,p.y+p.height/2)):4==d?l?(l=z.x(b[2],b[3]),z=z.y(b[2],b[3]),e.scale(b[1],b[1],l,z)):e.scale(b[1],b[1],b[2],b[3]):5==d&&(l?(l=z.x(b[3],b[4]),z=z.y(b[3],b[4]),e.scale(b[1],b[2],l,z)):e.scale(b[1],b[2],b[3],b[4])):"m"==P&&7==d&&e.add(b[1],b[2],b[3],b[4],b[5],b[6])}return e}function l(B,c){if(null==c){var f=!0;c="linearGradient"==B.type||"radialGradient"==B.type?B.node.getAttribute("gradientTransform"):"pattern"==B.type?B.node.getAttribute("patternTransform"):B.node.getAttribute("transform");
if(!c)return new a.Matrix;c=b(c)}else c=a._.rgTransform.test(c)?H(c).replace(/\.{3}|\u2026/g,B._.transform||""):b(c),m(c,"array")&&(c=a.path?a.path.toString.call(c):H(c)),B._.transform=c;var u=e(c,B.getBBox(1));if(f)return u;B.matrix=u}function A(B){B=B.node.ownerSVGElement&&C(B.node.ownerSVGElement)||B.node.parentNode&&C(B.node.parentNode)||a.select("svg")||a(0,0);var c=B.select("defs"),c=null==c?!1:c.node;c||(c=D("defs",B.node).node);return c}function x(B){return B.node.ownerSVGElement&&C(B.node.ownerSVGElement)||
a.select("svg")}function c(a,c,e){function b(a){if(null==a)return"";if(a==+a)return a;k(P,{width:a});try{return P.getBBox().width}catch(B){return 0}}function f(a){if(null==a)return"";if(a==+a)return a;k(P,{height:a});try{return P.getBBox().height}catch(B){return 0}}function u(b,f){null==c?l[b]=f(a.attr(b)||0):b==c&&(l=f(null==e?a.attr(b)||0:e))}var d=x(a).node,l={},P=d.querySelector(".svg---mgr");P||(P=k("rect"),k(P,{x:-9E9,y:-9E9,width:10,height:10,"class":"svg---mgr",fill:"none"}),d.appendChild(P));
switch(a.type){case "rect":u("rx",b),u("ry",f);case "image":u("width",b),u("height",f);case "text":u("x",b);u("y",f);break;case "circle":u("cx",b);u("cy",f);u("r",b);break;case "ellipse":u("cx",b);u("cy",f);u("rx",b);u("ry",f);break;case "line":u("x1",b);u("x2",b);u("y1",f);u("y2",f);break;case "marker":u("refX",b);u("markerWidth",b);u("refY",f);u("markerHeight",f);break;case "radialGradient":u("fx",b);u("fy",f);break;case "tspan":u("dx",b);u("dy",f);break;default:u(c,b)}d.removeChild(P);return l}
function w(a){m(a,"array")||(a=Array.prototype.slice.call(arguments,0));for(var c=0,b=0,e=this.node;this[c];)delete this[c++];for(c=0;c<a.length;c++)"set"==a[c].type?a[c].forEach(function(a){e.appendChild(a.node)}):e.appendChild(a[c].node);for(var u=e.childNodes,c=0;c<u.length;c++)this[b++]=C(u[c]);return this}function p(a){if(a.snap in S)return S[a.snap];var c=this.id=U(),b;try{b=a.ownerSVGElement}catch(e){}this.node=a;b&&(this.paper=new G(b));this.type=a.tagName;this.anims={};this._={transform:[]};
a.snap=c;S[c]=this;"g"==this.type&&(this.add=w);if(this.type in{g:1,mask:1,pattern:1})for(var u in G.prototype)G.prototype[E](u)&&(this[u]=G.prototype[u])}function f(a){this.node=a}function D(a,c){var b=k(a);c.appendChild(b);return C(b)}function G(a,c){var b,e,u,f=G.prototype;if(a&&"svg"==a.tagName){if(a.snap in S)return S[a.snap];var d=a.ownerDocument;b=new p(a);e=a.getElementsByTagName("desc")[0];u=a.getElementsByTagName("defs")[0];e||(e=k("desc"),e.appendChild(d.createTextNode("Created with Snap")),
b.node.appendChild(e));u||(u=k("defs"),b.node.appendChild(u));b.defs=u;for(var l in f)f[E](l)&&(b[l]=f[l]);b.paper=b.root=b}else b=D("svg",z.doc.body),k(b.node,{height:c,version:1.1,width:a,xmlns:na});return b}function C(a){return!a||a instanceof p||a instanceof f?a:a.tagName&&"svg"==a.tagName.toLowerCase()?new G(a):a.tagName&&"object"==a.tagName.toLowerCase()&&"image/svg+xml"==a.type?new G(a.contentDocument.getElementsByTagName("svg")[0]):new p(a)}a.version="0.3.0";a.toString=function(){return"Snap v"+
this.version};a._={};var z={win:n,doc:n.document};a._.glob=z;var E="hasOwnProperty",H=String,L=parseFloat,O=parseInt,M=Math,T=M.max,J=M.min,N=M.abs,W=M.PI,X=Object.prototype.toString,I=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i;a._.separator=
/[,\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]+/;var K=/[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,V={hs:1,rg:1},R=/([a-z])[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,
aa=/([rstm])[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,Z=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/ig,
da=0,ba="S"+(+new Date).toString(36),U=function(){return ba+(da++).toString(36)},u="http://www.w3.org/1999/xlink",na="http://www.w3.org/2000/svg",S={},ca=a.url=function(a){return"url('#"+a+"')"};a._.$=k;a._.id=U;a.format=function(){var a=/\{([^\}]+)\}/g,c=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,b=function(a,B,b){var e=b;B.replace(c,function(a,c,B,b,u){c=c||b;e&&(c in e&&(e=e[c]),"function"==typeof e&&u&&(e=e()))});return e=(null==e||e==b?a:e)+""};return function(c,e){return H(c).replace(a,
function(a,c){return b(a,c,e)})}}();a._.clone=r;a._.cacher=v;a.rad=t;a.deg=function(a){return 180*a/W%360};a.angle=q;a.is=m;a.snapTo=function(a,c,b){b=m(b,"finite")?b:10;if(m(a,"array"))for(var e=a.length;e--;){if(N(a[e]-c)<=b)return a[e]}else{a=+a;e=c%a;if(e<b)return c-e;if(e>a-b)return c-e+a}return c};a.getRGB=v(function(c){if(!c||(c=H(c)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ma};if("none"==c)return{r:-1,g:-1,b:-1,hex:"none",toString:ma};!V[E](c.toLowerCase().substring(0,
2))&&"#"!=c.charAt()&&(c=oa(c));if(!c)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ma};var b,e,u,f,d;if(c=c.match(I)){c[2]&&(u=O(c[2].substring(5),16),e=O(c[2].substring(3,5),16),b=O(c[2].substring(1,3),16));c[3]&&(u=O((d=c[3].charAt(3))+d,16),e=O((d=c[3].charAt(2))+d,16),b=O((d=c[3].charAt(1))+d,16));c[4]&&(d=c[4].split(K),b=L(d[0]),"%"==d[0].slice(-1)&&(b*=2.55),e=L(d[1]),"%"==d[1].slice(-1)&&(e*=2.55),u=L(d[2]),"%"==d[2].slice(-1)&&(u*=2.55),"rgba"==c[1].toLowerCase().slice(0,4)&&(f=L(d[3])),
d[3]&&"%"==d[3].slice(-1)&&(f/=100));if(c[5])return d=c[5].split(K),b=L(d[0]),"%"==d[0].slice(-1)&&(b/=100),e=L(d[1]),"%"==d[1].slice(-1)&&(e/=100),u=L(d[2]),"%"==d[2].slice(-1)&&(u/=100),"deg"!=d[0].slice(-3)&&"\u00b0"!=d[0].slice(-1)||(b/=360),"hsba"==c[1].toLowerCase().slice(0,4)&&(f=L(d[3])),d[3]&&"%"==d[3].slice(-1)&&(f/=100),a.hsb2rgb(b,e,u,f);if(c[6])return d=c[6].split(K),b=L(d[0]),"%"==d[0].slice(-1)&&(b/=100),e=L(d[1]),"%"==d[1].slice(-1)&&(e/=100),u=L(d[2]),"%"==d[2].slice(-1)&&(u/=100),
"deg"!=d[0].slice(-3)&&"\u00b0"!=d[0].slice(-1)||(b/=360),"hsla"==c[1].toLowerCase().slice(0,4)&&(f=L(d[3])),d[3]&&"%"==d[3].slice(-1)&&(f/=100),a.hsl2rgb(b,e,u,f);b=J(M.round(b),255);e=J(M.round(e),255);u=J(M.round(u),255);f=J(T(f,0),1);c={r:b,g:e,b:u,toString:ma};c.hex="#"+(16777216|u|e<<8|b<<16).toString(16).slice(1);c.opacity=m(f,"finite")?f:1;return c}return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ma}},a);a.hsb=v(function(c,b,e){return a.hsb2rgb(c,b,e).hex});a.hsl=v(function(c,b,e){return a.hsl2rgb(c,
b,e).hex});a.rgb=v(function(a,c,b,e){if(m(e,"finite")){var u=M.round;return"rgba("+[u(a),u(c),u(b),+e.toFixed(2)]+")"}return"#"+(16777216|b|c<<8|a<<16).toString(16).slice(1)});var oa=function(a){var c=z.doc.getElementsByTagName("head")[0]||z.doc.getElementsByTagName("svg")[0];oa=v(function(a){if("red"==a.toLowerCase())return"rgb(255, 0, 0)";c.style.color="rgb(255, 0, 0)";c.style.color=a;a=z.doc.defaultView.getComputedStyle(c,"").getPropertyValue("color");return"rgb(255, 0, 0)"==a?null:a});return oa(a)},
ta=function(){return"hsb("+[this.h,this.s,this.b]+")"},ua=function(){return"hsl("+[this.h,this.s,this.l]+")"},ma=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},pa=function(c,b,e){null==b&&m(c,"object")&&"r"in c&&"g"in c&&"b"in c&&(e=c.b,b=c.g,c=c.r);null==b&&m(c,string)&&(e=a.getRGB(c),c=e.r,b=e.g,e=e.b);if(1<c||1<b||1<e)c/=255,b/=255,e/=255;return[c,b,e]},qa=function(c,b,e,u){c=M.round(255*c);b=M.round(255*b);e=M.round(255*e);c={r:c,
g:b,b:e,opacity:m(u,"finite")?u:1,hex:a.rgb(c,b,e),toString:ma};m(u,"finite")&&(c.opacity=u);return c};a.color=function(c){var b;m(c,"object")&&"h"in c&&"s"in c&&"b"in c?(b=a.hsb2rgb(c),c.r=b.r,c.g=b.g,c.b=b.b,c.opacity=1,c.hex=b.hex):m(c,"object")&&"h"in c&&"s"in c&&"l"in c?(b=a.hsl2rgb(c),c.r=b.r,c.g=b.g,c.b=b.b,c.opacity=1,c.hex=b.hex):(m(c,"string")&&(c=a.getRGB(c)),m(c,"object")&&"r"in c&&"g"in c&&"b"in c&&!("error"in c)?(b=a.rgb2hsl(c),c.h=b.h,c.s=b.s,c.l=b.l,b=a.rgb2hsb(c),c.v=b.b):(c={hex:"none"},
c.r=c.g=c.b=c.h=c.s=c.v=c.l=-1,c.error=1));c.toString=ma;return c};a.hsb2rgb=function(a,c,b,e){m(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(b=a.b,c=a.s,a=a.h,e=a.o);var u,f,d;a=360*a%360/60;d=b*c;c=d*(1-N(a%2-1));b=u=f=b-d;a=~~a;b+=[d,c,0,0,c,d][a];u+=[c,d,d,c,0,0][a];f+=[0,0,c,d,d,c][a];return qa(b,u,f,e)};a.hsl2rgb=function(a,c,b,e){m(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(b=a.l,c=a.s,a=a.h);if(1<a||1<c||1<b)a/=360,c/=100,b/=100;var u,f,d;a=360*a%360/60;d=2*c*(.5>b?b:1-b);c=d*(1-N(a%2-1));b=u=f=
b-d/2;a=~~a;b+=[d,c,0,0,c,d][a];u+=[c,d,d,c,0,0][a];f+=[0,0,c,d,d,c][a];return qa(b,u,f,e)};a.rgb2hsb=function(a,c,b){b=pa(a,c,b);a=b[0];c=b[1];b=b[2];var e,u;e=T(a,c,b);u=e-J(a,c,b);a=((0==u?null:e==a?(c-b)/u:e==c?(b-a)/u+2:(a-c)/u+4)+360)%6*60/360;return{h:a,s:0==u?0:u/e,b:e,toString:ta}};a.rgb2hsl=function(a,c,b){b=pa(a,c,b);a=b[0];c=b[1];b=b[2];var e,u,d;e=T(a,c,b);u=J(a,c,b);d=e-u;a=((0==d?null:e==a?(c-b)/d:e==c?(b-a)/d+2:(a-c)/d+4)+360)%6*60/360;e=(e+u)/2;return{h:a,s:0==d?0:.5>e?d/(2*e):d/
(2-2*e),l:e,toString:ua}};a.parsePathString=function(c){if(!c)return null;var b=a.path(c);if(b.arr)return a.path.clone(b.arr);var e={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},u=[];m(c,"array")&&m(c[0],"array")&&(u=a.path.clone(c));u.length||H(c).replace(R,function(a,c,b){var d=[];a=c.toLowerCase();b.replace(Z,function(a,c){c&&d.push(+c)});"m"==a&&2<d.length&&(u.push([c].concat(d.splice(0,2))),a="l",c="m"==c?"l":"L");"o"==a&&1==d.length&&u.push([c,d[0]]);if("r"==a)u.push([c].concat(d));
else for(;d.length>=e[a]&&(u.push([c].concat(d.splice(0,e[a]))),e[a]););});u.toString=a.path.toString;b.arr=a.path.clone(u);return u};var sa=a.parseTransformString=function(c){if(!c)return null;var b=[];m(c,"array")&&m(c[0],"array")&&(b=a.path.clone(c));b.length||H(c).replace(aa,function(a,c,e){var u=[];c.toLowerCase();e.replace(Z,function(a,c){c&&u.push(+c)});b.push([c].concat(u))});b.toString=a.path.toString;return b};a._.svgTransform2string=b;a._.rgTransform=/^[a-z][\t\n\x0B\f\r \u00a0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*-?\.?\d/i;
a._.transform2matrix=e;a._unit2px=c;a._.getSomeDefs=A;a._.getSomeSVG=x;a.select=function(a){return C(z.doc.querySelector(a))};a.selectAll=function(c){c=z.doc.querySelectorAll(c);for(var b=(a.set||Array)(),e=0;e<c.length;e++)b.push(C(c[e]));return b};setInterval(function(){for(var a in S)if(S[E](a)){var c=S[a],b=c.node;("svg"!=c.type&&!b.ownerSVGElement||"svg"==c.type&&(!b.parentNode||"ownerSVGElement"in b.parentNode&&!b.ownerSVGElement))&&delete S[a]}},1E4);(function(b){function e(a){function c(a,
b){var e=k(a.node,b);(e=(e=e&&e.match(f))&&e[2])&&"#"==e.charAt()&&(e=e.substring(1))&&(l[e]=(l[e]||[]).concat(function(c){var e={};e[b]=ca(c);k(a.node,e)}))}function b(a){var c=k(a.node,"xlink:href");c&&"#"==c.charAt()&&(c=c.substring(1))&&(l[c]=(l[c]||[]).concat(function(c){a.attr("xlink:href","#"+c)}))}var u=a.selectAll("*"),d,f=/^\s*url\(("|'|)(.*)\1\)\s*$/;a=[];for(var l={},z=0,p=u.length;z<p;z++){d=u[z];c(d,"fill");c(d,"stroke");c(d,"filter");c(d,"mask");c(d,"clip-path");b(d);var S=k(d.node,
"id");S&&(k(d.node,{id:d.id}),a.push({old:S,id:d.id}))}z=0;for(p=a.length;z<p;z++)if(u=l[a[z].old])for(d=0,S=u.length;d<S;d++)u[d](a[z].id)}function u(a,c,b){return function(e){e=e.slice(a,c);1==e.length&&(e=e[0]);return b?b(e):e}}function f(a){return function(){var c=a?"<"+this.type:"",b=this.node.attributes,e=this.node.childNodes;if(a)for(var u=0,d=b.length;u<d;u++)c+=" "+b[u].name+'="'+b[u].value.replace(/"/g,'\\"')+'"';if(e.length){a&&(c+=">");u=0;for(d=e.length;u<d;u++)3==e[u].nodeType?c+=e[u].nodeValue:
1==e[u].nodeType&&(c+=C(e[u]).toString());a&&(c+="</"+this.type+">")}else a&&(c+="/>");return c}}b.attr=function(a,c){if(!a)return this;if(m(a,"string"))if(1<arguments.length){var b={};b[a]=c;a=b}else return d("snap.util.getattr."+a,this).firstDefined();for(var e in a)a[E](e)&&d("snap.util.attr."+e,this,a[e]);return this};b.getBBox=function(c){if(!a.Matrix||!a.path)return this.node.getBBox();var b=this,e=new a.Matrix;if(b.removed)return a._.box();for(;"use"==b.type;)if(c||(e=e.add(b.transform().localMatrix.translate(b.attr("x")||
0,b.attr("y")||0))),b.original)b=b.original;else var u=b.attr("xlink:href"),b=b.original=b.node.ownerDocument.getElementById(u.substring(u.indexOf("#")+1));var u=b._,d=a.path.get[b.type]||a.path.get.deflt;try{if(c)return u.bboxwt=d?a.path.getBBox(b.realPath=d(b)):a._.box(b.node.getBBox()),a._.box(u.bboxwt);b.realPath=d(b);b.matrix=b.transform().localMatrix;u.bbox=a.path.getBBox(a.path.map(b.realPath,e.add(b.matrix)));return a._.box(u.bbox)}catch(f){return a._.box()}};var z=function(){return this.string};
b.transform=function(c){var b=this._;if(null==c){var e=this;c=new a.Matrix(this.node.getCTM());for(var u=l(this),d=[u],f=new a.Matrix,p=u.toTransformString(),b=H(u)==H(this.matrix)?H(b.transform):p;"svg"!=e.type&&(e=e.parent());)d.push(l(e));for(e=d.length;e--;)f.add(d[e]);return{string:b,globalMatrix:c,totalMatrix:f,localMatrix:u,diffMatrix:c.clone().add(u.invert()),global:c.toTransformString(),total:f.toTransformString(),local:p,toString:z}}c instanceof a.Matrix?this.matrix=c:l(this,c);this.node&&
("linearGradient"==this.type||"radialGradient"==this.type?k(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?k(this.node,{patternTransform:this.matrix}):k(this.node,{transform:this.matrix}));return this};b.parent=function(){return C(this.node.parentNode)};b.append=b.add=function(a){if(a){if("set"==a.type){var c=this;a.forEach(function(a){c.add(a)});return this}a=C(a);this.node.appendChild(a.node);a.paper=this.paper}return this};b.appendTo=function(a){a&&(a=C(a),a.append(this));return this};
b.prepend=function(a){if(a){if("set"==a.type){var c=this,b;a.forEach(function(a){b?b.after(a):c.prepend(a);b=a});return this}a=C(a);var e=a.parent();this.node.insertBefore(a.node,this.node.firstChild);this.add&&this.add();a.paper=this.paper;this.parent()&&this.parent().add();e&&e.add()}return this};b.prependTo=function(a){a=C(a);a.prepend(this);return this};b.before=function(a){if("set"==a.type){var c=this;a.forEach(function(a){var b=a.parent();c.node.parentNode.insertBefore(a.node,c.node);b&&b.add()});
this.parent().add();return this}a=C(a);var b=a.parent();this.node.parentNode.insertBefore(a.node,this.node);this.parent()&&this.parent().add();b&&b.add();a.paper=this.paper;return this};b.after=function(a){a=C(a);var c=a.parent();this.node.nextSibling?this.node.parentNode.insertBefore(a.node,this.node.nextSibling):this.node.parentNode.appendChild(a.node);this.parent()&&this.parent().add();c&&c.add();a.paper=this.paper;return this};b.insertBefore=function(a){a=C(a);var c=this.parent();a.node.parentNode.insertBefore(this.node,
a.node);this.paper=a.paper;c&&c.add();a.parent()&&a.parent().add();return this};b.insertAfter=function(a){a=C(a);var c=this.parent();a.node.parentNode.insertBefore(this.node,a.node.nextSibling);this.paper=a.paper;c&&c.add();a.parent()&&a.parent().add();return this};b.remove=function(){var a=this.parent();this.node.parentNode&&this.node.parentNode.removeChild(this.node);delete this.paper;this.removed=!0;a&&a.add();return this};b.select=function(a){return C(this.node.querySelector(a))};b.selectAll=
function(c){c=this.node.querySelectorAll(c);for(var b=(a.set||Array)(),e=0;e<c.length;e++)b.push(C(c[e]));return b};b.asPX=function(a,b){null==b&&(b=this.attr(a));return+c(this,a,b)};b.use=function(){var a,c=this.node.id;c||(c=this.id,k(this.node,{id:c}));a="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?D(this.type,this.node.parentNode):D("use",this.node.parentNode);k(a.node,{"xlink:href":"#"+c});a.original=this;return a};var p=/\S+/g;b.addClass=function(a){var c=(a||
"").match(p)||[];a=this.node;var b=a.className.baseVal,e=b.match(p)||[],u,d,f;if(c.length){for(u=0;f=c[u++];)d=e.indexOf(f),~d||e.push(f);c=e.join(" ");b!=c&&(a.className.baseVal=c)}return this};b.removeClass=function(a){var c=(a||"").match(p)||[];a=this.node;var b=a.className.baseVal,e=b.match(p)||[],u,d;if(e.length){for(u=0;d=c[u++];)d=e.indexOf(d),~d&&e.splice(d,1);c=e.join(" ");b!=c&&(a.className.baseVal=c)}return this};b.hasClass=function(a){return!!~(this.node.className.baseVal.match(p)||[]).indexOf(a)};
b.toggleClass=function(a,c){if(null!=c)return c?this.addClass(a):this.removeClass(a);var b=(a||"").match(p)||[],e=this.node,u=e.className.baseVal,d=u.match(p)||[],f,l,z;for(f=0;z=b[f++];)l=d.indexOf(z),~l?d.splice(l,1):d.push(z);b=d.join(" ");u!=b&&(e.className.baseVal=b);return this};b.clone=function(){var a=C(this.node.cloneNode(!0));k(a.node,"id")&&k(a.node,{id:a.id});e(a);a.insertAfter(this);return a};b.toDefs=function(){A(this).appendChild(this.node);return this};b.pattern=b.toPattern=function(a,
c,b,e){var u=D("pattern",A(this));null==a&&(a=this.getBBox());m(a,"object")&&"x"in a&&(c=a.y,b=a.width,e=a.height,a=a.x);k(u.node,{x:a,y:c,width:b,height:e,patternUnits:"userSpaceOnUse",id:u.id,viewBox:[a,c,b,e].join(" ")});u.node.appendChild(this.node);return u};b.marker=function(a,c,b,e,u,d){var f=D("marker",A(this));null==a&&(a=this.getBBox());m(a,"object")&&"x"in a&&(c=a.y,b=a.width,e=a.height,u=a.refX||a.cx,d=a.refY||a.cy,a=a.x);k(f.node,{viewBox:[a,c,b,e].join(" "),markerWidth:b,markerHeight:e,
orient:"auto",refX:u||0,refY:d||0,id:f.id});f.node.appendChild(this.node);return f};var S=function(a,c,b,e){"function"!=typeof b||b.length||(e=b,b=h.linear);this.attr=a;this.dur=c;b&&(this.easing=b);e&&(this.callback=e)};a._.Animation=S;a.animation=function(a,c,b,e){return new S(a,c,b,e)};b.inAnim=function(){var a=[],c;for(c in this.anims)this.anims[E](c)&&function(c){a.push({anim:new S(c._attrs,c.dur,c.easing,c._callback),mina:c,curStatus:c.status(),status:function(a){return c.status(a)},stop:function(){c.stop()}})}(this.anims[c]);
return a};a.animate=function(a,c,b,e,u,f){"function"!=typeof u||u.length||(f=u,u=h.linear);var l=h.time();a=h(a,c,l,l+e,h.time,b,u);f&&d.once("mina.finish."+a.id,f);return a};b.stop=function(){for(var a=this.inAnim(),c=0,b=a.length;c<b;c++)a[c].stop();return this};b.animate=function(a,c,b,e){"function"!=typeof b||b.length||(e=b,b=h.linear);a instanceof S&&(e=a.callback,b=a.easing,c=b.dur,a=a.attr);var f=[],l=[],z={},p,k,y,ca=this,w;for(w in a)if(a[E](w)){ca.equal?(y=ca.equal(w,H(a[w])),p=y.from,k=
y.to,y=y.f):(p=+ca.attr(w),k=+a[w]);var x=m(p,"array")?p.length:1;z[w]=u(f.length,f.length+x,y);f=f.concat(p);l=l.concat(k)}p=h.time();var B=h(f,l,p,p+c,h.time,function(a){var c={},b;for(b in z)z[E](b)&&(c[b]=z[b](a));ca.attr(c)},b);ca.anims[B.id]=B;B._attrs=a;B._callback=e;d("snap.animcreated."+ca.id,B);d.once("mina.finish."+B.id,function(){delete ca.anims[B.id];e&&e.call(ca)});d.once("mina.stop."+B.id,function(){delete ca.anims[B.id]});return ca};var w={};b.data=function(c,b){var e=w[this.id]=w[this.id]||
{};if(0==arguments.length)return d("snap.data.get."+this.id,this,e,null),e;if(1==arguments.length){if(a.is(c,"object")){for(var u in c)c[E](u)&&this.data(u,c[u]);return this}d("snap.data.get."+this.id,this,e[c],c);return e[c]}e[c]=b;d("snap.data.set."+this.id,this,b,c);return this};b.removeData=function(a){null==a?w[this.id]={}:w[this.id]&&delete w[this.id][a];return this};b.outerSVG=b.toString=f(1);b.innerSVG=f()})(p.prototype);a.parse=function(a){var c=z.doc.createDocumentFragment(),b=!0,e=z.doc.createElement("div");
a=H(a);a.match(/^\s*<\s*svg(?:\s|>)/)||(a="<svg>"+a+"</svg>",b=!1);e.innerHTML=a;if(a=e.getElementsByTagName("svg")[0])if(b)c=a;else for(;a.firstChild;)c.appendChild(a.firstChild);e.innerHTML="";return new f(c)};f.prototype.select=p.prototype.select;f.prototype.selectAll=p.prototype.selectAll;a.fragment=function(){for(var c=Array.prototype.slice.call(arguments,0),b=z.doc.createDocumentFragment(),e=0,u=c.length;e<u;e++){var d=c[e];d.node&&d.node.nodeType&&b.appendChild(d.node);d.nodeType&&b.appendChild(d);
"string"==typeof d&&b.appendChild(a.parse(d).node)}return new f(b)};a._.make=D;a._.wrap=C;G.prototype.el=function(a,c){var b=D(a,this.node);c&&b.attr(c);return b};d.on("snap.util.getattr",function(){var a=d.nt(),a=a.substring(a.lastIndexOf(".")+1),c=a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()});return ra[E](c)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(c):k(this.node,a)});var ra={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,
"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,
"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};d.on("snap.util.attr",function(a){var c=d.nt(),b={},c=c.substring(c.lastIndexOf(".")+
1);b[c]=a;var e=c.replace(/-(\w)/gi,function(a,c){return c.toUpperCase()}),c=c.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()});ra[E](c)?this.node.style[e]=null==a?"":a:k(this.node,b)});a.ajax=function(a,c,b,e){var u=new XMLHttpRequest,f=U();if(u){if(m(c,"function"))e=b,b=c,c=null;else if(m(c,"object")){var l=[],z;for(z in c)c.hasOwnProperty(z)&&l.push(encodeURIComponent(z)+"="+encodeURIComponent(c[z]));c=l.join("&")}u.open(c?"POST":"GET",a,!0);c&&(u.setRequestHeader("X-Requested-With","XMLHttpRequest"),
u.setRequestHeader("Content-type","application/x-www-form-urlencoded"));b&&(d.once("snap.ajax."+f+".0",b),d.once("snap.ajax."+f+".200",b),d.once("snap.ajax."+f+".304",b));u.onreadystatechange=function(){4==u.readyState&&d("snap.ajax."+f+"."+u.status,e,u)};if(4==u.readyState)return u;u.send(c);return u}};a.load=function(c,b,e){a.ajax(c,function(c){c=a.parse(c.responseText);e?b.call(e,c):b(c)})};a.getElementByPoint=function(a,c){var b,e,u=z.doc.elementFromPoint(a,c);if(z.win.opera&&"svg"==u.tagName){b=
u;e=b.getBoundingClientRect();b=b.ownerDocument;var d=b.body,f=b.documentElement;b=e.top+(g.win.pageYOffset||f.scrollTop||d.scrollTop)-(f.clientTop||d.clientTop||0);e=e.left+(g.win.pageXOffset||f.scrollLeft||d.scrollLeft)-(f.clientLeft||d.clientLeft||0);d=u.createSVGRect();d.x=a-e;d.y=c-b;d.width=d.height=1;b=u.getIntersectionList(d,null);b.length&&(u=b[b.length-1])}return u?C(u):null};a.plugin=function(c){c(a,p,G,z,f)};return z.win.Snap=a}();r.plugin(function(a,d,m,h,v){function q(a,b,e,c,d,p){null==
b&&"[object SVGMatrix]"==t.call(a)?(this.a=a.a,this.b=a.b,this.c=a.c,this.d=a.d,this.e=a.e,this.f=a.f):null!=a?(this.a=+a,this.b=+b,this.c=+e,this.d=+c,this.e=+d,this.f=+p):(this.a=1,this.c=this.b=0,this.d=1,this.f=this.e=0)}var t=Object.prototype.toString,b=String,e=Math;(function(d){function k(a){return a[0]*a[0]+a[1]*a[1]}function m(a){var b=e.sqrt(k(a));a[0]&&(a[0]/=b);a[1]&&(a[1]/=b)}d.add=function(a,b,e,d,l,k){var m=[[],[],[]],z=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]];b=[[a,
e,l],[b,d,k],[0,0,1]];a&&a instanceof q&&(b=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]);for(a=0;3>a;a++)for(e=0;3>e;e++){for(d=l=0;3>d;d++)l+=z[a][d]*b[d][e];m[a][e]=l}this.a=m[0][0];this.b=m[1][0];this.c=m[0][1];this.d=m[1][1];this.e=m[0][2];this.f=m[1][2];return this};d.invert=function(){var a=this.a*this.d-this.b*this.c;return new q(this.d/a,-this.b/a,-this.c/a,this.a/a,(this.c*this.f-this.d*this.e)/a,(this.b*this.e-this.a*this.f)/a)};d.clone=function(){return new q(this.a,this.b,this.c,this.d,this.e,
this.f)};d.translate=function(a,b){return this.add(1,0,0,1,a,b)};d.scale=function(a,b,e,d){null==b&&(b=a);(e||d)&&this.add(1,0,0,1,e,d);this.add(a,0,0,b,0,0);(e||d)&&this.add(1,0,0,1,-e,-d);return this};d.rotate=function(c,b,d){c=a.rad(c);b=b||0;d=d||0;var f=+e.cos(c).toFixed(9);c=+e.sin(c).toFixed(9);this.add(f,c,-c,f,b,d);return this.add(1,0,0,1,-b,-d)};d.x=function(a,b){return a*this.a+b*this.c+this.e};d.y=function(a,b){return a*this.b+b*this.d+this.f};d.get=function(a){return+this[b.fromCharCode(97+
a)].toFixed(4)};d.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"};d.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};d.determinant=function(){return this.a*this.d-this.b*this.c};d.split=function(){var c={};c.dx=this.e;c.dy=this.f;var b=[[this.a,this.c],[this.b,this.d]];c.scalex=e.sqrt(k(b[0]));m(b[0]);c.shear=b[0][0]*b[1][0]+b[0][1]*b[1][1];b[1]=[b[1][0]-b[0][0]*c.shear,b[1][1]-b[0][1]*c.shear];c.scaley=e.sqrt(k(b[1]));
m(b[1]);c.shear/=c.scaley;0>this.determinant()&&(c.scalex=-c.scalex);var d=-b[0][1],b=b[1][1];0>b?(c.rotate=a.deg(e.acos(b)),0>d&&(c.rotate=360-c.rotate)):c.rotate=a.deg(e.asin(d));c.isSimple=!+c.shear.toFixed(9)&&(c.scalex.toFixed(9)==c.scaley.toFixed(9)||!c.rotate);c.isSuperSimple=!+c.shear.toFixed(9)&&c.scalex.toFixed(9)==c.scaley.toFixed(9)&&!c.rotate;c.noRotation=!+c.shear.toFixed(9)&&!c.rotate;return c};d.toTransformString=function(a){a=a||this.split();if(+a.shear.toFixed(9))return"m"+[this.get(0),
this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)];a.scalex=+a.scalex.toFixed(4);a.scaley=+a.scaley.toFixed(4);a.rotate=+a.rotate.toFixed(4);return(a.dx||a.dy?"t"+[+a.dx.toFixed(4),+a.dy.toFixed(4)]:"")+(1!=a.scalex||1!=a.scaley?"s"+[a.scalex,a.scaley,0,0]:"")+(a.rotate?"r"+[+a.rotate.toFixed(4),0,0]:"")}})(q.prototype);a.Matrix=q;a.matrix=function(a,b,e,c,d,p){return new q(a,b,e,c,d,p)}});r.plugin(function(a,k,m,h,v){function q(b){return function(e){d.stop();e instanceof v&&1==e.node.childNodes.length&&
("radialGradient"==e.node.firstChild.tagName||"linearGradient"==e.node.firstChild.tagName||"pattern"==e.node.firstChild.tagName)&&(e=e.node.firstChild,c(this).appendChild(e),e=A(e));if(e instanceof k)if("radialGradient"==e.type||"linearGradient"==e.type||"pattern"==e.type){e.node.id||p(e.node,{id:e.id});var l=f(e.node.id)}else l=e.attr(b);else l=a.color(e),l.error?(l=a(c(this).ownerSVGElement).gradient(e))?(l.node.id||p(l.node,{id:l.id}),l=f(l.node.id)):l=e:l=D(l);e={};e[b]=l;p(this.node,e);this.node.style[b]=
""}}function t(a){d.stop();a==+a&&(a+="px");this.node.style.fontSize=a}function b(a){var c=[];a=a.childNodes;for(var e=0,d=a.length;e<d;e++){var f=a[e];3==f.nodeType&&c.push(f.nodeValue);"tspan"==f.tagName&&(1==f.childNodes.length&&3==f.firstChild.nodeType?c.push(f.firstChild.nodeValue):c.push(b(f)))}return c}function e(){d.stop();return this.node.style.fontSize}var l=a._.make,A=a._.wrap,x=a.is,c=a._.getSomeDefs,w=/^url\(#?([^)]+)\)$/,p=a._.$,f=a.url,D=String,G=a._.separator;d.on("snap.util.attr.mask",
function(a){if(a instanceof k||a instanceof v){d.stop();a instanceof v&&1==a.node.childNodes.length&&(a=a.node.firstChild,c(this).appendChild(a),a=A(a));if("mask"==a.type)var b=a;else b=l("mask",c(this)),b.node.appendChild(a.node);!b.node.id&&p(b.node,{id:b.id});p(this.node,{mask:f(b.id)})}});(function(a){d.on("snap.util.attr.clip",a);d.on("snap.util.attr.clip-path",a);d.on("snap.util.attr.clipPath",a)})(function(a){if(a instanceof k||a instanceof v){d.stop();if("clipPath"==a.type)var b=a;else b=
l("clipPath",c(this)),b.node.appendChild(a.node),!b.node.id&&p(b.node,{id:b.id});p(this.node,{"clip-path":f(b.id)})}});d.on("snap.util.attr.fill",q("fill"));d.on("snap.util.attr.stroke",q("stroke"));var C=/^([lr])(?:\(([^)]*)\))?(.*)$/i;d.on("snap.util.grad.parse",function(a){a=D(a);var b=a.match(C);if(!b)return null;a=b[1];var c=b[2],b=b[3],c=c.split(/\s*,\s*/).map(function(a){return+a==a?+a:a});1==c.length&&0==c[0]&&(c=[]);b=b.split("-");b=b.map(function(a){a=a.split(":");var b={color:a[0]};a[1]&&
(b.offset=parseFloat(a[1]));return b});return{type:a,params:c,stops:b}});d.on("snap.util.attr.d",function(b){d.stop();x(b,"array")&&x(b[0],"array")&&(b=a.path.toString.call(b));b=D(b);b.match(/[ruo]/i)&&(b=a.path.toAbsolute(b));p(this.node,{d:b})})(-1);d.on("snap.util.attr.#text",function(a){d.stop();a=D(a);for(a=h.doc.createTextNode(a);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(a)})(-1);d.on("snap.util.attr.path",function(a){d.stop();this.attr({d:a})})(-1);
d.on("snap.util.attr.class",function(a){d.stop();this.node.className.baseVal=a})(-1);d.on("snap.util.attr.viewBox",function(a){a=x(a,"object")&&"x"in a?[a.x,a.y,a.width,a.height].join(" "):x(a,"array")?a.join(" "):a;p(this.node,{viewBox:a});d.stop()})(-1);d.on("snap.util.attr.transform",function(a){this.transform(a);d.stop()})(-1);d.on("snap.util.attr.r",function(a){"rect"==this.type&&(d.stop(),p(this.node,{rx:a,ry:a}))})(-1);d.on("snap.util.attr.textpath",function(a){d.stop();if("text"==this.type){var b,
e;if(!a&&this.textPath){for(a=this.textPath;a.node.firstChild;)this.node.appendChild(a.node.firstChild);a.remove();delete this.textPath}else if(x(a,"string")?(b=c(this),a=A(b.parentNode).path(a),b.appendChild(a.node),b=a.id,a.attr({id:b})):(a=A(a),a instanceof k&&(b=a.attr("id"),b||(b=a.id,a.attr({id:b})))),b)if(a=this.textPath,e=this.node,a)a.attr({"xlink:href":"#"+b});else{for(a=p("textPath",{"xlink:href":"#"+b});e.firstChild;)a.appendChild(e.firstChild);e.appendChild(a);this.textPath=A(a)}}})(-1);
d.on("snap.util.attr.text",function(a){if("text"==this.type){for(var b=this.node,c=function(a){var b=p("tspan");if(x(a,"array"))for(var e=0;e<a.length;e++)b.appendChild(c(a[e]));else b.appendChild(h.doc.createTextNode(a));b.normalize&&b.normalize();return b};b.firstChild;)b.removeChild(b.firstChild);for(a=c(a);a.firstChild;)b.appendChild(a.firstChild)}d.stop()})(-1);d.on("snap.util.attr.fontSize",t)(-1);d.on("snap.util.attr.font-size",t)(-1);d.on("snap.util.getattr.transform",function(){d.stop();
return this.transform()})(-1);d.on("snap.util.getattr.textpath",function(){d.stop();return this.textPath})(-1);(function(){function b(c){return function(){d.stop();var b=h.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+c);return"none"==b?b:a(h.doc.getElementById(b.match(w)[1]))}}function c(a){return function(b){d.stop();var c="marker"+a.charAt(0).toUpperCase()+a.substring(1);if(""==b||!b)this.node.style[c]="none";else if("marker"==b.type){var e=b.node.id;e||p(b.node,{id:b.id});
this.node.style[c]=f(e)}}}d.on("snap.util.getattr.marker-end",b("end"))(-1);d.on("snap.util.getattr.markerEnd",b("end"))(-1);d.on("snap.util.getattr.marker-start",b("start"))(-1);d.on("snap.util.getattr.markerStart",b("start"))(-1);d.on("snap.util.getattr.marker-mid",b("mid"))(-1);d.on("snap.util.getattr.markerMid",b("mid"))(-1);d.on("snap.util.attr.marker-end",c("end"))(-1);d.on("snap.util.attr.markerEnd",c("end"))(-1);d.on("snap.util.attr.marker-start",c("start"))(-1);d.on("snap.util.attr.markerStart",
c("start"))(-1);d.on("snap.util.attr.marker-mid",c("mid"))(-1);d.on("snap.util.attr.markerMid",c("mid"))(-1)})();d.on("snap.util.getattr.r",function(){if("rect"==this.type&&p(this.node,"rx")==p(this.node,"ry"))return d.stop(),p(this.node,"rx")})(-1);d.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){d.stop();var a=b(this.node);return 1==a.length?a[0]:a}})(-1);d.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1);d.on("snap.util.getattr.viewBox",
function(){d.stop();var b=p(this.node,"viewBox");if(b)return b=b.split(G),a._.box(+b[0],+b[1],+b[2],+b[3])})(-1);d.on("snap.util.getattr.points",function(){var a=p(this.node,"points");d.stop();if(a)return a.split(G)})(-1);d.on("snap.util.getattr.path",function(){var a=p(this.node,"d");d.stop();return a})(-1);d.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1);d.on("snap.util.getattr.fontSize",e)(-1);d.on("snap.util.getattr.font-size",e)(-1)});r.plugin(function(a,k,m,
h,v){function q(a){return a}function t(a){return function(b){return+b.toFixed(3)+a}}var b={"+":function(a,b){return a+b},"-":function(a,b){return a-b},"/":function(a,b){return a/b},"*":function(a,b){return a*b}},e=String,l=/[a-z]+$/i,A=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;d.on("snap.util.attr",function(a){if(a=e(a).match(A)){var c=d.nt(),c=c.substring(c.lastIndexOf(".")+1),k=this.attr(c),p={};d.stop();var f=a[3]||"",m=k.match(l),q=b[a[1]];m&&m==f?a=q(parseFloat(k),+a[2]):(k=this.asPX(c),
a=q(this.asPX(c),this.asPX(c,a[2]+f)));isNaN(k)||isNaN(a)||(p[c]=a,this.attr(p))}})(-10);d.on("snap.util.equal",function(a,c){var k=e(this.attr(a)||""),p=e(c).match(A);if(p){d.stop();var f=p[3]||"",m=k.match(l),v=b[p[1]];if(m&&m==f)return{from:parseFloat(k),to:v(parseFloat(k),+p[2]),f:t(m)};k=this.asPX(a);return{from:k,to:v(k,this.asPX(a,p[2]+f)),f:q}}})(-10)});r.plugin(function(a,k,m,h,v){var q=m.prototype,t=a.is;q.rect=function(a,b,d,k,c,m){var p;null==m&&(m=c);t(a,"object")&&"[object Object]"==
a?p=a:null!=a&&(p={x:a,y:b,width:d,height:k},null!=c&&(p.rx=c,p.ry=m));return this.el("rect",p)};q.circle=function(a,b,d){var k;t(a,"object")&&"[object Object]"==a?k=a:null!=a&&(k={cx:a,cy:b,r:d});return this.el("circle",k)};var b=function(){function a(){this.parentNode.removeChild(this)}return function(b,d){var k=h.doc.createElement("img"),c=h.doc.body;k.style.cssText="position:absolute;left:-9999em;top:-9999em";k.onload=function(){d.call(k);k.onload=k.onerror=null;c.removeChild(k)};k.onerror=a;
c.appendChild(k);k.src=b}}();q.image=function(e,d,k,m,c){var q=this.el("image");if(t(e,"object")&&"src"in e)q.attr(e);else if(null!=e){var p={"xlink:href":e,preserveAspectRatio:"none"};null!=d&&null!=k&&(p.x=d,p.y=k);null!=m&&null!=c?(p.width=m,p.height=c):b(e,function(){a._.$(q.node,{width:this.offsetWidth,height:this.offsetHeight})});a._.$(q.node,p)}return q};q.ellipse=function(a,b,d,k){var c;t(a,"object")&&"[object Object]"==a?c=a:null!=a&&(c={cx:a,cy:b,rx:d,ry:k});return this.el("ellipse",c)};
q.path=function(a){var b;t(a,"object")&&!t(a,"array")?b=a:a&&(b={d:a});return this.el("path",b)};q.group=q.g=function(a){var b=this.el("g");1==arguments.length&&a&&!a.type?b.attr(a):arguments.length&&b.add(Array.prototype.slice.call(arguments,0));return b};q.svg=function(a,b,d,k,c,m,p,f){var q={};t(a,"object")&&null==b?q=a:(null!=a&&(q.x=a),null!=b&&(q.y=b),null!=d&&(q.width=d),null!=k&&(q.height=k),null!=c&&null!=m&&null!=p&&null!=f&&(q.viewBox=[c,m,p,f]));return this.el("svg",q)};q.mask=function(a){var b=
this.el("mask");1==arguments.length&&a&&!a.type?b.attr(a):arguments.length&&b.add(Array.prototype.slice.call(arguments,0));return b};q.ptrn=function(a,b,d,k,c,m,p,f){if(t(a,"object"))var q=a;else arguments.length?(q={},null!=a&&(q.x=a),null!=b&&(q.y=b),null!=d&&(q.width=d),null!=k&&(q.height=k),null!=c&&null!=m&&null!=p&&null!=f&&(q.viewBox=[c,m,p,f])):q={patternUnits:"userSpaceOnUse"};return this.el("pattern",q)};q.use=function(a){return null!=a?(make("use",this.node),a instanceof k&&(a.attr("id")||
a.attr({id:ID()}),a=a.attr("id")),this.el("use",{"xlink:href":a})):k.prototype.use.call(this)};q.text=function(a,b,d){var k={};t(a,"object")?k=a:null!=a&&(k={x:a,y:b,text:d||""});return this.el("text",k)};q.line=function(a,b,d,k){var c={};t(a,"object")?c=a:null!=a&&(c={x1:a,x2:d,y1:b,y2:k});return this.el("line",c)};q.polyline=function(a){1<arguments.length&&(a=Array.prototype.slice.call(arguments,0));var b={};t(a,"object")&&!t(a,"array")?b=a:null!=a&&(b={points:a});return this.el("polyline",b)};
q.polygon=function(a){1<arguments.length&&(a=Array.prototype.slice.call(arguments,0));var b={};t(a,"object")&&!t(a,"array")?b=a:null!=a&&(b={points:a});return this.el("polygon",b)};(function(){function b(){return this.selectAll("stop")}function l(b,c){var e=p("stop"),d={offset:+c+"%"};b=a.color(b);d["stop-color"]=b.hex;1>b.opacity&&(d["stop-opacity"]=b.opacity);p(e,d);this.node.appendChild(e);return this}function k(){if("linearGradient"==this.type){var b=p(this.node,"x1")||0,c=p(this.node,"x2")||
1,e=p(this.node,"y1")||0,d=p(this.node,"y2")||0;return a._.box(b,e,math.abs(c-b),math.abs(d-e))}b=this.node.r||0;return a._.box((this.node.cx||.5)-b,(this.node.cy||.5)-b,2*b,2*b)}function m(a,b){function e(a,b){for(var c=(b-h)/(a-A),d=A;d<a;d++)q[d].offset=+(+h+c*(d-A)).toFixed(2);A=a;h=b}var l=d("snap.util.grad.parse",null,b).firstDefined(),k;if(!l)return null;l.params.unshift(a);k="l"==l.type.toLowerCase()?c.apply(0,l.params):v.apply(0,l.params);l.type!=l.type.toLowerCase()&&p(k.node,{gradientUnits:"userSpaceOnUse"});
var q=l.stops,l=q.length,h=0,A=0;l--;for(var t=0;t<l;t++)"offset"in q[t]&&e(t,q[t].offset);q[l].offset=q[l].offset||100;e(l,q[l].offset);for(t=0;t<=l;t++){var r=q[t];k.addStop(r.color,r.offset)}return k}function c(c,d,m,q,v){c=a._.make("linearGradient",c);c.stops=b;c.addStop=l;c.getBBox=k;null!=d&&p(c.node,{x1:d,y1:m,x2:q,y2:v});return c}function v(c,d,m,q,h,t){c=a._.make("radialGradient",c);c.stops=b;c.addStop=l;c.getBBox=k;null!=d&&p(c.node,{cx:d,cy:m,r:q});null!=h&&null!=t&&p(c.node,{fx:h,fy:t});
return c}var p=a._.$;q.gradient=function(a){return m(this.defs,a)};q.gradientLinear=function(a,b,e,d){return c(this.defs,a,b,e,d)};q.gradientRadial=function(a,b,c,e,d){return v(this.defs,a,b,c,e,d)};q.toString=function(){var b=this.node.ownerDocument,c=b.createDocumentFragment(),b=b.createElement("div"),e=this.node.cloneNode(!0);c.appendChild(b);b.appendChild(e);a._.$(e,{xmlns:"http://www.w3.org/2000/svg"});b=b.innerHTML;c.removeChild(c.firstChild);return b};q.clear=function(){for(var a=this.node.firstChild,
b;a;)b=a.nextSibling,"defs"!=a.tagName?a.parentNode.removeChild(a):q.clear.call({node:a}),a=b}})()});r.plugin(function(a,d,m,h){function v(a){var b=v.ps=v.ps||{};b[a]?b[a].sleep=100:b[a]={sleep:100};setTimeout(function(){for(var c in b)b.hasOwnProperty(c)&&c!=a&&(b[c].sleep--,!b[c].sleep&&delete b[c])});return b[a]}function q(a,b,c,e){null==a&&(a=b=c=e=0);null==b&&(b=a.y,c=a.width,e=a.height,a=a.x);return{x:a,y:b,width:c,w:c,height:e,h:e,x2:a+c,y2:b+e,cx:a+c/2,cy:b+e/2,r1:I.min(c,e)/2,r2:I.max(c,
e)/2,r0:I.sqrt(c*c+e*e)/2,path:G(a,b,c,e),vb:[a,b,c,e].join(" ")}}function t(){return this.join(",").replace(W,"$1")}function b(a){a=N(a);a.toString=t;return a}function e(a,b,c,e,d,f,l,k,m){if(null==m)return p(a,b,c,e,d,f,l,k);if(0>m||p(a,b,c,e,d,f,l,k)<m)m=void 0;else{var q=.5,h=1-q,v;for(v=p(a,b,c,e,d,f,l,k,h);.01<Z(v-m);)q/=2,h+=(v<m?1:-1)*q,v=p(a,b,c,e,d,f,l,k,h);m=h}return A(a,b,c,e,d,f,l,k,m)}function l(b,c){function f(a){return+(+a).toFixed(3)}return a._.cacher(function(a,l,m){a instanceof
d&&(a=a.attr("d"));a=M(a);for(var p,q,h,v,t="",r={},B=0,y=0,z=a.length;y<z;y++){h=a[y];if("M"==h[0])p=+h[1],q=+h[2];else{v=e(p,q,h[1],h[2],h[3],h[4],h[5],h[6]);if(B+v>l){if(c&&!r.start){p=e(p,q,h[1],h[2],h[3],h[4],h[5],h[6],l-B);t+=["C"+f(p.start.x),f(p.start.y),f(p.m.x),f(p.m.y),f(p.x),f(p.y)];if(m)return t;r.start=t;t=["M"+f(p.x),f(p.y)+"C"+f(p.n.x),f(p.n.y),f(p.end.x),f(p.end.y),f(h[5]),f(h[6])].join();B+=v;p=+h[5];q=+h[6];continue}if(!b&&!c)return p=e(p,q,h[1],h[2],h[3],h[4],h[5],h[6],l-B)}B+=
v;p=+h[5];q=+h[6]}t+=h.shift()+h}r.end=t;return p=b?B:c?r:A(p,q,h[0],h[1],h[2],h[3],h[4],h[5],1)},null,a._.clone)}function A(a,b,c,e,d,f,l,k,p){var m=1-p,q=aa(m,3),h=aa(m,2),v=p*p,y=v*p,t=q*a+3*h*p*c+3*m*p*p*d+y*l,q=q*b+3*h*p*e+3*m*p*p*f+y*k,h=a+2*p*(c-a)+v*(d-2*c+a),y=b+2*p*(e-b)+v*(f-2*e+b),r=c+2*p*(d-c)+v*(l-2*d+c),v=e+2*p*(f-e)+v*(k-2*f+e);a=m*a+p*c;b=m*b+p*e;d=m*d+p*l;f=m*f+p*k;k=90-180*I.atan2(h-r,y-v)/K;return{x:t,y:q,m:{x:h,y:y},n:{x:r,y:v},start:{x:a,y:b},end:{x:d,y:f},alpha:k}}function r(b,
c,e,d,f,l,k,p){a.is(b,"array")||(b=[b,c,e,d,f,l,k,p]);b=O.apply(null,b);return q(b.min.x,b.min.y,b.max.x-b.min.x,b.max.y-b.min.y)}function c(a,b,c){return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height}function w(a,b){a=q(a);b=q(b);return c(b,a.x,a.y)||c(b,a.x2,a.y)||c(b,a.x,a.y2)||c(b,a.x2,a.y2)||c(a,b.x,b.y)||c(a,b.x2,b.y)||c(a,b.x,b.y2)||c(a,b.x2,b.y2)||(a.x<b.x2&&a.x>b.x||b.x<a.x2&&b.x>a.x)&&(a.y<b.y2&&a.y>b.y||b.y<a.y2&&b.y>a.y)}function p(a,b,c,e,d,f,l,k,p){null==p&&(p=1);p=(1<p?1:0>p?0:p)/
2;for(var m=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],q=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,v=0;12>v;v++)var y=p*m[v]+p,t=y*(y*(-3*a+9*c-9*d+3*l)+6*a-12*c+6*d)-3*a+3*c,y=y*(y*(-3*b+9*e-9*f+3*k)+6*b-12*e+6*f)-3*b+3*e,h=h+q[v]*I.sqrt(t*t+y*y);return p*h}function f(a,b,c){a=M(a);b=M(b);for(var e,d,f,l,k,m,q,h,v,t,y=c?0:[],z=0,n=a.length;z<n;z++)if(v=a[z],"M"==v[0])e=k=v[1],d=m=v[2];else{"C"==v[0]?(v=[e,d].concat(v.slice(1)),
e=v[6],d=v[7]):(v=[e,d,e,d,k,m,k,m],e=k,d=m);for(var G=0,F=b.length;G<F;G++)if(t=b[G],"M"==t[0])f=q=t[1],l=h=t[2];else{"C"==t[0]?(t=[f,l].concat(t.slice(1)),f=t[6],l=t[7]):(t=[f,l,f,l,q,h,q,h],f=q,l=h);var C;var E=v,D=t;C=c;var Y=r(E),H=r(D);if(w(Y,H)){for(var Y=p.apply(0,E),H=p.apply(0,D),Y=~~(Y/8),H=~~(H/8),L=[],O=[],I={},T=C?0:[],J=0;J<Y+1;J++){var N=A.apply(0,E.concat(J/Y));L.push({x:N.x,y:N.y,t:J/Y})}for(J=0;J<H+1;J++)N=A.apply(0,D.concat(J/H)),O.push({x:N.x,y:N.y,t:J/H});for(J=0;J<Y;J++)for(E=
0;E<H;E++){var K=L[J],U=L[J+1],D=O[E],N=O[E+1],W=.001>Z(U.x-K.x)?"y":"x",X=.001>Z(N.x-D.x)?"y":"x",Q;Q=K.x;var ea=K.y,fa=U.x,ga=U.y,ha=D.x,ia=D.y,ja=N.x,ka=N.y;if(R(Q,fa)<V(ha,ja)||V(Q,fa)>R(ha,ja)||R(ea,ga)<V(ia,ka)||V(ea,ga)>R(ia,ka))Q=void 0;else{var aa=(Q*ga-ea*fa)*(ha-ja)-(Q-fa)*(ha*ka-ia*ja),ba=(Q*ga-ea*fa)*(ia-ka)-(ea-ga)*(ha*ka-ia*ja),la=(Q-fa)*(ia-ka)-(ea-ga)*(ha-ja);if(la){var aa=aa/la,ba=ba/la,la=+aa.toFixed(2),da=+ba.toFixed(2);Q=la<+V(Q,fa).toFixed(2)||la>+R(Q,fa).toFixed(2)||la<+V(ha,
ja).toFixed(2)||la>+R(ha,ja).toFixed(2)||da<+V(ea,ga).toFixed(2)||da>+R(ea,ga).toFixed(2)||da<+V(ia,ka).toFixed(2)||da>+R(ia,ka).toFixed(2)?void 0:{x:aa,y:ba}}else Q=void 0}Q&&I[Q.x.toFixed(4)]!=Q.y.toFixed(4)&&(I[Q.x.toFixed(4)]=Q.y.toFixed(4),K=K.t+Z((Q[W]-K[W])/(U[W]-K[W]))*(U.t-K.t),D=D.t+Z((Q[X]-D[X])/(N[X]-D[X]))*(N.t-D.t),0<=K&&1>=K&&0<=D&&1>=D&&(C?T++:T.push({x:Q.x,y:Q.y,t1:K,t2:D})))}C=T}else C=C?0:[];if(c)y+=C;else{Y=0;for(H=C.length;Y<H;Y++)C[Y].segment1=z,C[Y].segment2=G,C[Y].bez1=v,C[Y].bez2=
t;y=y.concat(C)}}}return y}function n(a){var b=v(a);if(b.bbox)return N(b.bbox);if(!a)return q();a=M(a);for(var c=0,e=0,d=[],f=[],l,p=0,k=a.length;p<k;p++)l=a[p],"M"==l[0]?(c=l[1],e=l[2],d.push(c),f.push(e)):(c=O(c,e,l[1],l[2],l[3],l[4],l[5],l[6]),d=d.concat(c.min.x,c.max.x),f=f.concat(c.min.y,c.max.y),c=l[5],e=l[6]);a=V.apply(0,d);l=V.apply(0,f);d=R.apply(0,d);f=R.apply(0,f);f=q(a,l,d-a,f-l);b.bbox=N(f);return f}function G(a,b,c,e,d){if(d)return[["M",+a+ +d,b],["l",c-2*d,0],["a",d,d,0,0,1,d,d],["l",
0,e-2*d],["a",d,d,0,0,1,-d,d],["l",2*d-c,0],["a",d,d,0,0,1,-d,-d],["l",0,2*d-e],["a",d,d,0,0,1,d,-d],["z"]];a=[["M",a,b],["l",c,0],["l",0,e],["l",-c,0],["z"]];a.toString=t;return a}function C(a,b,c,e,d){null==d&&null==e&&(e=c);a=+a;b=+b;c=+c;e=+e;if(null!=d){var f=Math.PI/180,l=a+c*Math.cos(-e*f);a+=c*Math.cos(-d*f);var p=b+c*Math.sin(-e*f);b+=c*Math.sin(-d*f);c=[["M",l,p],["A",c,c,0,+(180<d-e),0,a,b]]}else c=[["M",a,b],["m",0,-e],["a",c,e,0,1,1,0,2*e],["a",c,e,0,1,1,0,-2*e],["z"]];c.toString=t;return c}
function z(c){var e=v(c);if(e.abs)return b(e.abs);J(c,"array")&&J(c&&c[0],"array")||(c=a.parsePathString(c));if(!c||!c.length)return[["M",0,0]];var d=[],f=0,l=0,p=0,k=0,m=0;"M"==c[0][0]&&(f=+c[0][1],l=+c[0][2],p=f,k=l,m++,d[0]=["M",f,l]);for(var q=3==c.length&&"M"==c[0][0]&&"R"==c[1][0].toUpperCase()&&"Z"==c[2][0].toUpperCase(),h,r,z=m,A=c.length;z<A;z++){d.push(h=[]);r=c[z];m=r[0];if(m!=m.toUpperCase())switch(h[0]=m.toUpperCase(),h[0]){case "A":h[1]=r[1];h[2]=r[2];h[3]=r[3];h[4]=r[4];h[5]=r[5];h[6]=
+r[6]+f;h[7]=+r[7]+l;break;case "V":h[1]=+r[1]+l;break;case "H":h[1]=+r[1]+f;break;case "R":for(var y=[f,l].concat(r.slice(1)),w=2,n=y.length;w<n;w++)y[w]=+y[w]+f,y[++w]=+y[w]+l;d.pop();d=d.concat(T(y,q));break;case "O":d.pop();y=C(f,l,r[1],r[2]);y.push(y[0]);d=d.concat(y);break;case "U":d.pop();d=d.concat(C(f,l,r[1],r[2],r[3]));h=["U"].concat(d[d.length-1].slice(-2));break;case "M":p=+r[1]+f,k=+r[2]+l;default:for(w=1,n=r.length;w<n;w++)h[w]=+r[w]+(w%2?f:l)}else if("R"==m)y=[f,l].concat(r.slice(1)),
d.pop(),d=d.concat(T(y,q)),h=["R"].concat(r.slice(-2));else if("O"==m)d.pop(),y=C(f,l,r[1],r[2]),y.push(y[0]),d=d.concat(y);else if("U"==m)d.pop(),d=d.concat(C(f,l,r[1],r[2],r[3])),h=["U"].concat(d[d.length-1].slice(-2));else for(y=0,w=r.length;y<w;y++)h[y]=r[y];m=m.toUpperCase();if("O"!=m)switch(h[0]){case "Z":f=+p;l=+k;break;case "H":f=h[1];break;case "V":l=h[1];break;case "M":p=h[h.length-2],k=h[h.length-1];default:f=h[h.length-2],l=h[h.length-1]}}d.toString=t;e.abs=b(d);return d}function E(a,
b,c,e){return[a,b,c,e,c,e]}function H(a,b,c,e,d,f){var l=1/3,p=2/3;return[l*a+p*c,l*b+p*e,l*d+p*c,l*f+p*e,d,f]}function L(b,c,e,d,f,l,p,k,m,h){var q=120*K/180,v=K/180*(+f||0),r=[],t,z=a._.cacher(function(a,b,c){var e=a*I.cos(c)-b*I.sin(c);a=a*I.sin(c)+b*I.cos(c);return{x:e,y:a}});if(h)n=h[0],t=h[1],l=h[2],w=h[3];else{t=z(b,c,-v);b=t.x;c=t.y;t=z(k,m,-v);k=t.x;m=t.y;I.cos(K/180*f);I.sin(K/180*f);t=(b-k)/2;n=(c-m)/2;w=t*t/(e*e)+n*n/(d*d);1<w&&(w=I.sqrt(w),e*=w,d*=w);var w=e*e,A=d*d,w=(l==p?-1:1)*I.sqrt(Z((w*
A-w*n*n-A*t*t)/(w*n*n+A*t*t)));l=w*e*n/d+(b+k)/2;var w=w*-d*t/e+(c+m)/2,n=I.asin(((c-w)/d).toFixed(9));t=I.asin(((m-w)/d).toFixed(9));n=b<l?K-n:n;t=k<l?K-t:t;0>n&&(n=2*K+n);0>t&&(t=2*K+t);p&&n>t&&(n-=2*K);!p&&t>n&&(t-=2*K)}if(Z(t-n)>q){var r=t,A=k,C=m;t=n+q*(p&&t>n?1:-1);k=l+e*I.cos(t);m=w+d*I.sin(t);r=L(k,m,e,d,f,0,p,A,C,[t,r,l,w])}l=t-n;f=I.cos(n);q=I.sin(n);p=I.cos(t);t=I.sin(t);l=I.tan(l/4);e=4/3*e*l;l*=4/3*d;d=[b,c];b=[b+e*q,c-l*f];c=[k+e*t,m-l*p];k=[k,m];b[0]=2*d[0]-b[0];b[1]=2*d[1]-b[1];if(h)return[b,
c,k].concat(r);r=[b,c,k].concat(r).join().split(",");h=[];k=0;for(m=r.length;k<m;k++)h[k]=k%2?z(r[k-1],r[k],v).y:z(r[k],r[k+1],v).x;return h}function O(a,b,c,e,d,f,l,k){for(var p=[],m=[[],[]],h,q,t,v,r=0;2>r;++r)0==r?(q=6*a-12*c+6*d,h=-3*a+9*c-9*d+3*l,t=3*c-3*a):(q=6*b-12*e+6*f,h=-3*b+9*e-9*f+3*k,t=3*e-3*b),1E-12>Z(h)?1E-12>Z(q)||(h=-t/q,0<h&&1>h&&p.push(h)):(v=q*q-4*t*h,t=I.sqrt(v),0>v||(v=(-q+t)/(2*h),0<v&&1>v&&p.push(v),h=(-q-t)/(2*h),0<h&&1>h&&p.push(h)));for(q=r=p.length;r--;)h=p[r],t=1-h,m[0][r]=
t*t*t*a+3*t*t*h*c+3*t*h*h*d+h*h*h*l,m[1][r]=t*t*t*b+3*t*t*h*e+3*t*h*h*f+h*h*h*k;m[0][q]=a;m[1][q]=b;m[0][q+1]=l;m[1][q+1]=k;m[0].length=m[1].length=q+2;return{min:{x:V.apply(0,m[0]),y:V.apply(0,m[1])},max:{x:R.apply(0,m[0]),y:R.apply(0,m[1])}}}function M(a,c){var e=!c&&v(a);if(!c&&e.curve)return b(e.curve);var d=z(a),f=c&&z(c),l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},k={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},p=function(a,b,c){if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];a[0]in{T:1,Q:1}||(b.qx=
b.qy=null);switch(a[0]){case "M":b.X=a[1];b.Y=a[2];break;case "A":a=["C"].concat(L.apply(0,[b.x,b.y].concat(a.slice(1))));break;case "S":"C"==c||"S"==c?(c=2*b.x-b.bx,b=2*b.y-b.by):(c=b.x,b=b.y);a=["C",c,b].concat(a.slice(1));break;case "T":"Q"==c||"T"==c?(b.qx=2*b.x-b.qx,b.qy=2*b.y-b.qy):(b.qx=b.x,b.qy=b.y);a=["C"].concat(H(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case "Q":b.qx=a[1];b.qy=a[2];a=["C"].concat(H(b.x,b.y,a[1],a[2],a[3],a[4]));break;case "L":a=["C"].concat(E(b.x,b.y,a[1],a[2]));break;case "H":a=
["C"].concat(E(b.x,b.y,a[1],b.y));break;case "V":a=["C"].concat(E(b.x,b.y,b.x,a[1]));break;case "Z":a=["C"].concat(E(b.x,b.y,b.X,b.Y))}return a},m=function(a,b){if(7<a[b].length){a[b].shift();for(var c=a[b];c.length;)q[b]="A",f&&(t[b]="A"),a.splice(b++,0,["C"].concat(c.splice(0,6)));a.splice(b,1);A=R(d.length,f&&f.length||0)}},h=function(a,b,c,e,l){a&&b&&"M"==a[l][0]&&"M"!=b[l][0]&&(b.splice(l,0,["M",e.x,e.y]),c.bx=0,c.by=0,c.x=a[l][1],c.y=a[l][2],A=R(d.length,f&&f.length||0))},q=[],t=[],r="",w="",
n=0,A=R(d.length,f&&f.length||0);for(;n<A;n++){d[n]&&(r=d[n][0]);"C"!=r&&(q[n]=r,n&&(w=q[n-1]));d[n]=p(d[n],l,w);"A"!=q[n]&&"C"==r&&(q[n]="C");m(d,n);f&&(f[n]&&(r=f[n][0]),"C"!=r&&(t[n]=r,n&&(w=t[n-1])),f[n]=p(f[n],k,w),"A"!=t[n]&&"C"==r&&(t[n]="C"),m(f,n));h(d,f,l,k,n);h(f,d,k,l,n);var C=d[n],G=f&&f[n],x=C.length,D=f&&G.length;l.x=C[x-2];l.y=C[x-1];l.bx=X(C[x-4])||l.x;l.by=X(C[x-3])||l.y;k.bx=f&&(X(G[D-4])||k.x);k.by=f&&(X(G[D-3])||k.y);k.x=f&&G[D-2];k.y=f&&G[D-1]}f||(e.curve=b(d));return f?[d,f]:
d}function T(a,b){for(var c=[],e=0,d=a.length;d-2*!b>e;e+=2){var f=[{x:+a[e-2],y:+a[e-1]},{x:+a[e],y:+a[e+1]},{x:+a[e+2],y:+a[e+3]},{x:+a[e+4],y:+a[e+5]}];b?e?d-4==e?f[3]={x:+a[0],y:+a[1]}:d-2==e&&(f[2]={x:+a[0],y:+a[1]},f[3]={x:+a[2],y:+a[3]}):f[0]={x:+a[d-2],y:+a[d-1]}:d-4==e?f[3]=f[2]:e||(f[0]={x:+a[e],y:+a[e+1]});c.push(["C",(-f[0].x+6*f[1].x+f[2].x)/6,(-f[0].y+6*f[1].y+f[2].y)/6,(f[1].x+6*f[2].x-f[3].x)/6,(f[1].y+6*f[2].y-f[3].y)/6,f[2].x,f[2].y])}return c}m=d.prototype;var J=a.is,N=a._.clone,
W=/,?([a-z]),?/gi,X=parseFloat,I=Math,K=I.PI,V=I.min,R=I.max,aa=I.pow,Z=I.abs;h=l(1);var da=l(),ba=l(0,1),U=a._unit2px;a.path=v;a.path.getTotalLength=h;a.path.getPointAtLength=da;a.path.getSubpath=function(a,b,c){if(1E-6>this.getTotalLength(a)-c)return ba(a,b).end;a=ba(a,c,1);return b?ba(a,b).end:a};m.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength()};m.getPointAtLength=function(a){return da(this.attr("d"),a)};m.getSubpath=function(b,c){return a.path.getSubpath(this.attr("d"),
b,c)};a._.box=q;a.path.findDotsAtSegment=A;a.path.bezierBBox=r;a.path.isPointInsideBBox=c;a.path.isBBoxIntersect=w;a.path.intersection=function(a,b){return f(a,b)};a.path.intersectionNumber=function(a,b){return f(a,b,1)};a.path.isPointInside=function(a,b,e){var d=n(a);return c(d,b,e)&&1==f(a,[["M",b,e],["H",d.x2+10]],1)%2};a.path.getBBox=n;a.path.get={path:function(a){return a.attr("path")},circle:function(a){a=U(a);return C(a.cx,a.cy,a.r)},ellipse:function(a){a=U(a);return C(a.cx||0,a.cy||0,a.rx,
a.ry)},rect:function(a){a=U(a);return G(a.x||0,a.y||0,a.width,a.height,a.rx,a.ry)},image:function(a){a=U(a);return G(a.x||0,a.y||0,a.width,a.height)},line:function(a){return"M"+[a.attr("x1")||0,a.attr("y1")||0,a.attr("x2"),a.attr("y2")]},polyline:function(a){return"M"+a.attr("points")},polygon:function(a){return"M"+a.attr("points")+"z"},deflt:function(a){a=a.node.getBBox();return G(a.x,a.y,a.width,a.height)}};a.path.toRelative=function(c){var e=v(c),d=String.prototype.toLowerCase;if(e.rel)return b(e.rel);
a.is(c,"array")&&a.is(c&&c[0],"array")||(c=a.parsePathString(c));var f=[],l=0,k=0,p=0,m=0,h=0;"M"==c[0][0]&&(l=c[0][1],k=c[0][2],p=l,m=k,h++,f.push(["M",l,k]));for(var q=c.length;h<q;h++){var r=f[h]=[],n=c[h];if(n[0]!=d.call(n[0]))switch(r[0]=d.call(n[0]),r[0]){case "a":r[1]=n[1];r[2]=n[2];r[3]=n[3];r[4]=n[4];r[5]=n[5];r[6]=+(n[6]-l).toFixed(3);r[7]=+(n[7]-k).toFixed(3);break;case "v":r[1]=+(n[1]-k).toFixed(3);break;case "m":p=n[1],m=n[2];default:for(var w=1,A=n.length;w<A;w++)r[w]=+(n[w]-(w%2?l:
k)).toFixed(3)}else for(f[h]=[],"m"==n[0]&&(p=n[1]+l,m=n[2]+k),r=0,w=n.length;r<w;r++)f[h][r]=n[r];n=f[h].length;switch(f[h][0]){case "z":l=p;k=m;break;case "h":l+=+f[h][n-1];break;case "v":k+=+f[h][n-1];break;default:l+=+f[h][n-2],k+=+f[h][n-1]}}f.toString=t;e.rel=b(f);return f};a.path.toAbsolute=z;a.path.toCubic=M;a.path.map=function(a,b){if(!b)return a;var c,e,d,f,l,k,p;a=M(a);d=0;for(l=a.length;d<l;d++)for(p=a[d],f=1,k=p.length;f<k;f+=2)c=b.x(p[f],p[f+1]),e=b.y(p[f],p[f+1]),p[f]=c,p[f+1]=e;return a};
a.path.toString=t;a.path.clone=b});r.plugin(function(a,k,m,r){var n=Math.max,q=Math.min,t=function(a){this.items=[];this.bindings={};this.length=0;this.type="set";if(a)for(var e=0,d=a.length;e<d;e++)a[e]&&(this[this.items.length]=this.items[this.items.length]=a[e],this.length++)};k=t.prototype;k.push=function(){for(var a,e,d=0,k=arguments.length;d<k;d++)if(a=arguments[d])e=this.items.length,this[e]=this.items[e]=a,this.length++;return this};k.pop=function(){this.length&&delete this[this.length--];
return this.items.pop()};k.forEach=function(a,e){for(var d=0,k=this.items.length;d<k&&!1!==a.call(e,this.items[d],d);d++);return this};k.animate=function(b,e,l,k){"function"!=typeof l||l.length||(k=l,l=h.linear);b instanceof a._.Animation&&(k=b.callback,l=b.easing,e=l.dur,b=b.attr);var m=arguments;if(a.is(b,"array")&&a.is(m[m.length-1],"array"))var c=!0;var q,p=function(){q?this.b=q:q=this.b},f=0,t=k&&function(){f++==this.length&&k.call(this)};return this.forEach(function(a,f){d.once("snap.animcreated."+
a.id,p);c?m[f]&&a.animate.apply(a,m[f]):a.animate(b,e,l,t)})};k.remove=function(){for(;this.length;)this.pop().remove();return this};k.bind=function(a,e,d){var k={};if("function"==typeof e)this.bindings[a]=e;else{var m=d||a;this.bindings[a]=function(a){k[m]=a;e.attr(k)}}return this};k.attr=function(a){var e={},d;for(d in a)if(this.bindings[d])this.bindings[d](a[d]);else e[d]=a[d];a=0;for(d=this.items.length;a<d;a++)this.items[a].attr(e);return this};k.clear=function(){for(;this.length;)this.pop()};
k.splice=function(a,d,l){a=0>a?n(this.length+a,0):a;d=n(0,q(this.length-a,d));var k=[],m=[],c=[],h;for(h=2;h<arguments.length;h++)c.push(arguments[h]);for(h=0;h<d;h++)m.push(this[a+h]);for(;h<this.length-a;h++)k.push(this[a+h]);var p=c.length;for(h=0;h<p+k.length;h++)this.items[a+h]=this[a+h]=h<p?c[h]:k[h-p];for(h=this.items.length=this.length-=d-p;this[h];)delete this[h++];return new t(m)};k.exclude=function(a){for(var d=0,l=this.length;d<l;d++)if(this[d]==a)return this.splice(d,1),!0;return!1};
k.insertAfter=function(a){for(var d=this.items.length;d--;)this.items[d].insertAfter(a);return this};k.getBBox=function(){for(var a=[],d=[],l=[],k=[],m=this.items.length;m--;)if(!this.items[m].removed){var c=this.items[m].getBBox();a.push(c.x);d.push(c.y);l.push(c.x+c.width);k.push(c.y+c.height)}a=q.apply(0,a);d=q.apply(0,d);l=n.apply(0,l);k=n.apply(0,k);return{x:a,y:d,x2:l,y2:k,width:l-a,height:k-d,cx:a+(l-a)/2,cy:d+(k-d)/2}};k.clone=function(a){a=new t;for(var d=0,l=this.items.length;d<l;d++)a.push(this.items[d].clone());
return a};k.toString=function(){return"Snap\u2018s set"};k.type="set";a.set=function(){var a=new t;arguments.length&&a.push.apply(a,Array.prototype.slice.call(arguments,0));return a}});r.plugin(function(a,k,m,h){function r(a){var b=a[0];switch(b.toLowerCase()){case "t":return[b,0,0];case "m":return[b,1,0,0,1,0,0];case "r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case "s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}}function q(b,c,d){c=w(c).replace(/\.{3}|\u2026/g,b);b=a.parseTransformString(b)||
[];c=a.parseTransformString(c)||[];for(var e=Math.max(b.length,c.length),k=[],m=[],h=0,q,t,F,x;h<e;h++){F=b[h]||r(c[h]);x=c[h]||r(F);if(F[0]!=x[0]||"r"==F[0].toLowerCase()&&(F[2]!=x[2]||F[3]!=x[3])||"s"==F[0].toLowerCase()&&(F[3]!=x[3]||F[4]!=x[4])){b=a._.transform2matrix(b,d());c=a._.transform2matrix(c,d());k=[["m",b.a,b.b,b.c,b.d,b.e,b.f]];m=[["m",c.a,c.b,c.c,c.d,c.e,c.f]];break}k[h]=[];m[h]=[];q=0;for(t=Math.max(F.length,x.length);q<t;q++)q in F&&(k[h][q]=F[q]),q in x&&(m[h][q]=x[q])}return{from:n(k),
to:n(m),f:l(k)}}function t(a){return a}function b(a){return function(b){return+b.toFixed(3)+a}}function e(b){return a.rgb(b[0],b[1],b[2])}function l(a){var b=0,c,d,e,l,k,m,h=[];c=0;for(d=a.length;c<d;c++){k="[";m=['"'+a[c][0]+'"'];e=1;for(l=a[c].length;e<l;e++)m[e]="val["+b++ +"]";k+=m+"]";h[c]=k}return Function("val","return Snap.path.toString.call(["+h+"])")}function n(a){for(var b=[],c=0,d=a.length;c<d;c++)for(var e=1,l=a[c].length;e<l;e++)b.push(a[c][e]);return b}var x={},c=/[a-z]+$/i,w=String;
x.stroke=x.fill="colour";k.prototype.equal=function(a,b){return d("snap.util.equal",this,a,b).firstDefined()};d.on("snap.util.equal",function(d,f){var k,m;k=w(this.attr(d)||"");var h=this;if(k==+k&&f==+f)return{from:+k,to:+f,f:t};if("colour"==x[d])return k=a.color(k),m=a.color(f),{from:[k.r,k.g,k.b,k.opacity],to:[m.r,m.g,m.b,m.opacity],f:e};if("transform"==d||"gradientTransform"==d||"patternTransform"==d)return f instanceof a.Matrix&&(f=f.toTransformString()),a._.rgTransform.test(f)||(f=a._.svgTransform2string(f)),
q(k,f,function(){return h.getBBox(1)});if("d"==d||"path"==d)return k=a.path.toCubic(k,f),{from:n(k[0]),to:n(k[1]),f:l(k[0])};if("points"==d)return k=w(k).split(a._.separator),m=w(f).split(a._.separator),{from:k,to:m,f:function(a){return a}};aUnit=k.match(c);m=w(f).match(c);return aUnit&&aUnit==m?{from:parseFloat(k),to:parseFloat(f),f:b(aUnit)}:{from:this.asPX(d),to:this.asPX(d,f),f:t}})});r.plugin(function(a,k,m,h){var r=k.prototype,q="createTouch"in h.doc;k="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel".split(" ");
var t={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},b=function(a,b){var c="y"==a?"scrollTop":"scrollLeft",d=b&&b.node?b.node.ownerDocument:h.doc;return d[c in d.documentElement?"documentElement":"body"][c]},e=function(){this.returnValue=!1},l=function(){return this.originalEvent.preventDefault()},n=function(){this.cancelBubble=!0},x=function(){return this.originalEvent.stopPropagation()},c=function(){if(h.doc.addEventListener)return function(a,c,d,e){var f=q&&t[c]?t[c]:c,k=function(f){var k=
b("y",e),m=b("x",e);if(q&&t.hasOwnProperty(c))for(var h=0,p=f.targetTouches&&f.targetTouches.length;h<p;h++)if(f.targetTouches[h].target==a||a.contains(f.targetTouches[h].target)){p=f;f=f.targetTouches[h];f.originalEvent=p;f.preventDefault=l;f.stopPropagation=x;break}return d.call(e,f,f.clientX+m,f.clientY+k)};c!==f&&a.addEventListener(c,k,!1);a.addEventListener(f,k,!1);return function(){c!==f&&a.removeEventListener(c,k,!1);a.removeEventListener(f,k,!1);return!0}};if(h.doc.attachEvent)return function(a,
c,d,f){var k=function(a){a=a||f.node.ownerDocument.window.event;var c=b("y",f),k=b("x",f),k=a.clientX+k,c=a.clientY+c;a.preventDefault=a.preventDefault||e;a.stopPropagation=a.stopPropagation||n;return d.call(f,a,k,c)};a.attachEvent("on"+c,k);return function(){a.detachEvent("on"+c,k);return!0}}}(),w=[],p=function(a){for(var c=a.clientX,e=a.clientY,f=b("y"),k=b("x"),l,m=w.length;m--;){l=w[m];if(q)for(var h=a.touches&&a.touches.length,p;h--;){if(p=a.touches[h],p.identifier==l.el._drag.id||l.el.node.contains(p.target)){c=
p.clientX;e=p.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();c+=k;e+=f;d("snap.drag.move."+l.el.id,l.move_scope||l.el,c-l.el._drag.x,e-l.el._drag.y,c,e,a)}},f=function(b){a.unmousemove(p).unmouseup(f);for(var c=w.length,e;c--;)e=w[c],e.el._drag={},d("snap.drag.end."+e.el.id,e.end_scope||e.start_scope||e.move_scope||e.el,b);w=[]};for(m=k.length;m--;)(function(b){a[b]=r[b]=function(d,e){a.is(d,"function")&&(this.events=this.events||[],this.events.push({name:b,
f:d,unbind:c(this.node||document,b,d,e||this)}));return this};a["un"+b]=r["un"+b]=function(a){for(var c=this.events||[],d=c.length;d--;)if(c[d].name==b&&(c[d].f==a||!a)){c[d].unbind();c.splice(d,1);!c.length&&delete this.events;break}return this}})(k[m]);r.hover=function(a,b,c,d){return this.mouseover(a,c).mouseout(b,d||c)};r.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var D=[];r.drag=function(b,c,e,k,l,m){function h(q,t,r){(q.originalEvent||q).preventDefault();this._drag.x=t;
this._drag.y=r;this._drag.id=q.identifier;!w.length&&a.mousemove(p).mouseup(f);w.push({el:this,move_scope:k,start_scope:l,end_scope:m});c&&d.on("snap.drag.start."+this.id,c);b&&d.on("snap.drag.move."+this.id,b);e&&d.on("snap.drag.end."+this.id,e);d("snap.drag.start."+this.id,l||k||this,t,r,q)}if(!arguments.length){var q;return this.drag(function(a,b){this.attr({transform:q+(q?"T":"t")+[a,b]})},function(){q=this.transform().local})}this._drag={};D.push({el:this,start:h});this.mousedown(h);return this};
r.undrag=function(){for(var b=D.length;b--;)D[b].el==this&&(this.unmousedown(D[b].start),D.splice(b,1),d.unbind("snap.drag.*."+this.id));!D.length&&a.unmousemove(p).unmouseup(f);return this}});r.plugin(function(a,k,h,r){h=h.prototype;var n=/^\s*url\((.+)\)/,q=String,t=a._.$;a.filter={};h.filter=function(b){var d=this;"svg"!=d.type&&(d=d.paper);b=a.parse(q(b));var l=a._.id(),h=t("filter");t(h,{id:l,filterUnits:"userSpaceOnUse"});h.appendChild(b.node);d.defs.appendChild(h);return new k(h)};d.on("snap.util.getattr.filter",
function(){d.stop();var b=t(this.node,"filter");if(b)return(b=q(b).match(n))&&a.select(b[1])});d.on("snap.util.attr.filter",function(b){if(b instanceof k&&"filter"==b.type){d.stop();var e=b.node.id;e||(t(b.node,{id:b.id}),e=b.id);t(this.node,{filter:a.url(e)})}b&&"none"!=b||(d.stop(),this.node.removeAttribute("filter"))});a.filter.blur=function(b,d){null==b&&(b=2);return a.format('<feGaussianBlur stdDeviation="{def}"/>',{def:null==d?b:[b,d]})};a.filter.blur.toString=function(){return this()};a.filter.shadow=
function(b,d,k,h,m){"string"==typeof k&&(m=h=k,k=4);"string"!=typeof h&&(m=h,h="#000");null==k&&(k=4);null==m&&(m=1);null==b&&(b=0,d=2);null==d&&(d=b);h=a.color(h||"#000");return a.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',
{color:h,dx:b,dy:d,blur:k,opacity:m})};a.filter.shadow.toString=function(){return this()};a.filter.grayscale=function(b){null==b&&(b=1);return a.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-b),b:.7152-.7152*(1-b),c:.0722-.0722*(1-b),d:.2126-.2126*(1-b),e:.7152+.2848*(1-b),f:.0722-.0722*(1-b),g:.2126-.2126*(1-b),h:.0722+.9278*(1-b)})};a.filter.grayscale.toString=function(){return this()};a.filter.sepia=function(b){null==
b&&(b=1);return a.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-b),b:.769-.769*(1-b),c:.189-.189*(1-b),d:.349-.349*(1-b),e:.686+.314*(1-b),f:.168-.168*(1-b),g:.272-.272*(1-b),h:.534-.534*(1-b),i:.131+.869*(1-b)})};a.filter.sepia.toString=function(){return this()};a.filter.saturate=function(b){null==b&&(b=1);return a.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-b})};a.filter.saturate.toString=function(){return this()};
a.filter.hueRotate=function(b){return a.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:b||0})};a.filter.hueRotate.toString=function(){return this()};a.filter.invert=function(b){null==b&&(b=1);return a.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:b,amount2:1-b})};a.filter.invert.toString=function(){return this()};
a.filter.brightness=function(b){null==b&&(b=1);return a.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:b})};a.filter.brightness.toString=function(){return this()};a.filter.contrast=function(b){null==b&&(b=1);return a.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',
{amount:b,amount2:.5-b/2})};a.filter.contrast.toString=function(){return this()}});return r});
"document"in self&&!("classList"in document.createElement("_"))&&function(n){if("Element"in n){n=n.Element.prototype;var d=Object,h=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},r=Array.prototype.indexOf||function(a){for(var b=0,d=this.length;b<d;b++)if(b in this&&this[b]===a)return b;return-1},a=function(a,b){this.name=a;this.code=DOMException[a];this.message=b},k=function(d,b){if(""===b)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new a("INVALID_CHARACTER_ERR",
"String contains an invalid character");return r.call(d,b)},m=function(a){for(var b=h.call(a.getAttribute("class")||""),b=b?b.split(/\s+/):[],d=0,k=b.length;d<k;d++)this.push(b[d]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},F=m.prototype=[],v=function(){return new m(this)};a.prototype=Error.prototype;F.item=function(a){return this[a]||null};F.contains=function(a){return-1!==k(this,a+"")};F.add=function(){var a=arguments,b=0,d=a.length,l,h=!1;do l=a[b]+"",-1===k(this,
l)&&(this.push(l),h=!0);while(++b<d);h&&this._updateClassName()};F.remove=function(){var a=arguments,b=0,d=a.length,l,h=!1;do l=a[b]+"",l=k(this,l),-1!==l&&(this.splice(l,1),h=!0);while(++b<d);h&&this._updateClassName()};F.toggle=function(a,b){a+="";var d=this.contains(a),k=d?!0!==b&&"remove":!1!==b&&"add";if(k)this[k](a);return!d};F.toString=function(){return this.join(" ")};if(d.defineProperty){F={get:v,enumerable:!0,configurable:!0};try{d.defineProperty(n,"classList",F)}catch(q){-2146823252===
q.number&&(F.enumerable=!1,d.defineProperty(n,"classList",F))}}else d.prototype.__defineGetter__&&n.__defineGetter__("classList",v)}}(self);define("classList",function(){});
define("config",["require"],function(n){return{FONT_FAMILY:"'Lato', sans-serif",TEXT_SIZE_SMALL:12,TEXT_SIZE_MEDIUM:14.4,KEY_TOP_MARGIN:30,SPILLOVER_TOP:0,SPILLOVER_RIGHT:0,SPILLOVER_BOTTOM:0,SPILLOVER_LEFT:0,NEGATIVE_MARGIN:"-20%",TARGET_MARKER_COUNT:10,SMALL_MARKER_SIZE:5,X_RANGE_PADDING:.1,EXTRAPOLATION_FACTOR:.05,TREND_LINE_KEY_LABEL_FONT_COLOR:"#AAAAAA",DOT_SIZE:3.7,LARGE_DOT_FACTOR:1.3,TOOLTIP_MARGIN:2,TOOLTIP_MAX_VALUE_LENGTH:20,KEY_PADDING_TOP:20,KEY_PADDING_RIGHT:30,KEY_PADDING_BOTTOM:20,
KEY_PADDING_LEFT:30,KEY_SIDE_PADDING:30,KEY_MAX_VALUES:12,KEY_MAX_VALUE_LENGTH:12,KEY_PADDING:20,KEY_COLUMNS:1,KEY_ROWSPACING:8,KEY_TEXT_SPACING:5,KEY_NEUTRAL_FILL:"#E4E4E3",KEY_NEUTRAL_STROKE:"#676A68",TICK_MARK_HORIZONTAL_PADDING:10,TICK_MARK_VERTICAL_PADDING:10,TICK_MARK_FONT_WEIGHT:300}});
define("data-processor",[],function(){return{tableToJSON:function(n){function d(){this.keys=[];this.rows=[];this.xRange={min:null,max:null};this.yRange={min:null,max:null}}d.prototype={constructor:d};var h=/^\-?[0-9]+(,[0-9]{3})*(\.[0-9]+)?$/;n.classList.add("fm-hidden");var r=n.querySelectorAll("thead > tr > th"),a=n.querySelectorAll("tbody > tr");n=new d;for(var k=0;k<r.length;k++)n.keys.push({title:r[k].textContent});for(r=0;r<a.length;r++)if(a[r].children[0]&&a[r].children[1]&&a[r].children[1].textContent.match(h)&&
a[r].children[2]&&a[r].children[2].textContent.match(h)){var k=a[r].children[0].textContent,m=parseFloat(a[r].children[1].textContent.replace(/,([0-9]{3})/g,"$1")),F=parseFloat(a[r].children[2].textContent.replace(/,([0-9]{3})/g,"$1")),v=a[r].children[3]?a[r].children[3].textContent:null;if(null===n.xRange.min||n.xRange.min>m)n.xRange.min=m;if(null===n.yRange.min||n.yRange.min>F)n.yRange.min=F;if(null===n.xRange.max||n.xRange.max<m)n.xRange.max=m;if(null===n.yRange.max||n.yRange.max<F)n.yRange.max=
F;n.rows.push({title:k,x:m,y:F,group:v})}h=n.yRange.max-n.yRange.min;n.yRange.min-=.1*h;n.yRange.max+=.1*h;return n}}});
define("number-utils",[],function(){return{roundToOrder:function(n,d,h){function r(a,d){var m=Math.abs(a);m>=Math.pow(10,h)?(a=r(a/10,d),a*=10):m<Math.pow(10,h-1)?(a*=10,a=r(a,d),a/=10):(m=Math.round(a/d)*d,0===m&&(h++,m=r(a,d)),a=m);return parseFloat(a.toPrecision(h+1))}n=parseFloat(n);if(0==n)return 0;h||(h=2);return 1===d?parseFloat(n.toPrecision(h)):r(n,d)},renderValue:function(n){function d(a){if(0==a)return 0;if(1<=a&&1E3>a)return a;if(1>a)return r-=3,d(1E3*a);if(1E3<=a)return r+=3,d(a/1E3)}
if(0===n)return"0";if(!n)return"";var h=1;0>n&&(h=-1,n*=-1);n=this.roundToOrder(n,1,3);var r=0,a=new String(h*d(n));return 3==r?a+"k":6==r?a+"m":9==r?a+"bn":12==r?a+" trillion":new String(h*n)},getDataTotal:function(n){for(var d=0,h=0;h<n.length;h++)d+=n[h].value;return d},getAngle:function(n,d,h){h="undefined"===typeof h?Circle.whole:h;return h/d*n},getFactor:function(n){for(var d=n-1;1<d;d--){var h=n/d;if(parseInt(h)==h)return d}return n}}});
define("scale-utils",["number-utils"],function(n){return{Scale:function(d,h,r,a){this.start=d;this.middle=d+h/2;this.end=d+h;if(r==a)throw"Min value and max are the same";var k=r>a?!0:!1;this.getPixel=function(m,n){if((m<r||m>a)&&!1===("undefined"===typeof n?!0:!1)&&!(k&&m<=r&&m>=a))throw"Out of range";return d+(m-r)/(a-r)*h}},AreaScale:function(d,h,r,a){this.start=d;this.middle=d+h/2;this.midValue=r+(a-r)*Math.pow(.5,2);this.end=d+h;if(r==a)throw"Min value and max are the same";var k=r>a?!0:!1;this.getPixel=
function(m,n){if((m<r||m>a)&&!1===("undefined"===typeof n?!0:!1)&&!(k&&m<=r&&m>=a))throw"Out of range";var v=Math.pow((m-r)/(a-r),.5);return d+h*v}},getTickMarks:function(d,h,r,a){var k=0,m=0,n=0,v=0,n=0,q=[],v=n=0;d==h&&(k=0!==h?h/10:1,d-=k,h+=k);r=(h-d)/(r-1);m=k=0;k=Math.floor(Math.log(r)/Math.LN10);m=r/Math.pow(10,k);m=(1.5>m?1:3>m?2:7>m?5:10)*Math.pow(10,k);n=Math.floor(d/m)*m;v=Math.ceil(h/m)*m;k=Math.max(-Math.floor(Math.log(m)/Math.LN10),1);v+=.5*m;a&&(0!==n&&(n-=m),v+=m);for(;n<v;n+=m)q.push(parseFloat(n.toFixed(k)));
return q}}});
define("color-utils",[],function(){return{colorWheelClasses:"fm-datum-color-wheel-a fm-datum-color-wheel-b fm-datum-color-wheel-c fm-datum-color-wheel-d fm-datum-color-wheel-e fm-datum-color-wheel-f fm-datum-color-wheel-g fm-datum-color-wheel-h fm-datum-color-wheel-i fm-datum-color-wheel-j fm-datum-color-wheel-k fm-datum-color-wheel-l".split(" "),overflowClass:"fm-datum-color-overflow",pad:function(n){return 2>n.length?"0"+n:n},contrasting:function(n){throw"Not yet implemented";},registerTint1Filter:function(){throw"Not yet implemented";},
registerTint2Filter:function(){throw"Not yet implemented";},lowContrast:function(n,d){d="undefined"===typeof d?0:d;if(n+d>this.colorWheelClasses.length){for(var h=[],r=0;r<n;r++)r<this.colorWheelClasses.length?h.push(this.colorWheelClasses[r]):h.push(this.colorWheelClasses[this.colorWheelClasses.length-r]);return h}return this.colorWheelClasses.splice(d,n)},monochromatic:function(n,d,h){throw"Not yet implemented";},harmonious:function(n){for(var d=Math.min(n,this.colorWheelClasses.length),h=[],r=
Math.floor(this.colorWheelClasses.length/2),a=function(){return 0==this.colorWheelClasses.length%4}.bind(this),k=function(a,k){a=(a+this.colorWheelClasses.length)%this.colorWheelClasses.length;var b=Math.floor(h.length/4)+1;h.length<d&&h.splice(1*b-1,0,a);h.length<d&&h.splice(2*b-1,0,(a+k+1)%this.colorWheelClasses.length);h.length<d&&h.splice(3*b-1,0,(a+r)%this.colorWheelClasses.length);h.length<d&&h.splice(4*b-1,0,(a+k+1+r)%this.colorWheelClasses.length)}.bind(this),m=function(a,d){a=(a+this.colorWheelClasses.length)%
this.colorWheelClasses.length;h.splice(d,0,a)}.bind(this),F=1,v=0;F<=r-2;F+=2,v--)k(v,F);k=h.length/4;h.length<d&&m(1,k);h.length<d&&m(1+r,3*k+1);a()&&(h.length<d&&m(1+r/2,2*k+1),h.length<d&&m(1+3*r/2,4*k+3));a=[];for(m=0;m<n;m++)a.push(this.colorWheelClasses[h[m%d]]);return a}}});
define("tick-mark",["snap","config"],function(n,d){return n.plugin(function(h,n,a){a.prototype.tickMark=function(a,h,n,r,q){if("horizontal"===n){a=this.text(a-d.TICK_MARK_HORIZONTAL_PADDING,h,q).attr({"font-family":d.FONT_FAMILY,"font-size":d.TEXT_SIZE_SMALL,"font-weight":d.TICK_MARK_FONT_WEIGHT,"text-anchor":"end","dominant-baseline":"central"});var t=this.g(a).addClass("fm-tick-mark")}else"vertical"===n?(n=this.line(a,h,a,h+r),a=this.text(a,h+d.TICK_MARK_VERTICAL_PADDING+d.TEXT_SIZE_SMALL/2,q).attr({"font-family":d.FONT_FAMILY,
"font-size":d.TEXT_SIZE_SMALL,"font-weight":d.TICK_MARK_FONT_WEIGHT,"text-anchor":"middle"}),t=this.g(a,n).addClass("fm-tick-mark")):console.err("Incorrect orientation specified");return t}})});
define("axis",["snap","tick-mark","number-utils"],function(n,d,h){return n.plugin(function(d,a,k){k.prototype.axis=function(a,d,k,q,n,b,e,l,r){var x=this,c=x.g(),w=this.g();c.startPoints=[];if("horizontal"===b){q.forEach(function(a){"object"!==typeof a&&(a={position:a,label:h.renderValue(a)});var b=k.getPixel(a.position);c.startPoints.push({x:b,y:d});w.append(x.tickMark(b,d,"vertical",n,a.label,10))});if(l)var p=x.line(a,d,k.end,d).addClass("fm-axis");if(e){var f;r&&"last"!==r?"first"===r?f=w.getBBox().y-
17.5:console.error("Invalid axis label position specified."):f=w.getBBox().y+w.getBBox().height+17.5;e=x.text(k.middle,f,e).addClass("fm-x-axis-label");e.attr({"font-family":"'Lato', sans-serif","font-weight":400,"font-size":12,"text-anchor":"middle"});c.append(e)}c.append(p);c.append(w)}else q.forEach(function(b){"object"!==typeof b&&(b={position:b,label:h.renderValue(b)});var d=k.getPixel(b.position);c.startPoints.push({x:a,y:d});b=x.tickMark(a,d,"horizontal",n,b.label);w.append(b)}),c.append(w),
q=c.getBBox(),l&&(p=x.line(a,d,a,k.end).addClass("fm-axis"),c.append(p)),e&&(e=x.text(q.x-6-25,k.middle,e).addClass("fm-y-axis-label"),e.getBBox(),e.attr({"font-family":"'Lato', sans-serif","font-weight":400,"font-size":12,"text-anchor":"middle"}).transform("r -90"),c.append(e));return c}})});
define("grid-lines",["snap"],function(n){return n.plugin(function(d,h,n){n.prototype.gridLines=function(a,d,h,n,r){function q(){h.forEach(function(d,k){var h=b.line(a,d.y,a+n,d.y).addClass("fm-grid-line");e.append(h)})}function t(){h.forEach(function(a,h){var m=b.line(a.x,d,a.x,d+n).addClass("fm-grid-line");e.append(m)})}var b=this,e=this.g();"horizontal"===r?q():"vertical"===r?t():console.err("Invalid orientation specified");return e}})});
define("key",["snap","config","color-utils"],function(n,d,h){n=function(d,a,k,h,n,v,q,t,b,e,l,A){this._paper=d;this.node=d.g();this.x=a;this.y=k;this.width=h;this.columns=n;this.columnWidth=v;this.centerItems=q;this.values=t;this.maxValues=b;this.maxValueLength=e;this.lastItemIsOther=l;this.colorClasses=A};n.prototype={constructor:n,hide:function(){},remove:function(){this.node.parent.remove(this.node);this.node=null},render:function(){var n=this.values.length;if("undefined"===typeof this.maxEntries||
this.maxEntries>n)this.maxEntries=n;"undefined"===typeof this.maxValueLength&&(this.maxValueLength=d.KEY_MAX_TEXT_LENGTH);var a;a=this.colorClasses?this.colorClasses:h.harmonious(n);this.container=this.node.rect(this.x,this.y,this.width,10).addClass("fm-key-container").attr({fill:d.KEY_NEUTRAL_FILL,stroke:d.KEY_NEUTRAL_STROKE});var k=this.node.g().addClass("fm-key-items"),m=0,F=0,v;this.values.forEach(function(h,b){var e;e=b===this.values.length-1&&this.lastItemIsOther?"fm-datum-color-overflow":a[b];
0!==b&&0===b%this.columns&&(m=0,F+=v.getBBox().height+d.KEY_ROWSPACING);var l=h.length>this.maxValueLength?h.substring(0,this.maxValueLength-1)+"\u2026":h;e=this.node.rect(this.x+m,this.y+d.KEY_PADDING_TOP+F,13,13).addClass(e);v=this.node.text(this.x+d.KEY_TEXT_SPACING+e.getBBox().width+m,this.y+d.KEY_PADDING_TOP+F+parseInt(e.attr("height"),10)-1,l).attr({"font-family":d.FONT_FAMILY,"font-size":d.TEXT_SIZE_SMALL});l=this.node.g(e,v).data("fullText",h[b]);e=this.columnWidth-d.KEY_TEXT_SPACING;var q=
l.getBBox().width;if(!(q<=e))for(var n=l.select("text"),c=n.attr("text"),r=!0,c=c.substr(0,c.length-1)+"\u2026";r;)if(c=c.substr(0,c.length-2)+"\u2026",n.attr("text",c),q=l.getBBox().width,q<=e||5===c.length)r=!1;k.append(l);m+=this.columnWidth}.bind(this));var n=k.getBBox(),q=this.container.getBBox();this.container.attr({height:n.height+d.KEY_PADDING_TOP+d.KEY_PADDING_BOTTOM});!0===this.centerItems?k.transform("t"+(q.width/2-n.width/2)+" 0"):k.transform("t"+d.KEY_PADDING_LEFT+" 0");return this.node.g(this.container,
k).addClass("fm-key").attr({strokeDasharray:this.width+","+q.height+",0,"+100*this.width+",0"})},show:function(){},setHeight:function(d){this.node.select(".fm-key-container").attr({height:d+"px"})}};return n});
define("scatter-key",["snap","config","key","color-utils"],function(n,d,h,r){function a(a,d,n,r,q,t,b,e,l,A){h.call(this,a,d,n,r,q,t,b,e,l,A)}a.prototype=Object.create(h.prototype);a.prototype.constructor=a;a.prototype.render=function(a){h.prototype.render.call(this);if(void 0!==a&&0<a.length){var m=this._paper,n=m.g(),r=0,q=null,t=null,b=null,e=null,l=null,A=null;a.forEach(function(a){A=a.data("colorClass");q=m.g();e=m.rect(0,r+d.KEY_PADDING,13,13).attr("opacity",0);l=e.getBBox();b=m.line(l.x,l.y+
l.height,l.x+l.width,l.y).addClass("fm-trend-line "+A+" with-stroke");t=m.text(0+l.width+d.KEY_TEXT_SPACING+1,r+d.KEY_PADDING+d.TEXT_SIZE_SMALL,a.data("correlationStrength")).attr({"font-family":d.FONT_FAMILY,"font-size":d.TEXT_SIZE_SMALL}).addClass(A);q.append(b);q.append(t);n.append(q);r+=q.getBBox().height+d.KEY_ROWSPACING;e.remove()});this.node.select(".fm-key").append(n);a=m.select(".fm-key-items");var x=this.node.select(".fm-key-container").getBBox();a.transform("t "+this.width/4+" 0");void 0!==
n&&n.transform("t "+(x.x+this.width/2)+" "+x.y)}return this.node};return a});define("multitext",["snap"],function(n){return n.plugin(function(d,h,n,a){n.prototype.multitext=function(a,d,h,n,q){"undefined"===typeof n&&(n="1.8em");"undefined"===typeof q&&(q="start");h=h.split("\n");d=this.text(a,d,h);d.attr({textAnchor:q});d.selectAll("tspan:nth-child(n+2)").attr({dy:n,x:a});return d}})});
define("Tooltip",["config","multitext"],function(n,d){function h(a,d,h){(this.enableBlackBorder=h)&&!document.getElementById("black-border")&&(a.node.querySelector("defs").innerHTML+='<filter id="black-border" x="-5%" y="-5%" width="110%" height="110%"><feMorphology in="SourceAlpha" operator="dilate" radius="1" result="border"></feMorphology><feGaussianBlur stdDeviation="0.2" in="border" result="blurred-border"></feGaussianBlur><feMerge><feMergeNode in="blurred-border"></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter>');
this.colorClass=d;this._paper=a;this._parent=a.node;this._tooltipBG=this._tooltipArrow=null;this._tooltipPlacement="right";this.snapElement=this._tooltipText=null}var r;n.TOOLTIP_MAX_VALUE_LENGTH?r=n.TOOLTIP_MAX_VALUE_LENGTH:20;h.prototype={_positionTooltipArrow:function(a){var d=Snap.matrix(),h=this._tooltipBG.getBBox();switch(a){case "left":d.translate(h.width+4,h.height/2);d.rotate(180);this._tooltipArrow.transform(d.toTransformString());break;case "right":d.translate(-4,h.height/2);this._tooltipArrow.transform(d.toTransformString());
break;case "top":d.translate(h.width/2,h.height+4);d.rotate(-90);this._tooltipArrow.transform(d.toTransformString());break;case "bottom":d.translate(h.width/2,-4),d.rotate(90),this._tooltipArrow.transform(d.toTransformString())}this._tooltipPlacement=a},constructor:h,hide:function(){this.snapElement&&this.snapElement.attr("display","none")},remove:function(){this._tooltipText=this._tooltipBG=this._tooltipArrow=null;this.snapElement.remove();this.snapElement=null},render:function(a,d){var h=this._paper,
n=null;null!==this.snapElement&&this.remove();this.snapElement=h.g();var v,q="[object Array]"===Object.prototype.toString.call(d)?!0:!1;a.length>r&&(a=a.substring(0,r-3)+"...");if(q){v=h.g();v.attr({fill:"#fff"});var t=h.text(10,10,a);t.attr({dy:parseInt("12px",10),"font-family":"'Lato', sans-serif","font-size":"12px"});v.append(t);var b=[],e=[];d.forEach(function(a){var d;d=a.title.length>r?a.title.substring(0,r-3)+"...":a.title;a=a.value.length>r?a.value.substring(0,r-3)+"...":a.value;b.push(d+
":");e.push(a)});var l=h.multitext(10,20+t.getBBox().height+5,b.join("\n"),"1.2em").attr({"font-family":"'Lato', sans-serif","font-size":"12px"}),n=h.multitext(10,20+t.getBBox().height+5,e.join("\n"),"1.2em","end").attr({"font-family":"'Lato', sans-serif","font-size":"12px"});n.transform("t "+(l.getBBox().width+n.getBBox().width+5)+" 0");v.append(l);v.append(n)}else v=h.text(10,10,a+": "+d),v.attr({dy:parseInt("12px",10)});this._tooltipText=v;n=v.getBBox();l=h.rect(0,0,n.width+10+10,n.height+10+10,
4);l.addClass(this.colorClass);this._tooltipBG=l;q&&t.transform("t "+(n.width/2-t.getBBox().width/2)+" 0");this._tooltipArrow=h=h.polygon([-5,.2,5,-5,5,5]).addClass(this.colorClass);this._positionTooltipArrow(this._tooltipPlacement);this.snapElement.append(l);this.snapElement.append(v);this.snapElement.append(h);this.snapElement.addClass("fm-tooltip");this.hide();this.enableBlackBorder&&this.snapElement.attr({filter:"url(#black-border)"});return this.snapElement},setPosition:function(a,d,h){if(this.snapElement){void 0===
h?h=this._tooltipPlacement:h!==this._tooltipPlacement&&this._positionTooltipArrow(h);var n=this._tooltipArrow.getBBox(),r=this._tooltipBG.getBBox();switch(h){case "left":a=a-n.width-r.width;d-=r.height/2;break;case "right":a+=n.width;d-=r.height/2;break;case "bottom":a-=r.width/2;d+=n.height;break;case "top":a-=r.width/2,d=d-r.height-n.height}this.snapElement.transform("T"+a+","+d)}},show:function(){this.snapElement&&(this.snapElement.parent().append(this.snapElement),this.snapElement.attr("display",
"block"))}};return h});
define("scatter","snap config scale-utils color-utils number-utils axis grid-lines scatter-key Tooltip".split(" "),function(n,d,h,r,a,k,m,F,v){return n.plugin(function(k,m,b){b.prototype.scatterGraph=function(b,l,k,m,c,n){function p(a,b){var c=J.getPixel(a),e=T.getPixel(b);return H.circle(c,e,d.DOT_SIZE).attr({opacity:.5}).hover(function(){this.attr({opacity:1,r:d.DOT_SIZE*d.LARGE_DOT_FACTOR})},function(){this.attr({opacity:.5,r:d.DOT_SIZE})}).addClass("fm-scatter-dot")}function f(){var f,h=J.getPixel(this.data("metaInfo").x),
l=T.getPixel(this.data("metaInfo").y),m=d.DOT_SIZE*d.LARGE_DOT_FACTOR+d.TOOLTIP_MARGIN;h>b+k/2?(f="left",h-=m):(f="right",h+=m);m=new v(H,M[this.data("metaInfo").group]);K.push(m);var n=m.render(this.data("metaInfo").title,[{title:c.keys[1].title,value:a.renderValue(this.data("metaInfo").x)},{title:c.keys[2].title,value:a.renderValue(this.data("metaInfo").y)}]);n.addClass("fm-scatter-tooltip");m.setPosition(h,l,f);m.show();L.append(n)}function q(){K.forEach(function(a){a.remove();K.pop(a)})}function t(a,
c){var f=X.getBBox();R=new F(H,b,f.y+f.height+d.KEY_TOP_MARGIN,k,Z,da,!0,a,d.KEY_MAX_VALUES,d.KEY_MAX_VALUE_LENGTH);aa=R.render(c);f=aa.node.getBBox();C(f.y+f.height)}function C(a){H.node.style.height=a+"px";H.node.setAttribute("viewBox","0 0 "+(k+W)+" "+a)}function z(a){function b(a,c){for(var d={},e=a.length,f=0,h=0,k=0,l=0,m=0,n=0;n<a.length;n++)f+=c[n],h+=a[n],k+=c[n]*a[n],l+=c[n]*c[n],m+=a[n]*a[n];d.slope=(e*k-f*h)/(e*l-f*f);d.intercept=(h-d.slope*f)/e;e=Math.pow((e*k-f*h)/Math.sqrt((e*l-f*f)*
(e*m-h*h)),2);d.strength=e>=E.veryStrong.value?E.veryStrong.title:e>=E.strong.value?E.strong.title:e>=E.moderate.value?E.moderate.title:e>=E.weak.value?E.weak.title:E.veryWeak.title;return d}var e=null,f=null,h=null,k=null,l=[],m=[];c.rows.forEach(function(b){if(b.group===a){l.push(b.x);m.push(b.y);if(null===e||e>b.x)e=b.x;if(null===f||f<b.x)f=b.x;if(null===h||h>b.y)h=b.y;if(null===k||k<b.y)k=b.y}});if(1<l.length&&1<m.length){var n=b(m,l),p=e-e*d.EXTRAPOLATION_FACTOR,q=n.slope*p+n.intercept,r=f+f*
d.EXTRAPOLATION_FACTOR,t=n.slope*r+n.intercept,p=J.getPixel(p),q=T.getPixel(q),r=J.getPixel(r),t=T.getPixel(t);return H.line(p,q,r,t).addClass("fm-trend-line "+M[a]+" with-stroke").data("correlationStrength",n.strength)}return!1}var E={veryStrong:{title:"Very strong",value:.8},strong:{title:"Strong",value:.6},moderate:{title:"Moderate",value:.4},weak:{title:"Weak",value:.2},veryWeak:{title:"Very weak"}},H=this,L=H.group();"true"===n.showTrendLines?n.showTrendLines=!0:"false"===n.showTrendLines?n.showTrendLines=
!1:(n.showTrendLines=!1,console.error("Show trend lines option is invalid, defaulting to false."));var O=[],M={},T,J,N=function(a,c){var f=h.getTickMarks(a.min,a.max,d.TARGET_MARKER_COUNT);T=new h.Scale(l,m,f[f.length-1],f[0]);return H.axis(b,l,T,f,k,"vertical",c).addClass("fm-y-axis")}(c.yRange,n.xLabel),W=b-N.getBBox().x;N.transform("t "+W+" 0");var X=function(a,c,f){b+=W;k-=W;c=h.getTickMarks(c.min,c.max,d.TARGET_MARKER_COUNT);var l=c[0],m=c[c.length-1],n=m-l;J=new h.Scale(b,k,l-n*d.X_RANGE_PADDING,
m+n*d.X_RANGE_PADDING);return H.axis(b,a,J,c,d.SMALL_MARKER_SIZE,"horizontal",f).addClass("fm-x-axis")}(N.startPoints[0].y,c.xRange,n.yLabel);X.getBBox();var I=H.gridLines(b,l,N.startPoints,k,"horizontal"),K=[],V=H.group(),R,aa,Z=1==n.showTrendLines?1:3,da=n.showTrendLines?k/4:(k-d.KEY_SIDE_PADDING)/4,ba=H.group(H.rect(b,l,k,m).attr({fill:"white"})),U=H.group().attr({mask:ba});(function(){c.rows.forEach(function(a){-1===O.indexOf(a.group)&&O.push(a.group)});var a;a=1<O.length?r.harmonious(O.length):
r.harmonious(1);O.forEach(function(b,c){M[b]=a[c]});c.rows.forEach(function(a){a=p(a.x,a.y).data("metaInfo",a).data("colorClass",M[a.group]).addClass(M[a.group]).hover(f,q);V.append(a)});var b=[];!0===n.showTrendLines&&O.forEach(function(a){var c=z(a);!1!==c&&(c.data("colorClass",M[a]),b.push(c),U.append(c))});1<O.length&&t(O,b)})();L.append(N);L.append(X);L.append(I);L.append(U);L.append(V);N=L.getBBox();2>O.length&&C(N.y2+d.TEXT_SIZE_SMALL);L.transform("t 0 "+(l-N.y));return L}})});
define("render",["snap","classList","config","data-processor","scatter"],function(n,d,h,r,a){function k(a){return a.split("-").map(function(a,d){return 0===d?a:a.charAt(0).toUpperCase()+a.substr(1)}).join("")}var m=/([0-9]+)(px|%|rem|em|ex|ch|vw|vh|vmin|vmax|mm|cm|in|pt|pc)/;return function(a){var d=a.getAttribute("data-fm-config"),q=d&&window[d]?window[d]:{};[].filter.call(a.attributes,function(a){return"data-fm-config"===a.name?!1:/^data-fm-/.test(a.name)}).forEach(function(a){var b=a.name.replace(/^data-fm-/,
""),b=k(b);q[b]=a.value});q.width||(q.width="100%");q.height||(q.height="450px");if(null===q.height.match(m)||null===q.width.match(m))throw"A valid CSS length must be used for the chart dimensions (such as 50% or 400px)";var t,b,e;q.width.replace(m,function(a,c,d){t=parseFloat(c);b=t*(h.SPILLOVER_LEFT+h.SPILLOVER_RIGHT);e=d});var l,A,x;q.height.replace(m,function(a,b,c){l=parseFloat(b);A=l*(h.SPILLOVER_TOP+h.SPILLOVER_BOTTOM);x=c});d=document.createElementNS("http://www.w3.org/2000/svg","svg");q.disableSpillover?
(d.style.height=l+x,d.style.width=t+e):(d.style.height=l+A+x,d.style.width=t+b+e,d.style.margin="-"+h.SPILLOVER_TOP*l+x+" -"+h.SPILLOVER_RIGHT*t+e+" -"+h.SPILLOVER_BOTTOM*l+x+" -"+h.SPILLOVER_LEFT*t+e);a.parentElement.insertBefore(d,a);var c=n(d);a=r.tableToJSON(a,q);var w=d.getBoundingClientRect(),p=w.right-w.left,w=w.bottom-w.top,f=p/(1+h.SPILLOVER_LEFT+h.SPILLOVER_RIGHT),D=w/(1+h.SPILLOVER_TOP+h.SPILLOVER_BOTTOM),G=f*h.SPILLOVER_LEFT,C=D*h.SPILLOVER_TOP;d.setAttribute("viewBox","0 0 "+p+" "+w);
c.scatterGraph(G,C,f,D,a,q)}});
require.config({paths:{text:"../../bower_components/requirejs-text/text",classList:"../../bower_components/classlist/classList.min",snap:"../../bower_components/Snap.svg/dist/snap.svg",axis:"../../bower_components/axis/dist/axis","grid-lines":"../../bower_components/grid-lines/dist/grid-lines","scale-utils":"../../bower_components/scale-utilities/dist/scale-utils","number-utils":"../../bower_components/number-utils/dist/number-utils","color-utils":"../../bower_components/color-utils/dist/color","tick-mark":"../../bower_components/tick-mark/dist/tick-mark",
multitext:"../../bower_components/multitext/dist/multitext",key:"../../bower_components/key/dist/key","scatter-key":"../../bower_components/scatter-key/dist/scatter-key",Tooltip:"../../bower_components/Tooltip/dist/Tooltip"},shim:{snap:{exports:"Snap"}}});
require(["render"],function(n){var d=document.querySelectorAll("table.fm-scatter");if(document.implementation&&(document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Shape","1.0")||document.implementation.hasFeature("SVG","1.0")))for(r=0;r<d.length;r++){if(window.factmint&&window.factmint.previewVisualizations||!d[r].hasAttribute("data-fm-rendered")){d[r].setAttribute("data-fm-rendered","true");try{n(d[r])}catch(h){console.log("ERROR: chart rendering failed"),h instanceof Error?console.log(h.stack):
console.log(h)}}}else{console.log("SVG not supported: visualizations disabled");for(var r=0;r<d.length;r++)d[r].style.display="table"}});define("main",function(){});
