/* Copyright Factmint Ltd, not for distribution without consent; version 1.0.0; includes SnapSVG, https://github.com/adobe-webplatform/Snap.svg/blob/master/LICENSE */
/*
 almond 0.3.0 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/almond for details
*/
'use strict';var requirejs,require,define;
(function(A){function e(d,a){var f,b,c,l,h,n,e,z,x,C=a&&a.split("/"),m=t.map,k=m&&m["*"]||{};if(d&&"."===d.charAt(0))if(a){C=C.slice(0,C.length-1);d=d.split("/");h=d.length-1;t.nodeIdCompat&&w.test(d[h])&&(d[h]=d[h].replace(w,""));d=C.concat(d);for(h=0;h<d.length;h+=1)if(f=d[h],"."===f)d.splice(h,1),--h;else if(".."===f)if(1!==h||".."!==d[2]&&".."!==d[0])0<h&&(d.splice(h-1,2),h-=2);else break;d=d.join("/")}else 0===d.indexOf("./")&&(d=d.substring(2));if((C||k)&&m){f=d.split("/");for(h=f.length;0<
h;--h){b=f.slice(0,h).join("/");if(C)for(x=C.length;0<x;--x)if(c=m[C.slice(0,x).join("/")])if(c=c[b]){l=c;n=h;break}if(l)break;!e&&k&&k[b]&&(e=k[b],z=h)}!l&&e&&(l=e,n=z);l&&(f.splice(0,n,l),d=f.join("/"))}return d}function v(d,a){return function(){var f=C.call(arguments,0);"string"!==typeof f[0]&&1===f.length&&f.push(null);return m.apply(A,f.concat([d,a]))}}function y(d){return function(a){return e(a,d)}}function b(d){return function(a){l[d]=a}}function a(d){if(f.call(n,d)){var a=n[d];delete n[d];
z[d]=!0;r.apply(A,a)}if(!f.call(l,d)&&!f.call(z,d))throw Error("No "+d);return l[d]}function p(d){var a,f=d?d.indexOf("!"):-1;-1<f&&(a=d.substring(0,f),d=d.substring(f+1,d.length));return[a,d]}function k(d){return function(){return t&&t.config&&t.config[d]||{}}}var r,m,x,h,l={},n={},t={},z={},f=Object.prototype.hasOwnProperty,C=[].slice,w=/\.js$/;x=function(d,f){var b,h=p(d),c=h[0];d=h[1];c&&(c=e(c,f),b=a(c));c?d=b&&b.normalize?b.normalize(d,y(f)):e(d,f):(d=e(d,f),h=p(d),c=h[0],d=h[1],c&&(b=a(c)));
return{f:c?c+"!"+d:d,n:d,pr:c,p:b}};h={require:function(d){return v(d)},exports:function(d){var a=l[d];return"undefined"!==typeof a?a:l[d]={}},module:function(d){return{id:d,uri:"",exports:l[d],config:k(d)}}};r=function(d,u,e,w){var c,B,t,C,m=[];B=typeof e;var k;w=w||d;if("undefined"===B||"function"===B){u=!u.length&&e.length?["require","exports","module"]:u;for(C=0;C<u.length;C+=1)if(t=x(u[C],w),B=t.f,"require"===B)m[C]=h.require(d);else if("exports"===B)m[C]=h.exports(d),k=!0;else if("module"===
B)c=m[C]=h.module(d);else if(f.call(l,B)||f.call(n,B)||f.call(z,B))m[C]=a(B);else if(t.p)t.p.load(t.n,v(w,!0),b(B),{}),m[C]=l[B];else throw Error(d+" missing "+B);u=e?e.apply(l[d],m):void 0;d&&(c&&c.exports!==A&&c.exports!==l[d]?l[d]=c.exports:u===A&&k||(l[d]=u))}else d&&(l[d]=e)};requirejs=require=m=function(d,f,b,l,c){if("string"===typeof d)return h[d]?h[d](f):a(x(d,f).f);if(!d.splice){t=d;t.deps&&m(t.deps,t.callback);if(!f)return;f.splice?(d=f,f=b,b=null):d=A}f=f||function(){};"function"===typeof b&&
(b=l,l=c);l?r(A,d,f,b):setTimeout(function(){r(A,d,f,b)},4);return m};m.config=function(d){return m(d)};requirejs._defined=l;define=function(d,a,b){a.splice||(b=a,a=[]);f.call(l,d)||f.call(n,d)||(n[d]=[d,a,b])};define.amd={jQuery:!0}})();define("almond",function(){});
(function(A){var e=/[\.\/]/,v=/\s*,\s*/,y=function(a,b){return a-b},b,a,p={n:{}},k=function(){for(var a=0,b=this.length;a<b;a++)if("undefined"!=typeof this[a])return this[a]},r=function(){for(var a=this.length;--a;)if("undefined"!=typeof this[a])return this[a]},m=function(e,h){e=String(e);var l=a,n=Array.prototype.slice.call(arguments,2),t=m.listeners(e),z=0,f,C=[],w={},d=[],u=b;d.firstDefined=k;d.lastDefined=r;b=e;for(var D=a=0,p=t.length;D<p;D++)"zIndex"in t[D]&&(C.push(t[D].zIndex),0>t[D].zIndex&&
(w[t[D].zIndex]=t[D]));for(C.sort(y);0>C[z];)if(f=w[C[z++]],d.push(f.apply(h,n)),a)return a=l,d;for(D=0;D<p;D++)if(f=t[D],"zIndex"in f)if(f.zIndex==C[z]){d.push(f.apply(h,n));if(a)break;do if(z++,(f=w[C[z]])&&d.push(f.apply(h,n)),a)break;while(f)}else w[f.zIndex]=f;else if(d.push(f.apply(h,n)),a)break;a=l;b=u;return d};m._events=p;m.listeners=function(a){a=a.split(e);var b=p,l,n,t,z,f,C,w,d=[b],u=[];t=0;for(z=a.length;t<z;t++){w=[];f=0;for(C=d.length;f<C;f++)for(b=d[f].n,l=[b[a[t]],b["*"]],n=2;n--;)if(b=
l[n])w.push(b),u=u.concat(b.f||[]);d=w}return u};m.on=function(a,b){a=String(a);if("function"!=typeof b)return function(){};for(var l=a.split(v),n=0,t=l.length;n<t;n++)(function(a){a=a.split(e);for(var f=p,l,n=0,d=a.length;n<d;n++)f=f.n,f=f.hasOwnProperty(a[n])&&f[a[n]]||(f[a[n]]={n:{}});f.f=f.f||[];n=0;for(d=f.f.length;n<d;n++)if(f.f[n]==b){l=!0;break}!l&&f.f.push(b)})(l[n]);return function(a){+a==+a&&(b.zIndex=+a)}};m.f=function(a){var b=[].slice.call(arguments,1);return function(){m.apply(null,
[a,null].concat(b).concat([].slice.call(arguments,0)))}};m.stop=function(){a=1};m.nt=function(a){return a?(new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)")).test(b):b};m.nts=function(){return b.split(e)};m.off=m.unbind=function(a,b){if(a){var l=a.split(v);if(1<l.length)for(var n=0,t=l.length;n<t;n++)m.off(l[n],b);else{for(var l=a.split(e),z,f,C,w,d=[p],n=0,t=l.length;n<t;n++)for(w=0;w<d.length;w+=C.length-2){C=[w,1];z=d[w].n;if("*"!=l[n])z[l[n]]&&C.push(z[l[n]]);else for(f in z)z.hasOwnProperty(f)&&
C.push(z[f]);d.splice.apply(d,C)}n=0;for(t=d.length;n<t;n++)for(z=d[n];z.n;){if(b){if(z.f){w=0;for(l=z.f.length;w<l;w++)if(z.f[w]==b){z.f.splice(w,1);break}!z.f.length&&delete z.f}for(f in z.n)if(z.n.hasOwnProperty(f)&&z.n[f].f){C=z.n[f].f;w=0;for(l=C.length;w<l;w++)if(C[w]==b){C.splice(w,1);break}!C.length&&delete z.n[f].f}}else for(f in delete z.f,z.n)z.n.hasOwnProperty(f)&&z.n[f].f&&delete z.n[f].f;z=z.n}}}else m._events=p={n:{}}};m.once=function(a,b){var l=function(){m.unbind(a,l);return b.apply(this,
arguments)};return m.on(a,l)};m.version="0.4.2";m.toString=function(){return"You are running Eve 0.4.2"};"undefined"!=typeof module&&module.exports?module.exports=m:"function"===typeof define&&define.amd?define("eve",[],function(){return m}):A.eve=m})(this);
(function(A,e){if("function"==typeof define&&define.amd)define("snap",["eve"],function(v){return e(A,v)});else if("undefined"!=typeof exports){var v=require("eve");module.exports=e(A,v)}else e(A,A.eve)})(window||this,function(A,e){var v=function(b){var a={},e=A.requestAnimationFrame||A.webkitRequestAnimationFrame||A.mozRequestAnimationFrame||A.oRequestAnimationFrame||A.msRequestAnimationFrame||function(d){setTimeout(d,16)},k=Array.isArray||function(d){return d instanceof Array||"[object Array]"==
Object.prototype.toString.call(d)},r=0,m="M"+(+new Date).toString(36),x=function(d){if(null==d)return this.s;var a=this.s-d;this.b+=this.dur*a;this.B+=this.dur*a;this.s=d},h=function(d){if(null==d)return this.spd;this.spd=d},l=function(d){if(null==d)return this.dur;this.s=this.s*d/this.dur;this.dur=d},n=function(){delete a[this.id];this.update();b("mina.stop."+this.id,this)},t=function(){this.pdif||(delete a[this.id],this.update(),this.pdif=this.get()-this.b)},z=function(){this.pdif&&(this.b=this.get()-
this.pdif,delete this.pdif,a[this.id]=this)},f=function(){var d;if(k(this.start)){d=[];for(var a=0,b=this.start.length;a<b;a++)d[a]=+this.start[a]+(this.end[a]-this.start[a])*this.easing(this.s)}else d=+this.start+(this.end-this.start)*this.easing(this.s);this.set(d)},C=function(){var d=0,f;for(f in a)if(a.hasOwnProperty(f)){var l=a[f],h=l.get();d++;l.s=(h-l.b)/(l.dur/l.spd);1<=l.s&&(delete a[f],l.s=1,d--,function(c){setTimeout(function(){b("mina.finish."+c.id,c)})}(l));l.update()}d&&e(C)},w=function(d,
b,k,E,c,B,G){d={id:m+(r++).toString(36),start:d,end:b,b:k,s:0,dur:E-k,spd:1,get:c,set:B,easing:G||w.linear,status:x,speed:h,duration:l,stop:n,pause:t,resume:z,update:f};a[d.id]=d;b=0;for(var T in a)if(a.hasOwnProperty(T)&&(b++,2==b))break;1==b&&e(C);return d};w.time=Date.now||function(){return+new Date};w.getById=function(d){return a[d]||null};w.linear=function(d){return d};w.easeout=function(d){return Math.pow(d,1.7)};w.easein=function(d){return Math.pow(d,.48)};w.easeinout=function(d){if(1==d)return 1;
if(0==d)return 0;var a=.48-d/1.04,b=Math.sqrt(.1734+a*a);d=b-a;d=Math.pow(Math.abs(d),1/3)*(0>d?-1:1);a=-b-a;a=Math.pow(Math.abs(a),1/3)*(0>a?-1:1);d=d+a+.5;return 3*(1-d)*d*d+d*d*d};w.backin=function(d){return 1==d?1:d*d*(2.70158*d-1.70158)};w.backout=function(d){if(0==d)return 0;--d;return d*d*(2.70158*d+1.70158)+1};w.elastic=function(d){return d==!!d?d:Math.pow(2,-10*d)*Math.sin(2*(d-.075)*Math.PI/.3)+1};w.bounce=function(d){d<1/2.75?d*=7.5625*d:d<2/2.75?(d-=1.5/2.75,d=7.5625*d*d+.75):d<2.5/2.75?
(d-=2.25/2.75,d=7.5625*d*d+.9375):(d-=2.625/2.75,d=7.5625*d*d+.984375);return d};return A.mina=w}("undefined"==typeof e?function(){}:e),y=function(b){function a(q,c){if(q){if(q.nodeType)return w(q);if(k(q,"array")&&a.set)return a.set.apply(a,q);if(q instanceof t)return q;if(null==c)return q=u.doc.querySelector(String(q)),w(q)}return new C(null==q?"100%":q,null==c?"100%":c)}function p(q,c){if(c){"#text"==q&&(q=u.doc.createTextNode(c.text||c["#text"]||""));"#comment"==q&&(q=u.doc.createComment(c.text||
c["#text"]||""));"string"==typeof q&&(q=p(q));if("string"==typeof c)return 1==q.nodeType?"xlink:"==c.substring(0,6)?q.getAttributeNS(V,c.substring(6)):"xml:"==c.substring(0,4)?q.getAttributeNS(O,c.substring(4)):q.getAttribute(c):"text"==c?q.nodeValue:null;if(1==q.nodeType)for(var d in c){if(c[D](d)){var a=E(c[d]);a?"xlink:"==d.substring(0,6)?q.setAttributeNS(V,d.substring(6),a):"xml:"==d.substring(0,4)?q.setAttributeNS(O,d.substring(4),a):q.setAttribute(d,a):q.removeAttribute(d)}}else"text"in c&&
(q.nodeValue=c.text)}else q=u.doc.createElementNS(O,q);return q}function k(q,c){c=E.prototype.toLowerCase.call(c);return"finite"==c?isFinite(q):"array"==c&&(q instanceof Array||Array.isArray&&Array.isArray(q))?!0:"null"==c&&null===q||c==typeof q&&null!==q||"object"==c&&q===Object(q)||J.call(q).slice(8,-1).toLowerCase()==c}function r(q){if("function"==typeof q||Object(q)!==q)return q;var c=new q.constructor,d;for(d in q)q[D](d)&&(c[d]=r(q[d]));return c}function m(q,c,d){function a(){var b=Array.prototype.slice.call(arguments,
0),f=b.join("\u2400"),l=a.cache=a.cache||{},h=a.count=a.count||[];if(l[D](f)){a:for(var b=h,h=f,B=0,n=b.length;B<n;B++)if(b[B]===h){b.push(b.splice(B,1)[0]);break a}return d?d(l[f]):l[f]}1E3<=h.length&&delete l[h.shift()];h.push(f);l[f]=q.apply(c,b);return d?d(l[f]):l[f]}return a}function x(q,c,d,a,b,f){return null==b?(q-=d,c-=a,q||c?(180*G.atan2(-c,-q)/A+540)%360:0):x(q,c,b,f)-x(d,a,b,f)}function h(q){return q%360*A/180}function l(q){return q.node.ownerSVGElement&&w(q.node.ownerSVGElement)||a.select("svg")}
function n(q){k(q,"array")||(q=Array.prototype.slice.call(arguments,0));for(var c=0,d=0,a=this.node;this[c];)delete this[c++];for(c=0;c<q.length;c++)"set"==q[c].type?q[c].forEach(function(q){a.appendChild(q.node)}):a.appendChild(q[c].node);for(var b=a.childNodes,c=0;c<b.length;c++)this[d++]=w(b[c]);return this}function t(q){if(q.snap in M)return M[q.snap];var c;try{c=q.ownerSVGElement}catch(d){}this.node=q;c&&(this.paper=new C(c));this.type=q.tagName||q.nodeName;c=this.id=S(this);this.anims={};this._=
{transform:[]};q.snap=c;M[c]=this;"g"==this.type&&(this.add=n);if(this.type in{g:1,mask:1,pattern:1,symbol:1})for(var a in C.prototype)C.prototype[D](a)&&(this[a]=C.prototype[a])}function z(q){this.node=q}function f(q,c){var d=p(q);c.appendChild(d);return w(d)}function C(q,c){var d,a,b,l=C.prototype;if(q&&"svg"==q.tagName){if(q.snap in M)return M[q.snap];var h=q.ownerDocument;d=new t(q);a=q.getElementsByTagName("desc")[0];b=q.getElementsByTagName("defs")[0];a||(a=p("desc"),a.appendChild(h.createTextNode("Created with Snap")),
d.node.appendChild(a));b||(b=p("defs"),d.node.appendChild(b));d.defs=b;for(var B in l)l[D](B)&&(d[B]=l[B]);d.paper=d.root=d}else d=f("svg",u.doc.body),p(d.node,{height:c,version:1.1,width:q,xmlns:O});return d}function w(q){return!q||q instanceof t||q instanceof z?q:q.tagName&&"svg"==q.tagName.toLowerCase()?new C(q):q.tagName&&"object"==q.tagName.toLowerCase()&&"image/svg+xml"==q.type?new C(q.contentDocument.getElementsByTagName("svg")[0]):new t(q)}function d(q,c){for(var a=0,b=q.length;a<b;a++){var f=
{type:q[a].type,attr:q[a].attr()},l=q[a].children();c.push(f);l.length&&d(l,f.childNodes=[])}}a.version="0.4.0";a.toString=function(){return"Snap v"+this.version};a._={};var u={win:b.window,doc:b.window.document};a._.glob=u;var D="hasOwnProperty",E=String,c=parseFloat,B=parseInt,G=Math,T=G.max,v=G.min,y=G.abs,A=G.PI,J=Object.prototype.toString,U=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i;
a._.separator=/[,\s]+/;var H=/[\s]*,[\s]*/,N={hs:1,rg:1},F=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/ig,I=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/ig,Q=/(-?\d*\.?\d*(?:e[\-+]?\\d+)?)[\s]*,?[\s]*/ig,P=0,X="S"+(+new Date).toString(36),S=function(q){return(q&&q.type?q.type:"")+X+(P++).toString(36)},V="http://www.w3.org/1999/xlink",O="http://www.w3.org/2000/svg",M={};a.url=function(q){return"url('#"+q+"')"};a._.$=p;a._.id=S;a.format=function(){var q=/\{([^\}]+)\}/g,c=
/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,d=function(q,d,a){var b=a;d.replace(c,function(q,c,d,a,f){c=c||a;b&&(c in b&&(b=b[c]),"function"==typeof b&&f&&(b=b()))});return b=(null==b||b==a?q:b)+""};return function(c,a){return E(c).replace(q,function(q,c){return d(q,c,a)})}}();a._.clone=r;a._.cacher=m;a.rad=h;a.deg=function(q){return 180*q/A%360};a.sin=function(q){return G.sin(a.rad(q))};a.tan=function(q){return G.tan(a.rad(q))};a.cos=function(q){return G.cos(a.rad(q))};a.asin=function(q){return a.deg(G.asin(q))};
a.acos=function(q){return a.deg(G.acos(q))};a.atan=function(q){return a.deg(G.atan(q))};a.atan2=function(q){return a.deg(G.atan2(q))};a.angle=x;a.len=function(q,c,d,b){return Math.sqrt(a.len2(q,c,d,b))};a.len2=function(q,c,d,a){return(q-d)*(q-d)+(c-a)*(c-a)};a.closestPoint=function(q,c,d){function a(q){var b=q.x-c;q=q.y-d;return b*b+q*q}q=q.node;for(var b=q.getTotalLength(),f=b/q.pathSegList.numberOfItems*.125,l,h,B=Infinity,n,e=0,L;e<=b;e+=f)(L=a(n=q.getPointAtLength(e)))<B&&(l=n,h=e,B=L);for(f*=
.5;.5<f;){var u,z,t,w,C,m;0<=(t=h-f)&&(C=a(u=q.getPointAtLength(t)))<B?(l=u,h=t,B=C):(w=h+f)<=b&&(m=a(z=q.getPointAtLength(w)))<B?(l=z,h=w,B=m):f*=.5}return l={x:l.x,y:l.y,length:h,distance:Math.sqrt(B)}};a.is=k;a.snapTo=function(q,c,d){d=k(d,"finite")?d:10;if(k(q,"array"))for(var a=q.length;a--;){if(y(q[a]-c)<=d)return q[a]}else{q=+q;a=c%q;if(a<d)return c-a;if(a>q-d)return c-a+q}return c};a.getRGB=m(function(q){if(!q||(q=E(q)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:fa};
if("none"==q)return{r:-1,g:-1,b:-1,hex:"none",toString:fa};!N[D](q.toLowerCase().substring(0,2))&&"#"!=q.charAt()&&(q=L(q));if(!q)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:fa};var d,b,f,l,h;if(q=q.match(U)){q[2]&&(f=B(q[2].substring(5),16),b=B(q[2].substring(3,5),16),d=B(q[2].substring(1,3),16));q[3]&&(f=B((h=q[3].charAt(3))+h,16),b=B((h=q[3].charAt(2))+h,16),d=B((h=q[3].charAt(1))+h,16));q[4]&&(h=q[4].split(H),d=c(h[0]),"%"==h[0].slice(-1)&&(d*=2.55),b=c(h[1]),"%"==h[1].slice(-1)&&(b*=2.55),
f=c(h[2]),"%"==h[2].slice(-1)&&(f*=2.55),"rgba"==q[1].toLowerCase().slice(0,4)&&(l=c(h[3])),h[3]&&"%"==h[3].slice(-1)&&(l/=100));if(q[5])return h=q[5].split(H),d=c(h[0]),"%"==h[0].slice(-1)&&(d/=100),b=c(h[1]),"%"==h[1].slice(-1)&&(b/=100),f=c(h[2]),"%"==h[2].slice(-1)&&(f/=100),"deg"!=h[0].slice(-3)&&"\u00b0"!=h[0].slice(-1)||(d/=360),"hsba"==q[1].toLowerCase().slice(0,4)&&(l=c(h[3])),h[3]&&"%"==h[3].slice(-1)&&(l/=100),a.hsb2rgb(d,b,f,l);if(q[6])return h=q[6].split(H),d=c(h[0]),"%"==h[0].slice(-1)&&
(d/=100),b=c(h[1]),"%"==h[1].slice(-1)&&(b/=100),f=c(h[2]),"%"==h[2].slice(-1)&&(f/=100),"deg"!=h[0].slice(-3)&&"\u00b0"!=h[0].slice(-1)||(d/=360),"hsla"==q[1].toLowerCase().slice(0,4)&&(l=c(h[3])),h[3]&&"%"==h[3].slice(-1)&&(l/=100),a.hsl2rgb(d,b,f,l);d=v(G.round(d),255);b=v(G.round(b),255);f=v(G.round(f),255);l=v(T(l,0),1);q={r:d,g:b,b:f,toString:fa};q.hex="#"+(16777216|f|b<<8|d<<16).toString(16).slice(1);q.opacity=k(l,"finite")?l:1;return q}return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:fa}},
a);a.hsb=m(function(q,c,d){return a.hsb2rgb(q,c,d).hex});a.hsl=m(function(c,d,b){return a.hsl2rgb(c,d,b).hex});a.rgb=m(function(c,d,a,b){if(k(b,"finite")){var f=G.round;return"rgba("+[f(c),f(d),f(a),+b.toFixed(2)]+")"}return"#"+(16777216|a|d<<8|c<<16).toString(16).slice(1)});var L=function(c){var d=u.doc.getElementsByTagName("head")[0]||u.doc.getElementsByTagName("svg")[0];L=m(function(c){if("red"==c.toLowerCase())return"rgb(255, 0, 0)";d.style.color="rgb(255, 0, 0)";d.style.color=c;c=u.doc.defaultView.getComputedStyle(d,
"").getPropertyValue("color");return"rgb(255, 0, 0)"==c?null:c});return L(c)},ma=function(){return"hsb("+[this.h,this.s,this.b]+")"},na=function(){return"hsl("+[this.h,this.s,this.l]+")"},fa=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},ja=function(c,d,b){null==d&&k(c,"object")&&"r"in c&&"g"in c&&"b"in c&&(b=c.b,d=c.g,c=c.r);null==d&&k(c,string)&&(b=a.getRGB(c),c=b.r,d=b.g,b=b.b);if(1<c||1<d||1<b)c/=255,d/=255,b/=255;return[c,d,b]},
ka=function(c,d,b,f){c=G.round(255*c);d=G.round(255*d);b=G.round(255*b);c={r:c,g:d,b:b,opacity:k(f,"finite")?f:1,hex:a.rgb(c,d,b),toString:fa};k(f,"finite")&&(c.opacity=f);return c};a.color=function(c){var d;k(c,"object")&&"h"in c&&"s"in c&&"b"in c?(d=a.hsb2rgb(c),c.r=d.r,c.g=d.g,c.b=d.b,c.opacity=1,c.hex=d.hex):k(c,"object")&&"h"in c&&"s"in c&&"l"in c?(d=a.hsl2rgb(c),c.r=d.r,c.g=d.g,c.b=d.b,c.opacity=1,c.hex=d.hex):(k(c,"string")&&(c=a.getRGB(c)),k(c,"object")&&"r"in c&&"g"in c&&"b"in c&&!("error"in
c)?(d=a.rgb2hsl(c),c.h=d.h,c.s=d.s,c.l=d.l,d=a.rgb2hsb(c),c.v=d.b):(c={hex:"none"},c.r=c.g=c.b=c.h=c.s=c.v=c.l=-1,c.error=1));c.toString=fa;return c};a.hsb2rgb=function(c,d,a,b){k(c,"object")&&"h"in c&&"s"in c&&"b"in c&&(a=c.b,d=c.s,b=c.o,c=c.h);var f,l,h;c=360*c%360/60;h=a*d;d=h*(1-y(c%2-1));a=f=l=a-h;c=~~c;a+=[h,d,0,0,d,h][c];f+=[d,h,h,d,0,0][c];l+=[0,0,d,h,h,d][c];return ka(a,f,l,b)};a.hsl2rgb=function(c,d,a,b){k(c,"object")&&"h"in c&&"s"in c&&"l"in c&&(a=c.l,d=c.s,c=c.h);if(1<c||1<d||1<a)c/=360,
d/=100,a/=100;var f,l,h;c=360*c%360/60;h=2*d*(.5>a?a:1-a);d=h*(1-y(c%2-1));a=f=l=a-h/2;c=~~c;a+=[h,d,0,0,d,h][c];f+=[d,h,h,d,0,0][c];l+=[0,0,d,h,h,d][c];return ka(a,f,l,b)};a.rgb2hsb=function(c,d,a){a=ja(c,d,a);c=a[0];d=a[1];a=a[2];var b,f;b=T(c,d,a);f=b-v(c,d,a);c=((0==f?null:b==c?(d-a)/f:b==d?(a-c)/f+2:(c-d)/f+4)+360)%6*60/360;return{h:c,s:0==f?0:f/b,b:b,toString:ma}};a.rgb2hsl=function(c,d,a){a=ja(c,d,a);c=a[0];d=a[1];a=a[2];var b,f,l;b=T(c,d,a);f=v(c,d,a);l=b-f;c=((0==l?null:b==c?(d-a)/l:b==d?
(a-c)/l+2:(c-d)/l+4)+360)%6*60/360;b=(b+f)/2;return{h:c,s:0==l?0:.5>b?l/(2*b):l/(2-2*b),l:b,toString:na}};a.parsePathString=function(c){if(!c)return null;var d=a.path(c);if(d.arr)return a.path.clone(d.arr);var b={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},f=[];k(c,"array")&&k(c[0],"array")&&(f=a.path.clone(c));f.length||E(c).replace(F,function(c,d,a){var q=[];c=d.toLowerCase();a.replace(Q,function(c,d){d&&q.push(+d)});"m"==c&&2<q.length&&(f.push([d].concat(q.splice(0,2))),c="l",d="m"==d?
"l":"L");"o"==c&&1==q.length&&f.push([d,q[0]]);if("r"==c)f.push([d].concat(q));else for(;q.length>=b[c]&&(f.push([d].concat(q.splice(0,b[c]))),b[c]););});f.toString=a.path.toString;d.arr=a.path.clone(f);return f};var oa=a.parseTransformString=function(c){if(!c)return null;var d=[];k(c,"array")&&k(c[0],"array")&&(d=a.path.clone(c));d.length||E(c).replace(I,function(c,a,b){var f=[];a.toLowerCase();b.replace(Q,function(c,d){d&&f.push(+d)});d.push([a].concat(f))});d.toString=a.path.toString;return d};
a._.svgTransform2string=function(c){var d=[];c=c.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(c,a,b){b=b.split(/\s*,\s*|\s+/);"rotate"==a&&1==b.length&&b.push(0,0);"scale"==a&&(2<b.length?b=b.slice(0,2):2==b.length&&b.push(0,0),1==b.length&&b.push(b[0],0,0));"skewX"==a?d.push(["m",1,0,G.tan(h(b[0])),1,0,0]):"skewY"==a?d.push(["m",1,G.tan(h(b[0])),0,1,0,0]):d.push([a.charAt(0)].concat(b));return c});return d};a._.rgTransform=/^[a-z][\s]*-?\.?\d/i;a._.transform2matrix=function(c,d){var b=oa(c),f=new a.Matrix;
if(b)for(var l=0,h=b.length;l<h;l++){var B=b[l],n=B.length,e=E(B[0]).toLowerCase(),L=B[0]!=e,u=L?f.invert():0,t;"t"==e&&2==n?f.translate(B[1],0):"t"==e&&3==n?L?(n=u.x(0,0),e=u.y(0,0),L=u.x(B[1],B[2]),u=u.y(B[1],B[2]),f.translate(L-n,u-e)):f.translate(B[1],B[2]):"r"==e?2==n?(t=t||d,f.rotate(B[1],t.x+t.width/2,t.y+t.height/2)):4==n&&(L?(L=u.x(B[2],B[3]),u=u.y(B[2],B[3]),f.rotate(B[1],L,u)):f.rotate(B[1],B[2],B[3])):"s"==e?2==n||3==n?(t=t||d,f.scale(B[1],B[n-1],t.x+t.width/2,t.y+t.height/2)):4==n?L?
(L=u.x(B[2],B[3]),u=u.y(B[2],B[3]),f.scale(B[1],B[1],L,u)):f.scale(B[1],B[1],B[2],B[3]):5==n&&(L?(L=u.x(B[3],B[4]),u=u.y(B[3],B[4]),f.scale(B[1],B[2],L,u)):f.scale(B[1],B[2],B[3],B[4])):"m"==e&&7==n&&f.add(B[1],B[2],B[3],B[4],B[5],B[6])}return f};a._unit2px=function(c,d,a){function b(c){if(null==c)return"";if(c==+c)return c;p(e,{width:c});try{return e.getBBox().width}catch(d){return 0}}function f(c){if(null==c)return"";if(c==+c)return c;p(e,{height:c});try{return e.getBBox().height}catch(d){return 0}}
function h(b,f){null==d?n[b]=f(c.attr(b)||0):b==d&&(n=f(null==a?c.attr(b)||0:a))}var B=l(c).node,n={},e=B.querySelector(".svg---mgr");e||(e=p("rect"),p(e,{x:-9E9,y:-9E9,width:10,height:10,"class":"svg---mgr",fill:"none"}),B.appendChild(e));switch(c.type){case "rect":h("rx",b),h("ry",f);case "image":h("width",b),h("height",f);case "text":h("x",b);h("y",f);break;case "circle":h("cx",b);h("cy",f);h("r",b);break;case "ellipse":h("cx",b);h("cy",f);h("rx",b);h("ry",f);break;case "line":h("x1",b);h("x2",
b);h("y1",f);h("y2",f);break;case "marker":h("refX",b);h("markerWidth",b);h("refY",f);h("markerHeight",f);break;case "radialGradient":h("fx",b);h("fy",f);break;case "tspan":h("dx",b);h("dy",f);break;default:h(d,b)}B.removeChild(e);return n};a._.getSomeDefs=function(c){c=c.node.ownerSVGElement&&w(c.node.ownerSVGElement)||c.node.parentNode&&w(c.node.parentNode)||a.select("svg")||a(0,0);var d=c.select("defs"),d=null==d?!1:d.node;d||(d=f("defs",c.node).node);return d};a._.getSomeSVG=l;a.select=function(c){c=
E(c).replace(/([^\\]):/g,"$1\\:");return w(u.doc.querySelector(c))};a.selectAll=function(c){c=u.doc.querySelectorAll(c);for(var d=(a.set||Array)(),b=0;b<c.length;b++)d.push(w(c[b]));return d};setInterval(function(){for(var c in M)if(M[D](c)){var d=M[c],a=d.node;("svg"!=d.type&&!a.ownerSVGElement||"svg"==d.type&&(!a.parentNode||"ownerSVGElement"in a.parentNode&&!a.ownerSVGElement))&&delete M[c]}},1E4);t.prototype.attr=function(c,d){var a=this.node;if(!c){if(1!=a.nodeType)return{text:a.nodeValue};for(var b=
a.attributes,a={},f=0,h=b.length;f<h;f++)a[b[f].nodeName]=b[f].nodeValue;return a}if(k(c,"string"))if(1<arguments.length)a={},a[c]=d,c=a;else return e("snap.util.getattr."+c,this).firstDefined();for(b in c)c[D](b)&&e("snap.util.attr."+b,this,c[b]);return this};a.parse=function(c){var d=u.doc.createDocumentFragment(),a=!0,b=u.doc.createElement("div");c=E(c);c.match(/^\s*<\s*svg(?:\s|>)/)||(c="<svg>"+c+"</svg>",a=!1);b.innerHTML=c;if(c=b.getElementsByTagName("svg")[0])if(a)d=c;else for(;c.firstChild;)d.appendChild(c.firstChild);
return new z(d)};a.fragment=function(){for(var c=Array.prototype.slice.call(arguments,0),d=u.doc.createDocumentFragment(),b=0,f=c.length;b<f;b++){var h=c[b];h.node&&h.node.nodeType&&d.appendChild(h.node);h.nodeType&&d.appendChild(h);"string"==typeof h&&d.appendChild(a.parse(h).node)}return new z(d)};a._.make=f;a._.wrap=w;C.prototype.el=function(c,d){var a=f(c,this.node);d&&a.attr(d);return a};t.prototype.children=function(){for(var c=[],d=this.node.childNodes,b=0,f=d.length;b<f;b++)c[b]=a(d[b]);return c};
t.prototype.toJSON=function(){var c=[];d([this],c);return c[0]};e.on("snap.util.getattr",function(){var c=e.nt(),c=c.substring(c.lastIndexOf(".")+1),d=c.replace(/[A-Z]/g,function(c){return"-"+c.toLowerCase()});return la[D](d)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(d):p(this.node,c)});var la={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,
cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,
"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};e.on("snap.util.attr",function(c){var d=e.nt(),a={},d=d.substring(d.lastIndexOf(".")+1);a[d]=c;var b=d.replace(/-(\w)/gi,function(c,d){return d.toUpperCase()}),d=d.replace(/[A-Z]/g,
function(c){return"-"+c.toLowerCase()});la[D](d)?this.node.style[b]=null==c?"":c:p(this.node,a)});a.ajax=function(c,d,a,b){var f=new XMLHttpRequest,h=S();if(f){if(k(d,"function"))b=a,a=d,d=null;else if(k(d,"object")){var l=[],B;for(B in d)d.hasOwnProperty(B)&&l.push(encodeURIComponent(B)+"="+encodeURIComponent(d[B]));d=l.join("&")}f.open(d?"POST":"GET",c,!0);d&&(f.setRequestHeader("X-Requested-With","XMLHttpRequest"),f.setRequestHeader("Content-type","application/x-www-form-urlencoded"));a&&(e.once("snap.ajax."+
h+".0",a),e.once("snap.ajax."+h+".200",a),e.once("snap.ajax."+h+".304",a));f.onreadystatechange=function(){4==f.readyState&&e("snap.ajax."+h+"."+f.status,b,f)};if(4==f.readyState)return f;f.send(d);return f}};a.load=function(c,d,b){a.ajax(c,function(c){c=a.parse(c.responseText);b?d.call(b,c):d(c)})};a.getElementByPoint=function(c,d){var a,b,f=u.doc.elementFromPoint(c,d);if(u.win.opera&&"svg"==f.tagName){a=f;b=a.getBoundingClientRect();a=a.ownerDocument;var h=a.body,l=a.documentElement;a=b.top+(g.win.pageYOffset||
l.scrollTop||h.scrollTop)-(l.clientTop||h.clientTop||0);b=b.left+(g.win.pageXOffset||l.scrollLeft||h.scrollLeft)-(l.clientLeft||h.clientLeft||0);h=f.createSVGRect();h.x=c-b;h.y=d-a;h.width=h.height=1;a=f.getIntersectionList(h,null);a.length&&(f=a[a.length-1])}return f?w(f):null};a.plugin=function(c){c(a,t,C,u,z)};return u.win.Snap=a}(A||this);y.plugin(function(b,a,p,k,r){function m(c,d){if(null==d){var a=!0;d="linearGradient"==c.type||"radialGradient"==c.type?c.node.getAttribute("gradientTransform"):
"pattern"==c.type?c.node.getAttribute("patternTransform"):c.node.getAttribute("transform");if(!d)return new b.Matrix;d=b._.svgTransform2string(d)}else d=b._.rgTransform.test(d)?t(d).replace(/\.{3}|\u2026/g,c._.transform||""):b._.svgTransform2string(d),n(d,"array")&&(d=b.path?b.path.toString.call(d):t(d)),c._.transform=d;var f=b._.transform2matrix(d,c.getBBox(1));if(a)return f;c.matrix=f}function x(c){function d(c,a){var b=f(c.node,a);(b=(b=b&&b.match(l))&&b[2])&&"#"==b.charAt()&&(b=b.substring(1))&&
(n[b]=(n[b]||[]).concat(function(d){var b={};b[a]=URL(d);f(c.node,b)}))}function a(c){var d=f(c.node,"xlink:href");d&&"#"==d.charAt()&&(d=d.substring(1))&&(n[d]=(n[d]||[]).concat(function(d){c.attr("xlink:href","#"+d)}))}var b=c.selectAll("*"),h,l=/^\s*url\(("|'|)(.*)\1\)\s*$/;c=[];for(var n={},e=0,u=b.length;e<u;e++){h=b[e];d(h,"fill");d(h,"stroke");d(h,"filter");d(h,"mask");d(h,"clip-path");a(h);var t=f(h.node,"id");t&&(f(h.node,{id:h.id}),c.push({old:t,id:h.id}))}e=0;for(u=c.length;e<u;e++)if(b=
n[c[e].old])for(h=0,t=b.length;h<t;h++)b[h](c[e].id)}function h(c,d,a){return function(b){b=b.slice(c,d);1==b.length&&(b=b[0]);return a?a(b):b}}function l(c){return function(){var a=c?"<"+this.type:"",b=this.node.attributes,f=this.node.childNodes;if(c)for(var h=0,l=b.length;h<l;h++)a+=" "+b[h].name+'="'+b[h].value.replace(/"/g,'\\"')+'"';if(f.length){c&&(a+=">");h=0;for(l=f.length;h<l;h++)3==f[h].nodeType?a+=f[h].nodeValue:1==f[h].nodeType&&(a+=d(f[h]).toString());c&&(a+="</"+this.type+">")}else c&&
(a+="/>");return a}}a=a.prototype;var n=b.is,t=String,z=b._unit2px,f=b._.$,C=b._.make,w=b._.getSomeDefs,d=b._.wrap;a.getBBox=function(c){if(!b.Matrix||!b.path)return this.node.getBBox();var d=this,a=new b.Matrix;if(d.removed)return b._.box();for(;"use"==d.type;)if(c||(a=a.add(d.transform().localMatrix.translate(d.attr("x")||0,d.attr("y")||0))),d.original)d=d.original;else var f=d.attr("xlink:href"),d=d.original=d.node.ownerDocument.getElementById(f.substring(f.indexOf("#")+1));var f=d._,h=b.path.get[d.type]||
b.path.get.deflt;try{if(c)return f.bboxwt=h?b.path.getBBox(d.realPath=h(d)):b._.box(d.node.getBBox()),b._.box(f.bboxwt);d.realPath=h(d);d.matrix=d.transform().localMatrix;f.bbox=b.path.getBBox(b.path.map(d.realPath,a.add(d.matrix)));return b._.box(f.bbox)}catch(l){return b._.box()}};var u=function(){return this.string};a.transform=function(c){var d=this._;if(null==c){var a=this;c=new b.Matrix(this.node.getCTM());for(var h=m(this),l=[h],n=new b.Matrix,e=h.toTransformString(),d=t(h)==t(this.matrix)?
t(d.transform):e;"svg"!=a.type&&(a=a.parent());)l.push(m(a));for(a=l.length;a--;)n.add(l[a]);return{string:d,globalMatrix:c,totalMatrix:n,localMatrix:h,diffMatrix:c.clone().add(h.invert()),global:c.toTransformString(),total:n.toTransformString(),local:e,toString:u}}c instanceof b.Matrix?(this.matrix=c,this._.transform=c.toTransformString()):m(this,c);this.node&&("linearGradient"==this.type||"radialGradient"==this.type?f(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?f(this.node,{patternTransform:this.matrix}):
f(this.node,{transform:this.matrix}));return this};a.parent=function(){return d(this.node.parentNode)};a.append=a.add=function(c){if(c){if("set"==c.type){var a=this;c.forEach(function(c){a.add(c)});return this}c=d(c);this.node.appendChild(c.node);c.paper=this.paper}return this};a.appendTo=function(c){c&&(c=d(c),c.append(this));return this};a.prepend=function(c){if(c){if("set"==c.type){var a=this,b;c.forEach(function(c){b?b.after(c):a.prepend(c);b=c});return this}c=d(c);var f=c.parent();this.node.insertBefore(c.node,
this.node.firstChild);this.add&&this.add();c.paper=this.paper;this.parent()&&this.parent().add();f&&f.add()}return this};a.prependTo=function(c){c=d(c);c.prepend(this);return this};a.before=function(c){if("set"==c.type){var a=this;c.forEach(function(c){var d=c.parent();a.node.parentNode.insertBefore(c.node,a.node);d&&d.add()});this.parent().add();return this}c=d(c);var b=c.parent();this.node.parentNode.insertBefore(c.node,this.node);this.parent()&&this.parent().add();b&&b.add();c.paper=this.paper;
return this};a.after=function(c){c=d(c);var a=c.parent();this.node.nextSibling?this.node.parentNode.insertBefore(c.node,this.node.nextSibling):this.node.parentNode.appendChild(c.node);this.parent()&&this.parent().add();a&&a.add();c.paper=this.paper;return this};a.insertBefore=function(c){c=d(c);var a=this.parent();c.node.parentNode.insertBefore(this.node,c.node);this.paper=c.paper;a&&a.add();c.parent()&&c.parent().add();return this};a.insertAfter=function(c){c=d(c);var a=this.parent();c.node.parentNode.insertBefore(this.node,
c.node.nextSibling);this.paper=c.paper;a&&a.add();c.parent()&&c.parent().add();return this};a.remove=function(){var c=this.parent();this.node.parentNode&&this.node.parentNode.removeChild(this.node);delete this.paper;this.removed=!0;c&&c.add();return this};a.select=function(c){return d(this.node.querySelector(c))};a.selectAll=function(c){c=this.node.querySelectorAll(c);for(var a=(b.set||Array)(),f=0;f<c.length;f++)a.push(d(c[f]));return a};a.asPX=function(c,d){null==d&&(d=this.attr(c));return+z(this,
c,d)};a.use=function(){var c,d=this.node.id;d||(d=this.id,f(this.node,{id:d}));c="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?C(this.type,this.node.parentNode):C("use",this.node.parentNode);f(c.node,{"xlink:href":"#"+d});c.original=this;return c};a.clone=function(){var c=d(this.node.cloneNode(!0));f(c.node,"id")&&f(c.node,{id:c.id});x(c);c.insertAfter(this);return c};a.toDefs=function(){w(this).appendChild(this.node);return this};a.pattern=a.toPattern=function(c,
d,a,b){var h=C("pattern",w(this));null==c&&(c=this.getBBox());n(c,"object")&&"x"in c&&(d=c.y,a=c.width,b=c.height,c=c.x);f(h.node,{x:c,y:d,width:a,height:b,patternUnits:"userSpaceOnUse",id:h.id,viewBox:[c,d,a,b].join(" ")});h.node.appendChild(this.node);return h};a.marker=function(c,d,a,b,h,l){var e=C("marker",w(this));null==c&&(c=this.getBBox());n(c,"object")&&"x"in c&&(d=c.y,a=c.width,b=c.height,h=c.refX||c.cx,l=c.refY||c.cy,c=c.x);f(e.node,{viewBox:[c,d,a,b].join(" "),markerWidth:a,markerHeight:b,
orient:"auto",refX:h||0,refY:l||0,id:e.id});e.node.appendChild(this.node);return e};var D=function(c,d,a,b){"function"!=typeof a||a.length||(b=a,a=v.linear);this.attr=c;this.dur=d;a&&(this.easing=a);b&&(this.callback=b)};b._.Animation=D;b.animation=function(c,d,a,b){return new D(c,d,a,b)};a.inAnim=function(){var c=[],d;for(d in this.anims)this.anims.hasOwnProperty(d)&&function(d){c.push({anim:new D(d._attrs,d.dur,d.easing,d._callback),mina:d,curStatus:d.status(),status:function(c){return d.status(c)},
stop:function(){d.stop()}})}(this.anims[d]);return c};b.animate=function(c,d,a,b,f,h){"function"!=typeof f||f.length||(h=f,f=v.linear);var l=v.time();c=v(c,d,l,l+b,v.time,a,f);h&&e.once("mina.finish."+c.id,h);return c};a.stop=function(){for(var c=this.inAnim(),d=0,a=c.length;d<a;d++)c[d].stop();return this};a.animate=function(c,d,a,b){"function"!=typeof a||a.length||(b=a,a=v.linear);c instanceof D&&(b=c.callback,a=c.easing,d=c.dur,c=c.attr);var f=[],l=[],u={},z,w,C,m=this,k;for(k in c)if(c.hasOwnProperty(k)){m.equal?
(C=m.equal(k,t(c[k])),z=C.from,w=C.to,C=C.f):(z=+m.attr(k),w=+c[k]);var x=n(z,"array")?z.length:1;u[k]=h(f.length,f.length+x,C);f=f.concat(z);l=l.concat(w)}z=v.time();var r=v(f,l,z,z+d,v.time,function(c){var d={},a;for(a in u)u.hasOwnProperty(a)&&(d[a]=u[a](c));m.attr(d)},a);m.anims[r.id]=r;r._attrs=c;r._callback=b;e("snap.animcreated."+m.id,r);e.once("mina.finish."+r.id,function(){delete m.anims[r.id];b&&b.call(m)});e.once("mina.stop."+r.id,function(){delete m.anims[r.id]});return m};var E={};a.data=
function(c,d){var a=E[this.id]=E[this.id]||{};if(0==arguments.length)return e("snap.data.get."+this.id,this,a,null),a;if(1==arguments.length){if(b.is(c,"object")){for(var f in c)c.hasOwnProperty(f)&&this.data(f,c[f]);return this}e("snap.data.get."+this.id,this,a[c],c);return a[c]}a[c]=d;e("snap.data.set."+this.id,this,d,c);return this};a.removeData=function(c){null==c?E[this.id]={}:E[this.id]&&delete E[this.id][c];return this};a.outerSVG=a.toString=l(1);a.innerSVG=l();a.toDataURL=function(){if(A&&
A.btoa){var c=this.getBBox(),c=b.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+c.x.toFixed(3),y:+c.y.toFixed(3),width:+c.width.toFixed(3),height:+c.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(c)))}};r.prototype.select=a.select;r.prototype.selectAll=a.selectAll});y.plugin(function(b,
a,e,k,r){function m(a,b,h,f,l,e){null==b&&"[object SVGMatrix]"==x.call(a)?(this.a=a.a,this.b=a.b,this.c=a.c,this.d=a.d,this.e=a.e,this.f=a.f):null!=a?(this.a=+a,this.b=+b,this.c=+h,this.d=+f,this.e=+l,this.f=+e):(this.a=1,this.c=this.b=0,this.d=1,this.f=this.e=0)}var x=Object.prototype.toString,h=String,l=Math;(function(a){function e(a){return a[0]*a[0]+a[1]*a[1]}function z(a){var b=l.sqrt(e(a));a[0]&&(a[0]/=b);a[1]&&(a[1]/=b)}a.add=function(a,b,h,d,l,e){var n=[[],[],[]],c=[[this.a,this.c,this.e],
[this.b,this.d,this.f],[0,0,1]];b=[[a,h,l],[b,d,e],[0,0,1]];a&&a instanceof m&&(b=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]);for(a=0;3>a;a++)for(h=0;3>h;h++){for(d=l=0;3>d;d++)l+=c[a][d]*b[d][h];n[a][h]=l}this.a=n[0][0];this.b=n[1][0];this.c=n[0][1];this.d=n[1][1];this.e=n[0][2];this.f=n[1][2];return this};a.invert=function(){var a=this.a*this.d-this.b*this.c;return new m(this.d/a,-this.b/a,-this.c/a,this.a/a,(this.c*this.f-this.d*this.e)/a,(this.b*this.e-this.a*this.f)/a)};a.clone=function(){return new m(this.a,
this.b,this.c,this.d,this.e,this.f)};a.translate=function(a,b){return this.add(1,0,0,1,a,b)};a.scale=function(a,b,h,d){null==b&&(b=a);(h||d)&&this.add(1,0,0,1,h,d);this.add(a,0,0,b,0,0);(h||d)&&this.add(1,0,0,1,-h,-d);return this};a.rotate=function(a,h,e){a=b.rad(a);h=h||0;e=e||0;var d=+l.cos(a).toFixed(9);a=+l.sin(a).toFixed(9);this.add(d,a,-a,d,h,e);return this.add(1,0,0,1,-h,-e)};a.x=function(a,b){return a*this.a+b*this.c+this.e};a.y=function(a,b){return a*this.b+b*this.d+this.f};a.get=function(a){return+this[h.fromCharCode(97+
a)].toFixed(4)};a.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"};a.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};a.determinant=function(){return this.a*this.d-this.b*this.c};a.split=function(){var a={};a.dx=this.e;a.dy=this.f;var h=[[this.a,this.c],[this.b,this.d]];a.scalex=l.sqrt(e(h[0]));z(h[0]);a.shear=h[0][0]*h[1][0]+h[0][1]*h[1][1];h[1]=[h[1][0]-h[0][0]*a.shear,h[1][1]-h[0][1]*a.shear];a.scaley=l.sqrt(e(h[1]));
z(h[1]);a.shear/=a.scaley;0>this.determinant()&&(a.scalex=-a.scalex);var n=-h[0][1],h=h[1][1];0>h?(a.rotate=b.deg(l.acos(h)),0>n&&(a.rotate=360-a.rotate)):a.rotate=b.deg(l.asin(n));a.isSimple=!+a.shear.toFixed(9)&&(a.scalex.toFixed(9)==a.scaley.toFixed(9)||!a.rotate);a.isSuperSimple=!+a.shear.toFixed(9)&&a.scalex.toFixed(9)==a.scaley.toFixed(9)&&!a.rotate;a.noRotation=!+a.shear.toFixed(9)&&!a.rotate;return a};a.toTransformString=function(a){a=a||this.split();if(+a.shear.toFixed(9))return"m"+[this.get(0),
this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)];a.scalex=+a.scalex.toFixed(4);a.scaley=+a.scaley.toFixed(4);a.rotate=+a.rotate.toFixed(4);return(a.dx||a.dy?"t"+[+a.dx.toFixed(4),+a.dy.toFixed(4)]:"")+(1!=a.scalex||1!=a.scaley?"s"+[a.scalex,a.scaley,0,0]:"")+(a.rotate?"r"+[+a.rotate.toFixed(4),0,0]:"")}})(m.prototype);b.Matrix=m;b.matrix=function(a,b,h,f,l,e){return new m(a,b,h,f,l,e)}});y.plugin(function(b,a,p,k,r){function m(c){return function(h){e.stop();h instanceof r&&1==h.node.childNodes.length&&
("radialGradient"==h.node.firstChild.tagName||"linearGradient"==h.node.firstChild.tagName||"pattern"==h.node.firstChild.tagName)&&(h=h.node.firstChild,f(this).appendChild(h),h=t(h));if(h instanceof a)if("radialGradient"==h.type||"linearGradient"==h.type||"pattern"==h.type){h.node.id||w(h.node,{id:h.id});var l=d(h.node.id)}else l=h.attr(c);else l=b.color(h),l.error?(l=b(f(this).ownerSVGElement).gradient(h))?(l.node.id||w(l.node,{id:l.id}),l=d(l.node.id)):l=h:l=u(l);h={};h[c]=l;w(this.node,h);this.node.style[c]=
""}}function x(c){e.stop();c==+c&&(c+="px");this.node.style.fontSize=c}function h(c){var a=[];c=c.childNodes;for(var d=0,b=c.length;d<b;d++){var f=c[d];3==f.nodeType&&a.push(f.nodeValue);"tspan"==f.tagName&&(1==f.childNodes.length&&3==f.firstChild.nodeType?a.push(f.firstChild.nodeValue):a.push(h(f)))}return a}function l(){e.stop();return this.node.style.fontSize}var n=b._.make,t=b._.wrap,z=b.is,f=b._.getSomeDefs,C=/^url\(#?([^)]+)\)$/,w=b._.$,d=b.url,u=String,D=b._.separator;e.on("snap.util.attr.mask",
function(c){if(c instanceof a||c instanceof r){e.stop();c instanceof r&&1==c.node.childNodes.length&&(c=c.node.firstChild,f(this).appendChild(c),c=t(c));if("mask"==c.type)var b=c;else b=n("mask",f(this)),b.node.appendChild(c.node);!b.node.id&&w(b.node,{id:b.id});w(this.node,{mask:d(b.id)})}});(function(c){e.on("snap.util.attr.clip",c);e.on("snap.util.attr.clip-path",c);e.on("snap.util.attr.clipPath",c)})(function(c){if(c instanceof a||c instanceof r){e.stop();if("clipPath"==c.type)var b=c;else b=
n("clipPath",f(this)),b.node.appendChild(c.node),!b.node.id&&w(b.node,{id:b.id});w(this.node,{"clip-path":d(b.node.id||b.id)})}});e.on("snap.util.attr.fill",m("fill"));e.on("snap.util.attr.stroke",m("stroke"));var v=/^([lr])(?:\(([^)]*)\))?(.*)$/i;e.on("snap.util.grad.parse",function(c){c=u(c);var a=c.match(v);if(!a)return null;c=a[1];var d=a[2],a=a[3],d=d.split(/\s*,\s*/).map(function(c){return+c==c?+c:c});1==d.length&&0==d[0]&&(d=[]);a=a.split("-");a=a.map(function(c){c=c.split(":");var a={color:c[0]};
c[1]&&(a.offset=parseFloat(c[1]));return a});return{type:c,params:d,stops:a}});e.on("snap.util.attr.d",function(c){e.stop();z(c,"array")&&z(c[0],"array")&&(c=b.path.toString.call(c));c=u(c);c.match(/[ruo]/i)&&(c=b.path.toAbsolute(c));w(this.node,{d:c})})(-1);e.on("snap.util.attr.#text",function(c){e.stop();c=u(c);for(c=k.doc.createTextNode(c);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(c)})(-1);e.on("snap.util.attr.path",function(c){e.stop();this.attr({d:c})})(-1);
e.on("snap.util.attr.class",function(c){e.stop();this.node.className.baseVal=c})(-1);e.on("snap.util.attr.viewBox",function(c){c=z(c,"object")&&"x"in c?[c.x,c.y,c.width,c.height].join(" "):z(c,"array")?c.join(" "):c;w(this.node,{viewBox:c});e.stop()})(-1);e.on("snap.util.attr.transform",function(c){this.transform(c);e.stop()})(-1);e.on("snap.util.attr.r",function(c){"rect"==this.type&&(e.stop(),w(this.node,{rx:c,ry:c}))})(-1);e.on("snap.util.attr.textpath",function(c){e.stop();if("text"==this.type){var d,
b;if(!c&&this.textPath){for(c=this.textPath;c.node.firstChild;)this.node.appendChild(c.node.firstChild);c.remove();delete this.textPath}else if(z(c,"string")?(d=f(this),c=t(d.parentNode).path(c),d.appendChild(c.node),d=c.id,c.attr({id:d})):(c=t(c),c instanceof a&&(d=c.attr("id"),d||(d=c.id,c.attr({id:d})))),d)if(c=this.textPath,b=this.node,c)c.attr({"xlink:href":"#"+d});else{for(c=w("textPath",{"xlink:href":"#"+d});b.firstChild;)c.appendChild(b.firstChild);b.appendChild(c);this.textPath=t(c)}}})(-1);
e.on("snap.util.attr.text",function(c){if("text"==this.type){for(var a=this.node,d=function(c){var a=w("tspan");if(z(c,"array"))for(var b=0;b<c.length;b++)a.appendChild(d(c[b]));else a.appendChild(k.doc.createTextNode(c));a.normalize&&a.normalize();return a};a.firstChild;)a.removeChild(a.firstChild);for(c=d(c);c.firstChild;)a.appendChild(c.firstChild)}e.stop()})(-1);e.on("snap.util.attr.fontSize",x)(-1);e.on("snap.util.attr.font-size",x)(-1);e.on("snap.util.getattr.transform",function(){e.stop();
return this.transform()})(-1);e.on("snap.util.getattr.textpath",function(){e.stop();return this.textPath})(-1);(function(){function c(a){return function(){e.stop();var c=k.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+a);return"none"==c?c:b(k.doc.getElementById(c.match(C)[1]))}}function a(c){return function(a){e.stop();var b="marker"+c.charAt(0).toUpperCase()+c.substring(1);if(""==a||!a)this.node.style[b]="none";else if("marker"==a.type){var h=a.node.id;h||w(a.node,{id:a.id});
this.node.style[b]=d(h)}}}e.on("snap.util.getattr.marker-end",c("end"))(-1);e.on("snap.util.getattr.markerEnd",c("end"))(-1);e.on("snap.util.getattr.marker-start",c("start"))(-1);e.on("snap.util.getattr.markerStart",c("start"))(-1);e.on("snap.util.getattr.marker-mid",c("mid"))(-1);e.on("snap.util.getattr.markerMid",c("mid"))(-1);e.on("snap.util.attr.marker-end",a("end"))(-1);e.on("snap.util.attr.markerEnd",a("end"))(-1);e.on("snap.util.attr.marker-start",a("start"))(-1);e.on("snap.util.attr.markerStart",
a("start"))(-1);e.on("snap.util.attr.marker-mid",a("mid"))(-1);e.on("snap.util.attr.markerMid",a("mid"))(-1)})();e.on("snap.util.getattr.r",function(){if("rect"==this.type&&w(this.node,"rx")==w(this.node,"ry"))return e.stop(),w(this.node,"rx")})(-1);e.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){e.stop();var a=h(this.node);return 1==a.length?a[0]:a}})(-1);e.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1);e.on("snap.util.getattr.viewBox",
function(){e.stop();var a=w(this.node,"viewBox");if(a)return a=a.split(D),b._.box(+a[0],+a[1],+a[2],+a[3])})(-1);e.on("snap.util.getattr.points",function(){var a=w(this.node,"points");e.stop();if(a)return a.split(D)})(-1);e.on("snap.util.getattr.path",function(){var a=w(this.node,"d");e.stop();return a})(-1);e.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1);e.on("snap.util.getattr.fontSize",l)(-1);e.on("snap.util.getattr.font-size",l)(-1)});y.plugin(function(b,a,e,
k,r){var m=/\S+/g,x=String;b=a.prototype;b.addClass=function(a){var b=x(a||"").match(m)||[];a=this.node;var e=a.className.baseVal,t=e.match(m)||[],z,f,k;if(b.length){for(z=0;k=b[z++];)f=t.indexOf(k),~f||t.push(k);b=t.join(" ");e!=b&&(a.className.baseVal=b)}return this};b.removeClass=function(a){var b=x(a||"").match(m)||[];a=this.node;var e=a.className.baseVal,t=e.match(m)||[],z,f;if(t.length){for(z=0;f=b[z++];)f=t.indexOf(f),~f&&t.splice(f,1);b=t.join(" ");e!=b&&(a.className.baseVal=b)}return this};
b.hasClass=function(a){return!!~(this.node.className.baseVal.match(m)||[]).indexOf(a)};b.toggleClass=function(a,b){if(null!=b)return b?this.addClass(a):this.removeClass(a);var e=(a||"").match(m)||[],t=this.node,z=t.className.baseVal,f=z.match(m)||[],k,w,d;for(k=0;d=e[k++];)w=f.indexOf(d),~w?f.splice(w,1):f.push(d);e=f.join(" ");z!=e&&(t.className.baseVal=e);return this}});y.plugin(function(b,a,p,k,r){function m(a){return a}function x(a){return function(b){return+b.toFixed(3)+a}}var h={"+":function(a,
b){return a+b},"-":function(a,b){return a-b},"/":function(a,b){return a/b},"*":function(a,b){return a*b}},l=String,n=/[a-z]+$/i,t=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;e.on("snap.util.attr",function(a){if(a=l(a).match(t)){var b=e.nt(),b=b.substring(b.lastIndexOf(".")+1),m=this.attr(b),k={};e.stop();var d=a[3]||"",u=m.match(n),x=h[a[1]];u&&u==d?a=x(parseFloat(m),+a[2]):(m=this.asPX(b),a=x(this.asPX(b),this.asPX(b,a[2]+d)));isNaN(m)||isNaN(a)||(k[b]=a,this.attr(k))}})(-10);e.on("snap.util.equal",
function(a,b){var k=l(this.attr(a)||""),w=l(b).match(t);if(w){e.stop();var d=w[3]||"",u=k.match(n),r=h[w[1]];if(u&&u==d)return{from:parseFloat(k),to:r(parseFloat(k),+w[2]),f:x(u)};k=this.asPX(a);return{from:k,to:r(k,this.asPX(a,w[2]+d)),f:m}}})(-10)});y.plugin(function(b,a,p,k,r){var m=p.prototype,x=b.is;m.rect=function(a,b,h,e,f,m){var k;null==m&&(m=f);x(a,"object")&&"[object Object]"==a?k=a:null!=a&&(k={x:a,y:b,width:h,height:e},null!=f&&(k.rx=f,k.ry=m));return this.el("rect",k)};m.circle=function(a,
b,h){var e;x(a,"object")&&"[object Object]"==a?e=a:null!=a&&(e={cx:a,cy:b,r:h});return this.el("circle",e)};var h=function(){function a(){this.parentNode.removeChild(this)}return function(b,h){var e=k.doc.createElement("img"),f=k.doc.body;e.style.cssText="position:absolute;left:-9999em;top:-9999em";e.onload=function(){h.call(e);e.onload=e.onerror=null;f.removeChild(e)};e.onerror=a;f.appendChild(e);e.src=b}}();m.image=function(a,e,m,k,f){var r=this.el("image");if(x(a,"object")&&"src"in a)r.attr(a);
else if(null!=a){var w={"xlink:href":a,preserveAspectRatio:"none"};null!=e&&null!=m&&(w.x=e,w.y=m);null!=k&&null!=f?(w.width=k,w.height=f):h(a,function(){b._.$(r.node,{width:this.offsetWidth,height:this.offsetHeight})});b._.$(r.node,w)}return r};m.ellipse=function(a,b,h,e){var f;x(a,"object")&&"[object Object]"==a?f=a:null!=a&&(f={cx:a,cy:b,rx:h,ry:e});return this.el("ellipse",f)};m.path=function(a){var b;x(a,"object")&&!x(a,"array")?b=a:a&&(b={d:a});return this.el("path",b)};m.group=m.g=function(a){var b=
this.el("g");1==arguments.length&&a&&!a.type?b.attr(a):arguments.length&&b.add(Array.prototype.slice.call(arguments,0));return b};m.svg=function(a,b,h,e,f,m,k,d){var u={};x(a,"object")&&null==b?u=a:(null!=a&&(u.x=a),null!=b&&(u.y=b),null!=h&&(u.width=h),null!=e&&(u.height=e),null!=f&&null!=m&&null!=k&&null!=d&&(u.viewBox=[f,m,k,d]));return this.el("svg",u)};m.mask=function(a){var b=this.el("mask");1==arguments.length&&a&&!a.type?b.attr(a):arguments.length&&b.add(Array.prototype.slice.call(arguments,
0));return b};m.ptrn=function(a,b,h,e,f,m,k,d){if(x(a,"object"))var u=a;else u={patternUnits:"userSpaceOnUse"},a&&(u.x=a),b&&(u.y=b),null!=h&&(u.width=h),null!=e&&(u.height=e),u.viewBox=null!=f&&null!=m&&null!=k&&null!=d?[f,m,k,d]:[a||0,b||0,h||0,e||0];return this.el("pattern",u)};m.use=function(h){return null!=h?(h instanceof a&&(h.attr("id")||h.attr({id:b._.id(h)}),h=h.attr("id")),"#"==String(h).charAt()&&(h=h.substring(1)),this.el("use",{"xlink:href":"#"+h})):a.prototype.use.call(this)};m.symbol=
function(a,b,h,e){var f={};null!=a&&null!=b&&null!=h&&null!=e&&(f.viewBox=[a,b,h,e]);return this.el("symbol",f)};m.text=function(a,b,h){var e={};x(a,"object")?e=a:null!=a&&(e={x:a,y:b,text:h||""});return this.el("text",e)};m.line=function(a,b,h,e){var f={};x(a,"object")?f=a:null!=a&&(f={x1:a,x2:h,y1:b,y2:e});return this.el("line",f)};m.polyline=function(a){1<arguments.length&&(a=Array.prototype.slice.call(arguments,0));var b={};x(a,"object")&&!x(a,"array")?b=a:null!=a&&(b={points:a});return this.el("polyline",
b)};m.polygon=function(a){1<arguments.length&&(a=Array.prototype.slice.call(arguments,0));var b={};x(a,"object")&&!x(a,"array")?b=a:null!=a&&(b={points:a});return this.el("polygon",b)};(function(){function a(){return this.selectAll("stop")}function h(a,f){var e=w("stop"),l={offset:+f+"%"};a=b.color(a);l["stop-color"]=a.hex;1>a.opacity&&(l["stop-opacity"]=a.opacity);w(e,l);this.node.appendChild(e);return this}function k(){if("linearGradient"==this.type){var a=w(this.node,"x1")||0,h=w(this.node,"x2")||
1,f=w(this.node,"y1")||0,e=w(this.node,"y2")||0;return b._.box(a,f,math.abs(h-a),math.abs(e-f))}a=this.node.r||0;return b._.box((this.node.cx||.5)-a,(this.node.cy||.5)-a,2*a,2*a)}function x(a,b){function h(a,c){for(var d=(c-m)/(a-k),b=k;b<a;b++)n[b].offset=+(+m+d*(b-k)).toFixed(2);k=a;m=c}var l=e("snap.util.grad.parse",null,b).firstDefined(),c;if(!l)return null;l.params.unshift(a);c="l"==l.type.toLowerCase()?f.apply(0,l.params):r.apply(0,l.params);l.type!=l.type.toLowerCase()&&w(c.node,{gradientUnits:"userSpaceOnUse"});
var n=l.stops,l=n.length,m=0,k=0;l--;for(var t=0;t<l;t++)"offset"in n[t]&&h(t,n[t].offset);n[l].offset=n[l].offset||100;h(l,n[l].offset);for(t=0;t<=l;t++){var p=n[t];c.addStop(p.color,p.offset)}return c}function f(d,f,e,m,c){d=b._.make("linearGradient",d);d.stops=a;d.addStop=h;d.getBBox=k;null!=f&&w(d.node,{x1:f,y1:e,x2:m,y2:c});return d}function r(d,f,e,m,c,x){d=b._.make("radialGradient",d);d.stops=a;d.addStop=h;d.getBBox=k;null!=f&&w(d.node,{cx:f,cy:e,r:m});null!=c&&null!=x&&w(d.node,{fx:c,fy:x});
return d}var w=b._.$;m.gradient=function(a){return x(this.defs,a)};m.gradientLinear=function(a,b,h,e){return f(this.defs,a,b,h,e)};m.gradientRadial=function(a,b,h,f,c){return r(this.defs,a,b,h,f,c)};m.toString=function(){var a=this.node.ownerDocument,h=a.createDocumentFragment(),a=a.createElement("div"),f=this.node.cloneNode(!0);h.appendChild(a);a.appendChild(f);b._.$(f,{xmlns:"http://www.w3.org/2000/svg"});a=a.innerHTML;h.removeChild(h.firstChild);return a};m.toDataURL=function(){if(A&&A.btoa)return"data:image/svg+xml;base64,"+
btoa(unescape(encodeURIComponent(this)))};m.clear=function(){for(var a=this.node.firstChild,b;a;)b=a.nextSibling,"defs"!=a.tagName?a.parentNode.removeChild(a):m.clear.call({node:a}),a=b}})()});y.plugin(function(b,a,e,k){function r(a){var c=r.ps=r.ps||{};c[a]?c[a].sleep=100:c[a]={sleep:100};setTimeout(function(){for(var d in c)c.hasOwnProperty(d)&&d!=a&&(c[d].sleep--,!c[d].sleep&&delete c[d])});return c[a]}function m(a,c,d,b){null==a&&(a=c=d=b=0);null==c&&(c=a.y,d=a.width,b=a.height,a=a.x);return{x:a,
y:c,width:d,w:d,height:b,h:b,x2:a+d,y2:c+b,cx:a+d/2,cy:c+b/2,r1:F.min(d,b)/2,r2:F.max(d,b)/2,r0:F.sqrt(d*d+b*b)/2,path:y(a,c,d,b),vb:[a,c,d,b].join(" ")}}function x(){return this.join(",").replace(H,"$1")}function h(a){a=U(a);a.toString=x;return a}function l(a,c,d,b,h,f,e,l,q){if(null==q)return w(a,c,d,b,h,f,e,l);if(0>q||w(a,c,d,b,h,f,e,l)<q)q=void 0;else{var n=.5,m=1-n,k;for(k=w(a,c,d,b,h,f,e,l,m);.01<S(k-q);)n/=2,m+=(k<q?1:-1)*n,k=w(a,c,d,b,h,f,e,l,m);q=m}return t(a,c,d,b,h,f,e,l,q)}function n(c,
d){function h(a){return+(+a).toFixed(3)}return b._.cacher(function(b,f,e){b instanceof a&&(b=b.attr("d"));b=ha(b);for(var n,m,q,k,u="",x={},r=0,w=0,p=b.length;w<p;w++){q=b[w];if("M"==q[0])n=+q[1],m=+q[2];else{k=l(n,m,q[1],q[2],q[3],q[4],q[5],q[6]);if(r+k>f){if(d&&!x.start){n=l(n,m,q[1],q[2],q[3],q[4],q[5],q[6],f-r);u+=["C"+h(n.start.x),h(n.start.y),h(n.m.x),h(n.m.y),h(n.x),h(n.y)];if(e)return u;x.start=u;u=["M"+h(n.x),h(n.y)+"C"+h(n.n.x),h(n.n.y),h(n.end.x),h(n.end.y),h(q[5]),h(q[6])].join();r+=k;
n=+q[5];m=+q[6];continue}if(!c&&!d)return n=l(n,m,q[1],q[2],q[3],q[4],q[5],q[6],f-r)}r+=k;n=+q[5];m=+q[6]}u+=q.shift()+q}x.end=u;return n=c?r:d?x:t(n,m,q[0],q[1],q[2],q[3],q[4],q[5],1)},null,b._.clone)}function t(a,c,d,b,h,f,e,l,q){var n=1-q,m=X(n,3),k=X(n,2),u=q*q,t=u*q,r=m*a+3*k*q*d+3*n*q*q*h+t*e,m=m*c+3*k*q*b+3*n*q*q*f+t*l,k=a+2*q*(d-a)+u*(h-2*d+a),t=c+2*q*(b-c)+u*(f-2*b+c),x=d+2*q*(h-d)+u*(e-2*h+d),u=b+2*q*(f-b)+u*(l-2*f+b);a=n*a+q*d;c=n*c+q*b;h=n*h+q*e;f=n*f+q*l;l=90-180*F.atan2(k-x,t-u)/I;return{x:r,
y:m,m:{x:k,y:t},n:{x:x,y:u},start:{x:a,y:c},end:{x:h,y:f},alpha:l}}function z(a,c,d,h,f,e,l,n){b.is(a,"array")||(a=[a,c,d,h,f,e,l,n]);a=ga.apply(null,a);return m(a.min.x,a.min.y,a.max.x-a.min.x,a.max.y-a.min.y)}function f(a,c,d){return c>=a.x&&c<=a.x+a.width&&d>=a.y&&d<=a.y+a.height}function v(a,c){a=m(a);c=m(c);return f(c,a.x,a.y)||f(c,a.x2,a.y)||f(c,a.x,a.y2)||f(c,a.x2,a.y2)||f(a,c.x,c.y)||f(a,c.x2,c.y)||f(a,c.x,c.y2)||f(a,c.x2,c.y2)||(a.x<c.x2&&a.x>c.x||c.x<a.x2&&c.x>a.x)&&(a.y<c.y2&&a.y>c.y||
c.y<a.y2&&c.y>a.y)}function w(a,c,d,b,h,f,e,l,q){null==q&&(q=1);q=(1<q?1:0>q?0:q)/2;for(var n=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],m=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],k=0,u=0;12>u;u++)var t=q*n[u]+q,r=t*(t*(-3*a+9*d-9*h+3*e)+6*a-12*d+6*h)-3*a+3*d,t=t*(t*(-3*c+9*b-9*f+3*l)+6*c-12*b+6*f)-3*c+3*b,k=k+m[u]*F.sqrt(r*r+t*t);return q*k}function d(a,c,d){a=ha(a);c=ha(c);for(var b,h,f,e,l,q,n,m,u,k,r=d?0:[],x=0,p=a.length;x<
p;x++)if(u=a[x],"M"==u[0])b=l=u[1],h=q=u[2];else{"C"==u[0]?(u=[b,h].concat(u.slice(1)),b=u[6],h=u[7]):(u=[b,h,b,h,l,q,l,q],b=l,h=q);for(var B=0,y=c.length;B<y;B++)if(k=c[B],"M"==k[0])f=n=k[1],e=m=k[2];else{"C"==k[0]?(k=[f,e].concat(k.slice(1)),f=k[6],e=k[7]):(k=[f,e,f,e,n,m,n,m],f=n,e=m);var D;var E=u,A=k;D=d;var R=z(E),G=z(A);if(v(R,G)){for(var R=w.apply(0,E),G=w.apply(0,A),R=~~(R/8),G=~~(G/8),T=[],ga=[],W={},F=D?0:[],J=0;J<R+1;J++){var H=t.apply(0,E.concat(J/R));T.push({x:H.x,y:H.y,t:J/R})}for(J=
0;J<G+1;J++)H=t.apply(0,A.concat(J/G)),ga.push({x:H.x,y:H.y,t:J/G});for(J=0;J<R;J++)for(E=0;E<G;E++){var I=T[J],U=T[J+1],A=ga[E],H=ga[E+1],N=.001>S(U.x-I.x)?"y":"x",M=.001>S(H.x-A.x)?"y":"x",K;K=I.x;var O=I.y,Y=U.x,Z=U.y,aa=A.x,ba=A.y,ca=H.x,da=H.y;if(P(K,Y)<Q(aa,ca)||Q(K,Y)>P(aa,ca)||P(O,Z)<Q(ba,da)||Q(O,Z)>P(ba,da))K=void 0;else{var X=(K*Z-O*Y)*(aa-ca)-(K-Y)*(aa*da-ba*ca),V=(K*Z-O*Y)*(ba-da)-(O-Z)*(aa*da-ba*ca),ea=(K-Y)*(ba-da)-(O-Z)*(aa-ca);if(ea){var X=X/ea,V=V/ea,ea=+X.toFixed(2),ia=+V.toFixed(2);
K=ea<+Q(K,Y).toFixed(2)||ea>+P(K,Y).toFixed(2)||ea<+Q(aa,ca).toFixed(2)||ea>+P(aa,ca).toFixed(2)||ia<+Q(O,Z).toFixed(2)||ia>+P(O,Z).toFixed(2)||ia<+Q(ba,da).toFixed(2)||ia>+P(ba,da).toFixed(2)?void 0:{x:X,y:V}}else K=void 0}K&&W[K.x.toFixed(4)]!=K.y.toFixed(4)&&(W[K.x.toFixed(4)]=K.y.toFixed(4),I=I.t+S((K[N]-I[N])/(U[N]-I[N]))*(U.t-I.t),A=A.t+S((K[M]-A[M])/(H[M]-A[M]))*(H.t-A.t),0<=I&&1>=I&&0<=A&&1>=A&&(D?F++:F.push({x:K.x,y:K.y,t1:I,t2:A})))}D=F}else D=D?0:[];if(d)r+=D;else{R=0;for(G=D.length;R<
G;R++)D[R].segment1=x,D[R].segment2=B,D[R].bez1=u,D[R].bez2=k;r=r.concat(D)}}}return r}function u(a){var c=r(a);if(c.bbox)return U(c.bbox);if(!a)return m();a=ha(a);for(var d=0,b=0,h=[],f=[],e,l=0,q=a.length;l<q;l++)e=a[l],"M"==e[0]?(d=e[1],b=e[2],h.push(d),f.push(b)):(d=ga(d,b,e[1],e[2],e[3],e[4],e[5],e[6]),h=h.concat(d.min.x,d.max.x),f=f.concat(d.min.y,d.max.y),d=e[5],b=e[6]);a=Q.apply(0,h);e=Q.apply(0,f);h=P.apply(0,h);f=P.apply(0,f);f=m(a,e,h-a,f-e);c.bbox=U(f);return f}function y(a,c,d,b,h){if(h)return[["M",
+a+ +h,c],["l",d-2*h,0],["a",h,h,0,0,1,h,h],["l",0,b-2*h],["a",h,h,0,0,1,-h,h],["l",2*h-d,0],["a",h,h,0,0,1,-h,-h],["l",0,2*h-b],["a",h,h,0,0,1,h,-h],["z"]];a=[["M",a,c],["l",d,0],["l",0,b],["l",-d,0],["z"]];a.toString=x;return a}function E(a,c,d,b,h){null==h&&null==b&&(b=d);a=+a;c=+c;d=+d;b=+b;if(null!=h){var f=Math.PI/180,e=a+d*Math.cos(-b*f);a+=d*Math.cos(-h*f);var l=c+d*Math.sin(-b*f);c+=d*Math.sin(-h*f);d=[["M",e,l],["A",d,d,0,+(180<h-b),0,a,c]]}else d=[["M",a,c],["m",0,-b],["a",d,b,0,1,1,0,
2*b],["a",d,b,0,1,1,0,-2*b],["z"]];d.toString=x;return d}function c(a){var c=r(a);if(c.abs)return h(c.abs);J(a,"array")&&J(a&&a[0],"array")||(a=b.parsePathString(a));if(!a||!a.length)return[["M",0,0]];var d=[],f=0,e=0,l=0,n=0,m=0;"M"==a[0][0]&&(f=+a[0][1],e=+a[0][2],l=f,n=e,m++,d[0]=["M",f,e]);for(var q=3==a.length&&"M"==a[0][0]&&"R"==a[1][0].toUpperCase()&&"Z"==a[2][0].toUpperCase(),u,k,t=m,w=a.length;t<w;t++){d.push(u=[]);k=a[t];m=k[0];if(m!=m.toUpperCase())switch(u[0]=m.toUpperCase(),u[0]){case "A":u[1]=
k[1];u[2]=k[2];u[3]=k[3];u[4]=k[4];u[5]=k[5];u[6]=+k[6]+f;u[7]=+k[7]+e;break;case "V":u[1]=+k[1]+e;break;case "H":u[1]=+k[1]+f;break;case "R":for(var p=[f,e].concat(k.slice(1)),z=2,B=p.length;z<B;z++)p[z]=+p[z]+f,p[++z]=+p[z]+e;d.pop();d=d.concat(W(p,q));break;case "O":d.pop();p=E(f,e,k[1],k[2]);p.push(p[0]);d=d.concat(p);break;case "U":d.pop();d=d.concat(E(f,e,k[1],k[2],k[3]));u=["U"].concat(d[d.length-1].slice(-2));break;case "M":l=+k[1]+f,n=+k[2]+e;default:for(z=1,B=k.length;z<B;z++)u[z]=+k[z]+
(z%2?f:e)}else if("R"==m)p=[f,e].concat(k.slice(1)),d.pop(),d=d.concat(W(p,q)),u=["R"].concat(k.slice(-2));else if("O"==m)d.pop(),p=E(f,e,k[1],k[2]),p.push(p[0]),d=d.concat(p);else if("U"==m)d.pop(),d=d.concat(E(f,e,k[1],k[2],k[3])),u=["U"].concat(d[d.length-1].slice(-2));else for(p=0,z=k.length;p<z;p++)u[p]=k[p];m=m.toUpperCase();if("O"!=m)switch(u[0]){case "Z":f=+l;e=+n;break;case "H":f=u[1];break;case "V":e=u[1];break;case "M":l=u[u.length-2],n=u[u.length-1];default:f=u[u.length-2],e=u[u.length-
1]}}d.toString=x;c.abs=h(d);return d}function B(a,c,d,b){return[a,c,d,b,d,b]}function A(a,c,d,b,h,f){var e=1/3,l=2/3;return[e*a+l*d,e*c+l*b,e*h+l*d,e*f+l*b,h,f]}function T(a,c,d,h,f,e,l,n,q,k){var u=120*I/180,m=I/180*(+f||0),t=[],r,x=b._.cacher(function(a,c,d){var b=a*F.cos(d)-c*F.sin(d);a=a*F.sin(d)+c*F.cos(d);return{x:b,y:a}});if(k)z=k[0],r=k[1],e=k[2],w=k[3];else{r=x(a,c,-m);a=r.x;c=r.y;r=x(n,q,-m);n=r.x;q=r.y;F.cos(I/180*f);F.sin(I/180*f);r=(a-n)/2;z=(c-q)/2;w=r*r/(d*d)+z*z/(h*h);1<w&&(w=F.sqrt(w),
d*=w,h*=w);var w=d*d,p=h*h,w=(e==l?-1:1)*F.sqrt(S((w*p-w*z*z-p*r*r)/(w*z*z+p*r*r)));e=w*d*z/h+(a+n)/2;var w=w*-h*r/d+(c+q)/2,z=F.asin(((c-w)/h).toFixed(9));r=F.asin(((q-w)/h).toFixed(9));z=a<e?I-z:z;r=n<e?I-r:r;0>z&&(z=2*I+z);0>r&&(r=2*I+r);l&&z>r&&(z-=2*I);!l&&r>z&&(r-=2*I)}if(S(r-z)>u){var t=r,p=n,B=q;r=z+u*(l&&r>z?1:-1);n=e+d*F.cos(r);q=w+h*F.sin(r);t=T(n,q,d,h,f,0,l,p,B,[r,t,e,w])}e=r-z;f=F.cos(z);u=F.sin(z);l=F.cos(r);r=F.sin(r);e=F.tan(e/4);d=4/3*d*e;e*=4/3*h;h=[a,c];a=[a+d*u,c-e*f];c=[n+d*
r,q-e*l];n=[n,q];a[0]=2*h[0]-a[0];a[1]=2*h[1]-a[1];if(k)return[a,c,n].concat(t);t=[a,c,n].concat(t).join().split(",");k=[];n=0;for(q=t.length;n<q;n++)k[n]=n%2?x(t[n-1],t[n],m).y:x(t[n],t[n+1],m).x;return k}function ga(a,c,d,b,h,f,e,l){for(var n=[],k=[[],[]],u,m,r,t,x=0;2>x;++x)0==x?(m=6*a-12*d+6*h,u=-3*a+9*d-9*h+3*e,r=3*d-3*a):(m=6*c-12*b+6*f,u=-3*c+9*b-9*f+3*l,r=3*b-3*c),1E-12>S(u)?1E-12>S(m)||(u=-r/m,0<u&&1>u&&n.push(u)):(t=m*m-4*r*u,r=F.sqrt(t),0>t||(t=(-m+r)/(2*u),0<t&&1>t&&n.push(t),u=(-m-r)/
(2*u),0<u&&1>u&&n.push(u)));for(m=x=n.length;x--;)u=n[x],r=1-u,k[0][x]=r*r*r*a+3*r*r*u*d+3*r*u*u*h+u*u*u*e,k[1][x]=r*r*r*c+3*r*r*u*b+3*r*u*u*f+u*u*u*l;k[0][m]=a;k[1][m]=c;k[0][m+1]=e;k[1][m+1]=l;k[0].length=k[1].length=m+2;return{min:{x:Q.apply(0,k[0]),y:Q.apply(0,k[1])},max:{x:P.apply(0,k[0]),y:P.apply(0,k[1])}}}function ha(a,d){var b=!d&&r(a);if(!d&&b.curve)return h(b.curve);var f=c(a),e=d&&c(d),l={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},n={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},u=function(a,
c,d){if(!a)return["C",c.x,c.y,c.x,c.y,c.x,c.y];a[0]in{T:1,Q:1}||(c.qx=c.qy=null);switch(a[0]){case "M":c.X=a[1];c.Y=a[2];break;case "A":a=["C"].concat(T.apply(0,[c.x,c.y].concat(a.slice(1))));break;case "S":"C"==d||"S"==d?(d=2*c.x-c.bx,c=2*c.y-c.by):(d=c.x,c=c.y);a=["C",d,c].concat(a.slice(1));break;case "T":"Q"==d||"T"==d?(c.qx=2*c.x-c.qx,c.qy=2*c.y-c.qy):(c.qx=c.x,c.qy=c.y);a=["C"].concat(A(c.x,c.y,c.qx,c.qy,a[1],a[2]));break;case "Q":c.qx=a[1];c.qy=a[2];a=["C"].concat(A(c.x,c.y,a[1],a[2],a[3],
a[4]));break;case "L":a=["C"].concat(B(c.x,c.y,a[1],a[2]));break;case "H":a=["C"].concat(B(c.x,c.y,a[1],c.y));break;case "V":a=["C"].concat(B(c.x,c.y,c.x,a[1]));break;case "Z":a=["C"].concat(B(c.x,c.y,c.X,c.Y))}return a},k=function(a,c){if(7<a[c].length){a[c].shift();for(var d=a[c];d.length;)t[c]="A",e&&(x[c]="A"),a.splice(c++,0,["C"].concat(d.splice(0,6)));a.splice(c,1);v=P(f.length,e&&e.length||0)}},m=function(a,c,d,b,h){a&&c&&"M"==a[h][0]&&"M"!=c[h][0]&&(c.splice(h,0,["M",b.x,b.y]),d.bx=0,d.by=
0,d.x=a[h][1],d.y=a[h][2],v=P(f.length,e&&e.length||0))},t=[],x=[],w="",z="",p=0,v=P(f.length,e&&e.length||0);for(;p<v;p++){f[p]&&(w=f[p][0]);"C"!=w&&(t[p]=w,p&&(z=t[p-1]));f[p]=u(f[p],l,z);"A"!=t[p]&&"C"==w&&(t[p]="C");k(f,p);e&&(e[p]&&(w=e[p][0]),"C"!=w&&(x[p]=w,p&&(z=x[p-1])),e[p]=u(e[p],n,z),"A"!=x[p]&&"C"==w&&(x[p]="C"),k(e,p));m(f,e,l,n,p);m(e,f,n,l,p);var D=f[p],y=e&&e[p],C=D.length,E=e&&y.length;l.x=D[C-2];l.y=D[C-1];l.bx=N(D[C-4])||l.x;l.by=N(D[C-3])||l.y;n.bx=e&&(N(y[E-4])||n.x);n.by=e&&
(N(y[E-3])||n.y);n.x=e&&y[E-2];n.y=e&&y[E-1]}e||(b.curve=h(f));return e?[f,e]:f}function W(a,c){for(var d=[],b=0,h=a.length;h-2*!c>b;b+=2){var f=[{x:+a[b-2],y:+a[b-1]},{x:+a[b],y:+a[b+1]},{x:+a[b+2],y:+a[b+3]},{x:+a[b+4],y:+a[b+5]}];c?b?h-4==b?f[3]={x:+a[0],y:+a[1]}:h-2==b&&(f[2]={x:+a[0],y:+a[1]},f[3]={x:+a[2],y:+a[3]}):f[0]={x:+a[h-2],y:+a[h-1]}:h-4==b?f[3]=f[2]:b||(f[0]={x:+a[b],y:+a[b+1]});d.push(["C",(-f[0].x+6*f[1].x+f[2].x)/6,(-f[0].y+6*f[1].y+f[2].y)/6,(f[1].x+6*f[2].x-f[3].x)/6,(f[1].y+6*
f[2].y-f[3].y)/6,f[2].x,f[2].y])}return d}e=a.prototype;var J=b.is,U=b._.clone,H=/,?([a-z]),?/gi,N=parseFloat,F=Math,I=F.PI,Q=F.min,P=F.max,X=F.pow,S=F.abs;k=n(1);var V=n(),O=n(0,1),M=b._unit2px;b.path=r;b.path.getTotalLength=k;b.path.getPointAtLength=V;b.path.getSubpath=function(a,c,d){if(1E-6>this.getTotalLength(a)-d)return O(a,c).end;a=O(a,d,1);return c?O(a,c).end:a};e.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength()};e.getPointAtLength=function(a){return V(this.attr("d"),
a)};e.getSubpath=function(a,c){return b.path.getSubpath(this.attr("d"),a,c)};b._.box=m;b.path.findDotsAtSegment=t;b.path.bezierBBox=z;b.path.isPointInsideBBox=f;b.closest=function(a,c,d,h){for(var e=100,l=m(a-e/2,c-e/2,e,e),n=[],u=d[0].hasOwnProperty("x")?function(a){return{x:d[a].x,y:d[a].y}}:function(a){return{x:d[a],y:h[a]}},k=0;1E6>=e&&!k;){for(var r=0,t=d.length;r<t;r++){var x=u(r);if(f(l,x.x,x.y)){k++;n.push(x);break}}k||(e*=2,l=m(a-e/2,c-e/2,e,e))}if(1E6!=e){for(var e=Infinity,p,r=0,t=n.length;r<
t;r++)l=b.len(a,c,n[r].x,n[r].y),e>l&&(e=l,n[r].len=l,p=n[r]);return p}};b.path.isBBoxIntersect=v;b.path.intersection=function(a,c){return d(a,c)};b.path.intersectionNumber=function(a,c){return d(a,c,1)};b.path.isPointInside=function(a,c,b){var h=u(a);return f(h,c,b)&&1==d(a,[["M",c,b],["H",h.x2+10]],1)%2};b.path.getBBox=u;b.path.get={path:function(a){return a.attr("path")},circle:function(a){a=M(a);return E(a.cx,a.cy,a.r)},ellipse:function(a){a=M(a);return E(a.cx||0,a.cy||0,a.rx,a.ry)},rect:function(a){a=
M(a);return y(a.x||0,a.y||0,a.width,a.height,a.rx,a.ry)},image:function(a){a=M(a);return y(a.x||0,a.y||0,a.width,a.height)},line:function(a){return"M"+[a.attr("x1")||0,a.attr("y1")||0,a.attr("x2"),a.attr("y2")]},polyline:function(a){return"M"+a.attr("points")},polygon:function(a){return"M"+a.attr("points")+"z"},deflt:function(a){a=a.node.getBBox();return y(a.x,a.y,a.width,a.height)}};b.path.toRelative=function(a){var c=r(a),d=String.prototype.toLowerCase;if(c.rel)return h(c.rel);b.is(a,"array")&&
b.is(a&&a[0],"array")||(a=b.parsePathString(a));var f=[],e=0,l=0,n=0,u=0,k=0;"M"==a[0][0]&&(e=a[0][1],l=a[0][2],n=e,u=l,k++,f.push(["M",e,l]));for(var m=a.length;k<m;k++){var t=f[k]=[],p=a[k];if(p[0]!=d.call(p[0]))switch(t[0]=d.call(p[0]),t[0]){case "a":t[1]=p[1];t[2]=p[2];t[3]=p[3];t[4]=p[4];t[5]=p[5];t[6]=+(p[6]-e).toFixed(3);t[7]=+(p[7]-l).toFixed(3);break;case "v":t[1]=+(p[1]-l).toFixed(3);break;case "m":n=p[1],u=p[2];default:for(var w=1,z=p.length;w<z;w++)t[w]=+(p[w]-(w%2?e:l)).toFixed(3)}else for(f[k]=
[],"m"==p[0]&&(n=p[1]+e,u=p[2]+l),t=0,w=p.length;t<w;t++)f[k][t]=p[t];p=f[k].length;switch(f[k][0]){case "z":e=n;l=u;break;case "h":e+=+f[k][p-1];break;case "v":l+=+f[k][p-1];break;default:e+=+f[k][p-2],l+=+f[k][p-1]}}f.toString=x;c.rel=h(f);return f};b.path.toAbsolute=c;b.path.toCubic=ha;b.path.map=function(a,c){if(!c)return a;var d,b,h,f,e,l,n;a=ha(a);h=0;for(e=a.length;h<e;h++)for(n=a[h],f=1,l=n.length;f<l;f+=2)d=c.x(n[f],n[f+1]),b=c.y(n[f],n[f+1]),n[f]=d,n[f+1]=b;return a};b.path.toString=x;b.path.clone=
h});y.plugin(function(b,a,p,k){var r=Math.max,m=Math.min,x=function(a){this.items=[];this.bindings={};this.length=0;this.type="set";if(a)for(var b=0,e=a.length;b<e;b++)a[b]&&(this[this.items.length]=this.items[this.items.length]=a[b],this.length++)};a=x.prototype;a.push=function(){for(var a,b,e=0,k=arguments.length;e<k;e++)if(a=arguments[e])b=this.items.length,this[b]=this.items[b]=a,this.length++;return this};a.pop=function(){this.length&&delete this[this.length--];return this.items.pop()};a.forEach=
function(a,b){for(var e=0,k=this.items.length;e<k&&!1!==a.call(b,this.items[e],e);e++);return this};a.animate=function(a,l,n,k){"function"!=typeof n||n.length||(k=n,n=v.linear);a instanceof b._.Animation&&(k=a.callback,n=a.easing,l=n.dur,a=a.attr);var m=arguments;if(b.is(a,"array")&&b.is(m[m.length-1],"array"))var f=!0;var r,p=function(){r?this.b=r:r=this.b},d=0,u=this,x=k&&function(){++d==u.length&&k.call(this)};return this.forEach(function(d,c){e.once("snap.animcreated."+d.id,p);f?m[c]&&d.animate.apply(d,
m[c]):d.animate(a,l,n,x)})};a.remove=function(){for(;this.length;)this.pop().remove();return this};a.bind=function(a,b,e){var k={};if("function"==typeof b)this.bindings[a]=b;else{var m=e||a;this.bindings[a]=function(a){k[m]=a;b.attr(k)}}return this};a.attr=function(a){var b={},e;for(e in a)if(this.bindings[e])this.bindings[e](a[e]);else b[e]=a[e];a=0;for(e=this.items.length;a<e;a++)this.items[a].attr(b);return this};a.clear=function(){for(;this.length;)this.pop()};a.splice=function(a,b,e){a=0>a?r(this.length+
a,0):a;b=r(0,m(this.length-a,b));var k=[],p=[],f=[],v;for(v=2;v<arguments.length;v++)f.push(arguments[v]);for(v=0;v<b;v++)p.push(this[a+v]);for(;v<this.length-a;v++)k.push(this[a+v]);var w=f.length;for(v=0;v<w+k.length;v++)this.items[a+v]=this[a+v]=v<w?f[v]:k[v-w];for(v=this.items.length=this.length-=b-w;this[v];)delete this[v++];return new x(p)};a.exclude=function(a){for(var b=0,e=this.length;b<e;b++)if(this[b]==a)return this.splice(b,1),!0;return!1};a.insertAfter=function(a){for(var b=this.items.length;b--;)this.items[b].insertAfter(a);
return this};a.getBBox=function(){for(var a=[],b=[],e=[],k=[],p=this.items.length;p--;)if(!this.items[p].removed){var f=this.items[p].getBBox();a.push(f.x);b.push(f.y);e.push(f.x+f.width);k.push(f.y+f.height)}a=m.apply(0,a);b=m.apply(0,b);e=r.apply(0,e);k=r.apply(0,k);return{x:a,y:b,x2:e,y2:k,width:e-a,height:k-b,cx:a+(e-a)/2,cy:b+(k-b)/2}};a.clone=function(a){a=new x;for(var b=0,e=this.items.length;b<e;b++)a.push(this.items[b].clone());return a};a.toString=function(){return"Snap\u2018s set"};a.type=
"set";b.Set=x;b.set=function(){var a=new x;arguments.length&&a.push.apply(a,Array.prototype.slice.call(arguments,0));return a}});y.plugin(function(b,a,p,k){function r(a){var d=a[0];switch(d.toLowerCase()){case "t":return[d,0,0];case "m":return[d,1,0,0,1,0,0];case "r":return 4==a.length?[d,0,a[2],a[3]]:[d,0];case "s":return 5==a.length?[d,1,1,a[3],a[4]]:3==a.length?[d,1,1]:[d,1]}}function m(a,h,f){h=d(h).replace(/\.{3}|\u2026/g,a);a=b.parseTransformString(a)||[];h=b.parseTransformString(h)||[];for(var c=
Math.max(a.length,h.length),e=[],l=[],k=0,n,m,p,x;k<c;k++){p=a[k]||r(h[k]);x=h[k]||r(p);if(p[0]!=x[0]||"r"==p[0].toLowerCase()&&(p[2]!=x[2]||p[3]!=x[3])||"s"==p[0].toLowerCase()&&(p[3]!=x[3]||p[4]!=x[4])){a=b._.transform2matrix(a,f());h=b._.transform2matrix(h,f());e=[["m",a.a,a.b,a.c,a.d,a.e,a.f]];l=[["m",h.a,h.b,h.c,h.d,h.e,h.f]];break}e[k]=[];l[k]=[];n=0;for(m=Math.max(p.length,x.length);n<m;n++)n in p&&(e[k][n]=p[n]),n in x&&(l[k][n]=x[n])}return{from:z(e),to:z(l),f:t(e)}}function x(a){return a}
function h(a){return function(d){return+d.toFixed(3)+a}}function l(a){return a.join(" ")}function n(a){return b.rgb(a[0],a[1],a[2])}function t(a){var d=0,b,c,h,f,e,l,k=[];b=0;for(c=a.length;b<c;b++){e="[";l=['"'+a[b][0]+'"'];h=1;for(f=a[b].length;h<f;h++)l[h]="val["+d++ +"]";e+=l+"]";k[b]=e}return Function("val","return Snap.path.toString.call(["+k+"])")}function z(a){for(var d=[],b=0,c=a.length;b<c;b++)for(var h=1,f=a[b].length;h<f;h++)d.push(a[b][h]);return d}function f(a,d){return b.is(a,"array")&&
b.is(d,"array")?a.toString()==d.toString():!1}var v={},w=/[a-z]+$/i,d=String;v.stroke=v.fill="colour";a.prototype.equal=function(a,d){return e("snap.util.equal",this,a,d).firstDefined()};e.on("snap.util.equal",function(a,e){var k,c;k=d(this.attr(a)||"");var r=this;if(isFinite(parseFloat(k))&&isFinite(parseFloat(e)))return{from:parseFloat(k),to:parseFloat(e),f:x};if("colour"==v[a])return k=b.color(k),c=b.color(e),{from:[k.r,k.g,k.b,k.opacity],to:[c.r,c.g,c.b,c.opacity],f:n};if("viewBox"==a)return k=
this.attr(a).vb.split(" ").map(Number),c=e.split(" ").map(Number),{from:k,to:c,f:l};if("transform"==a||"gradientTransform"==a||"patternTransform"==a)return e instanceof b.Matrix&&(e=e.toTransformString()),b._.rgTransform.test(e)||(e=b._.svgTransform2string(e)),m(k,e,function(){return r.getBBox(1)});if("d"==a||"path"==a)return k=b.path.toCubic(k,e),{from:z(k[0]),to:z(k[1]),f:t(k[0])};if("points"==a)return k=d(k).split(b._.separator),c=d(e).split(b._.separator),{from:k,to:c,f:function(a){return a}};
c=k.match(w);var p=d(e).match(w);return c&&f(c,p)?{from:parseFloat(k),to:parseFloat(e),f:h(c)}:{from:this.asPX(a),to:this.asPX(a,e),f:x}})});y.plugin(function(b,a,p,k){var r=a.prototype,m="createTouch"in k.doc;a="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel".split(" ");var x={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},h=function(a,b){var h="y"==a?"scrollTop":"scrollLeft",f=b&&b.node?b.node.ownerDocument:k.doc;return f[h in
f.documentElement?"documentElement":"body"][h]},l=function(){return this.originalEvent.preventDefault()},n=function(){return this.originalEvent.stopPropagation()},t=function(a,b,f,e){var c=m&&x[b]?x[b]:b,k=function(c){var k=h("y",e),r=h("x",e);if(m&&x.hasOwnProperty(b))for(var p=0,t=c.targetTouches&&c.targetTouches.length;p<t;p++)if(c.targetTouches[p].target==a||a.contains(c.targetTouches[p].target)){t=c;c=c.targetTouches[p];c.originalEvent=t;c.preventDefault=l;c.stopPropagation=n;break}return f.call(e,
c,c.clientX+r,c.clientY+k)};b!==c&&a.addEventListener(b,k,!1);a.addEventListener(c,k,!1);return function(){b!==c&&a.removeEventListener(b,k,!1);a.removeEventListener(c,k,!1);return!0}},z=[],f=function(a){for(var b=a.clientX,f=a.clientY,k=h("y"),c=h("x"),l,n=z.length;n--;){l=z[n];if(m)for(var r=a.touches&&a.touches.length,p;r--;){if(p=a.touches[r],p.identifier==l.el._drag.id||l.el.node.contains(p.target)){b=p.clientX;f=p.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();
b+=c;f+=k;e("snap.drag.move."+l.el.id,l.move_scope||l.el,b-l.el._drag.x,f-l.el._drag.y,b,f,a)}},v=function(a){b.unmousemove(f).unmouseup(v);for(var h=z.length,l;h--;)l=z[h],l.el._drag={},e("snap.drag.end."+l.el.id,l.end_scope||l.start_scope||l.move_scope||l.el,a),e.off("snap.drag.*."+l.el.id);z=[]};for(p=a.length;p--;)(function(a){b[a]=r[a]=function(h,f){if(b.is(h,"function"))this.events=this.events||[],this.events.push({name:a,f:h,unbind:t(this.node||document,a,h,f||this)});else for(var e=0,c=this.events.length;e<
c;e++)if(this.events[e].name==a)try{this.events[e].f.call(this)}catch(l){}return this};b["un"+a]=r["un"+a]=function(b){for(var h=this.events||[],f=h.length;f--;)if(h[f].name==a&&(h[f].f==b||!b)){h[f].unbind();h.splice(f,1);!h.length&&delete this.events;break}return this}})(a[p]);r.hover=function(a,b,h,f){return this.mouseover(a,h).mouseout(b,f||h)};r.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var w=[];r.drag=function(a,h,l,k,c,n){function m(r,t,x){(r.originalEvent||r).preventDefault();
p._drag.x=t;p._drag.y=x;p._drag.id=r.identifier;!z.length&&b.mousemove(f).mouseup(v);z.push({el:p,move_scope:k,start_scope:c,end_scope:n});h&&e.on("snap.drag.start."+p.id,h);a&&e.on("snap.drag.move."+p.id,a);l&&e.on("snap.drag.end."+p.id,l);e("snap.drag.start."+p.id,c||k||p,t,x,r)}function r(a,c,d){e("snap.draginit."+p.id,p,a,c,d)}var p=this;if(!arguments.length){var t;return p.drag(function(a,c){this.attr({transform:t+(t?"T":"t")+[a,c]})},function(){t=this.transform().local})}e.on("snap.draginit."+
p.id,m);p._drag={};w.push({el:p,start:m,init:r});p.mousedown(r);return p};r.undrag=function(){for(var a=w.length;a--;)w[a].el==this&&(this.unmousedown(w[a].init),w.splice(a,1),e.unbind("snap.drag.*."+this.id),e.unbind("snap.draginit."+this.id));!w.length&&b.unmousemove(f).unmouseup(v);return this}});y.plugin(function(b,a,p,k){p=p.prototype;var r=/^\s*url\((.+)\)/,m=String,x=b._.$;b.filter={};p.filter=function(h){var e=this;"svg"!=e.type&&(e=e.paper);h=b.parse(m(h));var k=b._.id(),p=x("filter");x(p,
{id:k,filterUnits:"userSpaceOnUse"});p.appendChild(h.node);e.defs.appendChild(p);return new a(p)};e.on("snap.util.getattr.filter",function(){e.stop();var a=x(this.node,"filter");if(a)return(a=m(a).match(r))&&b.select(a[1])});e.on("snap.util.attr.filter",function(h){if(h instanceof a&&"filter"==h.type){e.stop();var l=h.node.id;l||(x(h.node,{id:h.id}),l=h.id);x(this.node,{filter:b.url(l)})}h&&"none"!=h||(e.stop(),this.node.removeAttribute("filter"))});b.filter.blur=function(a,e){null==a&&(a=2);return b.format('<feGaussianBlur stdDeviation="{def}"/>',
{def:null==e?a:[a,e]})};b.filter.blur.toString=function(){return this()};b.filter.shadow=function(a,e,k,m,p){"string"==typeof k&&(p=m=k,k=4);"string"!=typeof m&&(p=m,m="#000");null==k&&(k=4);null==p&&(p=1);null==a&&(a=0,e=2);null==e&&(e=a);m=b.color(m||"#000");return b.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',
{color:m,dx:a,dy:e,blur:k,opacity:p})};b.filter.shadow.toString=function(){return this()};b.filter.grayscale=function(a){null==a&&(a=1);return b.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-a),b:.7152-.7152*(1-a),c:.0722-.0722*(1-a),d:.2126-.2126*(1-a),e:.7152+.2848*(1-a),f:.0722-.0722*(1-a),g:.2126-.2126*(1-a),h:.0722+.9278*(1-a)})};b.filter.grayscale.toString=function(){return this()};b.filter.sepia=function(a){null==
a&&(a=1);return b.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-a),b:.769-.769*(1-a),c:.189-.189*(1-a),d:.349-.349*(1-a),e:.686+.314*(1-a),f:.168-.168*(1-a),g:.272-.272*(1-a),h:.534-.534*(1-a),i:.131+.869*(1-a)})};b.filter.sepia.toString=function(){return this()};b.filter.saturate=function(a){null==a&&(a=1);return b.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-a})};b.filter.saturate.toString=function(){return this()};
b.filter.hueRotate=function(a){return b.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:a||0})};b.filter.hueRotate.toString=function(){return this()};b.filter.invert=function(a){null==a&&(a=1);return b.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:a,amount2:1-a})};b.filter.invert.toString=function(){return this()};
b.filter.brightness=function(a){null==a&&(a=1);return b.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:a})};b.filter.brightness.toString=function(){return this()};b.filter.contrast=function(a){null==a&&(a=1);return b.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',
{amount:a,amount2:.5-a/2})};b.filter.contrast.toString=function(){return this()}});y.plugin(function(b,a,e,k,r){var m=b._.box,x=b.is,h=/^[^a-z]*([tbmlrc])/i,l=function(){return"T"+this.dx+","+this.dy};a.prototype.getAlign=function(a,b){null==b&&x(a,"string")&&(b=a,a=null);a=a||this.paper;var e=a.getBBox?a.getBBox():m(a),f=this.getBBox(),k={};b=(b=b&&b.match(h))?b[1].toLowerCase():"c";switch(b){case "t":k.dx=0;k.dy=e.y-f.y;break;case "b":k.dx=0;k.dy=e.y2-f.y2;break;case "m":k.dx=0;k.dy=e.cy-f.cy;break;
case "l":k.dx=e.x-f.x;k.dy=0;break;case "r":k.dx=e.x2-f.x2;k.dy=0;break;default:k.dx=e.cx-f.cx,k.dy=0}k.toString=l;return k};a.prototype.align=function(a,b){return this.transform("..."+this.getAlign(a,b))}});return y});
"document"in self&&("classList"in document.createElement("_")?function(){var A=document.createElement("_");A.classList.add("c1","c2");if(!A.classList.contains("c2")){var e=function(e){var b=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(a){var e,k=arguments.length;for(e=0;e<k;e++)a=arguments[e],b.call(this,a)}};e("add");e("remove")}A.classList.toggle("c3",!1);if(A.classList.contains("c3")){var v=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,b){return 1 in arguments&&
!this.contains(e)===!b?b:v.call(this,e)}}A=null}():function(A){if("Element"in A){A=A.Element.prototype;var e=Object,v=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},y=Array.prototype.indexOf||function(a){for(var b=0,e=this.length;b<e;b++)if(b in this&&this[b]===a)return b;return-1},b=function(a,b){this.name=a;this.code=DOMException[a];this.message=b},a=function(a,e){if(""===e)throw new b("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new b("INVALID_CHARACTER_ERR",
"String contains an invalid character");return y.call(a,e)},p=function(a){for(var b=v.call(a.getAttribute("class")||""),b=b?b.split(/\s+/):[],e=0,k=b.length;e<k;e++)this.push(b[e]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},k=p.prototype=[],r=function(){return new p(this)};b.prototype=Error.prototype;k.item=function(a){return this[a]||null};k.contains=function(b){return-1!==a(this,b+"")};k.add=function(){var b=arguments,e=0,k=b.length,m,p=!1;do m=b[e]+"",-1===a(this,
m)&&(this.push(m),p=!0);while(++e<k);p&&this._updateClassName()};k.remove=function(){var b=arguments,e=0,k=b.length,m,p=!1,r;do for(m=b[e]+"",r=a(this,m);-1!==r;)this.splice(r,1),p=!0,r=a(this,m);while(++e<k);p&&this._updateClassName()};k.toggle=function(a,b){a+="";var e=this.contains(a),k=e?!0!==b&&"remove":!1!==b&&"add";if(k)this[k](a);return!0===b||!1===b?b:!e};k.toString=function(){return this.join(" ")};if(e.defineProperty){k={get:r,enumerable:!0,configurable:!0};try{e.defineProperty(A,"classList",
k)}catch(m){-2146823252===m.number&&(k.enumerable=!1,e.defineProperty(A,"classList",k))}}else e.prototype.__defineGetter__&&A.__defineGetter__("classList",r)}}(self));define("classList",function(){});
define("config",[],function(){return{FONT_FAMILY:"'Lato', sans-serif",TEXT_SIZE_SMALL:12,SPILLOVER_TOP:.07,SPILLOVER_RIGHT:0,SPILLOVER_BOTTOM:.05,SPILLOVER_LEFT:0,MAX_LABEL_DENSITY:1.5,TOP_PADDING:40,BOTTOM_PADDING:30,LEFT_PADDING:10,RIGHT_PADDING:10,BAR_TOOLTIP_X_PADDING:10,TARGET_MARKER_COUNT:6,TICK_MARK_VERTICAL_PADDING:10,TICK_MARK_HORIZONTAL_PADDING:10,LABEL_AXIS_PADDING:10,NEGATIVE_PROPORTION_STICKY_LABELS_LIMIT:1/3,SHARED_TINT_MINIMUM_RATIO:.95,GROUP_WIDTH_TO_PADDING_RATIO:4,GROUP_PADDING_TO_BAR_PADDING_RATIO:4,
BAR_MINIMUM_THICKNESS:12,BAR_GROUP_TARGET_THICKNESS:24,BAR_SPACING:5,BAR_GROUP_WIDTH_TO_PADDING_RATIO:4,TARGET_KEY_COLUMN_WIDTH:200,KEY_MARGIN_TOP:45,KEY_PADDING_TOP:20,KEY_PADDING_BOTTOM:20,KEY_PADDING_LEFT:30,KEY_PADDING_RIGHT:30,KEY_TEXT_SPACING:5,KEY_COLUMN_PADDING_RATIO:.1,KEY_ROWSPACING:8,KEY_SQUARE_LENGTH:13,KEY_DIVIDOR_HEIGHT:19,KEY_MIN_PULLOUT_TITLE_LENGTH:4,KEY_MIN_WIDTH_FOR_AXIS_ALIGNMENT:352}});
define("data-processor",[],function(){return{tableToJSON:function(A,e){function v(){this.series=[];this.rows=[];this.range={min:null,max:null};this.labels=[]}v.prototype={constructor:v};var y=[];e.pulloutItems&&(y=e.pulloutItems.split(","));for(var b=/^[0-9]+(,[0-9]{3})*(\.[0-9]+)?$/,a=A.querySelectorAll("thead > tr > th"),p=A.querySelectorAll("tbody > tr"),k=new v,r=1;r<a.length;r++){var m={title:a[r].textContent},x=a[r].getAttribute("data-fm-color");x&&(m.colorOverride=x);k.series.push(m)}for(a=
0;a<p.length;a++)if(p[a].children[0]){r=p[a].children[0].textContent;k.labels.push(r);x=!1;if(-1!==y.indexOf(String(a+1))||-1!==y.indexOf(r))x=!0;var m={key:a,title:r,values:[],total:0,pullout:x};if(x=p[a].getAttribute("data-fm-color"))m.colorOverride=x;k.rows.push(m);for(r=1;r<p[a].children.length;r++){x=null;p[a].children[r].textContent.match(b)&&(x=parseFloat(p[a].children[r].textContent.replace(/,([0-9]{3})/g,"$1")));if(null===k.range.min||k.range.min>x)k.range.min=x;if(null===k.range.max||k.range.max<
x)k.range.max=x;k.rows[a].values.push({value:x});k.rows[a].total+=x}}return k}}});
define("number-utils",[],function(){return{roundToOrder:function(A,e,v){function y(b,a){var e=Math.abs(b);e>=Math.pow(10,v)?(b=y(b/10,a),b*=10):e<Math.pow(10,v-1)?(b*=10,b=y(b,a),b/=10):(e=Math.round(b/a)*a,0===e&&(v++,e=y(b,a)),b=e);return parseFloat(b.toPrecision(v+1))}A=parseFloat(A);if(0==A)return 0;v||(v=2);return 1===e?parseFloat(A.toPrecision(v)):y(A,e)},renderValue:function(A){function e(a){if(0==a)return 0;if(1<=a&&1E3>a)return a;if(1>a)return y-=3,e(1E3*a);if(1E3<=a)return y+=3,e(a/1E3)}
if(0===A)return"0";if(!A)return"";var v=1;0>A&&(v=-1,A*=-1);A=this.roundToOrder(A,1,3);var y=0,b=new String(v*e(A));return 3==y?b+"k":6==y?b+"m":9==y?b+"bn":12==y?b+" trillion":new String(v*A)},getDataTotal:function(A){for(var e=0,v=0;v<A.length;v++)e+=A[v].value;return e},getAngle:function(A,e,v){v="undefined"===typeof v?Circle.whole:v;return v/e*A},getFactor:function(A){for(var e=A-1;1<e;e--){var v=A/e;if(parseInt(v)==v)return e}return A}}});
define("scale-utils",["number-utils"],function(A){return{Scale:function(e,v,y,b){this.start=e;this.middle=e+v/2;this.end=e+v;if(y==b)throw"Min and max values are the same";var a=y>b?!0:!1;this.getPixel=function(p,k){if((p<y||p>b)&&!1===("undefined"===typeof k?!0:!1)&&!(a&&p<=y&&p>=b))throw"Out of range";return e+(p-y)/(b-y)*v}},AreaScale:function(e,v,y,b){this.start=e;this.middle=e+v/2;this.midValue=y+(b-y)*Math.pow(.5,2);this.end=e+v;if(y==b)throw"Min value and max are the same";var a=y>b?!0:!1;
this.getPixel=function(p,k){if((p<y||p>b)&&!1===("undefined"===typeof k?!0:!1)&&!(a&&p<=y&&p>=b))throw"Out of range";var r=Math.pow((p-y)/(b-y),.5);return e+v*r}},getTickMarks:function(e,v,y,b){var a=0,p=0,k=0,r=0,k=0,m=[],r=k=0;e==v&&(a=0!==v?v/10:1,e-=a,v+=a);y=(v-e)/(y-1);p=a=0;a=Math.floor(Math.log(y)/Math.LN10);p=y/Math.pow(10,a);p=(1.5>p?1:3>p?2:7>p?5:10)*Math.pow(10,a);k=Math.floor(e/p)*p;r=Math.ceil(v/p)*p;a=Math.max(-Math.floor(Math.log(p)/Math.LN10),1);r+=.5*p;b&&(0!==k&&(k-=p),r+=p);for(;k<
r;k+=p)m.push(parseFloat(k.toFixed(a)));return m}}});
define("color-utils",[],function(){return{colorWheelClasses:"fm-datum-color-wheel-a fm-datum-color-wheel-b fm-datum-color-wheel-c fm-datum-color-wheel-d fm-datum-color-wheel-e fm-datum-color-wheel-f fm-datum-color-wheel-g fm-datum-color-wheel-h fm-datum-color-wheel-i fm-datum-color-wheel-j fm-datum-color-wheel-k fm-datum-color-wheel-l".split(" "),overflowClass:"fm-datum-color-overflow",pad:function(A){return 2>A.length?"0"+A:A},contrasting:function(A){throw"Not yet implemented";},registerTint1Filter:function(){throw"Not yet implemented";
},registerTint2Filter:function(){throw"Not yet implemented";},lowContrast:function(A,e){e="undefined"===typeof e?0:e;if(A+e>this.colorWheelClasses.length){for(var v=[],y=0;y<A;y++)y<this.colorWheelClasses.length?v.push(this.colorWheelClasses[y]):v.push(this.colorWheelClasses[this.colorWheelClasses.length-y]);return v}return this.colorWheelClasses.splice(e,A)},monochromatic:function(A,e,v){throw"Not yet implemented";},harmonious:function(A){for(var e=Math.min(A,this.colorWheelClasses.length),v=[],
y=Math.floor(this.colorWheelClasses.length/2),b=function(){return 0==this.colorWheelClasses.length%4}.bind(this),a=function(a,b){a=(a+this.colorWheelClasses.length)%this.colorWheelClasses.length;var h=Math.floor(v.length/4)+1;v.length<e&&v.splice(1*h-1,0,a);v.length<e&&v.splice(2*h-1,0,(a+b+1)%this.colorWheelClasses.length);v.length<e&&v.splice(3*h-1,0,(a+y)%this.colorWheelClasses.length);v.length<e&&v.splice(4*h-1,0,(a+b+1+y)%this.colorWheelClasses.length)}.bind(this),p=function(a,b){a=(a+this.colorWheelClasses.length)%
this.colorWheelClasses.length;v.splice(b,0,a)}.bind(this),k=1,r=0;k<=y-2;k+=2,r--)a(r,k);a=v.length/4;v.length<e&&p(1,a);v.length<e&&p(1+y,3*a+1);b()&&(v.length<e&&p(1+y/2,2*a+1),v.length<e&&p(1+3*y/2,4*a+3));b=[];for(p=0;p<A;p++)b.push(this.colorWheelClasses[v[p%e]]);return b}}});
define("tick-mark",["snap","config"],function(A,e){return A.plugin(function(v,y,b){b.prototype.tickMark=function(a,b,k,r,m){if("horizontal"===k){a=this.text(a-e.TICK_MARK_HORIZONTAL_PADDING,b,m).attr({"font-family":e.FONT_FAMILY,"font-size":e.TEXT_SIZE_SMALL,"font-weight":e.TICK_MARK_FONT_WEIGHT,"text-anchor":"end","dominant-baseline":"central"});var x=this.g(a).addClass("fm-tick-mark")}else"vertical"===k?(k=this.line(a,b,a,b+r),a=this.text(a,b+e.TICK_MARK_VERTICAL_PADDING+e.TEXT_SIZE_SMALL/2,m).attr({"font-family":e.FONT_FAMILY,
"font-size":e.TEXT_SIZE_SMALL,"font-weight":e.TICK_MARK_FONT_WEIGHT,"text-anchor":"middle"}),x=this.g(a,k).addClass("fm-tick-mark")):console.err("Incorrect orientation specified");return x}})});
define("axis",["snap","tick-mark","number-utils"],function(A,e,v){return A.plugin(function(e,b,a){a.prototype.axis=function(a,b,e,m,x,h,l,n,t){var z=this,f=z.g(),y=this.g();f.startPoints=[];if("horizontal"===h){m.forEach(function(a){"object"!==typeof a&&(a={position:a,label:v.renderValue(a)});var d=e.getPixel(a.position);f.startPoints.push({x:d,y:b});y.append(z.tickMark(d,b,"vertical",x,a.label,10))});if(n)var w=z.line(a,b,e.end,b).addClass("fm-axis");if(l){var d;t&&"last"!==t?"first"===t?d=y.getBBox().y-
17.5:console.error("Invalid axis label position specified."):d=y.getBBox().y+y.getBBox().height+17.5;l=z.text(e.middle,d,l).addClass("fm-x-axis-label");l.attr({"font-family":"'Lato', sans-serif","font-weight":400,"font-size":12,"text-anchor":"middle"});f.append(l)}f.append(w);f.append(y)}else m.forEach(function(b){"object"!==typeof b&&(b={position:b,label:v.renderValue(b)});var d=e.getPixel(b.position);f.startPoints.push({x:a,y:d});b=z.tickMark(a,d,"horizontal",x,b.label);y.append(b)}),f.append(y),
m=f.getBBox(),n&&(w=z.line(a,b,a,e.end).addClass("fm-axis"),f.append(w)),l&&(l=z.text(m.x-6-25,e.middle,l).addClass("fm-y-axis-label"),l.getBBox(),l.attr({"font-family":"'Lato', sans-serif","font-weight":400,"font-size":12,"text-anchor":"middle"}).transform("r -90"),f.append(l));return f}})});
define("grid-lines",["snap"],function(A){return A.plugin(function(e,v,y){y.prototype.gridLines=function(b,a,e,k,r){function m(){e.forEach(function(a,e){var m=h.line(b,a.y,b+k,a.y).addClass("fm-grid-line");l.append(m)})}function x(){e.forEach(function(b,e){var m=h.line(b.x,a,b.x,a+k).addClass("fm-grid-line");l.append(m)})}var h=this,l=this.g();"horizontal"===r?m():"vertical"===r?x():console.err("Invalid orientation specified");return l}})});
define("key",["snap","config","color-utils"],function(A,e,v){A=function(e,b,a,p,k,r,m,x,h,l,n,t){this._paper=e;this.node=e.g();this.x=b;this.y=a;this.width=p;this.columns=k;this.columnWidth=r;this.centerItems=m;this.values=x;this.maxValues=h;this.maxValueLength=l;this.lastItemIsOther=n;this.colorClasses=t};A.prototype={constructor:A,hide:function(){},remove:function(){this.node.parent.remove(this.node);this.node=null},render:function(){var y=this.values.length;if("undefined"===typeof this.maxValues||
this.maxValues>y)this.maxValues=y;"undefined"===typeof this.maxValueLength&&(this.maxValueLength=e.KEY_MAX_TEXT_LENGTH);var b;b=this.colorClasses?this.colorClasses:v.harmonious(y);this.container=this.node.rect(this.x,this.y,this.width,10).addClass("fm-key-container").attr({fill:e.KEY_NEUTRAL_FILL,stroke:e.KEY_NEUTRAL_STROKE});var a=this.node.g().addClass("fm-key-items"),p=0,k=0,r;this.values.every(function(m,h){if(h===this.maxValues)return!1;var l;l=h===this.values.length-1&&this.lastItemIsOther?
"fm-datum-color-overflow":b[h];0!==h&&0===h%this.columns&&(p=0,k+=r.getBBox().height+e.KEY_ROWSPACING);var n=m.length>this.maxValueLength?m.substring(0,this.maxValueLength-1)+"\u2026":m;l=this.node.rect(this.x+p,this.y+e.KEY_PADDING_TOP+k,13,13).addClass(l);r=this.node.text(this.x+e.KEY_TEXT_SPACING+l.getBBox().width+p,this.y+e.KEY_PADDING_TOP+k+parseInt(l.attr("height"),10)-1,n).attr({"font-family":e.FONT_FAMILY,"font-size":e.TEXT_SIZE_SMALL});n=this.node.g(l,r).data("fullText",m[h]);l=this.columnWidth-
e.KEY_TEXT_SPACING;var t=n.getBBox().width;if(!(t<=l))for(var v=n.select("text"),f=v.attr("text"),y=!0,f=f.substr(0,f.length-1)+"\u2026";y;)if(f=f.substr(0,f.length-2)+"\u2026",v.attr("text",f),t=n.getBBox().width,t<=l||5===f.length)y=!1;a.append(n);p+=this.columnWidth;return!0}.bind(this));var y=a.getBBox(),m=this.container.getBBox();this.container.attr({height:y.height+e.KEY_PADDING_TOP+e.KEY_PADDING_BOTTOM});!0===this.centerItems?a.transform("t"+(m.width/2-y.width/2)+" 0"):a.transform("t"+e.KEY_PADDING_LEFT+
" 0");return this.node.g(this.container,a).addClass("fm-key").attr({strokeDasharray:this.width+","+m.height+",0,"+100*this.width+",0"})},show:function(){},setHeight:function(e){this.node.select(".fm-key-container").attr({height:e+"px"})}};return A});
define("multitext",["snap"],function(A){return A.plugin(function(e,v,y,b){y.prototype.multitext=function(a,b,e,r,m){"undefined"===typeof r&&(r="1.8em");"undefined"===typeof m&&(m="start");e=e.split("\n");b=this.text(a,b,e);b.attr({textAnchor:m});b.selectAll("tspan:nth-child(n+2)").attr({dy:r,x:a});return b}})});
define("tooltip",["config","multitext"],function(A,e){function v(b,a,e,k){(this.enableBlackBorder=k)&&!document.getElementById("black-border")&&(b.node.querySelector("defs").innerHTML+='<filter id="black-border" x="-5%" y="-5%" width="110%" height="110%"><feMorphology in="SourceAlpha" operator="dilate" radius="1" result="border"></feMorphology><feGaussianBlur stdDeviation="0.2" in="border" result="blurred-border"></feGaussianBlur><feMerge><feMergeNode in="blurred-border"></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter>');this.tooltipClass=
a;this.colorClass=e;this._paper=b;this._parent=b.node;this._tooltipBG=this._tooltipArrow=null;this._tooltipPlacement="right";this.snapElement=this._tooltipText=null}var y;A.TOOLTIP_MAX_VALUE_LENGTH?y=A.TOOLTIP_MAX_VALUE_LENGTH:20;v.prototype={_positionTooltipArrow:function(b){var a=Snap.matrix(),e=this._tooltipBG.getBBox();switch(b){case "left":a.translate(e.width+4,e.height/2);a.rotate(180);this._tooltipArrow.transform(a.toTransformString());break;case "right":a.translate(-4,e.height/2);this._tooltipArrow.transform(a.toTransformString());
break;case "top":a.translate(e.width/2,e.height+4);a.rotate(-90);this._tooltipArrow.transform(a.toTransformString());break;case "bottom":a.translate(e.width/2,-4),a.rotate(90),this._tooltipArrow.transform(a.toTransformString())}this._tooltipPlacement=b},constructor:v,hide:function(){this.snapElement&&this.snapElement.attr("display","none")},remove:function(){this._tooltipText=this._tooltipBG=this._tooltipArrow=null;this.snapElement.remove();this.snapElement=null},render:function(b,a){var e=this._paper,
k=null;null!==this.snapElement&&this.remove();this.snapElement=e.g();var r,m="[object Array]"===Object.prototype.toString.call(a)?!0:!1;b.length>y&&(b=b.substring(0,y-3)+"...");if(m){r=e.g();r.attr({fill:"#fff"});var x=e.text(10,10,b);x.attr({dy:parseInt("12px",10),"font-family":"'Lato', sans-serif","font-size":"12px"});r.append(x);var h=[],l=[];a.forEach(function(a){var b;b=a.title.length>y?a.title.substring(0,y-3)+"...":a.title;a=a.value.length>y?a.value.substring(0,y-3)+"...":a.value;h.push(b+
":");l.push(a)});var k=e.multitext(10,20+x.getBBox().height+5,h.join("\n"),"1.2em").attr({"font-family":"'Lato', sans-serif","font-size":"12px"}),n=e.multitext(10,20+x.getBBox().height+5,l.join("\n"),"1.2em","end").attr({"font-family":"'Lato', sans-serif","font-size":"12px"});n.transform("t "+(k.getBBox().width+n.getBBox().width+5)+" 0");r.append(k);r.append(n)}else r=e.text(10,10,b+": "+a),r.attr({dy:parseInt("12px",10)});this._tooltipText=r;this.snapElement.append(r);this.snapElement.addClass("fm-tooltip "+
this.tooltipClass);k=r.getBBox();r=e.rect(0,0,k.width+10+10,k.height+10+10,4);r.addClass(this.colorClass);this._tooltipBG=r;m&&x.transform("t "+(k.width/2-x.getBBox().width/2)+" 0");this._tooltipArrow=e=e.polygon([-5,.2,5,-5,5,5]).addClass(this.colorClass);this._positionTooltipArrow(this._tooltipPlacement);this.snapElement.prepend(r);this.snapElement.append(e);this.hide();this.enableBlackBorder&&this.snapElement.attr({filter:"url(#black-border)"});return this.snapElement},setPosition:function(b,a,
e){if(this.snapElement){void 0===e?e=this._tooltipPlacement:e!==this._tooltipPlacement&&this._positionTooltipArrow(e);var k=this._tooltipArrow.getBBox(),r=this._tooltipBG.getBBox();switch(e){case "left":b=b-k.width-r.width;a-=r.height/2;break;case "right":b+=k.width;a-=r.height/2;break;case "bottom":b-=r.width/2;a+=k.height;break;case "top":b-=r.width/2,a=a-r.height-k.height}this.snapElement.transform("T"+b+","+a)}},show:function(){this.snapElement&&(this.snapElement.parent().append(this.snapElement),
this.snapElement.attr("display","block"))}};return v});
define("multi-tier-tooltip",["tooltip","multitext"],function(A){function e(e,y,b){A.call(this,e,y,b)}e.prototype=Object.create(A.prototype);e.prototype.render=function(e,y,b){var a=this._paper,p=null;null!==this.snapElement&&this.remove();this.snapElement=a.g();var k;k=a.g();e=a.text(10,7,e);e.attr({dy:parseInt("12px",10)});k.append(e);var r=[],m=[];y.forEach(function(a){r.push(a.title+":");m.push(a.value)});y=a.multitext(10,e.getBBox().y+e.getBBox().height,r.join("\n"),"1.4em");y.transform("t0 "+
y.getBBox().height);var p=a.multitext(10,e.getBBox().y+e.getBBox().height,m.join("\n"),"1.4em","end"),x=[],h=[];b.forEach(function(a){x.push(a.title+":");h.push(a.value)});b=a.multitext(10,y.getBBox().y+20+2*parseInt("12px",10),x.join("\n"),"1.4em");var l=a.multitext(10,y.getBBox().y+20+2*parseInt("12px",10),h.join("\n"),"1.4em","end"),n=y.getBBox(),t=b.getBBox(),n=n.width>t.width?n.width:t.width,t=p.getBBox(),z=l.getBBox(),t=t.width>z.width?t.width:z.width;p.transform("t "+(n+t)+" "+p.getBBox().height);
l.transform("t "+(n+t)+" 0");k.append(y);k.append(p);k.append(b);k.append(l);k.attr({fill:"#fff","font-family":"'Lato', sans-serif","font-size":"12px"});this._tooltipText=k;p=k.getBBox();b=a.rect(0,0,p.width+10+10,p.height+7+10,4);b.addClass(this.colorClass);this._tooltipBG=b;n=b.getBBox();this.groupBoundary=y.getBBox().y+10+parseInt("12px",10);y=a.line(0,this.groupBoundary,n.width,this.groupBoundary).attr({stroke:"white"});l=a.rect(n.x,n.y,n.width,n.height,4);n=a.rect(n.x,this.groupBoundary,n.width,
n.height-this.groupBoundary).attr("fill","white");l.attr("mask",n);l.addClass(this.colorClass+" tint-1");e.transform("t "+(p.width/2-e.getBBox().width/2)+" 0");e=a.polygon([-3.5,.2,6.5,-5,6.5,5]);a=a.rect(-6,-6,11,12).attr("fill","#fff");e.attr({mask:a}).addClass(this.colorClass);this._tooltipArrow=e;this._positionTooltipArrow(this._tooltipPlacement);this.snapElement.append(b);this.snapElement.append(l);this.snapElement.append(k);this.snapElement.append(e);this.snapElement.append(y);this.snapElement.addClass("fm-tooltip");
this.hide();return this.snapElement};e.prototype.setPosition=function(e,y,b){if(this.snapElement){void 0===b?b=this._tooltipPlacement:b!==this._tooltipPlacement&&this._positionTooltipArrow(b);var a=this._tooltipArrow.getBBox(),p=this._tooltipBG.getBBox();switch(b){case "left":e=e-a.width-p.width;y=y-this.groupBoundary/2-2;break;case "right":e+=a.width;y=y-this.groupBoundary/2-2;break;case "top":e=e-a.width-p.width;y-=a.height;break;case "bottom":e+=a.width,y+=a.height}this.snapElement.transform("T"+
e+","+y)}};e.prototype._positionTooltipArrow=function(e){var y=Snap.matrix(),b=this._tooltipBG.getBBox();switch(e){case "left":y.translate(b.width+4,this.groupBoundary/2+3);y.rotate(180);this._tooltipArrow.transform(y.toTransformString());break;case "right":y.translate(-4,this.groupBoundary/2+3);this._tooltipArrow.transform(y.toTransformString());break;case "top":y.translate(b.width/2,b.height+4);y.rotate(-90);this._tooltipArrow.transform(y.toTransformString());break;case "bottom":y.translate(b.width/
2,-4);y.rotate(90);this._tooltipArrow.transform(y.toTransformString());break;case "none":this._tooltipArrow.remove()}this._tooltipPlacement=e};return e});
define("utilities",["multi-tier-tooltip","key","config"],function(A,e,v){var y=function(){return-1!==navigator.userAgent.indexOf("MSIE")||0<navigator.appVersion.indexOf("Trident/")?!0:!1};return{calculateTotalLabelsLength:function(b,a){var e=0,k=0;b.forEach(function(b){var m=a.group().addClass("fm-axis"),x=a.text(-1E3,-1E3,b);b=a.text(-1E3,-1E3,b).addClass("fm-squeezed-label");m.append(x);m.append(b);var h=x.getBBox().width;h>e&&(e=h);h=b.getBBox().width;h>k&&(k=h);x.remove();b.remove();m.remove()});
return{target:e*b.length,squeezed:k*b.length}},straddlesZero:function(b){return 0>b.min*b.max},getNegativeProportion:function(b,a){return 0<b*a?0:-b/a},createTooltip:function(b,a,e,k,r,m,x,h,l){x=x.map(function(a,b){return{title:a.title,value:h[b].value}});b=new A(b,"fm-column-bar-tooltip","fm-datum-color-overflow");r=b.render(r,[{title:"Total",value:m}],x).addClass("with-fill");l.append(r);b.setPosition(a,e,k);return b},drawPullout:function(b,a,e,k,r){b=b.rect(a,e,k,r);b.addClass("fm-pullout");return b},
drawKey:function(b,a,p,k,r,m,x,h){var l=m.map(function(a){return a.value}),n=h?!0:!1,t=b.group().addClass("fm-key"),z=m.length;n&&z++;var f=Math.min(z,Math.ceil(k/r));2>f&&n&&(f=2);r=k/(f+v.KEY_COLUMN_PADDING_RATIO);n&&f--;z=b.line(a,p,a+k,p);p=(new e(b,a,p,k,f,r,!n,l,null,100,!1,x)).render();x=p.node.querySelectorAll(".fm-key-items > g");for(l=0;l<x.length;l++)m[l].colorOverride&&(f=x[l].querySelector("rect"),f.setAttribute("fill",m[l].colorOverride),f.className.baseVal="");t.append(p);t.append(z);
if(n){z=p.select(".fm-key-items").getBBox();m=b.group();n=a+k-r;r=z.cy;z=b.line(n,r-v.KEY_DIVIDOR_HEIGHT/2,n,r+v.KEY_DIVIDOR_HEIGHT/2).addClass("fm-key-dividor");m.append(z);n+=v.KEY_SQUARE_LENGTH;z=b.rect(n,r-v.KEY_SQUARE_LENGTH/2,v.KEY_SQUARE_LENGTH,v.KEY_SQUARE_LENGTH).addClass("fm-pullout-key");m.append(z);n+=v.KEY_SQUARE_LENGTH+v.KEY_TEXT_SPACING;b=b.text(n,r,h).addClass("fm-pullout-title");for(y()&&b.attr({dy:"0.5em"});b.getBBox().x2>a+k&&!(h.length<=v.KEY_MIN_PULLOUT_TITLE_LENGTH);)h=h.substring(0,
h.length-1),b.node.textContent=h+"\u2026";m.append(b);t.append(m)}return t},isIE:y}});
define("column","snap config scale-utils number-utils axis utilities tooltip".split(" "),function(A,e,v,y,b,a,p){function k(b,e,k,h,l,n,p,v,f,y){var w=null;e.hover(function(){null===w&&(w=a.createTooltip(b,k,h,l,n,p,v,f,y));w.show()},function(){w.hide()})}return{drawYRangeAxis:function(a,b,k,h,l,n,p,v){l=l.map(function(a){var b=y.renderValue(Math.abs(a));return{position:a,label:(0>a?"-":"")+n+b+p}});v=a.axis(b,h.start,h,l,k,"vertical",v,!1,"first").addClass("fm-axis");v.transform("translate("+v.getBBox().width+
",0)");var f=a.group(),A=v.getBBox().x2+e.LABEL_AXIS_PADDING,w=b+k;l.forEach(function(b){var e=h.getPixel(b.position),e=a.line(A,e,w,e);0===b.position?e.addClass("fm-major-grid-line"):e.addClass("fm-minor-grid-line");f.append(e)});return v},drawXLabelAxis:function(b,k,p,h,l,n,t,v){var f=b.group().addClass("fm-axis"),y=k+e.LABEL_AXIS_PADDING+t+n/2;l.forEach(function(h){var d=b.text(y,h.invertPosition?p-e.TICK_MARK_VERTICAL_PADDING:p+e.TICK_MARK_VERTICAL_PADDING,h.text);v&&d.addClass("fm-squeezed-label");
h.invertPosition?d.addClass("fm-inverted-axis-label"):d.addClass("fm-axis-label");h.pulledOut&&d.addClass("fm-pulled-out-label");a.isIE()&&d.attr({dy:"0.5em"});f.append(d);y+=2*t+n});return f},drawColumns:function(b,m,p,h,l,n,t,v,f,A,w){var d=t.getPixel(0),u=b.group(),D=b.group(),E=b.group(),c=m+e.LABEL_AXIS_PADDING;p.rows.forEach(function(e,f){if(e.pullout){var m=a.drawPullout(b,c,t.end,2*h+l*p.series.length+n*(p.series.length-1),t.start-t.end);u.append(m)}var A=b.group().addClass("fm-stacked-column");
c+=h;var C=0;p.series.forEach(function(a,f){if(e.values[f]){var h=t.getPixel(e.values[f].value),k=h,h=d-h;0>h&&(h*=-1,k=d);k=b.rect(c,k-C,l,h).addClass("fm-column-bar-datum");A.append(k);1<p.series.length?a.hasOwnProperty("colorOverride")?k.attr({fill:a.colorOverride}):k.addClass(v[f]):e.hasOwnProperty("colorOverride")?k.attr({fill:e.colorOverride}):k.addClass(v[f]);e.tintClass&&k.addClass(e.tintClass);y.renderValue(Math.abs(e.values[f].value));C+=h}});var m=A.getBBox(),W,J;m.cx>w?(J=c,W="left"):
(J=c+l,W="right");k(b,A,J,m.y,W,e.title,y.renderValue(e.total),p.series,e.values.map(function(a){return{value:y.renderValue(a.value)}}),E);D.append(A);c+=h+l});D.append(E);return D}}});
define("bar","snap config scale-utils number-utils axis utilities".split(" "),function(A,e,v,y,b,a){function p(b,e,m,p,h,l,n,t,v,f){e.click(function(){b.tooltipObject&&b.tooltipObject.remove();var y=e.getBBox();b.tooltipObject=a.createTooltip(b,m,p,h,l,n,t,v,f);var w=b.node.getBoundingClientRect(),d=b.tooltipObject.snapElement.getBBox();if(0===d.x2||0===d.width)b.tooltipObject.show(),d=b.tooltipObject.snapElement.getBBox(),b.tooltipObject.hide();if(d.x2>w.width||0>d.x)b.tooltipObject=y.cy>w.height/
2?a.createTooltip(b,m,p,"top",l,n,t,v,f):a.createTooltip(b,m,p,"bottom",l,n,t,v,f);b.tooltipObject.show()})}return{drawXRangeAxis:function(a,b,e,p,h,l,n,t){h=h.map(function(a){var b=y.renderValue(Math.abs(a));return{position:a,label:(0>a?"-":"")+l+b+n}});t=a.axis(p.start,b,p,h,0,"horizontal",t,!1,"last").addClass("fm-axis");var v=a.group(),f=b-e;h.forEach(function(e){var h=p.getPixel(e.position),h=a.line(h,b,h,f);0===e.position?h.addClass("fm-major-grid-line"):h.addClass("fm-minor-grid-line");v.append(h)});
t.append(v);return t},drawYLabelAxis:function(b,p,m,v,h,l,n,t,y){var f=b.group().addClass("fm-axis").addClass("fm-y-axis"),A=m-e.LABEL_AXIS_PADDING-n-l/2;h.forEach(function(e){var d=b.text(p,A,e.text).addClass("fm-axis-label").attr("text-anchor","end");f.append(d);e.pulledOut&&d.addClass("fm-pulled-out-label");a.isIE()&&d.attr({dy:"0.5em"});A-=2*n+l});f.transform("translate("+f.getBBox().width+",0)");return f},drawBars:function(a,b,m,v,h,l,n,t,z,f,A,w){var d=n.getPixel(0);a.group();var u=a.group(),
D=a.group(),E=b-e.LABEL_AXIS_PADDING;m.rows.forEach(function(b){var e=a.group().addClass("fm-stacked-bar");E-=v;var f=d;m.series.forEach(function(l,p){if(b.values[p]){var r=n.getPixel(b.values[p].value),u=f,r=r-d;0>r&&(r*=-1,u-=r);u=a.rect(u,E,r,h).addClass("fm-column-bar-datum");e.append(u);1<m.series.length?l.hasOwnProperty("colorOverride")?u.attr({fill:l.colorOverride}):u.addClass(t[p]):b.hasOwnProperty("colorOverride")?u.attr({fill:b.colorOverride}):u.addClass(t[p]);b.tintClass&&u.addClass(b.tintClass);
y.renderValue(Math.abs(b.values[p].value));f+=r}});e.getBBox();p(a,e,A,w,"none",b.title,y.renderValue(b.total),m.series,b.values.map(function(a){return{value:y.renderValue(a.value)}}),D);u.append(e);E-=v+h});u.append(D);return u}}});
define("stacked-column-bar","snap config scale-utils color-utils number-utils axis grid-lines key column bar utilities".split(" "),function(A,e,v,y,b,a,p,k,r,m,x){return A.plugin(function(a,k,n){function p(a,b,f,h,k,c,l,m,n,t){var y=n.valuePrefix?n.valuePrefix:"",z=n.valueSuffix?n.valueSuffix:"",A=v.getTickMarks(0,l,e.TARGET_MARKER_COUNT,!1);l=A[0];var C=A[A.length-1];f=new v.Scale(f+k-e.BOTTOM_PADDING,-(f+k-e.TOP_PADDING-e.BOTTOM_PADDING),l,C);b=r.drawYRangeAxis(a,b+e.LEFT_PADDING,h-b-e.LEFT_PADDING-
e.RIGHT_PADDING,f,A,y,z,n.axisLabel);c.labels.map(function(a,b){return{position:b,label:a}});b=b.getBBox().x2+e.LABEL_AXIS_PADDING;h=h-b-e.RIGHT_PADDING;k=e.GROUP_WIDTH_TO_PADDING_RATIO*e.GROUP_PADDING_TO_BAR_PADDING_RATIO+1-c.series.length;var H=(h-2*e.LABEL_AXIS_PADDING)*k/(c.rows.length*c.series.length*e.GROUP_PADDING_TO_BAR_PADDING_RATIO*(e.GROUP_WIDTH_TO_PADDING_RATIO+2));k=H*c.series.length*e.GROUP_PADDING_TO_BAR_PADDING_RATIO/k;var A=k/e.GROUP_PADDING_TO_BAR_PADDING_RATIO,H=c.series.length*
H+(c.series.length-1)*A,N=!1,F=c.labels.map(function(a,b){var d=!1,e=!0;c.rows[b].values.forEach(function(a){0>a.value?d=!0:e=!1});d&&!e&&(N=!0);return{text:a,invertPosition:d,pulledOut:c.rows[b].pullout}});N||x.getNegativeProportion(l,C)<e.NEGATIVE_PROPORTION_STICKY_LABELS_LIMIT?(F.forEach(function(a){a.invertPosition=!1}),l=f.start):l=f.getPixel(0);t=r.drawXLabelAxis(a,b,l,h,F,H,k,t);r.drawColumns(a,b,c,k,H,A,f,m,y,z,t.getBBox().cx);if(1<c.series.length||n.pulloutTitle)y=c.series.map(function(a,
b){var d={value:a.title};c.series[b].hasOwnProperty("colorOverride")&&(d.colorOverride=c.series[b].colorOverride);return d}),z=Math.max(t.getBBox().y2,f.start),m=x.drawKey(a,b,z+e.KEY_MARGIN_TOP,h,e.TARGET_KEY_COLUMN_WIDTH,y,m,n.pulloutTitle).getBBox().y2,n=a.node.getBoundingClientRect(),a.node.setAttribute("viewBox","0 0 "+(n.right-n.left)+" "+m),a.node.style.height=m+"px"}function z(a){a.rows.reverse();a.labels.reverse();a.series.reverse();a.rows.forEach(function(a){a.values.reverse()})}function f(a,
d,f,h,k,c,l,n,p){z(c);k=p.valuePrefix?p.valuePrefix:"";var r=p.valueSuffix?p.valueSuffix:"",t=e.BAR_GROUP_TARGET_THICKNESS,y=e.BAR_SPACING,A=t/e.BAR_GROUP_WIDTH_TO_PADDING_RATIO,C=c.rows.length*(t+2*A)+2*e.LABEL_AXIS_PADDING,H=c.labels.map(function(a,b){return{text:a,pulledOut:c.rows[b].pullout}}),N=m.drawYLabelAxis(a,d+e.LEFT_PADDING,f+e.TOP_PADDING+C,C,H,t,A,k,r),H=v.getTickMarks(0,l,e.TARGET_MARKER_COUNT,!1),N=N.getBBox().x2+e.TICK_MARK_HORIZONTAL_PADDING;l=a.group().append(a.text(0,0,b.renderValue(l))).addClass("fm-tick-mark");
var F=l.getBBox().width;l.remove();l=new v.Scale(N,h-e.RIGHT_PADDING-N-F/2,H[0],H[H.length-1]);H=m.drawXRangeAxis(a,f+e.TOP_PADDING+C,C,l,H,k,r,p.axisLabel);m.drawBars(a,f+e.TOP_PADDING+C-t,c,A,t,y,l,n,k,r,l.start+e.BAR_TOOLTIP_X_PADDING,H.getBBox().y);f=H.getBBox().y2+e.BOTTOM_PADDING;if(1<c.series.length||p.pulloutTitle)k=c.series.map(function(a,b){var d={value:a.title};c.series[b].hasOwnProperty("colorOverride")&&(d.colorOverride=c.series[b].colorOverride);return d}),r=l.start,t=l.end-l.start,
t<e.KEY_MIN_WIDTH_FOR_AXIS_ALIGNMENT&&(t=h,r=d),d=x.drawKey(a,r,f+e.KEY_MARGIN_TOP,t,e.TARGET_KEY_COLUMN_WIDTH,k,n,p.pulloutTitle),f=d.getBBox().y2,a.prepend(d);d=a.node.getBoundingClientRect();a.node.setAttribute("viewBox","0 0 "+(d.right-d.left)+" "+f);a.node.style.height=f+"px"}function A(a){var b=0;a.rows.concat().sort(function(a,b){return b.values[0].value-a.values[0].value}).forEach(function(a,f,h){h=h[f-1];0!==f&&a.values[0].value/h.values[0].value<e.SHARED_TINT_MINIMUM_RATIO&&9>b&&b++;a.tintClass=
"tint-"+b})}n.prototype.chart=function(a,b,h,k,l,c){var m=this;x.straddlesZero(l.range)||(l.range.min<=l.range.max?l.range.min=0:l.range.max=0);var n=y.lowContrast(l.series.length,3<l.series.length||1===l.series.length?5:4);1===l.series.length&&A(l);var r=x.calculateTotalLabelsLength(l.labels,m),v=h/r.squeezed,r=h/r.target>e.MAX_LABEL_DENSITY,v=!r&&v>e.MAX_LABEL_DENSITY,z=Math.max.apply(Math,l.rows.map(function(a){return a.total}));r||v?p(m,a,b,h,k,l,z,n,c,v):f(m,a,b,h,k,l,z,n,c);a=m.rect(a,b,h,k);
a.attr({opacity:"0"});a.click(function(){m.tooltipObject&&(m.tooltipObject.remove(),m.tooltipObject=null)});this.prepend(a)}})});
define("render",["snap","classList","config","data-processor","stacked-column-bar"],function(A,e,v,y,b){function a(a){return a.split("-").map(function(a,b){return 0===b?a:a.charAt(0).toUpperCase()+a.substr(1)}).join("")}function p(a,b){var e=document.createElement("div");e.className="fm-powered-by-factmint";e.innerHTML='Powered by <a style="color: #527a92" href="http://factmint.com/charts">Factmint</a>';e.style.fontSize="8px";e.style.lineHeight="12px";e.style.width=b;e.style.textAlign="center";e.style.fontFamily=
"Lato, sans-serif";a.parentNode.insertBefore(e,a.nextSibling)}var k=/([0-9]+)(px|%|rem|em|ex|ch|vw|vh|vmin|vmax|mm|cm|in|pt|pc)/;return function(b){var e=b.getAttribute("data-fm-config"),x=e&&window[e]?window[e]:{};[].filter.call(b.attributes,function(a){return"data-fm-config"===a.name?!1:/^data-fm-/.test(a.name)}).forEach(function(b){var c=b.name.replace(/^data-fm-/,""),c=a(c);x[c]=b.value});x.width||(x.width="100%");x.height||(x.height="450px");if(null===x.height.match(k)||null===x.width.match(k))throw"A valid CSS length must be used for the chart dimensions (such as 50% or 400px)";
var h,l,n;x.width.replace(k,function(a,b,c){h=parseFloat(b);l=h*(v.SPILLOVER_LEFT+v.SPILLOVER_RIGHT);n=c});var t,z,f;x.height.replace(k,function(a,b,c){t=parseFloat(b);z=t*(v.SPILLOVER_TOP+v.SPILLOVER_BOTTOM);f=c});e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.style.opacity=0;e.style.transition="opacity 0.3s ease-in-out";b.id||(b.id=Math.floor(16777216*Math.random()).toString(16));e.setAttribute("aria-describedby",b.id);x.enableSpillover?(e.style.height=t+z+f,e.style.width=h+l+
n,e.style.margin="-"+v.SPILLOVER_TOP*t+f+" -"+v.SPILLOVER_RIGHT*h+n+" -"+v.SPILLOVER_BOTTOM*t+f+" -"+v.SPILLOVER_LEFT*h+n):(e.style.height=t+f,e.style.width=h+n);b.parentElement.insertBefore(e,b);var C=A(e),w=y.tableToJSON(b,x),d=e.getBoundingClientRect(),u=d.right-d.left,d=d.bottom-d.top,D=u/(1+v.SPILLOVER_LEFT+v.SPILLOVER_RIGHT),E=d/(1+v.SPILLOVER_TOP+v.SPILLOVER_BOTTOM),c=D*v.SPILLOVER_LEFT,B=E*v.SPILLOVER_TOP;e.setAttribute("viewBox","0 0 "+u+" "+d);C.chart(c,B,D,E,w,x);b.classList.add("fm-hidden");
e.style.opacity=1;p(e,h+n)}});
require.config({paths:{text:"../../bower_components/requirejs-text/text",classList:"../../bower_components/classlist/classList",snap:"../../bower_components/Snap.svg/dist/snap.svg",axis:"../../bower_components/axis/dist/axis","grid-lines":"../../bower_components/grid-lines/dist/grid-lines","scale-utils":"../../bower_components/scale-utilities/dist/scale-utils","number-utils":"../../bower_components/number-utils/dist/number-utils","color-utils":"../../bower_components/color-utils/dist/color","tick-mark":"../../bower_components/tick-mark/dist/tick-mark",
key:"../../bower_components/key/dist/key","scatter-key":"../../bower_components/scatter-key/dist/scatter-key","multi-tier-tooltip":"../../bower_components/multi-tier-tooltip/dist/multi-tier-tooltip",multitext:"../../bower_components/multitext/dist/multitext",tooltip:"../../bower_components/Tooltip/dist/Tooltip",moment:"../../bower_components/moment/moment"},shim:{snap:{exports:"Snap"}}});
require(["render"],function(A){var e=document.querySelectorAll("table.fm-stacked-column-bar");if(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect){var v=document.createElementNS("http://www.w3.org/2000/svg","svg");v.style.width="500px";document.body.appendChild(v);var y=v.getBoundingClientRect();v.parentNode.removeChild(v);if(500===y.width)for(v=0;v<e.length;v++){if(window.factmint&&window.factmint.previewVisualizations||!e[v].hasAttribute("data-fm-rendered")){e[v].setAttribute("data-fm-rendered",
"true");try{A(e[v])}catch(b){console.log("ERROR: chart rendering failed"),b instanceof Error?console.log(b.stack):console.log(b)}}}else console.log("Your browser does not correctly support getBoundingClientRect() for SVG elements: visualizations disabled")}else console.log("SVG not supported: visualizations disabled")});define("main",function(){});
