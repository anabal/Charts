/* Copyright Factmint Ltd, not for distribution without consent; version 1.0.0; includes SnapSVG, https://github.com/adobe-webplatform/Snap.svg/blob/master/LICENSE */
/*
 almond 0.3.0 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 Available via the MIT or new BSD license.
 see: http://github.com/jrburke/almond for details
*/
'use strict';var requirejs,require,define;
(function(z){function d(c,a){var f,b,k,h,e,p,d,r,q,m=a&&a.split("/"),C=y.map,l=C&&C["*"]||{};if(c&&"."===c.charAt(0))if(a){m=m.slice(0,m.length-1);c=c.split("/");e=c.length-1;y.nodeIdCompat&&x.test(c[e])&&(c[e]=c[e].replace(x,""));c=m.concat(c);for(e=0;e<c.length;e+=1)if(f=c[e],"."===f)c.splice(e,1),--e;else if(".."===f)if(1!==e||".."!==c[2]&&".."!==c[0])0<e&&(c.splice(e-1,2),e-=2);else break;c=c.join("/")}else 0===c.indexOf("./")&&(c=c.substring(2));if((m||l)&&C){f=c.split("/");for(e=f.length;0<
e;--e){b=f.slice(0,e).join("/");if(m)for(q=m.length;0<q;--q)if(k=C[m.slice(0,q).join("/")])if(k=k[b]){h=k;p=e;break}if(h)break;!d&&l&&l[b]&&(d=l[b],r=e)}!h&&d&&(h=d,p=r);h&&(f.splice(0,p,h),c=f.join("/"))}return c}function v(c,a){return function(){var f=C.call(arguments,0);"string"!==typeof f[0]&&1===f.length&&f.push(null);return m.apply(z,f.concat([c,a]))}}function w(c){return function(a){return d(a,c)}}function b(c){return function(a){h[c]=a}}function a(c){if(f.call(p,c)){var a=p[c];delete p[c];
r[c]=!0;t.apply(z,a)}if(!f.call(h,c)&&!f.call(r,c))throw Error("No "+c);return h[c]}function n(c){var a,f=c?c.indexOf("!"):-1;-1<f&&(a=c.substring(0,f),c=c.substring(f+1,c.length));return[a,c]}function l(c){return function(){return y&&y.config&&y.config[c]||{}}}var t,m,q,e,h={},p={},y={},r={},f=Object.prototype.hasOwnProperty,C=[].slice,x=/\.js$/;q=function(c,f){var b,e=n(c),k=e[0];c=e[1];k&&(k=d(k,f),b=a(k));k?c=b&&b.normalize?b.normalize(c,w(f)):d(c,f):(c=d(c,f),e=n(c),k=e[0],c=e[1],k&&(b=a(k)));
return{f:k?k+"!"+c:c,n:c,pr:k,p:b}};e={require:function(c){return v(c)},exports:function(c){var a=h[c];return"undefined"!==typeof a?a:h[c]={}},module:function(c){return{id:c,uri:"",exports:h[c],config:l(c)}}};t=function(c,u,d,x){var k,A,y,m,C=[];A=typeof d;var l;x=x||c;if("undefined"===A||"function"===A){u=!u.length&&d.length?["require","exports","module"]:u;for(m=0;m<u.length;m+=1)if(y=q(u[m],x),A=y.f,"require"===A)C[m]=e.require(c);else if("exports"===A)C[m]=e.exports(c),l=!0;else if("module"===
A)k=C[m]=e.module(c);else if(f.call(h,A)||f.call(p,A)||f.call(r,A))C[m]=a(A);else if(y.p)y.p.load(y.n,v(x,!0),b(A),{}),C[m]=h[A];else throw Error(c+" missing "+A);u=d?d.apply(h[c],C):void 0;c&&(k&&k.exports!==z&&k.exports!==h[c]?h[c]=k.exports:u===z&&l||(h[c]=u))}else c&&(h[c]=d)};requirejs=require=m=function(c,f,b,h,k){if("string"===typeof c)return e[c]?e[c](f):a(q(c,f).f);if(!c.splice){y=c;y.deps&&m(y.deps,y.callback);if(!f)return;f.splice?(c=f,f=b,b=null):c=z}f=f||function(){};"function"===typeof b&&
(b=h,h=k);h?t(z,c,f,b):setTimeout(function(){t(z,c,f,b)},4);return m};m.config=function(c){return m(c)};requirejs._defined=h;define=function(c,a,b){a.splice||(b=a,a=[]);f.call(h,c)||f.call(p,c)||(p[c]=[c,a,b])};define.amd={jQuery:!0}})();define("almond",function(){});
(function(z){var d=/[\.\/]/,v=/\s*,\s*/,w=function(a,b){return a-b},b,a,n={n:{}},l=function(){for(var a=0,b=this.length;a<b;a++)if("undefined"!=typeof this[a])return this[a]},t=function(){for(var a=this.length;--a;)if("undefined"!=typeof this[a])return this[a]},m=function(d,e){d=String(d);var h=a,p=Array.prototype.slice.call(arguments,2),y=m.listeners(d),r=0,f,C=[],x={},c=[],u=b;c.firstDefined=l;c.lastDefined=t;b=d;for(var E=a=0,n=y.length;E<n;E++)"zIndex"in y[E]&&(C.push(y[E].zIndex),0>y[E].zIndex&&
(x[y[E].zIndex]=y[E]));for(C.sort(w);0>C[r];)if(f=x[C[r++]],c.push(f.apply(e,p)),a)return a=h,c;for(E=0;E<n;E++)if(f=y[E],"zIndex"in f)if(f.zIndex==C[r]){c.push(f.apply(e,p));if(a)break;do if(r++,(f=x[C[r]])&&c.push(f.apply(e,p)),a)break;while(f)}else x[f.zIndex]=f;else if(c.push(f.apply(e,p)),a)break;a=h;b=u;return c};m._events=n;m.listeners=function(a){a=a.split(d);var b=n,h,p,m,r,f,C,x,c=[b],u=[];m=0;for(r=a.length;m<r;m++){x=[];f=0;for(C=c.length;f<C;f++)for(b=c[f].n,h=[b[a[m]],b["*"]],p=2;p--;)if(b=
h[p])x.push(b),u=u.concat(b.f||[]);c=x}return u};m.on=function(a,b){a=String(a);if("function"!=typeof b)return function(){};for(var h=a.split(v),p=0,m=h.length;p<m;p++)(function(a){a=a.split(d);for(var f=n,h,p=0,c=a.length;p<c;p++)f=f.n,f=f.hasOwnProperty(a[p])&&f[a[p]]||(f[a[p]]={n:{}});f.f=f.f||[];p=0;for(c=f.f.length;p<c;p++)if(f.f[p]==b){h=!0;break}!h&&f.f.push(b)})(h[p]);return function(a){+a==+a&&(b.zIndex=+a)}};m.f=function(a){var b=[].slice.call(arguments,1);return function(){m.apply(null,
[a,null].concat(b).concat([].slice.call(arguments,0)))}};m.stop=function(){a=1};m.nt=function(a){return a?(new RegExp("(?:\\.|\\/|^)"+a+"(?:\\.|\\/|$)")).test(b):b};m.nts=function(){return b.split(d)};m.off=m.unbind=function(a,b){if(a){var h=a.split(v);if(1<h.length)for(var p=0,y=h.length;p<y;p++)m.off(h[p],b);else{for(var h=a.split(d),r,f,C,x,c=[n],p=0,y=h.length;p<y;p++)for(x=0;x<c.length;x+=C.length-2){C=[x,1];r=c[x].n;if("*"!=h[p])r[h[p]]&&C.push(r[h[p]]);else for(f in r)r.hasOwnProperty(f)&&
C.push(r[f]);c.splice.apply(c,C)}p=0;for(y=c.length;p<y;p++)for(r=c[p];r.n;){if(b){if(r.f){x=0;for(h=r.f.length;x<h;x++)if(r.f[x]==b){r.f.splice(x,1);break}!r.f.length&&delete r.f}for(f in r.n)if(r.n.hasOwnProperty(f)&&r.n[f].f){C=r.n[f].f;x=0;for(h=C.length;x<h;x++)if(C[x]==b){C.splice(x,1);break}!C.length&&delete r.n[f].f}}else for(f in delete r.f,r.n)r.n.hasOwnProperty(f)&&r.n[f].f&&delete r.n[f].f;r=r.n}}}else m._events=n={n:{}}};m.once=function(a,b){var h=function(){m.unbind(a,h);return b.apply(this,
arguments)};return m.on(a,h)};m.version="0.4.2";m.toString=function(){return"You are running Eve 0.4.2"};"undefined"!=typeof module&&module.exports?module.exports=m:"function"===typeof define&&define.amd?define("eve",[],function(){return m}):z.eve=m})(this);
(function(z,d){if("function"==typeof define&&define.amd)define("snap",["eve"],function(v){return d(z,v)});else if("undefined"!=typeof exports){var v=require("eve");module.exports=d(z,v)}else d(z,z.eve)})(window||this,function(z,d){var v=function(b){var a={},d=z.requestAnimationFrame||z.webkitRequestAnimationFrame||z.mozRequestAnimationFrame||z.oRequestAnimationFrame||z.msRequestAnimationFrame||function(c){setTimeout(c,16)},l=Array.isArray||function(c){return c instanceof Array||"[object Array]"==
Object.prototype.toString.call(c)},t=0,m="M"+(+new Date).toString(36),q=function(c){if(null==c)return this.s;var a=this.s-c;this.b+=this.dur*a;this.B+=this.dur*a;this.s=c},e=function(c){if(null==c)return this.spd;this.spd=c},h=function(c){if(null==c)return this.dur;this.s=this.s*c/this.dur;this.dur=c},p=function(){delete a[this.id];this.update();b("mina.stop."+this.id,this)},y=function(){this.pdif||(delete a[this.id],this.update(),this.pdif=this.get()-this.b)},r=function(){this.pdif&&(this.b=this.get()-
this.pdif,delete this.pdif,a[this.id]=this)},f=function(){var c;if(l(this.start)){c=[];for(var a=0,b=this.start.length;a<b;a++)c[a]=+this.start[a]+(this.end[a]-this.start[a])*this.easing(this.s)}else c=+this.start+(this.end-this.start)*this.easing(this.s);this.set(c)},C=function(){var c=0,f;for(f in a)if(a.hasOwnProperty(f)){var h=a[f],e=h.get();c++;h.s=(e-h.b)/(h.dur/h.spd);1<=h.s&&(delete a[f],h.s=1,c--,function(k){setTimeout(function(){b("mina.finish."+k.id,k)})}(h));h.update()}c&&d(C)},x=function(c,
b,l,D,k,A,H){c={id:m+(t++).toString(36),start:c,end:b,b:l,s:0,dur:D-l,spd:1,get:k,set:A,easing:H||x.linear,status:q,speed:e,duration:h,stop:p,pause:y,resume:r,update:f};a[c.id]=c;b=0;for(var U in a)if(a.hasOwnProperty(U)&&(b++,2==b))break;1==b&&d(C);return c};x.time=Date.now||function(){return+new Date};x.getById=function(c){return a[c]||null};x.linear=function(c){return c};x.easeout=function(c){return Math.pow(c,1.7)};x.easein=function(c){return Math.pow(c,.48)};x.easeinout=function(c){if(1==c)return 1;
if(0==c)return 0;var a=.48-c/1.04,b=Math.sqrt(.1734+a*a);c=b-a;c=Math.pow(Math.abs(c),1/3)*(0>c?-1:1);a=-b-a;a=Math.pow(Math.abs(a),1/3)*(0>a?-1:1);c=c+a+.5;return 3*(1-c)*c*c+c*c*c};x.backin=function(a){return 1==a?1:a*a*(2.70158*a-1.70158)};x.backout=function(a){if(0==a)return 0;--a;return a*a*(2.70158*a+1.70158)+1};x.elastic=function(a){return a==!!a?a:Math.pow(2,-10*a)*Math.sin(2*(a-.075)*Math.PI/.3)+1};x.bounce=function(a){a<1/2.75?a*=7.5625*a:a<2/2.75?(a-=1.5/2.75,a=7.5625*a*a+.75):a<2.5/2.75?
(a-=2.25/2.75,a=7.5625*a*a+.9375):(a-=2.625/2.75,a=7.5625*a*a+.984375);return a};return z.mina=x}("undefined"==typeof d?function(){}:d),w=function(b){function a(B,k){if(B){if(B.nodeType)return x(B);if(l(B,"array")&&a.set)return a.set.apply(a,B);if(B instanceof y)return B;if(null==k)return B=u.doc.querySelector(String(B)),x(B)}return new C(null==B?"100%":B,null==k?"100%":k)}function n(B,a){if(a){"#text"==B&&(B=u.doc.createTextNode(a.text||a["#text"]||""));"#comment"==B&&(B=u.doc.createComment(a.text||
a["#text"]||""));"string"==typeof B&&(B=n(B));if("string"==typeof a)return 1==B.nodeType?"xlink:"==a.substring(0,6)?B.getAttributeNS(X,a.substring(6)):"xml:"==a.substring(0,4)?B.getAttributeNS(S,a.substring(4)):B.getAttribute(a):"text"==a?B.nodeValue:null;if(1==B.nodeType)for(var k in a){if(a[E](k)){var c=D(a[k]);c?"xlink:"==k.substring(0,6)?B.setAttributeNS(X,k.substring(6),c):"xml:"==k.substring(0,4)?B.setAttributeNS(S,k.substring(4),c):B.setAttribute(k,c):B.removeAttribute(k)}}else"text"in a&&
(B.nodeValue=a.text)}else B=u.doc.createElementNS(S,B);return B}function l(B,a){a=D.prototype.toLowerCase.call(a);return"finite"==a?isFinite(B):"array"==a&&(B instanceof Array||Array.isArray&&Array.isArray(B))?!0:"null"==a&&null===B||a==typeof B&&null!==B||"object"==a&&B===Object(B)||z.call(B).slice(8,-1).toLowerCase()==a}function t(B){if("function"==typeof B||Object(B)!==B)return B;var a=new B.constructor,k;for(k in B)B[E](k)&&(a[k]=t(B[k]));return a}function m(B,a,k){function c(){var b=Array.prototype.slice.call(arguments,
0),f=b.join("\u2400"),h=c.cache=c.cache||{},e=c.count=c.count||[];if(h[E](f)){a:for(var b=e,e=f,A=0,p=b.length;A<p;A++)if(b[A]===e){b.push(b.splice(A,1)[0]);break a}return k?k(h[f]):h[f]}1E3<=e.length&&delete h[e.shift()];e.push(f);h[f]=B.apply(a,b);return k?k(h[f]):h[f]}return c}function q(B,a,k,c,b,f){return null==b?(B-=k,a-=c,B||a?(180*H.atan2(-a,-B)/w+540)%360:0):q(B,a,b,f)-q(k,c,b,f)}function e(B){return B%360*w/180}function h(B){return B.node.ownerSVGElement&&x(B.node.ownerSVGElement)||a.select("svg")}
function p(B){l(B,"array")||(B=Array.prototype.slice.call(arguments,0));for(var a=0,k=0,c=this.node;this[a];)delete this[a++];for(a=0;a<B.length;a++)"set"==B[a].type?B[a].forEach(function(B){c.appendChild(B.node)}):c.appendChild(B[a].node);for(var b=c.childNodes,a=0;a<b.length;a++)this[k++]=x(b[a]);return this}function y(B){if(B.snap in N)return N[B.snap];var a;try{a=B.ownerSVGElement}catch(k){}this.node=B;a&&(this.paper=new C(a));this.type=B.tagName||B.nodeName;a=this.id=T(this);this.anims={};this._=
{transform:[]};B.snap=a;N[a]=this;"g"==this.type&&(this.add=p);if(this.type in{g:1,mask:1,pattern:1,symbol:1})for(var c in C.prototype)C.prototype[E](c)&&(this[c]=C.prototype[c])}function r(a){this.node=a}function f(a,k){var c=n(a);k.appendChild(c);return x(c)}function C(a,k){var c,b,h,e=C.prototype;if(a&&"svg"==a.tagName){if(a.snap in N)return N[a.snap];var A=a.ownerDocument;c=new y(a);b=a.getElementsByTagName("desc")[0];h=a.getElementsByTagName("defs")[0];b||(b=n("desc"),b.appendChild(A.createTextNode("Created with Snap")),
c.node.appendChild(b));h||(h=n("defs"),c.node.appendChild(h));c.defs=h;for(var p in e)e[E](p)&&(c[p]=e[p]);c.paper=c.root=c}else c=f("svg",u.doc.body),n(c.node,{height:k,version:1.1,width:a,xmlns:S});return c}function x(a){return!a||a instanceof y||a instanceof r?a:a.tagName&&"svg"==a.tagName.toLowerCase()?new C(a):a.tagName&&"object"==a.tagName.toLowerCase()&&"image/svg+xml"==a.type?new C(a.contentDocument.getElementsByTagName("svg")[0]):new y(a)}function c(a,k){for(var b=0,f=a.length;b<f;b++){var h=
{type:a[b].type,attr:a[b].attr()},e=a[b].children();k.push(h);e.length&&c(e,h.childNodes=[])}}a.version="0.4.0";a.toString=function(){return"Snap v"+this.version};a._={};var u={win:b.window,doc:b.window.document};a._.glob=u;var E="hasOwnProperty",D=String,k=parseFloat,A=parseInt,H=Math,U=H.max,I=H.min,v=H.abs,w=H.PI,z=Object.prototype.toString,O=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?%?)\s*\))\s*$/i;
a._.separator=/[,\s]+/;var G=/[\s]*,[\s]*/,M={hs:1,rg:1},F=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/ig,J=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\s]*,?[\s]*)+)/ig,Q=/(-?\d*\.?\d*(?:e[\-+]?\\d+)?)[\s]*,?[\s]*/ig,P=0,Y="S"+(+new Date).toString(36),T=function(a){return(a&&a.type?a.type:"")+Y+(P++).toString(36)},X="http://www.w3.org/1999/xlink",S="http://www.w3.org/2000/svg",N={};a.url=function(a){return"url('#"+a+"')"};a._.$=n;a._.id=T;a.format=function(){var a=/\{([^\}]+)\}/g,k=
/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,c=function(a,B,c){var b=c;B.replace(k,function(a,B,k,c,f){B=B||c;b&&(B in b&&(b=b[B]),"function"==typeof b&&f&&(b=b()))});return b=(null==b||b==c?a:b)+""};return function(k,b){return D(k).replace(a,function(a,B){return c(a,B,b)})}}();a._.clone=t;a._.cacher=m;a.rad=e;a.deg=function(a){return 180*a/w%360};a.sin=function(B){return H.sin(a.rad(B))};a.tan=function(B){return H.tan(a.rad(B))};a.cos=function(B){return H.cos(a.rad(B))};a.asin=function(B){return a.deg(H.asin(B))};
a.acos=function(B){return a.deg(H.acos(B))};a.atan=function(B){return a.deg(H.atan(B))};a.atan2=function(B){return a.deg(H.atan2(B))};a.angle=q;a.len=function(B,k,c,b){return Math.sqrt(a.len2(B,k,c,b))};a.len2=function(a,k,c,b){return(a-c)*(a-c)+(k-b)*(k-b)};a.closestPoint=function(a,k,c){function b(a){var B=a.x-k;a=a.y-c;return B*B+a*a}a=a.node;for(var f=a.getTotalLength(),h=f/a.pathSegList.numberOfItems*.125,e,A,p=Infinity,d,K=0,u;K<=f;K+=h)(u=b(d=a.getPointAtLength(K)))<p&&(e=d,A=K,p=u);for(h*=
.5;.5<h;){var m,r,x,y,C,l;0<=(x=A-h)&&(C=b(m=a.getPointAtLength(x)))<p?(e=m,A=x,p=C):(y=A+h)<=f&&(l=b(r=a.getPointAtLength(y)))<p?(e=r,A=y,p=l):h*=.5}return e={x:e.x,y:e.y,length:A,distance:Math.sqrt(p)}};a.is=l;a.snapTo=function(a,k,c){c=l(c,"finite")?c:10;if(l(a,"array"))for(var b=a.length;b--;){if(v(a[b]-k)<=c)return a[b]}else{a=+a;b=k%a;if(b<c)return k-b;if(b>a-c)return k-b+a}return k};a.getRGB=m(function(B){if(!B||(B=D(B)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ha};
if("none"==B)return{r:-1,g:-1,b:-1,hex:"none",toString:ha};!M[E](B.toLowerCase().substring(0,2))&&"#"!=B.charAt()&&(B=K(B));if(!B)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ha};var c,b,f,h,e;if(B=B.match(O)){B[2]&&(f=A(B[2].substring(5),16),b=A(B[2].substring(3,5),16),c=A(B[2].substring(1,3),16));B[3]&&(f=A((e=B[3].charAt(3))+e,16),b=A((e=B[3].charAt(2))+e,16),c=A((e=B[3].charAt(1))+e,16));B[4]&&(e=B[4].split(G),c=k(e[0]),"%"==e[0].slice(-1)&&(c*=2.55),b=k(e[1]),"%"==e[1].slice(-1)&&(b*=2.55),
f=k(e[2]),"%"==e[2].slice(-1)&&(f*=2.55),"rgba"==B[1].toLowerCase().slice(0,4)&&(h=k(e[3])),e[3]&&"%"==e[3].slice(-1)&&(h/=100));if(B[5])return e=B[5].split(G),c=k(e[0]),"%"==e[0].slice(-1)&&(c/=100),b=k(e[1]),"%"==e[1].slice(-1)&&(b/=100),f=k(e[2]),"%"==e[2].slice(-1)&&(f/=100),"deg"!=e[0].slice(-3)&&"\u00b0"!=e[0].slice(-1)||(c/=360),"hsba"==B[1].toLowerCase().slice(0,4)&&(h=k(e[3])),e[3]&&"%"==e[3].slice(-1)&&(h/=100),a.hsb2rgb(c,b,f,h);if(B[6])return e=B[6].split(G),c=k(e[0]),"%"==e[0].slice(-1)&&
(c/=100),b=k(e[1]),"%"==e[1].slice(-1)&&(b/=100),f=k(e[2]),"%"==e[2].slice(-1)&&(f/=100),"deg"!=e[0].slice(-3)&&"\u00b0"!=e[0].slice(-1)||(c/=360),"hsla"==B[1].toLowerCase().slice(0,4)&&(h=k(e[3])),e[3]&&"%"==e[3].slice(-1)&&(h/=100),a.hsl2rgb(c,b,f,h);c=I(H.round(c),255);b=I(H.round(b),255);f=I(H.round(f),255);h=I(U(h,0),1);B={r:c,g:b,b:f,toString:ha};B.hex="#"+(16777216|f|b<<8|c<<16).toString(16).slice(1);B.opacity=l(h,"finite")?h:1;return B}return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ha}},
a);a.hsb=m(function(k,c,b){return a.hsb2rgb(k,c,b).hex});a.hsl=m(function(k,c,b){return a.hsl2rgb(k,c,b).hex});a.rgb=m(function(a,k,c,b){if(l(b,"finite")){var f=H.round;return"rgba("+[f(a),f(k),f(c),+b.toFixed(2)]+")"}return"#"+(16777216|c|k<<8|a<<16).toString(16).slice(1)});var K=function(a){var k=u.doc.getElementsByTagName("head")[0]||u.doc.getElementsByTagName("svg")[0];K=m(function(a){if("red"==a.toLowerCase())return"rgb(255, 0, 0)";k.style.color="rgb(255, 0, 0)";k.style.color=a;a=u.doc.defaultView.getComputedStyle(k,
"").getPropertyValue("color");return"rgb(255, 0, 0)"==a?null:a});return K(a)},na=function(){return"hsb("+[this.h,this.s,this.b]+")"},oa=function(){return"hsl("+[this.h,this.s,this.l]+")"},ha=function(){return 1==this.opacity||null==this.opacity?this.hex:"rgba("+[this.r,this.g,this.b,this.opacity]+")"},ka=function(k,c,b){null==c&&l(k,"object")&&"r"in k&&"g"in k&&"b"in k&&(b=k.b,c=k.g,k=k.r);null==c&&l(k,string)&&(b=a.getRGB(k),k=b.r,c=b.g,b=b.b);if(1<k||1<c||1<b)k/=255,c/=255,b/=255;return[k,c,b]},
la=function(k,c,b,f){k=H.round(255*k);c=H.round(255*c);b=H.round(255*b);k={r:k,g:c,b:b,opacity:l(f,"finite")?f:1,hex:a.rgb(k,c,b),toString:ha};l(f,"finite")&&(k.opacity=f);return k};a.color=function(k){var c;l(k,"object")&&"h"in k&&"s"in k&&"b"in k?(c=a.hsb2rgb(k),k.r=c.r,k.g=c.g,k.b=c.b,k.opacity=1,k.hex=c.hex):l(k,"object")&&"h"in k&&"s"in k&&"l"in k?(c=a.hsl2rgb(k),k.r=c.r,k.g=c.g,k.b=c.b,k.opacity=1,k.hex=c.hex):(l(k,"string")&&(k=a.getRGB(k)),l(k,"object")&&"r"in k&&"g"in k&&"b"in k&&!("error"in
k)?(c=a.rgb2hsl(k),k.h=c.h,k.s=c.s,k.l=c.l,c=a.rgb2hsb(k),k.v=c.b):(k={hex:"none"},k.r=k.g=k.b=k.h=k.s=k.v=k.l=-1,k.error=1));k.toString=ha;return k};a.hsb2rgb=function(a,k,c,b){l(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(c=a.b,k=a.s,b=a.o,a=a.h);var f,h,e;a=360*a%360/60;e=c*k;k=e*(1-v(a%2-1));c=f=h=c-e;a=~~a;c+=[e,k,0,0,k,e][a];f+=[k,e,e,k,0,0][a];h+=[0,0,k,e,e,k][a];return la(c,f,h,b)};a.hsl2rgb=function(a,k,c,b){l(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(c=a.l,k=a.s,a=a.h);if(1<a||1<k||1<c)a/=360,
k/=100,c/=100;var f,h,e;a=360*a%360/60;e=2*k*(.5>c?c:1-c);k=e*(1-v(a%2-1));c=f=h=c-e/2;a=~~a;c+=[e,k,0,0,k,e][a];f+=[k,e,e,k,0,0][a];h+=[0,0,k,e,e,k][a];return la(c,f,h,b)};a.rgb2hsb=function(a,k,c){c=ka(a,k,c);a=c[0];k=c[1];c=c[2];var b,f;b=U(a,k,c);f=b-I(a,k,c);a=((0==f?null:b==a?(k-c)/f:b==k?(c-a)/f+2:(a-k)/f+4)+360)%6*60/360;return{h:a,s:0==f?0:f/b,b:b,toString:na}};a.rgb2hsl=function(a,k,c){c=ka(a,k,c);a=c[0];k=c[1];c=c[2];var b,f,h;b=U(a,k,c);f=I(a,k,c);h=b-f;a=((0==h?null:b==a?(k-c)/h:b==k?
(c-a)/h+2:(a-k)/h+4)+360)%6*60/360;b=(b+f)/2;return{h:a,s:0==h?0:.5>b?h/(2*b):h/(2-2*b),l:b,toString:oa}};a.parsePathString=function(k){if(!k)return null;var c=a.path(k);if(c.arr)return a.path.clone(c.arr);var b={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},f=[];l(k,"array")&&l(k[0],"array")&&(f=a.path.clone(k));f.length||D(k).replace(F,function(a,k,c){var h=[];a=k.toLowerCase();c.replace(Q,function(a,k){k&&h.push(+k)});"m"==a&&2<h.length&&(f.push([k].concat(h.splice(0,2))),a="l",k="m"==k?
"l":"L");"o"==a&&1==h.length&&f.push([k,h[0]]);if("r"==a)f.push([k].concat(h));else for(;h.length>=b[a]&&(f.push([k].concat(h.splice(0,b[a]))),b[a]););});f.toString=a.path.toString;c.arr=a.path.clone(f);return f};var pa=a.parseTransformString=function(k){if(!k)return null;var c=[];l(k,"array")&&l(k[0],"array")&&(c=a.path.clone(k));c.length||D(k).replace(J,function(a,k,b){var f=[];k.toLowerCase();b.replace(Q,function(a,k){k&&f.push(+k)});c.push([k].concat(f))});c.toString=a.path.toString;return c};
a._.svgTransform2string=function(a){var k=[];a=a.replace(/(?:^|\s)(\w+)\(([^)]+)\)/g,function(a,c,b){b=b.split(/\s*,\s*|\s+/);"rotate"==c&&1==b.length&&b.push(0,0);"scale"==c&&(2<b.length?b=b.slice(0,2):2==b.length&&b.push(0,0),1==b.length&&b.push(b[0],0,0));"skewX"==c?k.push(["m",1,0,H.tan(e(b[0])),1,0,0]):"skewY"==c?k.push(["m",1,H.tan(e(b[0])),0,1,0,0]):k.push([c.charAt(0)].concat(b));return a});return k};a._.rgTransform=/^[a-z][\s]*-?\.?\d/i;a._.transform2matrix=function(k,c){var b=pa(k),f=new a.Matrix;
if(b)for(var h=0,e=b.length;h<e;h++){var A=b[h],p=A.length,d=D(A[0]).toLowerCase(),K=A[0]!=d,u=K?f.invert():0,m;"t"==d&&2==p?f.translate(A[1],0):"t"==d&&3==p?K?(p=u.x(0,0),d=u.y(0,0),K=u.x(A[1],A[2]),u=u.y(A[1],A[2]),f.translate(K-p,u-d)):f.translate(A[1],A[2]):"r"==d?2==p?(m=m||c,f.rotate(A[1],m.x+m.width/2,m.y+m.height/2)):4==p&&(K?(K=u.x(A[2],A[3]),u=u.y(A[2],A[3]),f.rotate(A[1],K,u)):f.rotate(A[1],A[2],A[3])):"s"==d?2==p||3==p?(m=m||c,f.scale(A[1],A[p-1],m.x+m.width/2,m.y+m.height/2)):4==p?K?
(K=u.x(A[2],A[3]),u=u.y(A[2],A[3]),f.scale(A[1],A[1],K,u)):f.scale(A[1],A[1],A[2],A[3]):5==p&&(K?(K=u.x(A[3],A[4]),u=u.y(A[3],A[4]),f.scale(A[1],A[2],K,u)):f.scale(A[1],A[2],A[3],A[4])):"m"==d&&7==p&&f.add(A[1],A[2],A[3],A[4],A[5],A[6])}return f};a._unit2px=function(a,k,c){function b(a){if(null==a)return"";if(a==+a)return a;n(d,{width:a});try{return d.getBBox().width}catch(k){return 0}}function f(a){if(null==a)return"";if(a==+a)return a;n(d,{height:a});try{return d.getBBox().height}catch(k){return 0}}
function e(b,f){null==k?p[b]=f(a.attr(b)||0):b==k&&(p=f(null==c?a.attr(b)||0:c))}var A=h(a).node,p={},d=A.querySelector(".svg---mgr");d||(d=n("rect"),n(d,{x:-9E9,y:-9E9,width:10,height:10,"class":"svg---mgr",fill:"none"}),A.appendChild(d));switch(a.type){case "rect":e("rx",b),e("ry",f);case "image":e("width",b),e("height",f);case "text":e("x",b);e("y",f);break;case "circle":e("cx",b);e("cy",f);e("r",b);break;case "ellipse":e("cx",b);e("cy",f);e("rx",b);e("ry",f);break;case "line":e("x1",b);e("x2",
b);e("y1",f);e("y2",f);break;case "marker":e("refX",b);e("markerWidth",b);e("refY",f);e("markerHeight",f);break;case "radialGradient":e("fx",b);e("fy",f);break;case "tspan":e("dx",b);e("dy",f);break;default:e(k,b)}A.removeChild(d);return p};a._.getSomeDefs=function(k){k=k.node.ownerSVGElement&&x(k.node.ownerSVGElement)||k.node.parentNode&&x(k.node.parentNode)||a.select("svg")||a(0,0);var c=k.select("defs"),c=null==c?!1:c.node;c||(c=f("defs",k.node).node);return c};a._.getSomeSVG=h;a.select=function(a){a=
D(a).replace(/([^\\]):/g,"$1\\:");return x(u.doc.querySelector(a))};a.selectAll=function(k){k=u.doc.querySelectorAll(k);for(var c=(a.set||Array)(),b=0;b<k.length;b++)c.push(x(k[b]));return c};setInterval(function(){for(var a in N)if(N[E](a)){var k=N[a],c=k.node;("svg"!=k.type&&!c.ownerSVGElement||"svg"==k.type&&(!c.parentNode||"ownerSVGElement"in c.parentNode&&!c.ownerSVGElement))&&delete N[a]}},1E4);y.prototype.attr=function(a,k){var c=this.node;if(!a){if(1!=c.nodeType)return{text:c.nodeValue};for(var b=
c.attributes,c={},f=0,e=b.length;f<e;f++)c[b[f].nodeName]=b[f].nodeValue;return c}if(l(a,"string"))if(1<arguments.length)c={},c[a]=k,a=c;else return d("snap.util.getattr."+a,this).firstDefined();for(b in a)a[E](b)&&d("snap.util.attr."+b,this,a[b]);return this};a.parse=function(a){var k=u.doc.createDocumentFragment(),c=!0,b=u.doc.createElement("div");a=D(a);a.match(/^\s*<\s*svg(?:\s|>)/)||(a="<svg>"+a+"</svg>",c=!1);b.innerHTML=a;if(a=b.getElementsByTagName("svg")[0])if(c)k=a;else for(;a.firstChild;)k.appendChild(a.firstChild);
return new r(k)};a.fragment=function(){for(var k=Array.prototype.slice.call(arguments,0),c=u.doc.createDocumentFragment(),b=0,f=k.length;b<f;b++){var e=k[b];e.node&&e.node.nodeType&&c.appendChild(e.node);e.nodeType&&c.appendChild(e);"string"==typeof e&&c.appendChild(a.parse(e).node)}return new r(c)};a._.make=f;a._.wrap=x;C.prototype.el=function(a,k){var c=f(a,this.node);k&&c.attr(k);return c};y.prototype.children=function(){for(var k=[],c=this.node.childNodes,b=0,f=c.length;b<f;b++)k[b]=a(c[b]);return k};
y.prototype.toJSON=function(){var a=[];c([this],a);return a[0]};d.on("snap.util.getattr",function(){var a=d.nt(),a=a.substring(a.lastIndexOf(".")+1),k=a.replace(/[A-Z]/g,function(a){return"-"+a.toLowerCase()});return ma[E](k)?this.node.ownerDocument.defaultView.getComputedStyle(this.node,null).getPropertyValue(k):n(this.node,a)});var ma={"alignment-baseline":0,"baseline-shift":0,clip:0,"clip-path":0,"clip-rule":0,color:0,"color-interpolation":0,"color-interpolation-filters":0,"color-profile":0,"color-rendering":0,
cursor:0,direction:0,display:0,"dominant-baseline":0,"enable-background":0,fill:0,"fill-opacity":0,"fill-rule":0,filter:0,"flood-color":0,"flood-opacity":0,font:0,"font-family":0,"font-size":0,"font-size-adjust":0,"font-stretch":0,"font-style":0,"font-variant":0,"font-weight":0,"glyph-orientation-horizontal":0,"glyph-orientation-vertical":0,"image-rendering":0,kerning:0,"letter-spacing":0,"lighting-color":0,marker:0,"marker-end":0,"marker-mid":0,"marker-start":0,mask:0,opacity:0,overflow:0,"pointer-events":0,
"shape-rendering":0,"stop-color":0,"stop-opacity":0,stroke:0,"stroke-dasharray":0,"stroke-dashoffset":0,"stroke-linecap":0,"stroke-linejoin":0,"stroke-miterlimit":0,"stroke-opacity":0,"stroke-width":0,"text-anchor":0,"text-decoration":0,"text-rendering":0,"unicode-bidi":0,visibility:0,"word-spacing":0,"writing-mode":0};d.on("snap.util.attr",function(a){var k=d.nt(),c={},k=k.substring(k.lastIndexOf(".")+1);c[k]=a;var b=k.replace(/-(\w)/gi,function(a,k){return k.toUpperCase()}),k=k.replace(/[A-Z]/g,
function(a){return"-"+a.toLowerCase()});ma[E](k)?this.node.style[b]=null==a?"":a:n(this.node,c)});a.ajax=function(a,k,c,b){var f=new XMLHttpRequest,e=T();if(f){if(l(k,"function"))b=c,c=k,k=null;else if(l(k,"object")){var h=[],A;for(A in k)k.hasOwnProperty(A)&&h.push(encodeURIComponent(A)+"="+encodeURIComponent(k[A]));k=h.join("&")}f.open(k?"POST":"GET",a,!0);k&&(f.setRequestHeader("X-Requested-With","XMLHttpRequest"),f.setRequestHeader("Content-type","application/x-www-form-urlencoded"));c&&(d.once("snap.ajax."+
e+".0",c),d.once("snap.ajax."+e+".200",c),d.once("snap.ajax."+e+".304",c));f.onreadystatechange=function(){4==f.readyState&&d("snap.ajax."+e+"."+f.status,b,f)};if(4==f.readyState)return f;f.send(k);return f}};a.load=function(k,c,b){a.ajax(k,function(k){k=a.parse(k.responseText);b?c.call(b,k):c(k)})};a.getElementByPoint=function(a,k){var c,b,f=u.doc.elementFromPoint(a,k);if(u.win.opera&&"svg"==f.tagName){c=f;b=c.getBoundingClientRect();c=c.ownerDocument;var e=c.body,h=c.documentElement;c=b.top+(g.win.pageYOffset||
h.scrollTop||e.scrollTop)-(h.clientTop||e.clientTop||0);b=b.left+(g.win.pageXOffset||h.scrollLeft||e.scrollLeft)-(h.clientLeft||e.clientLeft||0);e=f.createSVGRect();e.x=a-b;e.y=k-c;e.width=e.height=1;c=f.getIntersectionList(e,null);c.length&&(f=c[c.length-1])}return f?x(f):null};a.plugin=function(k){k(a,y,C,u,r)};return u.win.Snap=a}(z||this);w.plugin(function(b,a,n,l,t){function m(a,c){if(null==c){var f=!0;c="linearGradient"==a.type||"radialGradient"==a.type?a.node.getAttribute("gradientTransform"):
"pattern"==a.type?a.node.getAttribute("patternTransform"):a.node.getAttribute("transform");if(!c)return new b.Matrix;c=b._.svgTransform2string(c)}else c=b._.rgTransform.test(c)?y(c).replace(/\.{3}|\u2026/g,a._.transform||""):b._.svgTransform2string(c),p(c,"array")&&(c=b.path?b.path.toString.call(c):y(c)),a._.transform=c;var e=b._.transform2matrix(c,a.getBBox(1));if(f)return e;a.matrix=e}function q(a){function c(a,k){var b=f(a.node,k);(b=(b=b&&b.match(p))&&b[2])&&"#"==b.charAt()&&(b=b.substring(1))&&
(d[b]=(d[b]||[]).concat(function(c){var b={};b[k]=URL(c);f(a.node,b)}))}function b(a){var k=f(a.node,"xlink:href");k&&"#"==k.charAt()&&(k=k.substring(1))&&(d[k]=(d[k]||[]).concat(function(k){a.attr("xlink:href","#"+k)}))}var e=a.selectAll("*"),h,p=/^\s*url\(("|'|)(.*)\1\)\s*$/;a=[];for(var d={},u=0,m=e.length;u<m;u++){h=e[u];c(h,"fill");c(h,"stroke");c(h,"filter");c(h,"mask");c(h,"clip-path");b(h);var r=f(h.node,"id");r&&(f(h.node,{id:h.id}),a.push({old:r,id:h.id}))}u=0;for(m=a.length;u<m;u++)if(e=
d[a[u].old])for(h=0,r=e.length;h<r;h++)e[h](a[u].id)}function e(a,c,b){return function(f){f=f.slice(a,c);1==f.length&&(f=f[0]);return b?b(f):f}}function h(a){return function(){var b=a?"<"+this.type:"",f=this.node.attributes,e=this.node.childNodes;if(a)for(var h=0,p=f.length;h<p;h++)b+=" "+f[h].name+'="'+f[h].value.replace(/"/g,'\\"')+'"';if(e.length){a&&(b+=">");h=0;for(p=e.length;h<p;h++)3==e[h].nodeType?b+=e[h].nodeValue:1==e[h].nodeType&&(b+=c(e[h]).toString());a&&(b+="</"+this.type+">")}else a&&
(b+="/>");return b}}a=a.prototype;var p=b.is,y=String,r=b._unit2px,f=b._.$,C=b._.make,x=b._.getSomeDefs,c=b._.wrap;a.getBBox=function(a){if(!b.Matrix||!b.path)return this.node.getBBox();var c=this,f=new b.Matrix;if(c.removed)return b._.box();for(;"use"==c.type;)if(a||(f=f.add(c.transform().localMatrix.translate(c.attr("x")||0,c.attr("y")||0))),c.original)c=c.original;else var e=c.attr("xlink:href"),c=c.original=c.node.ownerDocument.getElementById(e.substring(e.indexOf("#")+1));var e=c._,h=b.path.get[c.type]||
b.path.get.deflt;try{if(a)return e.bboxwt=h?b.path.getBBox(c.realPath=h(c)):b._.box(c.node.getBBox()),b._.box(e.bboxwt);c.realPath=h(c);c.matrix=c.transform().localMatrix;e.bbox=b.path.getBBox(b.path.map(c.realPath,f.add(c.matrix)));return b._.box(e.bbox)}catch(p){return b._.box()}};var u=function(){return this.string};a.transform=function(a){var c=this._;if(null==a){var e=this;a=new b.Matrix(this.node.getCTM());for(var h=m(this),p=[h],d=new b.Matrix,r=h.toTransformString(),c=y(h)==y(this.matrix)?
y(c.transform):r;"svg"!=e.type&&(e=e.parent());)p.push(m(e));for(e=p.length;e--;)d.add(p[e]);return{string:c,globalMatrix:a,totalMatrix:d,localMatrix:h,diffMatrix:a.clone().add(h.invert()),global:a.toTransformString(),total:d.toTransformString(),local:r,toString:u}}a instanceof b.Matrix?(this.matrix=a,this._.transform=a.toTransformString()):m(this,a);this.node&&("linearGradient"==this.type||"radialGradient"==this.type?f(this.node,{gradientTransform:this.matrix}):"pattern"==this.type?f(this.node,{patternTransform:this.matrix}):
f(this.node,{transform:this.matrix}));return this};a.parent=function(){return c(this.node.parentNode)};a.append=a.add=function(a){if(a){if("set"==a.type){var b=this;a.forEach(function(a){b.add(a)});return this}a=c(a);this.node.appendChild(a.node);a.paper=this.paper}return this};a.appendTo=function(a){a&&(a=c(a),a.append(this));return this};a.prepend=function(a){if(a){if("set"==a.type){var b=this,f;a.forEach(function(a){f?f.after(a):b.prepend(a);f=a});return this}a=c(a);var e=a.parent();this.node.insertBefore(a.node,
this.node.firstChild);this.add&&this.add();a.paper=this.paper;this.parent()&&this.parent().add();e&&e.add()}return this};a.prependTo=function(a){a=c(a);a.prepend(this);return this};a.before=function(a){if("set"==a.type){var b=this;a.forEach(function(a){var c=a.parent();b.node.parentNode.insertBefore(a.node,b.node);c&&c.add()});this.parent().add();return this}a=c(a);var f=a.parent();this.node.parentNode.insertBefore(a.node,this.node);this.parent()&&this.parent().add();f&&f.add();a.paper=this.paper;
return this};a.after=function(a){a=c(a);var b=a.parent();this.node.nextSibling?this.node.parentNode.insertBefore(a.node,this.node.nextSibling):this.node.parentNode.appendChild(a.node);this.parent()&&this.parent().add();b&&b.add();a.paper=this.paper;return this};a.insertBefore=function(a){a=c(a);var b=this.parent();a.node.parentNode.insertBefore(this.node,a.node);this.paper=a.paper;b&&b.add();a.parent()&&a.parent().add();return this};a.insertAfter=function(a){a=c(a);var b=this.parent();a.node.parentNode.insertBefore(this.node,
a.node.nextSibling);this.paper=a.paper;b&&b.add();a.parent()&&a.parent().add();return this};a.remove=function(){var a=this.parent();this.node.parentNode&&this.node.parentNode.removeChild(this.node);delete this.paper;this.removed=!0;a&&a.add();return this};a.select=function(a){return c(this.node.querySelector(a))};a.selectAll=function(a){a=this.node.querySelectorAll(a);for(var f=(b.set||Array)(),e=0;e<a.length;e++)f.push(c(a[e]));return f};a.asPX=function(a,c){null==c&&(c=this.attr(a));return+r(this,
a,c)};a.use=function(){var a,c=this.node.id;c||(c=this.id,f(this.node,{id:c}));a="linearGradient"==this.type||"radialGradient"==this.type||"pattern"==this.type?C(this.type,this.node.parentNode):C("use",this.node.parentNode);f(a.node,{"xlink:href":"#"+c});a.original=this;return a};a.clone=function(){var a=c(this.node.cloneNode(!0));f(a.node,"id")&&f(a.node,{id:a.id});q(a);a.insertAfter(this);return a};a.toDefs=function(){x(this).appendChild(this.node);return this};a.pattern=a.toPattern=function(a,
c,b,e){var h=C("pattern",x(this));null==a&&(a=this.getBBox());p(a,"object")&&"x"in a&&(c=a.y,b=a.width,e=a.height,a=a.x);f(h.node,{x:a,y:c,width:b,height:e,patternUnits:"userSpaceOnUse",id:h.id,viewBox:[a,c,b,e].join(" ")});h.node.appendChild(this.node);return h};a.marker=function(a,c,b,e,h,d){var u=C("marker",x(this));null==a&&(a=this.getBBox());p(a,"object")&&"x"in a&&(c=a.y,b=a.width,e=a.height,h=a.refX||a.cx,d=a.refY||a.cy,a=a.x);f(u.node,{viewBox:[a,c,b,e].join(" "),markerWidth:b,markerHeight:e,
orient:"auto",refX:h||0,refY:d||0,id:u.id});u.node.appendChild(this.node);return u};var E=function(a,c,b,f){"function"!=typeof b||b.length||(f=b,b=v.linear);this.attr=a;this.dur=c;b&&(this.easing=b);f&&(this.callback=f)};b._.Animation=E;b.animation=function(a,c,b,f){return new E(a,c,b,f)};a.inAnim=function(){var a=[],c;for(c in this.anims)this.anims.hasOwnProperty(c)&&function(c){a.push({anim:new E(c._attrs,c.dur,c.easing,c._callback),mina:c,curStatus:c.status(),status:function(a){return c.status(a)},
stop:function(){c.stop()}})}(this.anims[c]);return a};b.animate=function(a,c,b,f,e,h){"function"!=typeof e||e.length||(h=e,e=v.linear);var p=v.time();a=v(a,c,p,p+f,v.time,b,e);h&&d.once("mina.finish."+a.id,h);return a};a.stop=function(){for(var a=this.inAnim(),c=0,b=a.length;c<b;c++)a[c].stop();return this};a.animate=function(a,c,b,f){"function"!=typeof b||b.length||(f=b,b=v.linear);a instanceof E&&(f=a.callback,b=a.easing,c=a.dur,a=a.attr);var h=[],u=[],m={},r,x,C,l=this,q;for(q in a)if(a.hasOwnProperty(q)){l.equal?
(C=l.equal(q,y(a[q])),r=C.from,x=C.to,C=C.f):(r=+l.attr(q),x=+a[q]);var t=p(r,"array")?r.length:1;m[q]=e(h.length,h.length+t,C);h=h.concat(r);u=u.concat(x)}r=v.time();var n=v(h,u,r,r+c,v.time,function(a){var c={},b;for(b in m)m.hasOwnProperty(b)&&(c[b]=m[b](a));l.attr(c)},b);l.anims[n.id]=n;n._attrs=a;n._callback=f;d("snap.animcreated."+l.id,n);d.once("mina.finish."+n.id,function(){delete l.anims[n.id];f&&f.call(l)});d.once("mina.stop."+n.id,function(){delete l.anims[n.id]});return l};var D={};a.data=
function(a,c){var f=D[this.id]=D[this.id]||{};if(0==arguments.length)return d("snap.data.get."+this.id,this,f,null),f;if(1==arguments.length){if(b.is(a,"object")){for(var e in a)a.hasOwnProperty(e)&&this.data(e,a[e]);return this}d("snap.data.get."+this.id,this,f[a],a);return f[a]}f[a]=c;d("snap.data.set."+this.id,this,c,a);return this};a.removeData=function(a){null==a?D[this.id]={}:D[this.id]&&delete D[this.id][a];return this};a.outerSVG=a.toString=h(1);a.innerSVG=h();a.toDataURL=function(){if(z&&
z.btoa){var a=this.getBBox(),a=b.format('<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="{width}" height="{height}" viewBox="{x} {y} {width} {height}">{contents}</svg>',{x:+a.x.toFixed(3),y:+a.y.toFixed(3),width:+a.width.toFixed(3),height:+a.height.toFixed(3),contents:this.outerSVG()});return"data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(a)))}};t.prototype.select=a.select;t.prototype.selectAll=a.selectAll});w.plugin(function(b,
a,d,l,t){function m(a,b,e,f,h,d){null==b&&"[object SVGMatrix]"==q.call(a)?(this.a=a.a,this.b=a.b,this.c=a.c,this.d=a.d,this.e=a.e,this.f=a.f):null!=a?(this.a=+a,this.b=+b,this.c=+e,this.d=+f,this.e=+h,this.f=+d):(this.a=1,this.c=this.b=0,this.d=1,this.f=this.e=0)}var q=Object.prototype.toString,e=String,h=Math;(function(a){function d(a){return a[0]*a[0]+a[1]*a[1]}function r(a){var b=h.sqrt(d(a));a[0]&&(a[0]/=b);a[1]&&(a[1]/=b)}a.add=function(a,b,e,c,h,p){var d=[[],[],[]],k=[[this.a,this.c,this.e],
[this.b,this.d,this.f],[0,0,1]];b=[[a,e,h],[b,c,p],[0,0,1]];a&&a instanceof m&&(b=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]);for(a=0;3>a;a++)for(e=0;3>e;e++){for(c=h=0;3>c;c++)h+=k[a][c]*b[c][e];d[a][e]=h}this.a=d[0][0];this.b=d[1][0];this.c=d[0][1];this.d=d[1][1];this.e=d[0][2];this.f=d[1][2];return this};a.invert=function(){var a=this.a*this.d-this.b*this.c;return new m(this.d/a,-this.b/a,-this.c/a,this.a/a,(this.c*this.f-this.d*this.e)/a,(this.b*this.e-this.a*this.f)/a)};a.clone=function(){return new m(this.a,
this.b,this.c,this.d,this.e,this.f)};a.translate=function(a,b){return this.add(1,0,0,1,a,b)};a.scale=function(a,b,e,c){null==b&&(b=a);(e||c)&&this.add(1,0,0,1,e,c);this.add(a,0,0,b,0,0);(e||c)&&this.add(1,0,0,1,-e,-c);return this};a.rotate=function(a,e,d){a=b.rad(a);e=e||0;d=d||0;var c=+h.cos(a).toFixed(9);a=+h.sin(a).toFixed(9);this.add(c,a,-a,c,e,d);return this.add(1,0,0,1,-e,-d)};a.x=function(a,b){return a*this.a+b*this.c+this.e};a.y=function(a,b){return a*this.b+b*this.d+this.f};a.get=function(a){return+this[e.fromCharCode(97+
a)].toFixed(4)};a.toString=function(){return"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")"};a.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};a.determinant=function(){return this.a*this.d-this.b*this.c};a.split=function(){var a={};a.dx=this.e;a.dy=this.f;var e=[[this.a,this.c],[this.b,this.d]];a.scalex=h.sqrt(d(e[0]));r(e[0]);a.shear=e[0][0]*e[1][0]+e[0][1]*e[1][1];e[1]=[e[1][0]-e[0][0]*a.shear,e[1][1]-e[0][1]*a.shear];a.scaley=h.sqrt(d(e[1]));
r(e[1]);a.shear/=a.scaley;0>this.determinant()&&(a.scalex=-a.scalex);var p=-e[0][1],e=e[1][1];0>e?(a.rotate=b.deg(h.acos(e)),0>p&&(a.rotate=360-a.rotate)):a.rotate=b.deg(h.asin(p));a.isSimple=!+a.shear.toFixed(9)&&(a.scalex.toFixed(9)==a.scaley.toFixed(9)||!a.rotate);a.isSuperSimple=!+a.shear.toFixed(9)&&a.scalex.toFixed(9)==a.scaley.toFixed(9)&&!a.rotate;a.noRotation=!+a.shear.toFixed(9)&&!a.rotate;return a};a.toTransformString=function(a){a=a||this.split();if(+a.shear.toFixed(9))return"m"+[this.get(0),
this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)];a.scalex=+a.scalex.toFixed(4);a.scaley=+a.scaley.toFixed(4);a.rotate=+a.rotate.toFixed(4);return(a.dx||a.dy?"t"+[+a.dx.toFixed(4),+a.dy.toFixed(4)]:"")+(1!=a.scalex||1!=a.scaley?"s"+[a.scalex,a.scaley,0,0]:"")+(a.rotate?"r"+[+a.rotate.toFixed(4),0,0]:"")}})(m.prototype);b.Matrix=m;b.matrix=function(a,b,e,h,d,l){return new m(a,b,e,h,d,l)}});w.plugin(function(b,a,n,l,t){function m(k){return function(e){d.stop();e instanceof t&&1==e.node.childNodes.length&&
("radialGradient"==e.node.firstChild.tagName||"linearGradient"==e.node.firstChild.tagName||"pattern"==e.node.firstChild.tagName)&&(e=e.node.firstChild,f(this).appendChild(e),e=y(e));if(e instanceof a)if("radialGradient"==e.type||"linearGradient"==e.type||"pattern"==e.type){e.node.id||x(e.node,{id:e.id});var h=c(e.node.id)}else h=e.attr(k);else h=b.color(e),h.error?(h=b(f(this).ownerSVGElement).gradient(e))?(h.node.id||x(h.node,{id:h.id}),h=c(h.node.id)):h=e:h=u(h);e={};e[k]=h;x(this.node,e);this.node.style[k]=
""}}function q(a){d.stop();a==+a&&(a+="px");this.node.style.fontSize=a}function e(a){var c=[];a=a.childNodes;for(var b=0,h=a.length;b<h;b++){var f=a[b];3==f.nodeType&&c.push(f.nodeValue);"tspan"==f.tagName&&(1==f.childNodes.length&&3==f.firstChild.nodeType?c.push(f.firstChild.nodeValue):c.push(e(f)))}return c}function h(){d.stop();return this.node.style.fontSize}var p=b._.make,y=b._.wrap,r=b.is,f=b._.getSomeDefs,C=/^url\(#?([^)]+)\)$/,x=b._.$,c=b.url,u=String,E=b._.separator;d.on("snap.util.attr.mask",
function(b){if(b instanceof a||b instanceof t){d.stop();b instanceof t&&1==b.node.childNodes.length&&(b=b.node.firstChild,f(this).appendChild(b),b=y(b));if("mask"==b.type)var e=b;else e=p("mask",f(this)),e.node.appendChild(b.node);!e.node.id&&x(e.node,{id:e.id});x(this.node,{mask:c(e.id)})}});(function(a){d.on("snap.util.attr.clip",a);d.on("snap.util.attr.clip-path",a);d.on("snap.util.attr.clipPath",a)})(function(b){if(b instanceof a||b instanceof t){d.stop();if("clipPath"==b.type)var e=b;else e=
p("clipPath",f(this)),e.node.appendChild(b.node),!e.node.id&&x(e.node,{id:e.id});x(this.node,{"clip-path":c(e.node.id||e.id)})}});d.on("snap.util.attr.fill",m("fill"));d.on("snap.util.attr.stroke",m("stroke"));var v=/^([lr])(?:\(([^)]*)\))?(.*)$/i;d.on("snap.util.grad.parse",function(a){a=u(a);var c=a.match(v);if(!c)return null;a=c[1];var b=c[2],c=c[3],b=b.split(/\s*,\s*/).map(function(a){return+a==a?+a:a});1==b.length&&0==b[0]&&(b=[]);c=c.split("-");c=c.map(function(a){a=a.split(":");var c={color:a[0]};
a[1]&&(c.offset=parseFloat(a[1]));return c});return{type:a,params:b,stops:c}});d.on("snap.util.attr.d",function(a){d.stop();r(a,"array")&&r(a[0],"array")&&(a=b.path.toString.call(a));a=u(a);a.match(/[ruo]/i)&&(a=b.path.toAbsolute(a));x(this.node,{d:a})})(-1);d.on("snap.util.attr.#text",function(a){d.stop();a=u(a);for(a=l.doc.createTextNode(a);this.node.firstChild;)this.node.removeChild(this.node.firstChild);this.node.appendChild(a)})(-1);d.on("snap.util.attr.path",function(a){d.stop();this.attr({d:a})})(-1);
d.on("snap.util.attr.class",function(a){d.stop();this.node.className.baseVal=a})(-1);d.on("snap.util.attr.viewBox",function(a){a=r(a,"object")&&"x"in a?[a.x,a.y,a.width,a.height].join(" "):r(a,"array")?a.join(" "):a;x(this.node,{viewBox:a});d.stop()})(-1);d.on("snap.util.attr.transform",function(a){this.transform(a);d.stop()})(-1);d.on("snap.util.attr.r",function(a){"rect"==this.type&&(d.stop(),x(this.node,{rx:a,ry:a}))})(-1);d.on("snap.util.attr.textpath",function(c){d.stop();if("text"==this.type){var b,
e;if(!c&&this.textPath){for(c=this.textPath;c.node.firstChild;)this.node.appendChild(c.node.firstChild);c.remove();delete this.textPath}else if(r(c,"string")?(b=f(this),c=y(b.parentNode).path(c),b.appendChild(c.node),b=c.id,c.attr({id:b})):(c=y(c),c instanceof a&&(b=c.attr("id"),b||(b=c.id,c.attr({id:b})))),b)if(c=this.textPath,e=this.node,c)c.attr({"xlink:href":"#"+b});else{for(c=x("textPath",{"xlink:href":"#"+b});e.firstChild;)c.appendChild(e.firstChild);e.appendChild(c);this.textPath=y(c)}}})(-1);
d.on("snap.util.attr.text",function(a){if("text"==this.type){for(var c=this.node,b=function(a){var c=x("tspan");if(r(a,"array"))for(var e=0;e<a.length;e++)c.appendChild(b(a[e]));else c.appendChild(l.doc.createTextNode(a));c.normalize&&c.normalize();return c};c.firstChild;)c.removeChild(c.firstChild);for(a=b(a);a.firstChild;)c.appendChild(a.firstChild)}d.stop()})(-1);d.on("snap.util.attr.fontSize",q)(-1);d.on("snap.util.attr.font-size",q)(-1);d.on("snap.util.getattr.transform",function(){d.stop();
return this.transform()})(-1);d.on("snap.util.getattr.textpath",function(){d.stop();return this.textPath})(-1);(function(){function a(c){return function(){d.stop();var a=l.doc.defaultView.getComputedStyle(this.node,null).getPropertyValue("marker-"+c);return"none"==a?a:b(l.doc.getElementById(a.match(C)[1]))}}function e(a){return function(b){d.stop();var e="marker"+a.charAt(0).toUpperCase()+a.substring(1);if(""==b||!b)this.node.style[e]="none";else if("marker"==b.type){var h=b.node.id;h||x(b.node,{id:b.id});
this.node.style[e]=c(h)}}}d.on("snap.util.getattr.marker-end",a("end"))(-1);d.on("snap.util.getattr.markerEnd",a("end"))(-1);d.on("snap.util.getattr.marker-start",a("start"))(-1);d.on("snap.util.getattr.markerStart",a("start"))(-1);d.on("snap.util.getattr.marker-mid",a("mid"))(-1);d.on("snap.util.getattr.markerMid",a("mid"))(-1);d.on("snap.util.attr.marker-end",e("end"))(-1);d.on("snap.util.attr.markerEnd",e("end"))(-1);d.on("snap.util.attr.marker-start",e("start"))(-1);d.on("snap.util.attr.markerStart",
e("start"))(-1);d.on("snap.util.attr.marker-mid",e("mid"))(-1);d.on("snap.util.attr.markerMid",e("mid"))(-1)})();d.on("snap.util.getattr.r",function(){if("rect"==this.type&&x(this.node,"rx")==x(this.node,"ry"))return d.stop(),x(this.node,"rx")})(-1);d.on("snap.util.getattr.text",function(){if("text"==this.type||"tspan"==this.type){d.stop();var a=e(this.node);return 1==a.length?a[0]:a}})(-1);d.on("snap.util.getattr.#text",function(){return this.node.textContent})(-1);d.on("snap.util.getattr.viewBox",
function(){d.stop();var a=x(this.node,"viewBox");if(a)return a=a.split(E),b._.box(+a[0],+a[1],+a[2],+a[3])})(-1);d.on("snap.util.getattr.points",function(){var a=x(this.node,"points");d.stop();if(a)return a.split(E)})(-1);d.on("snap.util.getattr.path",function(){var a=x(this.node,"d");d.stop();return a})(-1);d.on("snap.util.getattr.class",function(){return this.node.className.baseVal})(-1);d.on("snap.util.getattr.fontSize",h)(-1);d.on("snap.util.getattr.font-size",h)(-1)});w.plugin(function(b,a,d,
l,t){var m=/\S+/g,q=String;b=a.prototype;b.addClass=function(a){var b=q(a||"").match(m)||[];a=this.node;var d=a.className.baseVal,y=d.match(m)||[],r,f,l;if(b.length){for(r=0;l=b[r++];)f=y.indexOf(l),~f||y.push(l);b=y.join(" ");d!=b&&(a.className.baseVal=b)}return this};b.removeClass=function(a){var b=q(a||"").match(m)||[];a=this.node;var d=a.className.baseVal,l=d.match(m)||[],r,f;if(l.length){for(r=0;f=b[r++];)f=l.indexOf(f),~f&&l.splice(f,1);b=l.join(" ");d!=b&&(a.className.baseVal=b)}return this};
b.hasClass=function(a){return!!~(this.node.className.baseVal.match(m)||[]).indexOf(a)};b.toggleClass=function(a,b){if(null!=b)return b?this.addClass(a):this.removeClass(a);var d=(a||"").match(m)||[],l=this.node,r=l.className.baseVal,f=r.match(m)||[],q,x,c;for(q=0;c=d[q++];)x=f.indexOf(c),~x?f.splice(x,1):f.push(c);d=f.join(" ");r!=d&&(l.className.baseVal=d);return this}});w.plugin(function(b,a,n,l,t){function m(a){return a}function q(a){return function(b){return+b.toFixed(3)+a}}var e={"+":function(a,
b){return a+b},"-":function(a,b){return a-b},"/":function(a,b){return a/b},"*":function(a,b){return a*b}},h=String,p=/[a-z]+$/i,y=/^\s*([+\-\/*])\s*=\s*([\d.eE+\-]+)\s*([^\d\s]+)?\s*$/;d.on("snap.util.attr",function(a){if(a=h(a).match(y)){var b=d.nt(),b=b.substring(b.lastIndexOf(".")+1),m=this.attr(b),l={};d.stop();var c=a[3]||"",u=m.match(p),q=e[a[1]];u&&u==c?a=q(parseFloat(m),+a[2]):(m=this.asPX(b),a=q(this.asPX(b),this.asPX(b,a[2]+c)));isNaN(m)||isNaN(a)||(l[b]=a,this.attr(l))}})(-10);d.on("snap.util.equal",
function(a,b){var l=h(this.attr(a)||""),x=h(b).match(y);if(x){d.stop();var c=x[3]||"",u=l.match(p),n=e[x[1]];if(u&&u==c)return{from:parseFloat(l),to:n(parseFloat(l),+x[2]),f:q(u)};l=this.asPX(a);return{from:l,to:n(l,this.asPX(a,x[2]+c)),f:m}}})(-10)});w.plugin(function(b,a,n,l,t){var m=n.prototype,q=b.is;m.rect=function(a,b,e,d,f,m){var l;null==m&&(m=f);q(a,"object")&&"[object Object]"==a?l=a:null!=a&&(l={x:a,y:b,width:e,height:d},null!=f&&(l.rx=f,l.ry=m));return this.el("rect",l)};m.circle=function(a,
b,e){var d;q(a,"object")&&"[object Object]"==a?d=a:null!=a&&(d={cx:a,cy:b,r:e});return this.el("circle",d)};var e=function(){function a(){this.parentNode.removeChild(this)}return function(b,e){var d=l.doc.createElement("img"),f=l.doc.body;d.style.cssText="position:absolute;left:-9999em;top:-9999em";d.onload=function(){e.call(d);d.onload=d.onerror=null;f.removeChild(d)};d.onerror=a;f.appendChild(d);d.src=b}}();m.image=function(a,d,m,l,f){var n=this.el("image");if(q(a,"object")&&"src"in a)n.attr(a);
else if(null!=a){var x={"xlink:href":a,preserveAspectRatio:"none"};null!=d&&null!=m&&(x.x=d,x.y=m);null!=l&&null!=f?(x.width=l,x.height=f):e(a,function(){b._.$(n.node,{width:this.offsetWidth,height:this.offsetHeight})});b._.$(n.node,x)}return n};m.ellipse=function(a,b,e,d){var f;q(a,"object")&&"[object Object]"==a?f=a:null!=a&&(f={cx:a,cy:b,rx:e,ry:d});return this.el("ellipse",f)};m.path=function(a){var b;q(a,"object")&&!q(a,"array")?b=a:a&&(b={d:a});return this.el("path",b)};m.group=m.g=function(a){var b=
this.el("g");1==arguments.length&&a&&!a.type?b.attr(a):arguments.length&&b.add(Array.prototype.slice.call(arguments,0));return b};m.svg=function(a,b,e,d,f,m,l,c){var u={};q(a,"object")&&null==b?u=a:(null!=a&&(u.x=a),null!=b&&(u.y=b),null!=e&&(u.width=e),null!=d&&(u.height=d),null!=f&&null!=m&&null!=l&&null!=c&&(u.viewBox=[f,m,l,c]));return this.el("svg",u)};m.mask=function(a){var b=this.el("mask");1==arguments.length&&a&&!a.type?b.attr(a):arguments.length&&b.add(Array.prototype.slice.call(arguments,
0));return b};m.ptrn=function(a,b,e,d,f,m,l,c){if(q(a,"object"))var u=a;else u={patternUnits:"userSpaceOnUse"},a&&(u.x=a),b&&(u.y=b),null!=e&&(u.width=e),null!=d&&(u.height=d),u.viewBox=null!=f&&null!=m&&null!=l&&null!=c?[f,m,l,c]:[a||0,b||0,e||0,d||0];return this.el("pattern",u)};m.use=function(e){return null!=e?(e instanceof a&&(e.attr("id")||e.attr({id:b._.id(e)}),e=e.attr("id")),"#"==String(e).charAt()&&(e=e.substring(1)),this.el("use",{"xlink:href":"#"+e})):a.prototype.use.call(this)};m.symbol=
function(a,b,e,d){var f={};null!=a&&null!=b&&null!=e&&null!=d&&(f.viewBox=[a,b,e,d]);return this.el("symbol",f)};m.text=function(a,b,e){var d={};q(a,"object")?d=a:null!=a&&(d={x:a,y:b,text:e||""});return this.el("text",d)};m.line=function(a,b,e,d){var f={};q(a,"object")?f=a:null!=a&&(f={x1:a,x2:e,y1:b,y2:d});return this.el("line",f)};m.polyline=function(a){1<arguments.length&&(a=Array.prototype.slice.call(arguments,0));var b={};q(a,"object")&&!q(a,"array")?b=a:null!=a&&(b={points:a});return this.el("polyline",
b)};m.polygon=function(a){1<arguments.length&&(a=Array.prototype.slice.call(arguments,0));var b={};q(a,"object")&&!q(a,"array")?b=a:null!=a&&(b={points:a});return this.el("polygon",b)};(function(){function a(){return this.selectAll("stop")}function e(a,f){var h=x("stop"),d={offset:+f+"%"};a=b.color(a);d["stop-color"]=a.hex;1>a.opacity&&(d["stop-opacity"]=a.opacity);x(h,d);this.node.appendChild(h);return this}function l(){if("linearGradient"==this.type){var a=x(this.node,"x1")||0,e=x(this.node,"x2")||
1,f=x(this.node,"y1")||0,h=x(this.node,"y2")||0;return b._.box(a,f,math.abs(e-a),math.abs(h-f))}a=this.node.r||0;return b._.box((this.node.cx||.5)-a,(this.node.cy||.5)-a,2*a,2*a)}function q(a,b){function e(a,b){for(var c=(b-p)/(a-l),f=l;f<a;f++)m[f].offset=+(+p+c*(f-l)).toFixed(2);l=a;p=b}var h=d("snap.util.grad.parse",null,b).firstDefined(),k;if(!h)return null;h.params.unshift(a);k="l"==h.type.toLowerCase()?f.apply(0,h.params):n.apply(0,h.params);h.type!=h.type.toLowerCase()&&x(k.node,{gradientUnits:"userSpaceOnUse"});
var m=h.stops,h=m.length,p=0,l=0;h--;for(var t=0;t<h;t++)"offset"in m[t]&&e(t,m[t].offset);m[h].offset=m[h].offset||100;e(h,m[h].offset);for(t=0;t<=h;t++){var y=m[t];k.addStop(y.color,y.offset)}return k}function f(c,f,d,m,k){c=b._.make("linearGradient",c);c.stops=a;c.addStop=e;c.getBBox=l;null!=f&&x(c.node,{x1:f,y1:d,x2:m,y2:k});return c}function n(c,f,d,m,k,q){c=b._.make("radialGradient",c);c.stops=a;c.addStop=e;c.getBBox=l;null!=f&&x(c.node,{cx:f,cy:d,r:m});null!=k&&null!=q&&x(c.node,{fx:k,fy:q});
return c}var x=b._.$;m.gradient=function(a){return q(this.defs,a)};m.gradientLinear=function(a,b,e,h){return f(this.defs,a,b,e,h)};m.gradientRadial=function(a,b,e,f,k){return n(this.defs,a,b,e,f,k)};m.toString=function(){var a=this.node.ownerDocument,e=a.createDocumentFragment(),a=a.createElement("div"),f=this.node.cloneNode(!0);e.appendChild(a);a.appendChild(f);b._.$(f,{xmlns:"http://www.w3.org/2000/svg"});a=a.innerHTML;e.removeChild(e.firstChild);return a};m.toDataURL=function(){if(z&&z.btoa)return"data:image/svg+xml;base64,"+
btoa(unescape(encodeURIComponent(this)))};m.clear=function(){for(var a=this.node.firstChild,b;a;)b=a.nextSibling,"defs"!=a.tagName?a.parentNode.removeChild(a):m.clear.call({node:a}),a=b}})()});w.plugin(function(b,a,d,l){function t(a){var b=t.ps=t.ps||{};b[a]?b[a].sleep=100:b[a]={sleep:100};setTimeout(function(){for(var c in b)b.hasOwnProperty(c)&&c!=a&&(b[c].sleep--,!b[c].sleep&&delete b[c])});return b[a]}function m(a,b,c,e){null==a&&(a=b=c=e=0);null==b&&(b=a.y,c=a.width,e=a.height,a=a.x);return{x:a,
y:b,width:c,w:c,height:e,h:e,x2:a+c,y2:b+e,cx:a+c/2,cy:b+e/2,r1:F.min(c,e)/2,r2:F.max(c,e)/2,r0:F.sqrt(c*c+e*e)/2,path:w(a,b,c,e),vb:[a,b,c,e].join(" ")}}function q(){return this.join(",").replace(G,"$1")}function e(a){a=O(a);a.toString=q;return a}function h(a,b,c,e,f,k,h,d,m){if(null==m)return x(a,b,c,e,f,k,h,d);if(0>m||x(a,b,c,e,f,k,h,d)<m)m=void 0;else{var p=.5,l=1-p,u;for(u=x(a,b,c,e,f,k,h,d,l);.01<T(u-m);)p/=2,l+=(u<m?1:-1)*p,u=x(a,b,c,e,f,k,h,d,l);m=l}return y(a,b,c,e,f,k,h,d,m)}function p(c,
e){function f(a){return+(+a).toFixed(3)}return b._.cacher(function(b,k,d){b instanceof a&&(b=b.attr("d"));b=ia(b);for(var m,p,l,u,q="",t={},n=0,x=0,r=b.length;x<r;x++){l=b[x];if("M"==l[0])m=+l[1],p=+l[2];else{u=h(m,p,l[1],l[2],l[3],l[4],l[5],l[6]);if(n+u>k){if(e&&!t.start){m=h(m,p,l[1],l[2],l[3],l[4],l[5],l[6],k-n);q+=["C"+f(m.start.x),f(m.start.y),f(m.m.x),f(m.m.y),f(m.x),f(m.y)];if(d)return q;t.start=q;q=["M"+f(m.x),f(m.y)+"C"+f(m.n.x),f(m.n.y),f(m.end.x),f(m.end.y),f(l[5]),f(l[6])].join();n+=u;
m=+l[5];p=+l[6];continue}if(!c&&!e)return m=h(m,p,l[1],l[2],l[3],l[4],l[5],l[6],k-n)}n+=u;m=+l[5];p=+l[6]}q+=l.shift()+l}t.end=q;return m=c?n:e?t:y(m,p,l[0],l[1],l[2],l[3],l[4],l[5],1)},null,b._.clone)}function y(a,b,c,e,f,k,h,d,m){var l=1-m,p=Y(l,3),u=Y(l,2),q=m*m,n=q*m,t=p*a+3*u*m*c+3*l*m*m*f+n*h,p=p*b+3*u*m*e+3*l*m*m*k+n*d,u=a+2*m*(c-a)+q*(f-2*c+a),n=b+2*m*(e-b)+q*(k-2*e+b),x=c+2*m*(f-c)+q*(h-2*f+c),q=e+2*m*(k-e)+q*(d-2*k+e);a=l*a+m*c;b=l*b+m*e;f=l*f+m*h;k=l*k+m*d;d=90-180*F.atan2(u-x,n-q)/J;return{x:t,
y:p,m:{x:u,y:n},n:{x:x,y:q},start:{x:a,y:b},end:{x:f,y:k},alpha:d}}function r(a,c,e,f,k,h,d,l){b.is(a,"array")||(a=[a,c,e,f,k,h,d,l]);a=I.apply(null,a);return m(a.min.x,a.min.y,a.max.x-a.min.x,a.max.y-a.min.y)}function f(a,b,c){return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height}function v(a,b){a=m(a);b=m(b);return f(b,a.x,a.y)||f(b,a.x2,a.y)||f(b,a.x,a.y2)||f(b,a.x2,a.y2)||f(a,b.x,b.y)||f(a,b.x2,b.y)||f(a,b.x,b.y2)||f(a,b.x2,b.y2)||(a.x<b.x2&&a.x>b.x||b.x<a.x2&&b.x>a.x)&&(a.y<b.y2&&a.y>b.y||b.y<
a.y2&&b.y>a.y)}function x(a,b,c,e,f,k,h,d,m){null==m&&(m=1);m=(1<m?1:0>m?0:m)/2;for(var l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],u=0,q=0;12>q;q++)var n=m*l[q]+m,t=n*(n*(-3*a+9*c-9*f+3*h)+6*a-12*c+6*f)-3*a+3*c,n=n*(n*(-3*b+9*e-9*k+3*d)+6*b-12*e+6*k)-3*b+3*e,u=u+p[q]*F.sqrt(t*t+n*n);return m*u}function c(a,b,c){a=ia(a);b=ia(b);for(var e,f,k,h,d,m,l,p,u,q,n=c?0:[],t=0,A=a.length;t<A;t++)if(u=
a[t],"M"==u[0])e=d=u[1],f=m=u[2];else{"C"==u[0]?(u=[e,f].concat(u.slice(1)),e=u[6],f=u[7]):(u=[e,f,e,f,d,m,d,m],e=d,f=m);for(var w=0,E=b.length;w<E;w++)if(q=b[w],"M"==q[0])k=l=q[1],h=p=q[2];else{"C"==q[0]?(q=[k,h].concat(q.slice(1)),k=q[6],h=q[7]):(q=[k,h,k,h,l,p,l,p],k=l,h=p);var D;var z=u,I=q;D=c;var R=r(z),H=r(I);if(v(R,H)){for(var R=x.apply(0,z),H=x.apply(0,I),R=~~(R/8),H=~~(H/8),U=[],V=[],F={},W=D?0:[],G=0;G<R+1;G++){var J=y.apply(0,z.concat(G/R));U.push({x:J.x,y:J.y,t:G/R})}for(G=0;G<H+1;G++)J=
y.apply(0,I.concat(G/H)),V.push({x:J.x,y:J.y,t:G/H});for(G=0;G<R;G++)for(z=0;z<H;z++){var O=U[G],M=U[G+1],I=V[z],J=V[z+1],N=.001>T(M.x-O.x)?"y":"x",S=.001>T(J.x-I.x)?"y":"x",L;L=O.x;var Z=O.y,aa=M.x,ba=M.y,ca=I.x,da=I.y,ea=J.x,fa=J.y;if(P(L,aa)<Q(ca,ea)||Q(L,aa)>P(ca,ea)||P(Z,ba)<Q(da,fa)||Q(Z,ba)>P(da,fa))L=void 0;else{var Y=(L*ba-Z*aa)*(ca-ea)-(L-aa)*(ca*fa-da*ea),X=(L*ba-Z*aa)*(da-fa)-(Z-ba)*(ca*fa-da*ea),ga=(L-aa)*(da-fa)-(Z-ba)*(ca-ea);if(ga){var Y=Y/ga,X=X/ga,ga=+Y.toFixed(2),ja=+X.toFixed(2);
L=ga<+Q(L,aa).toFixed(2)||ga>+P(L,aa).toFixed(2)||ga<+Q(ca,ea).toFixed(2)||ga>+P(ca,ea).toFixed(2)||ja<+Q(Z,ba).toFixed(2)||ja>+P(Z,ba).toFixed(2)||ja<+Q(da,fa).toFixed(2)||ja>+P(da,fa).toFixed(2)?void 0:{x:Y,y:X}}else L=void 0}L&&F[L.x.toFixed(4)]!=L.y.toFixed(4)&&(F[L.x.toFixed(4)]=L.y.toFixed(4),O=O.t+T((L[N]-O[N])/(M[N]-O[N]))*(M.t-O.t),I=I.t+T((L[S]-I[S])/(J[S]-I[S]))*(J.t-I.t),0<=O&&1>=O&&0<=I&&1>=I&&(D?W++:W.push({x:L.x,y:L.y,t1:O,t2:I})))}D=W}else D=D?0:[];if(c)n+=D;else{R=0;for(H=D.length;R<
H;R++)D[R].segment1=t,D[R].segment2=w,D[R].bez1=u,D[R].bez2=q;n=n.concat(D)}}}return n}function u(a){var b=t(a);if(b.bbox)return O(b.bbox);if(!a)return m();a=ia(a);for(var c=0,e=0,f=[],k=[],h,d=0,l=a.length;d<l;d++)h=a[d],"M"==h[0]?(c=h[1],e=h[2],f.push(c),k.push(e)):(c=I(c,e,h[1],h[2],h[3],h[4],h[5],h[6]),f=f.concat(c.min.x,c.max.x),k=k.concat(c.min.y,c.max.y),c=h[5],e=h[6]);a=Q.apply(0,f);h=Q.apply(0,k);f=P.apply(0,f);k=P.apply(0,k);k=m(a,h,f-a,k-h);b.bbox=O(k);return k}function w(a,b,c,e,f){if(f)return[["M",
+a+ +f,b],["l",c-2*f,0],["a",f,f,0,0,1,f,f],["l",0,e-2*f],["a",f,f,0,0,1,-f,f],["l",2*f-c,0],["a",f,f,0,0,1,-f,-f],["l",0,2*f-e],["a",f,f,0,0,1,f,-f],["z"]];a=[["M",a,b],["l",c,0],["l",0,e],["l",-c,0],["z"]];a.toString=q;return a}function D(a,b,c,e,f){null==f&&null==e&&(e=c);a=+a;b=+b;c=+c;e=+e;if(null!=f){var k=Math.PI/180,h=a+c*Math.cos(-e*k);a+=c*Math.cos(-f*k);var d=b+c*Math.sin(-e*k);b+=c*Math.sin(-f*k);c=[["M",h,d],["A",c,c,0,+(180<f-e),0,a,b]]}else c=[["M",a,b],["m",0,-e],["a",c,e,0,1,1,0,
2*e],["a",c,e,0,1,1,0,-2*e],["z"]];c.toString=q;return c}function k(a){var c=t(a);if(c.abs)return e(c.abs);W(a,"array")&&W(a&&a[0],"array")||(a=b.parsePathString(a));if(!a||!a.length)return[["M",0,0]];var f=[],k=0,h=0,d=0,m=0,l=0;"M"==a[0][0]&&(k=+a[0][1],h=+a[0][2],d=k,m=h,l++,f[0]=["M",k,h]);for(var p=3==a.length&&"M"==a[0][0]&&"R"==a[1][0].toUpperCase()&&"Z"==a[2][0].toUpperCase(),u,n,x=l,y=a.length;x<y;x++){f.push(u=[]);n=a[x];l=n[0];if(l!=l.toUpperCase())switch(u[0]=l.toUpperCase(),u[0]){case "A":u[1]=
n[1];u[2]=n[2];u[3]=n[3];u[4]=n[4];u[5]=n[5];u[6]=+n[6]+k;u[7]=+n[7]+h;break;case "V":u[1]=+n[1]+h;break;case "H":u[1]=+n[1]+k;break;case "R":for(var r=[k,h].concat(n.slice(1)),A=2,v=r.length;A<v;A++)r[A]=+r[A]+k,r[++A]=+r[A]+h;f.pop();f=f.concat(V(r,p));break;case "O":f.pop();r=D(k,h,n[1],n[2]);r.push(r[0]);f=f.concat(r);break;case "U":f.pop();f=f.concat(D(k,h,n[1],n[2],n[3]));u=["U"].concat(f[f.length-1].slice(-2));break;case "M":d=+n[1]+k,m=+n[2]+h;default:for(A=1,v=n.length;A<v;A++)u[A]=+n[A]+
(A%2?k:h)}else if("R"==l)r=[k,h].concat(n.slice(1)),f.pop(),f=f.concat(V(r,p)),u=["R"].concat(n.slice(-2));else if("O"==l)f.pop(),r=D(k,h,n[1],n[2]),r.push(r[0]),f=f.concat(r);else if("U"==l)f.pop(),f=f.concat(D(k,h,n[1],n[2],n[3])),u=["U"].concat(f[f.length-1].slice(-2));else for(r=0,A=n.length;r<A;r++)u[r]=n[r];l=l.toUpperCase();if("O"!=l)switch(u[0]){case "Z":k=+d;h=+m;break;case "H":k=u[1];break;case "V":h=u[1];break;case "M":d=u[u.length-2],m=u[u.length-1];default:k=u[u.length-2],h=u[u.length-
1]}}f.toString=q;c.abs=e(f);return f}function A(a,b,c,e){return[a,b,c,e,c,e]}function z(a,b,c,e,f,k){var h=1/3,d=2/3;return[h*a+d*c,h*b+d*e,h*f+d*c,h*k+d*e,f,k]}function U(a,c,e,f,k,h,d,m,l,u){var p=120*J/180,n=J/180*(+k||0),q=[],t,x=b._.cacher(function(a,b,c){var e=a*F.cos(c)-b*F.sin(c);a=a*F.sin(c)+b*F.cos(c);return{x:e,y:a}});if(u)A=u[0],t=u[1],h=u[2],r=u[3];else{t=x(a,c,-n);a=t.x;c=t.y;t=x(m,l,-n);m=t.x;l=t.y;F.cos(J/180*k);F.sin(J/180*k);t=(a-m)/2;A=(c-l)/2;r=t*t/(e*e)+A*A/(f*f);1<r&&(r=F.sqrt(r),
e*=r,f*=r);var r=e*e,y=f*f,r=(h==d?-1:1)*F.sqrt(T((r*y-r*A*A-y*t*t)/(r*A*A+y*t*t)));h=r*e*A/f+(a+m)/2;var r=r*-f*t/e+(c+l)/2,A=F.asin(((c-r)/f).toFixed(9));t=F.asin(((l-r)/f).toFixed(9));A=a<h?J-A:A;t=m<h?J-t:t;0>A&&(A=2*J+A);0>t&&(t=2*J+t);d&&A>t&&(A-=2*J);!d&&t>A&&(t-=2*J)}if(T(t-A)>p){var q=t,y=m,v=l;t=A+p*(d&&t>A?1:-1);m=h+e*F.cos(t);l=r+f*F.sin(t);q=U(m,l,e,f,k,0,d,y,v,[t,q,h,r])}h=t-A;k=F.cos(A);p=F.sin(A);d=F.cos(t);t=F.sin(t);h=F.tan(h/4);e=4/3*e*h;h*=4/3*f;f=[a,c];a=[a+e*p,c-h*k];c=[m+e*
t,l-h*d];m=[m,l];a[0]=2*f[0]-a[0];a[1]=2*f[1]-a[1];if(u)return[a,c,m].concat(q);q=[a,c,m].concat(q).join().split(",");u=[];m=0;for(l=q.length;m<l;m++)u[m]=m%2?x(q[m-1],q[m],n).y:x(q[m],q[m+1],n).x;return u}function I(a,b,c,e,f,k,h,d){for(var m=[],l=[[],[]],u,p,n,q,t=0;2>t;++t)0==t?(p=6*a-12*c+6*f,u=-3*a+9*c-9*f+3*h,n=3*c-3*a):(p=6*b-12*e+6*k,u=-3*b+9*e-9*k+3*d,n=3*e-3*b),1E-12>T(u)?1E-12>T(p)||(u=-n/p,0<u&&1>u&&m.push(u)):(q=p*p-4*n*u,n=F.sqrt(q),0>q||(q=(-p+n)/(2*u),0<q&&1>q&&m.push(q),u=(-p-n)/
(2*u),0<u&&1>u&&m.push(u)));for(p=t=m.length;t--;)u=m[t],n=1-u,l[0][t]=n*n*n*a+3*n*n*u*c+3*n*u*u*f+u*u*u*h,l[1][t]=n*n*n*b+3*n*n*u*e+3*n*u*u*k+u*u*u*d;l[0][p]=a;l[1][p]=b;l[0][p+1]=h;l[1][p+1]=d;l[0].length=l[1].length=p+2;return{min:{x:Q.apply(0,l[0]),y:Q.apply(0,l[1])},max:{x:P.apply(0,l[0]),y:P.apply(0,l[1])}}}function ia(a,b){var c=!b&&t(a);if(!b&&c.curve)return e(c.curve);var f=k(a),h=b&&k(b),d={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},m={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l=function(a,
b,c){if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];a[0]in{T:1,Q:1}||(b.qx=b.qy=null);switch(a[0]){case "M":b.X=a[1];b.Y=a[2];break;case "A":a=["C"].concat(U.apply(0,[b.x,b.y].concat(a.slice(1))));break;case "S":"C"==c||"S"==c?(c=2*b.x-b.bx,b=2*b.y-b.by):(c=b.x,b=b.y);a=["C",c,b].concat(a.slice(1));break;case "T":"Q"==c||"T"==c?(b.qx=2*b.x-b.qx,b.qy=2*b.y-b.qy):(b.qx=b.x,b.qy=b.y);a=["C"].concat(z(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case "Q":b.qx=a[1];b.qy=a[2];a=["C"].concat(z(b.x,b.y,a[1],a[2],a[3],
a[4]));break;case "L":a=["C"].concat(A(b.x,b.y,a[1],a[2]));break;case "H":a=["C"].concat(A(b.x,b.y,a[1],b.y));break;case "V":a=["C"].concat(A(b.x,b.y,b.x,a[1]));break;case "Z":a=["C"].concat(A(b.x,b.y,b.X,b.Y))}return a},u=function(a,b){if(7<a[b].length){a[b].shift();for(var c=a[b];c.length;)n[b]="A",h&&(q[b]="A"),a.splice(b++,0,["C"].concat(c.splice(0,6)));a.splice(b,1);v=P(f.length,h&&h.length||0)}},p=function(a,b,c,e,k){a&&b&&"M"==a[k][0]&&"M"!=b[k][0]&&(b.splice(k,0,["M",e.x,e.y]),c.bx=0,c.by=
0,c.x=a[k][1],c.y=a[k][2],v=P(f.length,h&&h.length||0))},n=[],q=[],r="",x="",y=0,v=P(f.length,h&&h.length||0);for(;y<v;y++){f[y]&&(r=f[y][0]);"C"!=r&&(n[y]=r,y&&(x=n[y-1]));f[y]=l(f[y],d,x);"A"!=n[y]&&"C"==r&&(n[y]="C");u(f,y);h&&(h[y]&&(r=h[y][0]),"C"!=r&&(q[y]=r,y&&(x=q[y-1])),h[y]=l(h[y],m,x),"A"!=q[y]&&"C"==r&&(q[y]="C"),u(h,y));p(f,h,d,m,y);p(h,f,m,d,y);var w=f[y],E=h&&h[y],C=w.length,D=h&&E.length;d.x=w[C-2];d.y=w[C-1];d.bx=M(w[C-4])||d.x;d.by=M(w[C-3])||d.y;m.bx=h&&(M(E[D-4])||m.x);m.by=h&&
(M(E[D-3])||m.y);m.x=h&&E[D-2];m.y=h&&E[D-1]}h||(c.curve=e(f));return h?[f,h]:f}function V(a,b){for(var c=[],e=0,f=a.length;f-2*!b>e;e+=2){var h=[{x:+a[e-2],y:+a[e-1]},{x:+a[e],y:+a[e+1]},{x:+a[e+2],y:+a[e+3]},{x:+a[e+4],y:+a[e+5]}];b?e?f-4==e?h[3]={x:+a[0],y:+a[1]}:f-2==e&&(h[2]={x:+a[0],y:+a[1]},h[3]={x:+a[2],y:+a[3]}):h[0]={x:+a[f-2],y:+a[f-1]}:f-4==e?h[3]=h[2]:e||(h[0]={x:+a[e],y:+a[e+1]});c.push(["C",(-h[0].x+6*h[1].x+h[2].x)/6,(-h[0].y+6*h[1].y+h[2].y)/6,(h[1].x+6*h[2].x-h[3].x)/6,(h[1].y+6*
h[2].y-h[3].y)/6,h[2].x,h[2].y])}return c}d=a.prototype;var W=b.is,O=b._.clone,G=/,?([a-z]),?/gi,M=parseFloat,F=Math,J=F.PI,Q=F.min,P=F.max,Y=F.pow,T=F.abs;l=p(1);var X=p(),S=p(0,1),N=b._unit2px;b.path=t;b.path.getTotalLength=l;b.path.getPointAtLength=X;b.path.getSubpath=function(a,b,c){if(1E-6>this.getTotalLength(a)-c)return S(a,b).end;a=S(a,c,1);return b?S(a,b).end:a};d.getTotalLength=function(){if(this.node.getTotalLength)return this.node.getTotalLength()};d.getPointAtLength=function(a){return X(this.attr("d"),
a)};d.getSubpath=function(a,c){return b.path.getSubpath(this.attr("d"),a,c)};b._.box=m;b.path.findDotsAtSegment=y;b.path.bezierBBox=r;b.path.isPointInsideBBox=f;b.closest=function(a,c,e,h){for(var k=100,d=m(a-k/2,c-k/2,k,k),l=[],u=e[0].hasOwnProperty("x")?function(a){return{x:e[a].x,y:e[a].y}}:function(a){return{x:e[a],y:h[a]}},p=0;1E6>=k&&!p;){for(var n=0,q=e.length;n<q;n++){var t=u(n);if(f(d,t.x,t.y)){p++;l.push(t);break}}p||(k*=2,d=m(a-k/2,c-k/2,k,k))}if(1E6!=k){for(var k=Infinity,r,n=0,q=l.length;n<
q;n++)d=b.len(a,c,l[n].x,l[n].y),k>d&&(k=d,l[n].len=d,r=l[n]);return r}};b.path.isBBoxIntersect=v;b.path.intersection=function(a,b){return c(a,b)};b.path.intersectionNumber=function(a,b){return c(a,b,1)};b.path.isPointInside=function(a,b,e){var h=u(a);return f(h,b,e)&&1==c(a,[["M",b,e],["H",h.x2+10]],1)%2};b.path.getBBox=u;b.path.get={path:function(a){return a.attr("path")},circle:function(a){a=N(a);return D(a.cx,a.cy,a.r)},ellipse:function(a){a=N(a);return D(a.cx||0,a.cy||0,a.rx,a.ry)},rect:function(a){a=
N(a);return w(a.x||0,a.y||0,a.width,a.height,a.rx,a.ry)},image:function(a){a=N(a);return w(a.x||0,a.y||0,a.width,a.height)},line:function(a){return"M"+[a.attr("x1")||0,a.attr("y1")||0,a.attr("x2"),a.attr("y2")]},polyline:function(a){return"M"+a.attr("points")},polygon:function(a){return"M"+a.attr("points")+"z"},deflt:function(a){a=a.node.getBBox();return w(a.x,a.y,a.width,a.height)}};b.path.toRelative=function(a){var c=t(a),f=String.prototype.toLowerCase;if(c.rel)return e(c.rel);b.is(a,"array")&&
b.is(a&&a[0],"array")||(a=b.parsePathString(a));var h=[],k=0,d=0,m=0,l=0,u=0;"M"==a[0][0]&&(k=a[0][1],d=a[0][2],m=k,l=d,u++,h.push(["M",k,d]));for(var p=a.length;u<p;u++){var n=h[u]=[],r=a[u];if(r[0]!=f.call(r[0]))switch(n[0]=f.call(r[0]),n[0]){case "a":n[1]=r[1];n[2]=r[2];n[3]=r[3];n[4]=r[4];n[5]=r[5];n[6]=+(r[6]-k).toFixed(3);n[7]=+(r[7]-d).toFixed(3);break;case "v":n[1]=+(r[1]-d).toFixed(3);break;case "m":m=r[1],l=r[2];default:for(var y=1,x=r.length;y<x;y++)n[y]=+(r[y]-(y%2?k:d)).toFixed(3)}else for(h[u]=
[],"m"==r[0]&&(m=r[1]+k,l=r[2]+d),n=0,y=r.length;n<y;n++)h[u][n]=r[n];r=h[u].length;switch(h[u][0]){case "z":k=m;d=l;break;case "h":k+=+h[u][r-1];break;case "v":d+=+h[u][r-1];break;default:k+=+h[u][r-2],d+=+h[u][r-1]}}h.toString=q;c.rel=e(h);return h};b.path.toAbsolute=k;b.path.toCubic=ia;b.path.map=function(a,b){if(!b)return a;var c,e,f,h,k,d,m;a=ia(a);f=0;for(k=a.length;f<k;f++)for(m=a[f],h=1,d=m.length;h<d;h+=2)c=b.x(m[h],m[h+1]),e=b.y(m[h],m[h+1]),m[h]=c,m[h+1]=e;return a};b.path.toString=q;b.path.clone=
e});w.plugin(function(b,a,n,l){var t=Math.max,m=Math.min,q=function(a){this.items=[];this.bindings={};this.length=0;this.type="set";if(a)for(var b=0,d=a.length;b<d;b++)a[b]&&(this[this.items.length]=this.items[this.items.length]=a[b],this.length++)};a=q.prototype;a.push=function(){for(var a,b,d=0,m=arguments.length;d<m;d++)if(a=arguments[d])b=this.items.length,this[b]=this.items[b]=a,this.length++;return this};a.pop=function(){this.length&&delete this[this.length--];return this.items.pop()};a.forEach=
function(a,b){for(var d=0,m=this.items.length;d<m&&!1!==a.call(b,this.items[d],d);d++);return this};a.animate=function(a,h,m,l){"function"!=typeof m||m.length||(l=m,m=v.linear);a instanceof b._.Animation&&(l=a.callback,m=a.easing,h=m.dur,a=a.attr);var n=arguments;if(b.is(a,"array")&&b.is(n[n.length-1],"array"))var f=!0;var q,t=function(){q?this.b=q:q=this.b},c=0,u=this,w=l&&function(){++c==u.length&&l.call(this)};return this.forEach(function(b,c){d.once("snap.animcreated."+b.id,t);f?n[c]&&b.animate.apply(b,
n[c]):b.animate(a,h,m,w)})};a.remove=function(){for(;this.length;)this.pop().remove();return this};a.bind=function(a,b,d){var m={};if("function"==typeof b)this.bindings[a]=b;else{var l=d||a;this.bindings[a]=function(a){m[l]=a;b.attr(m)}}return this};a.attr=function(a){var b={},d;for(d in a)if(this.bindings[d])this.bindings[d](a[d]);else b[d]=a[d];a=0;for(d=this.items.length;a<d;a++)this.items[a].attr(b);return this};a.clear=function(){for(;this.length;)this.pop()};a.splice=function(a,b,d){a=0>a?t(this.length+
a,0):a;b=t(0,m(this.length-a,b));var l=[],n=[],f=[],v;for(v=2;v<arguments.length;v++)f.push(arguments[v]);for(v=0;v<b;v++)n.push(this[a+v]);for(;v<this.length-a;v++)l.push(this[a+v]);var x=f.length;for(v=0;v<x+l.length;v++)this.items[a+v]=this[a+v]=v<x?f[v]:l[v-x];for(v=this.items.length=this.length-=b-x;this[v];)delete this[v++];return new q(n)};a.exclude=function(a){for(var b=0,d=this.length;b<d;b++)if(this[b]==a)return this.splice(b,1),!0;return!1};a.insertAfter=function(a){for(var b=this.items.length;b--;)this.items[b].insertAfter(a);
return this};a.getBBox=function(){for(var a=[],b=[],d=[],l=[],n=this.items.length;n--;)if(!this.items[n].removed){var f=this.items[n].getBBox();a.push(f.x);b.push(f.y);d.push(f.x+f.width);l.push(f.y+f.height)}a=m.apply(0,a);b=m.apply(0,b);d=t.apply(0,d);l=t.apply(0,l);return{x:a,y:b,x2:d,y2:l,width:d-a,height:l-b,cx:a+(d-a)/2,cy:b+(l-b)/2}};a.clone=function(a){a=new q;for(var b=0,d=this.items.length;b<d;b++)a.push(this.items[b].clone());return a};a.toString=function(){return"Snap\u2018s set"};a.type=
"set";b.Set=q;b.set=function(){var a=new q;arguments.length&&a.push.apply(a,Array.prototype.slice.call(arguments,0));return a}});w.plugin(function(b,a,n,l){function t(a){var b=a[0];switch(b.toLowerCase()){case "t":return[b,0,0];case "m":return[b,1,0,0,1,0,0];case "r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case "s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}}function m(a,e,f){e=c(e).replace(/\.{3}|\u2026/g,a);a=b.parseTransformString(a)||[];e=b.parseTransformString(e)||[];for(var k=
Math.max(a.length,e.length),h=[],d=[],m=0,l,n,p,q;m<k;m++){p=a[m]||t(e[m]);q=e[m]||t(p);if(p[0]!=q[0]||"r"==p[0].toLowerCase()&&(p[2]!=q[2]||p[3]!=q[3])||"s"==p[0].toLowerCase()&&(p[3]!=q[3]||p[4]!=q[4])){a=b._.transform2matrix(a,f());e=b._.transform2matrix(e,f());h=[["m",a.a,a.b,a.c,a.d,a.e,a.f]];d=[["m",e.a,e.b,e.c,e.d,e.e,e.f]];break}h[m]=[];d[m]=[];l=0;for(n=Math.max(p.length,q.length);l<n;l++)l in p&&(h[m][l]=p[l]),l in q&&(d[m][l]=q[l])}return{from:r(h),to:r(d),f:y(h)}}function q(a){return a}
function e(a){return function(b){return+b.toFixed(3)+a}}function h(a){return a.join(" ")}function p(a){return b.rgb(a[0],a[1],a[2])}function y(a){var b=0,c,e,f,h,d,m,l=[];c=0;for(e=a.length;c<e;c++){d="[";m=['"'+a[c][0]+'"'];f=1;for(h=a[c].length;f<h;f++)m[f]="val["+b++ +"]";d+=m+"]";l[c]=d}return Function("val","return Snap.path.toString.call(["+l+"])")}function r(a){for(var b=[],c=0,e=a.length;c<e;c++)for(var f=1,h=a[c].length;f<h;f++)b.push(a[c][f]);return b}function f(a,c){return b.is(a,"array")&&
b.is(c,"array")?a.toString()==c.toString():!1}var v={},x=/[a-z]+$/i,c=String;v.stroke=v.fill="colour";a.prototype.equal=function(a,b){return d("snap.util.equal",this,a,b).firstDefined()};d.on("snap.util.equal",function(a,d){var l,k;l=c(this.attr(a)||"");var n=this;if(isFinite(parseFloat(l))&&isFinite(parseFloat(d)))return{from:parseFloat(l),to:parseFloat(d),f:q};if("colour"==v[a])return l=b.color(l),k=b.color(d),{from:[l.r,l.g,l.b,l.opacity],to:[k.r,k.g,k.b,k.opacity],f:p};if("viewBox"==a)return l=
this.attr(a).vb.split(" ").map(Number),k=d.split(" ").map(Number),{from:l,to:k,f:h};if("transform"==a||"gradientTransform"==a||"patternTransform"==a)return d instanceof b.Matrix&&(d=d.toTransformString()),b._.rgTransform.test(d)||(d=b._.svgTransform2string(d)),m(l,d,function(){return n.getBBox(1)});if("d"==a||"path"==a)return l=b.path.toCubic(l,d),{from:r(l[0]),to:r(l[1]),f:y(l[0])};if("points"==a)return l=c(l).split(b._.separator),k=c(d).split(b._.separator),{from:l,to:k,f:function(a){return a}};
k=l.match(x);var t=c(d).match(x);return k&&f(k,t)?{from:parseFloat(l),to:parseFloat(d),f:e(k)}:{from:this.asPX(a),to:this.asPX(a,d),f:q}})});w.plugin(function(b,a,n,l){var t=a.prototype,m="createTouch"in l.doc;a="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel".split(" ");var q={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},e=function(a,b){var e="y"==a?"scrollTop":"scrollLeft",f=b&&b.node?b.node.ownerDocument:l.doc;return f[e in
f.documentElement?"documentElement":"body"][e]},h=function(){return this.originalEvent.preventDefault()},p=function(){return this.originalEvent.stopPropagation()},y=function(a,b,f,d){var k=m&&q[b]?q[b]:b,l=function(k){var l=e("y",d),n=e("x",d);if(m&&q.hasOwnProperty(b))for(var t=0,r=k.targetTouches&&k.targetTouches.length;t<r;t++)if(k.targetTouches[t].target==a||a.contains(k.targetTouches[t].target)){r=k;k=k.targetTouches[t];k.originalEvent=r;k.preventDefault=h;k.stopPropagation=p;break}return f.call(d,
k,k.clientX+n,k.clientY+l)};b!==k&&a.addEventListener(b,l,!1);a.addEventListener(k,l,!1);return function(){b!==k&&a.removeEventListener(b,l,!1);a.removeEventListener(k,l,!1);return!0}},r=[],f=function(a){for(var b=a.clientX,f=a.clientY,h=e("y"),k=e("x"),l,n=r.length;n--;){l=r[n];if(m)for(var p=a.touches&&a.touches.length,q;p--;){if(q=a.touches[p],q.identifier==l.el._drag.id||l.el.node.contains(q.target)){b=q.clientX;f=q.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();
b+=k;f+=h;d("snap.drag.move."+l.el.id,l.move_scope||l.el,b-l.el._drag.x,f-l.el._drag.y,b,f,a)}},v=function(a){b.unmousemove(f).unmouseup(v);for(var e=r.length,h;e--;)h=r[e],h.el._drag={},d("snap.drag.end."+h.el.id,h.end_scope||h.start_scope||h.move_scope||h.el,a),d.off("snap.drag.*."+h.el.id);r=[]};for(n=a.length;n--;)(function(a){b[a]=t[a]=function(e,f){if(b.is(e,"function"))this.events=this.events||[],this.events.push({name:a,f:e,unbind:y(this.node||document,a,e,f||this)});else for(var h=0,k=this.events.length;h<
k;h++)if(this.events[h].name==a)try{this.events[h].f.call(this)}catch(d){}return this};b["un"+a]=t["un"+a]=function(b){for(var e=this.events||[],f=e.length;f--;)if(e[f].name==a&&(e[f].f==b||!b)){e[f].unbind();e.splice(f,1);!e.length&&delete this.events;break}return this}})(a[n]);t.hover=function(a,b,e,f){return this.mouseover(a,e).mouseout(b,f||e)};t.unhover=function(a,b){return this.unmouseover(a).unmouseout(b)};var x=[];t.drag=function(a,e,h,m,k,l){function n(p,t,x){(p.originalEvent||p).preventDefault();
q._drag.x=t;q._drag.y=x;q._drag.id=p.identifier;!r.length&&b.mousemove(f).mouseup(v);r.push({el:q,move_scope:m,start_scope:k,end_scope:l});e&&d.on("snap.drag.start."+q.id,e);a&&d.on("snap.drag.move."+q.id,a);h&&d.on("snap.drag.end."+q.id,h);d("snap.drag.start."+q.id,k||m||q,t,x,p)}function p(a,b,c){d("snap.draginit."+q.id,q,a,b,c)}var q=this;if(!arguments.length){var t;return q.drag(function(a,b){this.attr({transform:t+(t?"T":"t")+[a,b]})},function(){t=this.transform().local})}d.on("snap.draginit."+
q.id,n);q._drag={};x.push({el:q,start:n,init:p});q.mousedown(p);return q};t.undrag=function(){for(var a=x.length;a--;)x[a].el==this&&(this.unmousedown(x[a].init),x.splice(a,1),d.unbind("snap.drag.*."+this.id),d.unbind("snap.draginit."+this.id));!x.length&&b.unmousemove(f).unmouseup(v);return this}});w.plugin(function(b,a,n,l){n=n.prototype;var t=/^\s*url\((.+)\)/,m=String,q=b._.$;b.filter={};n.filter=function(e){var h=this;"svg"!=h.type&&(h=h.paper);e=b.parse(m(e));var d=b._.id(),l=q("filter");q(l,
{id:d,filterUnits:"userSpaceOnUse"});l.appendChild(e.node);h.defs.appendChild(l);return new a(l)};d.on("snap.util.getattr.filter",function(){d.stop();var a=q(this.node,"filter");if(a)return(a=m(a).match(t))&&b.select(a[1])});d.on("snap.util.attr.filter",function(e){if(e instanceof a&&"filter"==e.type){d.stop();var h=e.node.id;h||(q(e.node,{id:e.id}),h=e.id);q(this.node,{filter:b.url(h)})}e&&"none"!=e||(d.stop(),this.node.removeAttribute("filter"))});b.filter.blur=function(a,h){null==a&&(a=2);return b.format('<feGaussianBlur stdDeviation="{def}"/>',
{def:null==h?a:[a,h]})};b.filter.blur.toString=function(){return this()};b.filter.shadow=function(a,h,d,l,m){"string"==typeof d&&(m=l=d,d=4);"string"!=typeof l&&(m=l,l="#000");null==d&&(d=4);null==m&&(m=1);null==a&&(a=0,h=2);null==h&&(h=a);l=b.color(l||"#000");return b.format('<feGaussianBlur in="SourceAlpha" stdDeviation="{blur}"/><feOffset dx="{dx}" dy="{dy}" result="offsetblur"/><feFlood flood-color="{color}"/><feComposite in2="offsetblur" operator="in"/><feComponentTransfer><feFuncA type="linear" slope="{opacity}"/></feComponentTransfer><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge>',
{color:l,dx:a,dy:h,blur:d,opacity:m})};b.filter.shadow.toString=function(){return this()};b.filter.grayscale=function(a){null==a&&(a=1);return b.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {b} {h} 0 0 0 0 0 1 0"/>',{a:.2126+.7874*(1-a),b:.7152-.7152*(1-a),c:.0722-.0722*(1-a),d:.2126-.2126*(1-a),e:.7152+.2848*(1-a),f:.0722-.0722*(1-a),g:.2126-.2126*(1-a),h:.0722+.9278*(1-a)})};b.filter.grayscale.toString=function(){return this()};b.filter.sepia=function(a){null==
a&&(a=1);return b.format('<feColorMatrix type="matrix" values="{a} {b} {c} 0 0 {d} {e} {f} 0 0 {g} {h} {i} 0 0 0 0 0 1 0"/>',{a:.393+.607*(1-a),b:.769-.769*(1-a),c:.189-.189*(1-a),d:.349-.349*(1-a),e:.686+.314*(1-a),f:.168-.168*(1-a),g:.272-.272*(1-a),h:.534-.534*(1-a),i:.131+.869*(1-a)})};b.filter.sepia.toString=function(){return this()};b.filter.saturate=function(a){null==a&&(a=1);return b.format('<feColorMatrix type="saturate" values="{amount}"/>',{amount:1-a})};b.filter.saturate.toString=function(){return this()};
b.filter.hueRotate=function(a){return b.format('<feColorMatrix type="hueRotate" values="{angle}"/>',{angle:a||0})};b.filter.hueRotate.toString=function(){return this()};b.filter.invert=function(a){null==a&&(a=1);return b.format('<feComponentTransfer><feFuncR type="table" tableValues="{amount} {amount2}"/><feFuncG type="table" tableValues="{amount} {amount2}"/><feFuncB type="table" tableValues="{amount} {amount2}"/></feComponentTransfer>',{amount:a,amount2:1-a})};b.filter.invert.toString=function(){return this()};
b.filter.brightness=function(a){null==a&&(a=1);return b.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}"/><feFuncG type="linear" slope="{amount}"/><feFuncB type="linear" slope="{amount}"/></feComponentTransfer>',{amount:a})};b.filter.brightness.toString=function(){return this()};b.filter.contrast=function(a){null==a&&(a=1);return b.format('<feComponentTransfer><feFuncR type="linear" slope="{amount}" intercept="{amount2}"/><feFuncG type="linear" slope="{amount}" intercept="{amount2}"/><feFuncB type="linear" slope="{amount}" intercept="{amount2}"/></feComponentTransfer>',
{amount:a,amount2:.5-a/2})};b.filter.contrast.toString=function(){return this()}});w.plugin(function(b,a,d,l,t){var m=b._.box,q=b.is,e=/^[^a-z]*([tbmlrc])/i,h=function(){return"T"+this.dx+","+this.dy};a.prototype.getAlign=function(a,b){null==b&&q(a,"string")&&(b=a,a=null);a=a||this.paper;var d=a.getBBox?a.getBBox():m(a),f=this.getBBox(),l={};b=(b=b&&b.match(e))?b[1].toLowerCase():"c";switch(b){case "t":l.dx=0;l.dy=d.y-f.y;break;case "b":l.dx=0;l.dy=d.y2-f.y2;break;case "m":l.dx=0;l.dy=d.cy-f.cy;break;
case "l":l.dx=d.x-f.x;l.dy=0;break;case "r":l.dx=d.x2-f.x2;l.dy=0;break;default:l.dx=d.cx-f.cx,l.dy=0}l.toString=h;return l};a.prototype.align=function(a,b){return this.transform("..."+this.getAlign(a,b))}});return w});
"document"in self&&("classList"in document.createElement("_")?function(){var z=document.createElement("_");z.classList.add("c1","c2");if(!z.classList.contains("c2")){var d=function(d){var b=DOMTokenList.prototype[d];DOMTokenList.prototype[d]=function(a){var d,l=arguments.length;for(d=0;d<l;d++)a=arguments[d],b.call(this,a)}};d("add");d("remove")}z.classList.toggle("c3",!1);if(z.classList.contains("c3")){var v=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(d,b){return 1 in arguments&&
!this.contains(d)===!b?b:v.call(this,d)}}z=null}():function(z){if("Element"in z){z=z.Element.prototype;var d=Object,v=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},w=Array.prototype.indexOf||function(a){for(var b=0,h=this.length;b<h;b++)if(b in this&&this[b]===a)return b;return-1},b=function(a,b){this.name=a;this.code=DOMException[a];this.message=b},a=function(a,e){if(""===e)throw new b("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new b("INVALID_CHARACTER_ERR",
"String contains an invalid character");return w.call(a,e)},n=function(a){for(var b=v.call(a.getAttribute("class")||""),b=b?b.split(/\s+/):[],h=0,d=b.length;h<d;h++)this.push(b[h]);this._updateClassName=function(){a.setAttribute("class",this.toString())}},l=n.prototype=[],t=function(){return new n(this)};b.prototype=Error.prototype;l.item=function(a){return this[a]||null};l.contains=function(b){return-1!==a(this,b+"")};l.add=function(){var b=arguments,e=0,d=b.length,l,m=!1;do l=b[e]+"",-1===a(this,
l)&&(this.push(l),m=!0);while(++e<d);m&&this._updateClassName()};l.remove=function(){var b=arguments,e=0,d=b.length,l,m=!1,n;do for(l=b[e]+"",n=a(this,l);-1!==n;)this.splice(n,1),m=!0,n=a(this,l);while(++e<d);m&&this._updateClassName()};l.toggle=function(a,b){a+="";var d=this.contains(a),l=d?!0!==b&&"remove":!1!==b&&"add";if(l)this[l](a);return!0===b||!1===b?b:!d};l.toString=function(){return this.join(" ")};if(d.defineProperty){l={get:t,enumerable:!0,configurable:!0};try{d.defineProperty(z,"classList",
l)}catch(m){-2146823252===m.number&&(l.enumerable=!1,d.defineProperty(z,"classList",l))}}else d.prototype.__defineGetter__&&z.__defineGetter__("classList",t)}}(self));define("classList",function(){});
define("config",[],function(){return{FONT_FAMILY:"'Lato', sans-serif",TEXT_SIZE_SMALL:12,SPILLOVER_TOP:.07,SPILLOVER_RIGHT:0,SPILLOVER_BOTTOM:.05,SPILLOVER_LEFT:0,MAX_LABEL_DENSITY:1.5,TOP_PADDING:40,BOTTOM_PADDING:30,LEFT_PADDING:10,RIGHT_PADDING:10,BAR_TOOLTIP_X_PADDING:10,TARGET_MARKER_COUNT:6,TICK_MARK_VERTICAL_PADDING:10,TICK_MARK_HORIZONTAL_PADDING:10,LABEL_AXIS_PADDING:10,NEGATIVE_PROPORTION_STICKY_LABELS_LIMIT:1/3,SHARED_TINT_MINIMUM_RATIO:.95,GROUP_WIDTH_TO_PADDING_RATIO:4,GROUP_PADDING_TO_BAR_PADDING_RATIO:4,
BAR_MINIMUM_THICKNESS:12,BAR_GROUP_TARGET_THICKNESS:24,BAR_SPACING:5,BAR_GROUP_WIDTH_TO_PADDING_RATIO:4,TARGET_KEY_COLUMN_WIDTH:200,KEY_MARGIN_TOP:45,KEY_PADDING_TOP:20,KEY_PADDING_BOTTOM:20,KEY_PADDING_LEFT:30,KEY_PADDING_RIGHT:30,KEY_TEXT_SPACING:5,KEY_COLUMN_PADDING_RATIO:.1,KEY_ROWSPACING:8,KEY_SQUARE_LENGTH:13,KEY_DIVIDOR_HEIGHT:19,KEY_MIN_PULLOUT_TITLE_LENGTH:4,KEY_MIN_WIDTH_FOR_AXIS_ALIGNMENT:352}});
define("data-processor",[],function(){return{tableToJSON:function(z,d){function v(){this.series=[];this.rows=[];this.range={min:null,max:null};this.labels=[]}v.prototype={constructor:v};var w=[];d.pulloutItems&&(w=d.pulloutItems.split(","));for(var b=/^[0-9]+(,[0-9]{3})*(\.[0-9]+)?$/,a=z.querySelectorAll("thead > tr > th"),n=z.querySelectorAll("tbody > tr"),l=new v,t=1;t<a.length;t++){var m={title:a[t].textContent},q=a[t].getAttribute("data-fm-color");q&&(m.colorOverride=q);l.series.push(m)}for(a=
0;a<n.length;a++)if(n[a].children[0]){t=n[a].children[0].textContent;l.labels.push(t);q=!1;if(-1!==w.indexOf(String(a+1))||-1!==w.indexOf(t))q=!0;var m={key:a,title:t,values:[],total:0,pullout:q};if(q=n[a].getAttribute("data-fm-color"))m.colorOverride=q;l.rows.push(m);for(t=1;t<n[a].children.length;t++){q=null;n[a].children[t].textContent.match(b)&&(q=parseFloat(n[a].children[t].textContent.replace(/,([0-9]{3})/g,"$1")));if(null===l.range.min||l.range.min>q)l.range.min=q;if(null===l.range.max||l.range.max<
q)l.range.max=q;l.rows[a].values.push({value:q});l.rows[a].total+=q}}return l}}});
define("number-utils",[],function(){return{roundToOrder:function(z,d,v){function w(b,a){var d=Math.abs(b);d>=Math.pow(10,v)?(b=w(b/10,a),b*=10):d<Math.pow(10,v-1)?(b*=10,b=w(b,a),b/=10):(d=Math.round(b/a)*a,0===d&&(v++,d=w(b,a)),b=d);return parseFloat(b.toPrecision(v+1))}z=parseFloat(z);if(0==z)return 0;v||(v=2);return 1===d?parseFloat(z.toPrecision(v)):w(z,d)},renderValue:function(z){function d(a){if(0==a)return 0;if(1<=a&&1E3>a)return a;if(1>a)return w-=3,d(1E3*a);if(1E3<=a)return w+=3,d(a/1E3)}
if(0===z)return"0";if(!z)return"";var v=1;0>z&&(v=-1,z*=-1);z=this.roundToOrder(z,1,3);var w=0,b=new String(v*d(z));return 3==w?b+"k":6==w?b+"m":9==w?b+"bn":12==w?b+" trillion":new String(v*z)},getDataTotal:function(z){for(var d=0,v=0;v<z.length;v++)d+=z[v].value;return d},getAngle:function(z,d,v){v="undefined"===typeof v?Circle.whole:v;return v/d*z},getFactor:function(z){for(var d=z-1;1<d;d--){var v=z/d;if(parseInt(v)==v)return d}return z}}});
define("scale-utils",["number-utils"],function(z){return{Scale:function(d,v,w,b){this.start=d;this.middle=d+v/2;this.end=d+v;if(w==b)throw"Min and max values are the same";var a=w>b?!0:!1;this.getPixel=function(n,l){if((n<w||n>b)&&!1===("undefined"===typeof l?!0:!1)&&!(a&&n<=w&&n>=b))throw"Out of range";return d+(n-w)/(b-w)*v}},AreaScale:function(d,v,w,b){this.start=d;this.middle=d+v/2;this.midValue=w+(b-w)*Math.pow(.5,2);this.end=d+v;if(w==b)throw"Min value and max are the same";var a=w>b?!0:!1;
this.getPixel=function(n,l){if((n<w||n>b)&&!1===("undefined"===typeof l?!0:!1)&&!(a&&n<=w&&n>=b))throw"Out of range";var t=Math.pow((n-w)/(b-w),.5);return d+v*t}},getTickMarks:function(d,v,w,b){var a=0,n=0,l=0,t=0,l=0,m=[],t=l=0;d==v&&(a=0!==v?v/10:1,d-=a,v+=a);w=(v-d)/(w-1);n=a=0;a=Math.floor(Math.log(w)/Math.LN10);n=w/Math.pow(10,a);n=(1.5>n?1:3>n?2:7>n?5:10)*Math.pow(10,a);l=Math.floor(d/n)*n;t=Math.ceil(v/n)*n;a=Math.max(-Math.floor(Math.log(n)/Math.LN10),1);t+=.5*n;b&&(0!==l&&(l-=n),t+=n);for(;l<
t;l+=n)m.push(parseFloat(l.toFixed(a)));return m}}});
define("color-utils",[],function(){return{colorWheelClasses:"fm-datum-color-wheel-a fm-datum-color-wheel-b fm-datum-color-wheel-c fm-datum-color-wheel-d fm-datum-color-wheel-e fm-datum-color-wheel-f fm-datum-color-wheel-g fm-datum-color-wheel-h fm-datum-color-wheel-i fm-datum-color-wheel-j fm-datum-color-wheel-k fm-datum-color-wheel-l".split(" "),overflowClass:"fm-datum-color-overflow",pad:function(z){return 2>z.length?"0"+z:z},contrasting:function(z){throw"Not yet implemented";},registerTint1Filter:function(){throw"Not yet implemented";
},registerTint2Filter:function(){throw"Not yet implemented";},lowContrast:function(z,d){d="undefined"===typeof d?0:d;if(z+d>this.colorWheelClasses.length){for(var v=[],w=0;w<z;w++)w<this.colorWheelClasses.length?v.push(this.colorWheelClasses[w]):v.push(this.colorWheelClasses[this.colorWheelClasses.length-w]);return v}return this.colorWheelClasses.splice(d,z)},monochromatic:function(z,d,v){throw"Not yet implemented";},harmonious:function(z){for(var d=Math.min(z,this.colorWheelClasses.length),v=[],
w=Math.floor(this.colorWheelClasses.length/2),b=function(){return 0==this.colorWheelClasses.length%4}.bind(this),a=function(a,b){a=(a+this.colorWheelClasses.length)%this.colorWheelClasses.length;var e=Math.floor(v.length/4)+1;v.length<d&&v.splice(1*e-1,0,a);v.length<d&&v.splice(2*e-1,0,(a+b+1)%this.colorWheelClasses.length);v.length<d&&v.splice(3*e-1,0,(a+w)%this.colorWheelClasses.length);v.length<d&&v.splice(4*e-1,0,(a+b+1+w)%this.colorWheelClasses.length)}.bind(this),n=function(a,b){a=(a+this.colorWheelClasses.length)%
this.colorWheelClasses.length;v.splice(b,0,a)}.bind(this),l=1,t=0;l<=w-2;l+=2,t--)a(t,l);a=v.length/4;v.length<d&&n(1,a);v.length<d&&n(1+w,3*a+1);b()&&(v.length<d&&n(1+w/2,2*a+1),v.length<d&&n(1+3*w/2,4*a+3));b=[];for(n=0;n<z;n++)b.push(this.colorWheelClasses[v[n%d]]);return b}}});
define("tick-mark",["snap","config"],function(z,d){return z.plugin(function(v,w,b){b.prototype.tickMark=function(a,b,l,t,m){if("horizontal"===l){a=this.text(a-d.TICK_MARK_HORIZONTAL_PADDING,b,m).attr({"font-family":d.FONT_FAMILY,"font-size":d.TEXT_SIZE_SMALL,"font-weight":d.TICK_MARK_FONT_WEIGHT,"text-anchor":"end","dominant-baseline":"central"});var q=this.g(a).addClass("fm-tick-mark")}else"vertical"===l?(l=this.line(a,b,a,b+t),a=this.text(a,b+d.TICK_MARK_VERTICAL_PADDING+d.TEXT_SIZE_SMALL/2,m).attr({"font-family":d.FONT_FAMILY,
"font-size":d.TEXT_SIZE_SMALL,"font-weight":d.TICK_MARK_FONT_WEIGHT,"text-anchor":"middle"}),q=this.g(a,l).addClass("fm-tick-mark")):console.err("Incorrect orientation specified");return q}})});
define("axis",["snap","tick-mark","number-utils"],function(z,d,v){return z.plugin(function(d,b,a){a.prototype.axis=function(a,b,d,m,q,e,h,p,y){var r=this,f=r.g(),w=this.g();f.startPoints=[];if("horizontal"===e){m.forEach(function(a){"object"!==typeof a&&(a={position:a,label:v.renderValue(a)});var c=d.getPixel(a.position);f.startPoints.push({x:c,y:b});w.append(r.tickMark(c,b,"vertical",q,a.label,10))});if(p)var x=r.line(a,b,d.end,b).addClass("fm-axis");if(h){var c;y&&"last"!==y?"first"===y?c=w.getBBox().y-
17.5:console.error("Invalid axis label position specified."):c=w.getBBox().y+w.getBBox().height+17.5;h=r.text(d.middle,c,h).addClass("fm-x-axis-label");h.attr({"font-family":"'Lato', sans-serif","font-weight":400,"font-size":12,"text-anchor":"middle"});f.append(h)}f.append(x);f.append(w)}else m.forEach(function(b){"object"!==typeof b&&(b={position:b,label:v.renderValue(b)});var c=d.getPixel(b.position);f.startPoints.push({x:a,y:c});b=r.tickMark(a,c,"horizontal",q,b.label);w.append(b)}),f.append(w),
m=f.getBBox(),p&&(x=r.line(a,b,a,d.end).addClass("fm-axis"),f.append(x)),h&&(h=r.text(m.x-6-25,d.middle,h).addClass("fm-y-axis-label"),h.getBBox(),h.attr({"font-family":"'Lato', sans-serif","font-weight":400,"font-size":12,"text-anchor":"middle"}).transform("r -90"),f.append(h));return f}})});
define("grid-lines",["snap"],function(z){return z.plugin(function(d,v,w){w.prototype.gridLines=function(b,a,d,l,t){function m(){d.forEach(function(a,d){var m=e.line(b,a.y,b+l,a.y).addClass("fm-grid-line");h.append(m)})}function q(){d.forEach(function(b,d){var m=e.line(b.x,a,b.x,a+l).addClass("fm-grid-line");h.append(m)})}var e=this,h=this.g();"horizontal"===t?m():"vertical"===t?q():console.err("Invalid orientation specified");return h}})});
define("key",["snap","config","color-utils"],function(z,d,v){z=function(d,b,a,n,l,t,m,q,e,h,p,v){this._paper=d;this.node=d.g();this.x=b;this.y=a;this.width=n;this.columns=l;this.columnWidth=t;this.centerItems=m;this.values=q;this.maxValues=e;this.maxValueLength=h;this.lastItemIsOther=p;this.colorClasses=v};z.prototype={constructor:z,hide:function(){},remove:function(){this.node.parent.remove(this.node);this.node=null},render:function(){var w=this.values.length;if("undefined"===typeof this.maxValues||
this.maxValues>w)this.maxValues=w;"undefined"===typeof this.maxValueLength&&(this.maxValueLength=d.KEY_MAX_TEXT_LENGTH);var b;b=this.colorClasses?this.colorClasses:v.harmonious(w);this.container=this.node.rect(this.x,this.y,this.width,10).addClass("fm-key-container").attr({fill:d.KEY_NEUTRAL_FILL,stroke:d.KEY_NEUTRAL_STROKE});var a=this.node.g().addClass("fm-key-items"),n=0,l=0,t;this.values.every(function(m,e){if(e===this.maxValues)return!1;var h;h=e===this.values.length-1&&this.lastItemIsOther?
"fm-datum-color-overflow":b[e];0!==e&&0===e%this.columns&&(n=0,l+=t.getBBox().height+d.KEY_ROWSPACING);var p=m.length>this.maxValueLength?m.substring(0,this.maxValueLength-1)+"\u2026":m;h=this.node.rect(this.x+n,this.y+d.KEY_PADDING_TOP+l,13,13).addClass(h);t=this.node.text(this.x+d.KEY_TEXT_SPACING+h.getBBox().width+n,this.y+d.KEY_PADDING_TOP+l+parseInt(h.attr("height"),10)-1,p).attr({"font-family":d.FONT_FAMILY,"font-size":d.TEXT_SIZE_SMALL});p=this.node.g(h,t).data("fullText",m[e]);h=this.columnWidth-
d.KEY_TEXT_SPACING;var v=p.getBBox().width;if(!(v<=h))for(var r=p.select("text"),f=r.attr("text"),w=!0,f=f.substr(0,f.length-1)+"\u2026";w;)if(f=f.substr(0,f.length-2)+"\u2026",r.attr("text",f),v=p.getBBox().width,v<=h||5===f.length)w=!1;a.append(p);n+=this.columnWidth;return!0}.bind(this));var w=a.getBBox(),m=this.container.getBBox();this.container.attr({height:w.height+d.KEY_PADDING_TOP+d.KEY_PADDING_BOTTOM});!0===this.centerItems?a.transform("t"+(m.width/2-w.width/2)+" 0"):a.transform("t"+d.KEY_PADDING_LEFT+
" 0");return this.node.g(this.container,a).addClass("fm-key").attr({strokeDasharray:this.width+","+m.height+",0,"+100*this.width+",0"})},show:function(){},setHeight:function(d){this.node.select(".fm-key-container").attr({height:d+"px"})}};return z});
define("multitext",["snap"],function(z){return z.plugin(function(d,v,w,b){w.prototype.multitext=function(a,b,d,t,m){"undefined"===typeof t&&(t="1.8em");"undefined"===typeof m&&(m="start");d=d.split("\n");b=this.text(a,b,d);b.attr({textAnchor:m});b.selectAll("tspan:nth-child(n+2)").attr({dy:t,x:a});return b}})});
define("tooltip",["config","multitext"],function(z,d){function v(b,a,d,l){(this.enableBlackBorder=l)&&!document.getElementById("black-border")&&(b.node.querySelector("defs").innerHTML+='<filter id="black-border" x="-5%" y="-5%" width="110%" height="110%"><feMorphology in="SourceAlpha" operator="dilate" radius="1" result="border"></feMorphology><feGaussianBlur stdDeviation="0.2" in="border" result="blurred-border"></feGaussianBlur><feMerge><feMergeNode in="blurred-border"></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter>');this.tooltipClass=
a;this.colorClass=d;this._paper=b;this._parent=b.node;this._tooltipBG=this._tooltipArrow=null;this._tooltipPlacement="right";this.snapElement=this._tooltipText=null}var w;z.TOOLTIP_MAX_VALUE_LENGTH?w=z.TOOLTIP_MAX_VALUE_LENGTH:20;v.prototype={_positionTooltipArrow:function(b){var a=Snap.matrix(),d=this._tooltipBG.getBBox();switch(b){case "left":a.translate(d.width+4,d.height/2);a.rotate(180);this._tooltipArrow.transform(a.toTransformString());break;case "right":a.translate(-4,d.height/2);this._tooltipArrow.transform(a.toTransformString());
break;case "top":a.translate(d.width/2,d.height+4);a.rotate(-90);this._tooltipArrow.transform(a.toTransformString());break;case "bottom":a.translate(d.width/2,-4),a.rotate(90),this._tooltipArrow.transform(a.toTransformString())}this._tooltipPlacement=b},constructor:v,hide:function(){this.snapElement&&this.snapElement.attr("display","none")},remove:function(){this._tooltipText=this._tooltipBG=this._tooltipArrow=null;this.snapElement.remove();this.snapElement=null},render:function(b,a){var d=this._paper,
l=null;null!==this.snapElement&&this.remove();this.snapElement=d.g();var t,m="[object Array]"===Object.prototype.toString.call(a)?!0:!1;b.length>w&&(b=b.substring(0,w-3)+"...");if(m){t=d.g();t.attr({fill:"#fff"});var q=d.text(10,10,b);q.attr({dy:parseInt("12px",10),"font-family":"'Lato', sans-serif","font-size":"12px"});t.append(q);var e=[],h=[];a.forEach(function(a){var b;b=a.title.length>w?a.title.substring(0,w-3)+"...":a.title;a=a.value.length>w?a.value.substring(0,w-3)+"...":a.value;e.push(b+
":");h.push(a)});var l=d.multitext(10,20+q.getBBox().height+5,e.join("\n"),"1.2em").attr({"font-family":"'Lato', sans-serif","font-size":"12px"}),p=d.multitext(10,20+q.getBBox().height+5,h.join("\n"),"1.2em","end").attr({"font-family":"'Lato', sans-serif","font-size":"12px"});p.transform("t "+(l.getBBox().width+p.getBBox().width+5)+" 0");t.append(l);t.append(p)}else t=d.text(10,10,b+": "+a),t.attr({dy:parseInt("12px",10)});this._tooltipText=t;this.snapElement.append(t);this.snapElement.addClass("fm-tooltip "+
this.tooltipClass);l=t.getBBox();t=d.rect(0,0,l.width+10+10,l.height+10+10,4);t.addClass(this.colorClass);this._tooltipBG=t;m&&q.transform("t "+(l.width/2-q.getBBox().width/2)+" 0");this._tooltipArrow=d=d.polygon([-5,.2,5,-5,5,5]).addClass(this.colorClass);this._positionTooltipArrow(this._tooltipPlacement);this.snapElement.prepend(t);this.snapElement.append(d);this.hide();this.enableBlackBorder&&this.snapElement.attr({filter:"url(#black-border)"});return this.snapElement},setPosition:function(b,a,
d){if(this.snapElement){void 0===d?d=this._tooltipPlacement:d!==this._tooltipPlacement&&this._positionTooltipArrow(d);var l=this._tooltipArrow.getBBox(),t=this._tooltipBG.getBBox();switch(d){case "left":b=b-l.width-t.width;a-=t.height/2;break;case "right":b+=l.width;a-=t.height/2;break;case "bottom":b-=t.width/2;a+=l.height;break;case "top":b-=t.width/2,a=a-t.height-l.height}this.snapElement.transform("T"+b+","+a)}},show:function(){this.snapElement&&(this.snapElement.parent().append(this.snapElement),
this.snapElement.attr("display","block"))}};return v});
define("multi-tier-tooltip",["tooltip","multitext"],function(z){function d(d,w,b){z.call(this,d,w,b)}d.prototype=Object.create(z.prototype);d.prototype.render=function(d,w,b){var a=this._paper,n=null;null!==this.snapElement&&this.remove();this.snapElement=a.g();var l;l=a.g();d=a.text(10,7,d);d.attr({dy:parseInt("12px",10)});l.append(d);var t=[],m=[];w.forEach(function(a){t.push(a.title+":");m.push(a.value)});w=a.multitext(10,d.getBBox().y+d.getBBox().height,t.join("\n"),"1.4em");w.transform("t0 "+
w.getBBox().height);var n=a.multitext(10,d.getBBox().y+d.getBBox().height,m.join("\n"),"1.4em","end"),q=[],e=[];b.forEach(function(a){q.push(a.title+":");e.push(a.value)});b=a.multitext(10,w.getBBox().y+20+2*parseInt("12px",10),q.join("\n"),"1.4em");var h=a.multitext(10,w.getBBox().y+20+2*parseInt("12px",10),e.join("\n"),"1.4em","end"),p=w.getBBox(),y=b.getBBox(),p=p.width>y.width?p.width:y.width,y=n.getBBox(),r=h.getBBox(),y=y.width>r.width?y.width:r.width;n.transform("t "+(p+y)+" "+n.getBBox().height);
h.transform("t "+(p+y)+" 0");l.append(w);l.append(n);l.append(b);l.append(h);l.attr({fill:"#fff","font-family":"'Lato', sans-serif","font-size":"12px"});this._tooltipText=l;n=l.getBBox();b=a.rect(0,0,n.width+10+10,n.height+7+10,4);b.addClass(this.colorClass);this._tooltipBG=b;p=b.getBBox();this.groupBoundary=w.getBBox().y+10+parseInt("12px",10);w=a.line(0,this.groupBoundary,p.width,this.groupBoundary).attr({stroke:"white"});h=a.rect(p.x,p.y,p.width,p.height,4);p=a.rect(p.x,this.groupBoundary,p.width,
p.height-this.groupBoundary).attr("fill","white");h.attr("mask",p);h.addClass(this.colorClass+" tint-1");d.transform("t "+(n.width/2-d.getBBox().width/2)+" 0");d=a.polygon([-3.5,.2,6.5,-5,6.5,5]);a=a.rect(-6,-6,11,12).attr("fill","#fff");d.attr({mask:a}).addClass(this.colorClass);this._tooltipArrow=d;this._positionTooltipArrow(this._tooltipPlacement);this.snapElement.append(b);this.snapElement.append(h);this.snapElement.append(l);this.snapElement.append(d);this.snapElement.append(w);this.snapElement.addClass("fm-tooltip");
this.hide();return this.snapElement};d.prototype.setPosition=function(d,w,b){if(this.snapElement){void 0===b?b=this._tooltipPlacement:b!==this._tooltipPlacement&&this._positionTooltipArrow(b);var a=this._tooltipArrow.getBBox(),n=this._tooltipBG.getBBox();switch(b){case "left":d=d-a.width-n.width;w=w-this.groupBoundary/2-2;break;case "right":d+=a.width;w=w-this.groupBoundary/2-2;break;case "top":d=d-a.width-n.width;w-=a.height;break;case "bottom":d+=a.width,w+=a.height}this.snapElement.transform("T"+
d+","+w)}};d.prototype._positionTooltipArrow=function(d){var w=Snap.matrix(),b=this._tooltipBG.getBBox();switch(d){case "left":w.translate(b.width+4,this.groupBoundary/2+3);w.rotate(180);this._tooltipArrow.transform(w.toTransformString());break;case "right":w.translate(-4,this.groupBoundary/2+3);this._tooltipArrow.transform(w.toTransformString());break;case "top":w.translate(b.width/2,b.height+4);w.rotate(-90);this._tooltipArrow.transform(w.toTransformString());break;case "bottom":w.translate(b.width/
2,-4);w.rotate(90);this._tooltipArrow.transform(w.toTransformString());break;case "none":this._tooltipArrow.remove()}this._tooltipPlacement=d};return d});
define("utilities",["multi-tier-tooltip","key","config"],function(z,d,v){var w=function(){return-1!==navigator.userAgent.indexOf("MSIE")||0<navigator.appVersion.indexOf("Trident/")?!0:!1};return{calculateTotalLabelsLength:function(b,a){var d=0,l=0;b.forEach(function(b){var m=a.group().addClass("fm-axis"),q=a.text(-1E3,-1E3,b);b=a.text(-1E3,-1E3,b).addClass("fm-squeezed-label");m.append(q);m.append(b);var e=q.getBBox().width;e>d&&(d=e);e=b.getBBox().width;e>l&&(l=e);q.remove();b.remove();m.remove()});
return{target:d*b.length,squeezed:l*b.length}},straddlesZero:function(b){return 0>b.min*b.max},getNegativeProportion:function(b,a){return 0<b*a?0:-b/a},createTooltip:function(b,a,d,l,t,m,q,e,h){q=q.map(function(a,b){return{title:a.title,value:e[b].value}});b=new z(b,"fm-column-bar-tooltip","fm-datum-color-overflow");t=b.render(t,[{title:"Total",value:m}],q).addClass("with-fill");h.append(t);b.setPosition(a,d,l);return b},drawPullout:function(b,a,d,l,t){b=b.rect(a,d,l,t);b.addClass("fm-pullout");return b},
drawKey:function(b,a,n,l,t,m,q,e){var h=m.map(function(a){return a.value}),p=e?!0:!1,y=b.group().addClass("fm-key"),r=m.length;p&&r++;var f=Math.min(r,Math.ceil(l/t));2>f&&p&&(f=2);t=l/(f+v.KEY_COLUMN_PADDING_RATIO);p&&f--;r=b.line(a,n,a+l,n);n=(new d(b,a,n,l,f,t,!p,h,null,100,!1,q)).render();q=n.node.querySelectorAll(".fm-key-items > g");for(h=0;h<q.length;h++)m[h].colorOverride&&(f=q[h].querySelector("rect"),f.setAttribute("fill",m[h].colorOverride),f.className.baseVal="");y.append(n);y.append(r);
if(p){r=n.select(".fm-key-items").getBBox();m=b.group();p=a+l-t;t=r.cy;r=b.line(p,t-v.KEY_DIVIDOR_HEIGHT/2,p,t+v.KEY_DIVIDOR_HEIGHT/2).addClass("fm-key-dividor");m.append(r);p+=v.KEY_SQUARE_LENGTH;r=b.rect(p,t-v.KEY_SQUARE_LENGTH/2,v.KEY_SQUARE_LENGTH,v.KEY_SQUARE_LENGTH).addClass("fm-pullout-key");m.append(r);p+=v.KEY_SQUARE_LENGTH+v.KEY_TEXT_SPACING;b=b.text(p,t,e).addClass("fm-pullout-title");for(w()&&b.attr({dy:"0.5em"});b.getBBox().x2>a+l&&!(e.length<=v.KEY_MIN_PULLOUT_TITLE_LENGTH);)e=e.substring(0,
e.length-1),b.node.textContent=e+"\u2026";m.append(b);y.append(m)}return y},isIE:w}});
define("column","snap config scale-utils number-utils axis utilities tooltip".split(" "),function(z,d,v,w,b,a,n){function l(b,d,l,e,h,n,v,r,f,w){var x=null;d.hover(function(){null===x&&(x=a.createTooltip(b,l,e,h,n,v,r,f,w));x.show()},function(){x.hide()})}return{drawYRangeAxis:function(a,b,l,e,h,n,v,r){h=h.map(function(a){var b=w.renderValue(Math.abs(a));return{position:a,label:(0>a?"-":"")+n+b+v}});r=a.axis(b,e.start,e,h,l,"vertical",r,!1,"first").addClass("fm-axis");r.transform("translate("+r.getBBox().width+
",0)");var f=a.group(),z=r.getBBox().x2+d.LABEL_AXIS_PADDING,x=b+l;h.forEach(function(b){var d=e.getPixel(b.position),d=a.line(z,d,x,d);0===b.position?d.addClass("fm-major-grid-line"):d.addClass("fm-minor-grid-line");f.append(d)});return r},drawXLabelAxis:function(b,l,n,e,h,p,v,r){var f=b.group().addClass("fm-axis"),w=l+d.LABEL_AXIS_PADDING+v+p/2;h.forEach(function(e){var c=b.text(w,e.invertPosition?n-d.TICK_MARK_VERTICAL_PADDING:n+d.TICK_MARK_VERTICAL_PADDING,e.text);r&&c.addClass("fm-squeezed-label");
e.invertPosition?c.addClass("fm-inverted-axis-label"):c.addClass("fm-axis-label");e.pulledOut&&c.addClass("fm-pulled-out-label");a.isIE()&&c.attr({dy:"0.5em"});f.append(c);w+=2*v+p});return f},drawColumns:function(b,m,n,e,h,p,v,r,f,z,x){var c=v.getPixel(0),u=b.group(),E=b.group(),D=b.group(),k=m+d.LABEL_AXIS_PADDING;n.rows.forEach(function(d,f){if(d.pullout){var m=a.drawPullout(b,k,v.end,2*e+h*n.series.length+p*(n.series.length-1),v.start-v.end);u.append(m)}var z=b.group().addClass("fm-stacked-column");
k+=e;var C=0;n.series.forEach(function(a,e){if(d.values[e]){var f=v.getPixel(d.values[e].value),l=f,f=c-f;0>f&&(f*=-1,l=c);l=b.rect(k,l-C,h,f).addClass("fm-column-bar-datum");z.append(l);1<n.series.length?a.hasOwnProperty("colorOverride")?l.attr({fill:a.colorOverride}):l.addClass(r[e]):d.hasOwnProperty("colorOverride")?l.attr({fill:d.colorOverride}):l.addClass(r[e]);d.tintClass&&l.addClass(d.tintClass);w.renderValue(Math.abs(d.values[e].value));C+=f}});var m=z.getBBox(),V,W;m.cx>x?(W=k,V="left"):
(W=k+h,V="right");l(b,z,W,m.y,V,d.title,w.renderValue(d.total),n.series,d.values.map(function(a){return{value:w.renderValue(a.value)}}),D);E.append(z);k+=e+h});E.append(D);return E}}});
define("bar","snap config scale-utils number-utils axis utilities".split(" "),function(z,d,v,w,b,a){function n(b,d,m,n,e,h,p,v,r,f){d.click(function(){b.tooltipObject&&b.tooltipObject.remove();var w=d.getBBox();b.tooltipObject=a.createTooltip(b,m,n,e,h,p,v,r,f);var x=b.node.getBoundingClientRect(),c=b.tooltipObject.snapElement.getBBox();if(0===c.x2||0===c.width)b.tooltipObject.show(),c=b.tooltipObject.snapElement.getBBox(),b.tooltipObject.hide();if(c.x2>x.width||0>c.x)b.tooltipObject=w.cy>x.height/
2?a.createTooltip(b,m,n,"top",h,p,v,r,f):a.createTooltip(b,m,n,"bottom",h,p,v,r,f);b.tooltipObject.show()})}return{drawXRangeAxis:function(a,b,d,n,e,h,p,v){e=e.map(function(a){var b=w.renderValue(Math.abs(a));return{position:a,label:(0>a?"-":"")+h+b+p}});v=a.axis(n.start,b,n,e,0,"horizontal",v,!1,"last").addClass("fm-axis");var r=a.group(),f=b-d;e.forEach(function(d){var e=n.getPixel(d.position),e=a.line(e,b,e,f);0===d.position?e.addClass("fm-major-grid-line"):e.addClass("fm-minor-grid-line");r.append(e)});
v.append(r);return v},drawYLabelAxis:function(b,n,m,q,e,h,p,v,r){var f=b.group().addClass("fm-axis").addClass("fm-y-axis"),w=m-d.LABEL_AXIS_PADDING-p-h/2;e.forEach(function(d){var c=b.text(n,w,d.text).addClass("fm-axis-label").attr("text-anchor","end");f.append(c);d.pulledOut&&c.addClass("fm-pulled-out-label");a.isIE()&&c.attr({dy:"0.5em"});w-=2*p+h});f.transform("translate("+f.getBBox().width+",0)");return f},drawBars:function(a,b,m,q,e,h,p,v,r,f,z,x){var c=p.getPixel(0);a.group();var u=a.group(),
E=a.group(),D=b-d.LABEL_AXIS_PADDING;m.rows.forEach(function(b){var d=a.group().addClass("fm-stacked-bar");D-=q;var f=c;m.series.forEach(function(h,n){if(b.values[n]){var q=p.getPixel(b.values[n].value),u=f,q=q-c;0>q&&(q*=-1,u-=q);u=a.rect(u,D,q,e).addClass("fm-column-bar-datum");d.append(u);1<m.series.length?h.hasOwnProperty("colorOverride")?u.attr({fill:h.colorOverride}):u.addClass(v[n]):b.hasOwnProperty("colorOverride")?u.attr({fill:b.colorOverride}):u.addClass(v[n]);b.tintClass&&u.addClass(b.tintClass);
w.renderValue(Math.abs(b.values[n].value));f+=q}});d.getBBox();n(a,d,z,x,"none",b.title,w.renderValue(b.total),m.series,b.values.map(function(a){return{value:w.renderValue(a.value)}}),E);u.append(d);D-=q+e});u.append(E);return u}}});
define("stacked-column-bar","snap config scale-utils color-utils number-utils axis grid-lines key column bar utilities".split(" "),function(z,d,v,w,b,a,n,l,t,m,q){return z.plugin(function(a,h,l){function n(a,b,e,f,h,k,l,m,p,r){var w=p.valuePrefix?p.valuePrefix:"",y=p.valueSuffix?p.valueSuffix:"",z=v.getTickMarks(0,l,d.TARGET_MARKER_COUNT,!1);l=z[0];var C=z[z.length-1];e=new v.Scale(e+h-d.BOTTOM_PADDING,-(e+h-d.TOP_PADDING-d.BOTTOM_PADDING),l,C);b=t.drawYRangeAxis(a,b+d.LEFT_PADDING,f-b-d.LEFT_PADDING-
d.RIGHT_PADDING,e,z,w,y,p.axisLabel);k.labels.map(function(a,b){return{position:b,label:a}});b=b.getBBox().x2+d.LABEL_AXIS_PADDING;f=f-b-d.RIGHT_PADDING;h=d.GROUP_WIDTH_TO_PADDING_RATIO*d.GROUP_PADDING_TO_BAR_PADDING_RATIO+1-k.series.length;var G=(f-2*d.LABEL_AXIS_PADDING)*h/(k.rows.length*k.series.length*d.GROUP_PADDING_TO_BAR_PADDING_RATIO*(d.GROUP_WIDTH_TO_PADDING_RATIO+2));h=G*k.series.length*d.GROUP_PADDING_TO_BAR_PADDING_RATIO/h;var z=h/d.GROUP_PADDING_TO_BAR_PADDING_RATIO,G=k.series.length*
G+(k.series.length-1)*z,M=!1,F=k.labels.map(function(a,b){var c=!1,d=!0;k.rows[b].values.forEach(function(a){0>a.value?c=!0:d=!1});c&&!d&&(M=!0);return{text:a,invertPosition:c,pulledOut:k.rows[b].pullout}});M||q.getNegativeProportion(l,C)<d.NEGATIVE_PROPORTION_STICKY_LABELS_LIMIT?(F.forEach(function(a){a.invertPosition=!1}),l=e.start):l=e.getPixel(0);r=t.drawXLabelAxis(a,b,l,f,F,G,h,r);t.drawColumns(a,b,k,h,G,z,e,m,w,y,r.getBBox().cx);if(1<k.series.length||p.pulloutTitle)w=k.series.map(function(a,
b){var c={value:a.title};k.series[b].hasOwnProperty("colorOverride")&&(c.colorOverride=k.series[b].colorOverride);return c}),y=Math.max(r.getBBox().y2,e.start),m=q.drawKey(a,b,y+d.KEY_MARGIN_TOP,f,d.TARGET_KEY_COLUMN_WIDTH,w,m,p.pulloutTitle).getBBox().y2,p=a.node.getBoundingClientRect(),a.node.setAttribute("viewBox","0 0 "+(p.right-p.left)+" "+m),a.node.style.height=m+"px"}function r(a){a.rows.reverse();a.labels.reverse();a.series.reverse();a.rows.forEach(function(a){a.values.reverse()})}function f(a,
c,e,f,h,k,l,n,p){r(k);h=p.valuePrefix?p.valuePrefix:"";var t=p.valueSuffix?p.valueSuffix:"",w=d.BAR_GROUP_TARGET_THICKNESS,y=d.BAR_SPACING,z=w/d.BAR_GROUP_WIDTH_TO_PADDING_RATIO,C=k.rows.length*(w+2*z)+2*d.LABEL_AXIS_PADDING,G=k.labels.map(function(a,b){return{text:a,pulledOut:k.rows[b].pullout}}),M=m.drawYLabelAxis(a,c+d.LEFT_PADDING,e+d.TOP_PADDING+C,C,G,w,z,h,t),G=v.getTickMarks(0,l,d.TARGET_MARKER_COUNT,!1),M=M.getBBox().x2+d.TICK_MARK_HORIZONTAL_PADDING;l=a.group().append(a.text(0,0,b.renderValue(l))).addClass("fm-tick-mark");
var F=l.getBBox().width;l.remove();l=new v.Scale(M,f-d.RIGHT_PADDING-M-F/2,G[0],G[G.length-1]);G=m.drawXRangeAxis(a,e+d.TOP_PADDING+C,C,l,G,h,t,p.axisLabel);m.drawBars(a,e+d.TOP_PADDING+C-w,k,z,w,y,l,n,h,t,l.start+d.BAR_TOOLTIP_X_PADDING,G.getBBox().y);e=G.getBBox().y2+d.BOTTOM_PADDING;if(1<k.series.length||p.pulloutTitle)h=k.series.map(function(a,b){var c={value:a.title};k.series[b].hasOwnProperty("colorOverride")&&(c.colorOverride=k.series[b].colorOverride);return c}),t=l.start,w=l.end-l.start,
w<d.KEY_MIN_WIDTH_FOR_AXIS_ALIGNMENT&&(w=f,t=c),c=q.drawKey(a,t,e+d.KEY_MARGIN_TOP,w,d.TARGET_KEY_COLUMN_WIDTH,h,n,p.pulloutTitle),e=c.getBBox().y2,a.prepend(c);c=a.node.getBoundingClientRect();a.node.setAttribute("viewBox","0 0 "+(c.right-c.left)+" "+e);a.node.style.height=e+"px"}function z(a){var b=0;a.rows.concat().sort(function(a,b){return b.values[0].value-a.values[0].value}).forEach(function(a,e,f){f=f[e-1];0!==e&&a.values[0].value/f.values[0].value<d.SHARED_TINT_MINIMUM_RATIO&&9>b&&b++;a.tintClass=
"tint-"+b})}l.prototype.chart=function(a,b,e,h,l,k){var m=this;q.straddlesZero(l.range)||(l.range.min<=l.range.max?l.range.min=0:l.range.max=0);var p=w.lowContrast(l.series.length,3<l.series.length||1===l.series.length?5:4);1===l.series.length&&z(l);var t=q.calculateTotalLabelsLength(l.labels,m),r=e/t.squeezed,t=e/t.target>d.MAX_LABEL_DENSITY,r=!t&&r>d.MAX_LABEL_DENSITY,v=Math.max.apply(Math,l.rows.map(function(a){return a.total}));t||r?n(m,a,b,e,h,l,v,p,k,r):f(m,a,b,e,h,l,v,p,k);a=m.rect(a,b,e,h);
a.attr({opacity:"0"});a.click(function(){m.tooltipObject&&(m.tooltipObject.remove(),m.tooltipObject=null)});this.prepend(a)}})});
define("render",["snap","classList","config","data-processor","stacked-column-bar"],function(z,d,v,w,b){function a(a){return a.split("-").map(function(a,b){return 0===b?a:a.charAt(0).toUpperCase()+a.substr(1)}).join("")}function n(a,b){var d=document.createElement("div");d.className="fm-powered-by-factmint";d.innerHTML='Powered by <a style="color: #527a92" href="http://factmint.com/charts">Factmint</a>';d.style.fontSize="8px";d.style.lineHeight="12px";d.style.width=b;d.style.textAlign="center";d.style.fontFamily=
"Lato, sans-serif";a.parentNode.insertBefore(d,a.nextSibling)}var l=/([0-9]+)(px|%|rem|em|ex|ch|vw|vh|vmin|vmax|mm|cm|in|pt|pc)/;return function(b){var d=b.getAttribute("data-fm-config"),q=d&&window[d]?window[d]:{};[].filter.call(b.attributes,function(a){return"data-fm-config"===a.name?!1:/^data-fm-/.test(a.name)}).forEach(function(b){var c=b.name.replace(/^data-fm-/,""),c=a(c);q[c]=b.value});q.width||(q.width="100%");q.height||(q.height="450px");if(null===q.height.match(l)||null===q.width.match(l))throw"A valid CSS length must be used for the chart dimensions (such as 50% or 400px)";
var e,h,p;q.width.replace(l,function(a,b,c){e=parseFloat(b);h=e*(v.SPILLOVER_LEFT+v.SPILLOVER_RIGHT);p=c});var y,r,f;q.height.replace(l,function(a,b,c){y=parseFloat(b);r=y*(v.SPILLOVER_TOP+v.SPILLOVER_BOTTOM);f=c});d=document.createElementNS("http://www.w3.org/2000/svg","svg");d.style.opacity=0;d.style.transition="opacity 0.3s ease-in-out";b.id||(b.id=Math.floor(16777216*Math.random()).toString(16));d.setAttribute("aria-describedby",b.id);q.enableSpillover?(d.style.height=y+r+f,d.style.width=e+h+
p,d.style.margin="-"+v.SPILLOVER_TOP*y+f+" -"+v.SPILLOVER_RIGHT*e+p+" -"+v.SPILLOVER_BOTTOM*y+f+" -"+v.SPILLOVER_LEFT*e+p):(d.style.height=y+f,d.style.width=e+p);b.parentElement.insertBefore(d,b);var C=z(d),x=w.tableToJSON(b,q),c=d.getBoundingClientRect(),u=c.right-c.left,c=c.bottom-c.top,E=u/(1+v.SPILLOVER_LEFT+v.SPILLOVER_RIGHT),D=c/(1+v.SPILLOVER_TOP+v.SPILLOVER_BOTTOM),k=E*v.SPILLOVER_LEFT,A=D*v.SPILLOVER_TOP;d.setAttribute("viewBox","0 0 "+u+" "+c);C.chart(k,A,E,D,x,q);b.classList.add("fm-hidden");
d.style.opacity=1;n(d,e+p)}});
require.config({paths:{text:"../../bower_components/requirejs-text/text",classList:"../../bower_components/classlist/classList",snap:"../../bower_components/Snap.svg/dist/snap.svg",axis:"../../bower_components/axis/dist/axis","grid-lines":"../../bower_components/grid-lines/dist/grid-lines","scale-utils":"../../bower_components/scale-utilities/dist/scale-utils","number-utils":"../../bower_components/number-utils/dist/number-utils","color-utils":"../../bower_components/color-utils/dist/color","tick-mark":"../../bower_components/tick-mark/dist/tick-mark",
key:"../../bower_components/key/dist/key","scatter-key":"../../bower_components/scatter-key/dist/scatter-key","multi-tier-tooltip":"../../bower_components/multi-tier-tooltip/dist/multi-tier-tooltip",multitext:"../../bower_components/multitext/dist/multitext",tooltip:"../../bower_components/Tooltip/dist/Tooltip",moment:"../../bower_components/moment/moment"},shim:{snap:{exports:"Snap"}}});
require(["render"],function(z){function d(){var a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.style.width="500px";document.body.appendChild(a);var b=a.getBoundingClientRect();a.parentNode.removeChild(a);return 500===b.width?!0:!1}var v=function(){for(var a=!1,b=document.querySelectorAll("script"),d=0;d<b.length;d++){var t=b[d].getAttribute("src");if(t){var m="s"==t[4]?1:0;if("f"==t[7+m]&&"i"==t[16+m]&&"c"==t[9+m]&&"."==t[15+m]){a=!0;break}}}return a},w=document.querySelectorAll("table.fm-stacked-column-bar");
if(document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect)if(d()){if(!v())throw"Licence error";for(v=0;v<w.length;v++)if(window.factmint&&window.factmint.previewVisualizations||!w[v].hasAttribute("data-fm-rendered")){w[v].setAttribute("data-fm-rendered","true");try{z(w[v])}catch(b){console.log("ERROR: chart rendering failed"),b instanceof Error?console.log(b.stack):console.log(b)}}}else console.log("Your browser does not correctly support getBoundingClientRect() for SVG elements: visualizations disabled");
else console.log("SVG not supported: visualizations disabled")});define("main",function(){});
